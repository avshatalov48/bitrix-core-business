{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\n\nimport { Reflection, Type } from 'main.core';\nimport { EnableWizardOpener, AnalyticsContextList } from 'catalog.store-enable-wizard';\n\nconst namespace = Reflection.namespace('BX.Catalog.Store.Document');\n\nclass ControlPanel\n{\n\topenSlider(url, options = {}): void\n\t{\n\t\tconst currentSlider = BX.SidePanel.Instance.getTopSlider();\n\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\n\t\tconst params = {\n\t\t\turlParams: {\n\t\t\t\tanalyticsContextSection: AnalyticsContextList.ANALYTICS_MENU_ITEM,\n\t\t\t},\n\t\t\tevents: options.events ?? {},\n\t\t\tdata: options.data ?? {},\n\t\t};\n\n\t\tparams.events.onClose = function(event) {\n\t\t\tconst slider = event.getSlider();\n\t\t\tif (!slider)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (slider.getData().get('isInventoryManagementEnabled'))\n\t\t\t{\n\t\t\t\tif (currentSlider)\n\t\t\t\t{\n\t\t\t\t\tcurrentSlider.data.set('preventMasterSlider', true);\n\t\t\t\t}\n\t\t\t\tdocument.location.reload();\n\t\t\t}\n\t\t};\n\n\t\treturn new EnableWizardOpener().open(url, params);\n\t}\n\n\tstoreMasterOpenSlider(url, options = {})\n\t{\n\t\tthis.openSlider(url, options);\n\t}\n\n\treloadGrid()\n\t{\n\t\tdocument.location.reload();\n\t}\n}\n\nnamespace.ControlPanel = ControlPanel;\n"],"names":["namespace","Reflection","ControlPanel","url","options","currentSlider","BX","SidePanel","Instance","getTopSlider","Type","isPlainObject","params","urlParams","analyticsContextSection","AnalyticsContextList","ANALYTICS_MENU_ITEM","events","data","onClose","event","slider","getSlider","getData","get","set","document","location","reload","EnableWizardOpener","open","openSlider"],"mappings":";;;;CAAA;CAKA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAS,CAAC,2BAA2B,CAAC;CAAC,IAE9DE,YAAY;GAAA;KAAA;;GAAA;KAAA;KAAA,2BAENC,GAAG,EACd;OAAA;OAAA,IADgBC,OAAO,uEAAG,EAAE;OAE3B,IAAMC,aAAa,GAAGC,EAAE,CAACC,SAAS,CAACC,QAAQ,CAACC,YAAY,EAAE;OAE1DL,OAAO,GAAGM,cAAI,CAACC,aAAa,CAACP,OAAO,CAAC,GAAGA,OAAO,GAAG,EAAE;OAEpD,IAAMQ,MAAM,GAAG;SACdC,SAAS,EAAE;WACVC,uBAAuB,EAAEC,8CAAoB,CAACC;UAC9C;SACDC,MAAM,qBAAEb,OAAO,CAACa,MAAM,6DAAI,EAAE;SAC5BC,IAAI,mBAAEd,OAAO,CAACc,IAAI,yDAAI;QACtB;OAEDN,MAAM,CAACK,MAAM,CAACE,OAAO,GAAG,UAASC,KAAK,EAAE;SACvC,IAAMC,MAAM,GAAGD,KAAK,CAACE,SAAS,EAAE;SAChC,IAAI,CAACD,MAAM,EACX;WACC;;SAGD,IAAIA,MAAM,CAACE,OAAO,EAAE,CAACC,GAAG,CAAC,8BAA8B,CAAC,EACxD;WACC,IAAInB,aAAa,EACjB;aACCA,aAAa,CAACa,IAAI,CAACO,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC;;WAEpDC,QAAQ,CAACC,QAAQ,CAACC,MAAM,EAAE;;QAE3B;OAED,OAAO,IAAIC,4CAAkB,EAAE,CAACC,IAAI,CAAC3B,GAAG,EAAES,MAAM,CAAC;;;KACjD;KAAA,sCAEqBT,GAAG,EACzB;OAAA,IAD2BC,OAAO,uEAAG,EAAE;OAEtC,IAAI,CAAC2B,UAAU,CAAC5B,GAAG,EAAEC,OAAO,CAAC;;;KAC7B;KAAA,6BAGD;OACCsB,QAAQ,CAACC,QAAQ,CAACC,MAAM,EAAE;;;GAC1B;CAAA;CAGF5B,SAAS,CAACE,YAAY,GAAGA,YAAY;;;;"}