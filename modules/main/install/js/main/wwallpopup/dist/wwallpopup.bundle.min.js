this.BX=this.BX||{};(function(t,e,s,i){"use strict";let o=t=>t,c,n,u,r;class p{constructor(t){this.colorTheme=t.colorTheme||"danger";this.title=t.title||null;this.subtitle=t.subtitle||null;this.text=t.text||null;this.isToolTipShow=e.Type.isBoolean(t.isToolTipShow)?t.isToolTipShow:false;this.closeIcon=e.Type.isBoolean(t.closeIcon)?t.closeIcon:true;this.isSuccess=e.Type.isBoolean(t.isSuccess)?t.isSuccess:false;this.cache=new e.Cache.MemoryCache;this.buttons=t.buttons||null}getTitleWrapper(){return this.cache.remember("titleBox",(()=>e.Tag.render(c||(c=o`
				<div class='adm-security-popup_title-box'>
					${0}
				</div>
			`),this.getTitle())))}getTitle(){const t=this.title||e.Loc.getMessage("SEC_WWALL_POPUP_TITLE");const s=this.isToolTipShow?this.getTooltip():"";return e.Tag.render(n||(n=o`
			<div class='adm-security-popup_title'>
				${0}
			</div>
			${0}
		`),t,s)}getTooltip(){return e.Tag.render(u||(u=o`
			<a class='tooltip adm-security-popup_tooltip adm-security-info_link' href='https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=35&LESSON_ID=27172' target='_blank'>
				${0}
			</a>
		`),e.Loc.getMessage("SEC_WWALL_POPUP_TITLE_ABOUT"))}getContent(){return this.cache.remember("popupContentWarningWrap",(()=>e.Tag.render(r||(r=o`
				<div class='adm-security-popup_wrap --${0}'>
					${0}
					<div class='adm-security-popup_content'>
						<div class="adm-security-popup_icon"></div>
						<div class="adm-security-popup_inner">
							<div class="adm-security-popup_inner-title">
								${0} 
							</div>
							<div class="adm-security-popup_info">
								${0}
							</div>
						</div>
					</div>
				</div>
			`),this.colorTheme,this.getTitleWrapper(),this.subtitle||this.getSubtitle(),this.text||this.getPopupInfo())))}getSubtitle(){return this.isSuccess?e.Loc.getMessage("SEC_WWALL_POPUP_ATTACK_TITLE"):this.isPortal?e.Loc.getMessage("SEC_WWALL_POPUP_WARNING_TITLE_CP"):e.Loc.getMessage("SEC_WWALL_POPUP_WARNING_TITLE")}getPopupInfo(){return this.isSuccess?e.Loc.getMessage("SEC_WWALL_POPUP_ATTACK_CONTENT"):this.isPortal?e.Loc.getMessage("SEC_WWALL_POPUP_WARNING_CONTENT_CP"):e.Loc.getMessage("SEC_WWALL_POPUP_WARNING_CONTENT")}setButtons(){if(this.buttons){return this.createCustomButtons()}return this.createDefaultButtons()}createDefaultButtons(){return[new i.Button({text:this.isSuccess?e.Loc.getMessage("SEC_WWALL_POPUP_ACTION_OPEN"):e.Loc.getMessage("SEC_WWALL_POPUP_ACTION_UPDATE"),className:this.isSuccess?"adm-security-popup-btn-accept":"adm-security-popup-btn-refresh",events:{click:()=>{document.location.href="/bitrix/admin/update_system.php"}}}),new i.Button({text:this.isSuccess?e.Loc.getMessage("SEC_WWALL_POPUP_ACTION_CONTINUE"):e.Loc.getMessage("SEC_WWALL_POPUP_ACTION_IGNORE"),className:"adm-security-popup-btn-close",events:{click:()=>{this.close()}}})]}createCustomButtons(){const t=[];if(this.buttons.primary){t.push(new i.Button({text:this.buttons.primary.text,className:this.setButtonStyle(this.buttons.primary.type),events:{click:()=>{if(this.buttons.primary.onclick){this.buttons.primary.onclick()}}}}))}if(this.buttons.secondary){t.push(new i.Button({text:this.buttons.secondary.text,className:this.setButtonStyle(this.buttons.secondary.type),events:{click:()=>{if(this.buttons.secondary.onclick){this.buttons.secondary.onclick()}}}}))}return t}setButtonStyle(t){switch(t){case"accept":return"adm-security-popup-btn-accept";case"refresh":return"adm-security-popup-btn-refresh";case"close":default:return"adm-security-popup-btn-close"}}show(){this.popup=new s.Popup({className:"adm-security-popup",closeIcon:this.closeIcon,contentBackground:"transparent",overlay:true,minWidth:500,content:this.getContent(),buttons:this.setButtons(),events:{onPopupClose(){this.destroy()},onPopupDestroy(){this.popup=null}}});this.popup.show()}close(){this.popup.close()}}t.WwallPopup=p})(this.BX.Main=this.BX.Main||{},BX,BX.Main,BX.UI);
//# sourceMappingURL=wwallpopup.bundle.map.js