{"version":3,"file":"ui.buttons.bundle.js","sources":["../src/button/button-tag.js","../src/base-button.js","../src/button/button-color.js","../src/button/button-size.js","../src/button/button-icon.js","../src/button/button-state.js","../src/button/button-style.js","../src/button/button.js","../src/split-button/split-button-state.js","../src/split-button/split-sub-button-type.js","../src/split-button/split-sub-button.js","../src/split-button/split-button.js","../src/button-manager.js","../src/ibutton.js","../src/button/presets/add-button.js","../src/button/presets/apply-button.js","../src/button/presets/cancel-button.js","../src/button/presets/close-button.js","../src/button/presets/create-button.js","../src/button/presets/save-button.js","../src/button/presets/send-button.js","../src/button/presets/settings-button.js","../src/split-button/presets/add-split-button.js","../src/split-button/presets/apply-split-button.js","../src/split-button/presets/cancel-split-button.js","../src/split-button/presets/close-split-button.js","../src/split-button/presets/create-split-button.js","../src/split-button/presets/save-split-button.js","../src/split-button/presets/send-split-button.js"],"sourcesContent":["/**\n * @namespace {BX.UI}\n */\nexport default class ButtonTag\n{\n\tstatic BUTTON = 0;\n\tstatic LINK = 1;\n\tstatic SUBMIT = 2;\n\tstatic INPUT = 3;\n\tstatic DIV = 4;\n\tstatic SPAN = 5;\n}","import type IButton from './ibutton';\nimport ButtonTag from './button/button-tag';\nimport { Type, Tag, Dom, Event } from 'main.core';\nimport { type BaseButtonOptions } from './base-button-options';\nimport './ui.buttons.css';\n\nexport default class BaseButton implements IButton\n{\n\tconstructor(options: BaseButtonOptions)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.options = Object.assign(this.getDefaultOptions(), options);\n\n\t\t/**\n\t\t * 'buttonNode', 'textNode' and counterNode options use only in ButtonManager.createFromNode\n\t\t */\n\t\tthis.button = Type.isDomNode(this.options.buttonNode) ? this.options.buttonNode : null;\n\t\tthis.textNode = Type.isDomNode(this.options.textNode) ? this.options.textNode : null;\n\t\tthis.counterNode = Type.isDomNode(this.options.counterNode) ? this.options.counterNode : null;\n\n\t\tthis.text = '';\n\t\tthis.counter = null;\n\t\tthis.events = {};\n\t\tthis.link = '';\n\t\tthis.maxWidth = null;\n\n\t\tthis.tag = this.isEnumValue(this.options.tag, ButtonTag) ? this.options.tag : ButtonTag.BUTTON;\n\t\tif (Type.isStringFilled(this.options.link))\n\t\t{\n\t\t\tthis.tag = ButtonTag.LINK;\n\t\t}\n\n\t\tthis.baseClass = Type.isStringFilled(this.options.baseClass) ? this.options.baseClass : '';\n\t\tthis.disabled = false;\n\n\t\tthis.handleEvent = this.handleEvent.bind(this);\n\n\t\tthis.init(); // needs to initialize private properties in derived classes.\n\n\t\tif (this.options.disabled === true)\n\t\t{\n\t\t\tthis.setDisabled();\n\t\t}\n\n\t\tthis.setText(this.options.text);\n\t\tthis.setCounter(this.options.counter);\n\t\tthis.setProps(this.options.props);\n\t\tthis.setDataSet(this.options.dataset);\n\t\tthis.addClass(this.options.className);\n\t\tthis.setLink(this.options.link);\n\t\tthis.setMaxWidth(this.options.maxWidth);\n\n\t\tthis.bindEvent('click', this.options.onclick);\n\t\tthis.bindEvents(this.options.events);\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tinit(): void\n\t{\n\t\t// needs to initialize private properties in derived classes.\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tgetDefaultOptions(): Object\n\t{\n\t\treturn {};\n\t}\n\n\t/**\n\t * @public\n\t * @return {HTMLElement}\n\t */\n\trender(): HTMLElement\n\t{\n\t\treturn this.getContainer();\n\t}\n\n\t/**\n\t * @public\n\t * @param {HTMLElement} node\n\t * @return {?HTMLElement}\n\t */\n\trenderTo(node: HTMLElement): HTMLElement | null\n\t{\n\t\tif (Type.isDomNode(node))\n\t\t{\n\t\t\treturn node.appendChild(this.getContainer());\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * @public\n\t * @return {HTMLElement}\n\t */\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (this.button !== null)\n\t\t{\n\t\t\treturn this.button;\n\t\t}\n\n\t\tswitch (this.getTag())\n\t\t{\n\t\t\tcase ButtonTag.BUTTON:\n\t\t\tdefault:\n\t\t\t\tthis.button = Tag.render`<button class=\"${this.getBaseClass()}\"></button>`;\n\t\t\t\tbreak;\n\t\t\tcase ButtonTag.INPUT:\n\t\t\t\tthis.button = Tag.render`<input class=\"${this.getBaseClass()}\" type=\"button\">`;\n\t\t\t\tbreak;\n\t\t\tcase ButtonTag.LINK:\n\t\t\t\tthis.button = Tag.render`<a class=\"${this.getBaseClass()}\" href=\"\"></a>`;\n\t\t\t\tbreak;\n\t\t\tcase ButtonTag.SUBMIT:\n\t\t\t\tthis.button = Tag.render`<input class=\"${this.getBaseClass()}\" type=\"submit\">`;\n\t\t\t\tbreak;\n\t\t\tcase ButtonTag.DIV:\n\t\t\t\tthis.button = Tag.render`<div class=\"${this.getBaseClass()}\"></div>`;\n\t\t\t\tbreak;\n\t\t\tcase ButtonTag.SPAN:\n\t\t\t\tthis.button = Tag.render`<span class=\"${this.getBaseClass()}\"></span>`;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn this.button;\n\t}\n\n\t/**\n\t * @protected\n\t * @return {string}\n\t */\n\tgetBaseClass(): string\n\t{\n\t\treturn this.baseClass;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} text\n\t * @return {this}\n\t */\n\tsetText(text: string): this\n\t{\n\t\tif (Type.isString(text))\n\t\t{\n\t\t\tthis.text = text;\n\n\t\t\tif (this.isInputType())\n\t\t\t{\n\t\t\t\tthis.getContainer().value = text;\n\t\t\t}\n\t\t\telse if (text.length > 0)\n\t\t\t{\n\t\t\t\tif (this.textNode === null)\n\t\t\t\t{\n\t\t\t\t\tthis.textNode = Tag.render`<span class=\"ui-btn-text\"></span>`;\n\t\t\t\t}\n\n\t\t\t\tif (!this.textNode.parentNode)\n\t\t\t\t{\n\t\t\t\t\tDom.prepend(this.textNode, this.getContainer());\n\t\t\t\t}\n\n\t\t\t\tthis.textNode.textContent = text;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.textNode !== null)\n\t\t\t\t{\n\t\t\t\t\tDom.remove(this.textNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {string}\n\t */\n\tgetText(): string\n\t{\n\t\treturn this.text;\n\t}\n\n\t/**\n\t *\n\t * @param {number | string} counter\n\t * @return {this}\n\t */\n\tsetCounter(counter: number | string): this\n\t{\n\t\tif ([0, '0', '', null, false].includes(counter))\n\t\t{\n\t\t\tif (this.counterNode !== null)\n\t\t\t{\n\t\t\t\tDom.remove(this.counterNode);\n\t\t\t\tthis.counterNode = null;\n\t\t\t}\n\n\t\t\tthis.counter = null;\n\t\t}\n\t\telse if ((Type.isNumber(counter) && counter > 0) || Type.isStringFilled(counter))\n\t\t{\n\t\t\tif (this.isInputType())\n\t\t\t{\n\t\t\t\tthrow new Error('BX.UI.Button: an input button cannot have a counter.');\n\t\t\t}\n\n\t\t\tif (this.counterNode === null)\n\t\t\t{\n\t\t\t\tthis.counterNode = Tag.render`<span class=\"ui-btn-counter\"></span>`;\n\t\t\t\tDom.append(this.counterNode, this.getContainer());\n\t\t\t}\n\n\t\t\tthis.counter = counter;\n\t\t\tthis.counterNode.textContent = counter;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {number | string | null}\n\t */\n\tgetCounter(): number | string | null\n\t{\n\t\treturn this.counter;\n\t}\n\n\t/**\n\t *\n\t * @param {string} link\n\t * @return {this}\n\t */\n\tsetLink(link: string): this\n\t{\n\t\tif (Type.isString(link))\n\t\t{\n\t\t\tif (this.getTag() !== ButtonTag.LINK)\n\t\t\t{\n\t\t\t\tthrow new Error('BX.UI.Button: only an anchor button tag supports a link.');\n\t\t\t}\n\n\t\t\tthis.getContainer().href = link;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {string}\n\t */\n\tgetLink(): string\n\t{\n\t\treturn this.getContainer().href;\n\t}\n\n\tsetMaxWidth(maxWidth: number): this\n\t{\n\t\tif (Type.isNumber(maxWidth) && maxWidth > 0)\n\t\t{\n\t\t\tthis.maxWidth = maxWidth;\n\t\t\tthis.getContainer().style.maxWidth = `${maxWidth}px`;\n\t\t}\n\t\telse if (maxWidth === null)\n\t\t{\n\t\t\tthis.getContainer().style.removeProperty('max-width');\n\t\t\tthis.maxWidth = null;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tgetMaxWidth(): number | null\n\t{\n\t\treturn this.maxWidth;\n\t}\n\n\t/**\n\t * @public\n\t * @return {ButtonTag}\n\t */\n\tgetTag(): ButtonTag\n\t{\n\t\treturn this.tag;\n\t}\n\n\t/**\n\t * @public\n\t * @param {object.<string, string>} props\n\t * @return {this}\n\t */\n\tsetProps(props: { [propertyName: string]: string }): this\n\t{\n\t\tif (!Type.isPlainObject(props))\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tfor (let propName in props)\n\t\t{\n\t\t\tconst propValue = props[propName];\n\t\t\tDom.attr(this.getContainer(), propName, propValue);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {object.<string, string>}\n\t */\n\tgetProps(): { [propertyName: string]: string }\n\t{\n\t\tconst attrs = this.getContainer().attributes;\n\t\tconst result = {};\n\t\tconst reserved = this.isInputType() ? ['class', 'type'] : ['class'];\n\n\t\tfor (let i = 0; i < attrs.length; i++)\n\t\t{\n\t\t\tconst { name, value } = attrs[i];\n\t\t\tif (reserved.includes(name) || name.startsWith('data-'))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tresult[name] = value;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * @public\n\t * @param {object.<string, string>} props\n\t * @return {this}\n\t */\n\tsetDataSet(props: { [propertyName: string]: string }): this\n\t{\n\t\tif (!Type.isPlainObject(props))\n\t\t{\n\t\t\treturn this;\n\t\t}\n\n\t\tfor (let propName in props)\n\t\t{\n\t\t\tconst propValue = props[propName];\n\t\t\tif (propValue === null)\n\t\t\t{\n\t\t\t\tdelete this.getDataSet()[propName];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getDataSet()[propName] = propValue;\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {DOMStringMap}\n\t */\n\tgetDataSet(): DOMStringMap\n\t{\n\t\treturn this.getContainer().dataset;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} className\n\t * @return {this}\n\t */\n\taddClass(className: string): this\n\t{\n\t\tif (Type.isStringFilled(className))\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), className);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} className\n\t * @return {this}\n\t */\n\tremoveClass(className: string): this\n\t{\n\t\tif (Type.isStringFilled(className))\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), className);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDisabled(flag?: boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tthis.disabled = false;\n\t\t\tthis.setProps({ disabled: null });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.disabled = true;\n\t\t\tthis.setProps({ disabled: true });\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {boolean}\n\t */\n\tisDisabled(): boolean\n\t{\n\t\treturn this.disabled;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisInputType(): boolean\n\t{\n\t\treturn this.getTag() === ButtonTag.SUBMIT || this.getTag() === ButtonTag.INPUT;\n\t}\n\n\t/**\n\t * @public\n\t * @param {object.<string, function>} events\n\t * @return {this}\n\t */\n\tbindEvents(events: { [event: string]: (button: this, event: MouseEvent) => {} }): this\n\t{\n\t\tif (Type.isPlainObject(events))\n\t\t{\n\t\t\tfor (let eventName in events)\n\t\t\t{\n\t\t\t\tconst fn = events[eventName];\n\t\t\t\tthis.bindEvent(eventName, fn);\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string[]} events\n\t * @return {this}\n\t */\n\tunbindEvents(events: string[]): this\n\t{\n\t\tif (Type.isArray(events))\n\t\t{\n\t\t\tevents.forEach(eventName => {\n\t\t\t\tthis.unbindEvent(eventName);\n\t\t\t});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} eventName\n\t * @param {function} fn\n\t * @return {this}\n\t */\n\tbindEvent(eventName: string, fn: (button: this, event: MouseEvent) => {}): this\n\t{\n\t\tif (Type.isStringFilled(eventName) && Type.isFunction(fn))\n\t\t{\n\t\t\tthis.unbindEvent(eventName);\n\t\t\tthis.events[eventName] = fn;\n\t\t\tEvent.bind(this.getContainer(), eventName, this.handleEvent);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} eventName\n\t * @return {this}\n\t */\n\tunbindEvent(eventName: string): this\n\t{\n\t\tif (this.events[eventName])\n\t\t{\n\t\t\tdelete this.events[eventName];\n\t\t\tEvent.unbind(this.getContainer(), eventName, this.handleEvent);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @private\n\t * @param {MouseEvent} event\n\t */\n\thandleEvent(event)\n\t{\n\t\tconst eventName = event.type;\n\t\tif (this.events[eventName])\n\t\t{\n\t\t\tconst fn = this.events[eventName];\n\t\t\tfn.call(this, this, event);\n\t\t}\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tisEnumValue(value, enumeration): boolean\n\t{\n\t\tfor (let code in enumeration)\n\t\t{\n\t\t\tif (enumeration[code] === value)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n}","/**\n * @namespace {BX.UI}\n */\nexport default class ButtonColor\n{\n\tstatic DANGER = 'ui-btn-danger';\n\tstatic DANGER_DARK = 'ui-btn-danger-dark';\n\tstatic DANGER_LIGHT = 'ui-btn-danger-light';\n\tstatic SUCCESS = 'ui-btn-success';\n\tstatic SUCCESS_DARK = 'ui-btn-success-dark';\n\tstatic SUCCESS_LIGHT = 'ui-btn-success-light';\n\tstatic PRIMARY_DARK = 'ui-btn-primary-dark';\n\tstatic PRIMARY = 'ui-btn-primary';\n\tstatic SECONDARY = 'ui-btn-secondary';\n\tstatic SECONDARY_LIGHT = 'ui-btn-secondary-light';\n\tstatic WARNING_LIGHT = 'ui-btn-warning-light';\n\tstatic LINK = 'ui-btn-link';\n\tstatic LIGHT = 'ui-btn-light';\n\tstatic LIGHT_BORDER = 'ui-btn-light-border';\n\tstatic AI = 'ui-btn-color-ai';\n\tstatic BASE_LIGHT = 'ui-btn-base-light';\n}\n","/**\n * @namespace {BX.UI}\n */\nexport default class ButtonSize\n{\n\tstatic LARGE = 'ui-btn-lg';\n\tstatic MEDIUM = 'ui-btn-md';\n\tstatic SMALL = 'ui-btn-sm';\n\tstatic EXTRA_SMALL = 'ui-btn-xs';\n}","/**\n * @namespace {BX.UI}\n */\nexport default class ButtonIcon\n{\n\tstatic UNFOLLOW = 'ui-btn-icon-unfollow';\n\tstatic FOLLOW = 'ui-btn-icon-follow';\n\tstatic ADD = 'ui-btn-icon-add';\n\tstatic STOP = 'ui-btn-icon-stop';\n\tstatic START = 'ui-btn-icon-start';\n\tstatic PAUSE = 'ui-btn-icon-pause';\n\tstatic ADD_FOLDER = 'ui-btn-icon-add-folder';\n\tstatic SETTING = 'ui-btn-icon-setting';\n\tstatic TASK = 'ui-btn-icon-task';\n\tstatic INFO = 'ui-btn-icon-info';\n\tstatic SEARCH = 'ui-btn-icon-search';\n\tstatic PRINT = 'ui-btn-icon-print';\n\tstatic LIST = 'ui-btn-icon-list';\n\tstatic BUSINESS = 'ui-btn-icon-business';\n\tstatic BUSINESS_CONFIRM = 'ui-btn-icon-business-confirm';\n\tstatic BUSINESS_WARNING = 'ui-btn-icon-business-warning';\n\tstatic CAMERA = 'ui-btn-icon-camera';\n\tstatic PHONE_UP = 'ui-btn-icon-phone-up';\n\tstatic PHONE_DOWN = 'ui-btn-icon-phone-down';\n\tstatic PHONE_CALL = 'ui-btn-icon-phone-call';\n\tstatic BACK = 'ui-btn-icon-back';\n\tstatic REMOVE = 'ui-btn-icon-remove';\n\tstatic DOWNLOAD = 'ui-btn-icon-download';\n\tstatic DOTS = 'ui-btn-icon-ui-btn-icon-dots';\n\tstatic DONE = 'ui-btn-icon-done';\n\tstatic CANCEL = 'ui-btn-icon-cancel';\n\tstatic DISK = 'ui-btn-icon-disk';\n\tstatic LOCK = 'ui-btn-icon-lock';\n\tstatic MAIL = 'ui-btn-icon-mail';\n\tstatic CHAT = 'ui-btn-icon-chat';\n\tstatic PAGE = 'ui-btn-icon-page';\n\tstatic CLOUD = 'ui-btn-icon-cloud';\n\tstatic EDIT = 'ui-btn-icon-edit';\n\tstatic SHARE = 'ui-btn-icon-share';\n\tstatic ANGLE_UP = 'ui-btn-icon-angle-up';\n\tstatic ANGLE_DOWN = 'ui-btn-icon-angle-down';\n\tstatic EYE_OPENED = 'ui-btn-icon-eye-opened';\n\tstatic EYE_CLOSED = 'ui-btn-icon-eye-closed';\n\tstatic ALERT = 'ui-btn-icon-alert';\n\tstatic FAIL = 'ui-btn-icon-fail';\n\tstatic SUCCESS = 'ui-btn-icon-success';\n\tstatic PLAN = 'ui-btn-icon-plan';\n\tstatic TARIFF = 'ui-btn-icon-tariff';\n\tstatic BATTERY = 'ui-btn-icon-battery';\n\tstatic NO_BATTERY = 'ui-btn-icon-no-battery';\n\tstatic HALF_BATTERY = 'ui-btn-icon-half-battery';\n\tstatic LOW_BATTERY = 'ui-btn-icon-low-battery';\n\tstatic CRIT_BATTERY = 'ui-btn-icon-crit-battery';\n\tstatic DEMO = 'ui-btn-icon-demo';\n\tstatic ROBOTS = 'ui-btn-icon-robots';\n\tstatic NOTE = 'ui-btn-icon-note';\n\tstatic SCRIPT = 'ui-btn-icon-script';\n\tstatic PRINT2 = 'ui-btn-icon-print-2';\n\tstatic FUNNEL = 'ui-btn-icon-funnel';\n\tstatic FORWARD = 'ui-btn-icon-forward';\n\tstatic COPY = 'ui-btn-icon-copy';\n\tstatic AI = 'ui-btn-icon-ai ui-icon-set__scope';\n}\n","/**\n * @namespace {BX.UI}\n */\nexport default class ButtonState\n{\n\tstatic HOVER = 'ui-btn-hover';\n\tstatic ACTIVE = 'ui-btn-active';\n\tstatic DISABLED = 'ui-btn-disabled';\n\tstatic CLOCKING = 'ui-btn-clock';\n\tstatic WAITING = 'ui-btn-wait';\n\tstatic AI_WAITING = 'ui-btn-ai-waiting';\n}","/**\n * @namespace {BX.UI}\n */\nexport default class ButtonStyle\n{\n\tstatic NO_CAPS = 'ui-btn-no-caps';\n\tstatic ROUND = 'ui-btn-round';\n\tstatic DROPDOWN = 'ui-btn-dropdown';\n\tstatic COLLAPSED = 'ui-btn-collapsed';\n\tstatic DEPEND_ON_THEME = 'ui-btn-themes';\n}","import BaseButton from '../base-button';\nimport { Menu } from 'main.popup';\nimport { Type, Dom, Text, Event } from 'main.core';\nimport ButtonColor from './button-color';\nimport ButtonSize from './button-size';\nimport ButtonIcon from './button-icon';\nimport ButtonState from './button-state';\nimport ButtonStyle from './button-style';\nimport ButtonTag from './button-tag';\nimport { ButtonOptions } from './button-options';\nimport { type MenuOptions } from 'main.popup';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class Button extends BaseButton\n{\n\tstatic BASE_CLASS = 'ui-btn';\n\n\tconstructor(options: ButtonOptions)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\toptions.baseClass = Type.isStringFilled(options.baseClass) ? options.baseClass : Button.BASE_CLASS;\n\n\t\tsuper(options);\n\n\t\tthis.isDependOnTheme = null;\n\t\tthis.size = null;\n\t\tthis.color = null;\n\t\tthis.icon = null;\n\t\tthis.state = null;\n\t\tthis.id = null;\n\t\tthis.context = null;\n\n\t\tthis.menuWindow = null;\n\t\tthis.handleMenuClick = this.handleMenuClick.bind(this);\n\t\tthis.handleMenuClose = this.handleMenuClose.bind(this);\n\n\t\tthis.setDependOnTheme(this.options.dependOnTheme);\n\t\tthis.setSize(this.options.size);\n\t\tthis.setColor(this.options.color);\n\t\tthis.setIcon(this.options.icon);\n\t\tthis.setState(this.options.state);\n\t\tthis.setId(this.options.id);\n\t\tthis.setMenu(this.options.menu);\n\t\tthis.setContext(this.options.context);\n\n\t\tthis.options.noCaps && this.setNoCaps();\n\t\tthis.options.round && this.setRound();\n\n\t\tif (this.options.dropdown || (this.getMenuWindow() && this.options.dropdown !== false))\n\t\t{\n\t\t\tthis.setDropdown();\n\t\t}\n\t}\n\n\tstatic Size = ButtonSize;\n\tstatic Color = ButtonColor;\n\tstatic State = ButtonState;\n\tstatic Icon = ButtonIcon;\n\tstatic Tag = ButtonTag;\n\tstatic Style = ButtonStyle;\n\n\t/**\n\t * @public\n\t * @param {ButtonSize|null} size\n\t * @return {this}\n\t */\n\tsetSize(size: ButtonSize | null): this\n\t{\n\t\treturn this.setProperty('size', size, ButtonSize);\n\t}\n\n\t/**\n\t * @public\n\t * @return {?ButtonSize}\n\t */\n\tgetSize(): ButtonSize | null\n\t{\n\t\treturn this.size;\n\t}\n\n\t/**\n\t * @public\n\t * @param {ButtonColor|null} color\n\t * @return {this}\n\t */\n\tsetColor(color: ButtonColor | null): this\n\t{\n\t\treturn this.setProperty('color', color, ButtonColor);\n\t}\n\n\t/**\n\t * @public\n\t * @return {?ButtonSize}\n\t */\n\tgetColor(): ButtonColor | null\n\t{\n\t\treturn this.color;\n\t}\n\n\t/**\n\t * @public\n\t * @param {?ButtonIcon} icon\n\t * @return {this}\n\t */\n\tsetIcon(icon: ButtonIcon | null): this\n\t{\n\t\tthis.setProperty('icon', icon, ButtonIcon);\n\n\t\tif (this.isInputType() && this.getIcon() !== null)\n\t\t{\n\t\t\tthrow new Error('BX.UI.Button: Input type button cannot have an icon.');\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {?ButtonIcon}\n\t */\n\tgetIcon(): ButtonColor | null\n\t{\n\t\treturn this.icon;\n\t}\n\n\t/**\n\t * @public\n\t * @param {ButtonState|null} state\n\t * @return {this}\n\t */\n\tsetState(state: ButtonState | null): this\n\t{\n\t\treturn this.setProperty('state', state, ButtonState);\n\t}\n\n\t/**\n\t * @public\n\t * @return {?ButtonState}\n\t */\n\tgetState(): ButtonState | null\n\t{\n\t\treturn this.state;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetNoCaps(flag: ? boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.NO_CAPS);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.NO_CAPS);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {boolean}\n\t */\n\tisNoCaps(): boolean\n\t{\n\t\treturn Dom.hasClass(this.getContainer(), ButtonStyle.NO_CAPS);\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetRound(flag: ? boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.ROUND);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.ROUND);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisRound(): boolean\n\t{\n\t\treturn Dom.hasClass(this.getContainer(), ButtonStyle.ROUND);\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDependOnTheme(flag: boolean): this {\n\t\tif (flag === true)\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.DEPEND_ON_THEME);\n\t\t}\n\t\telse if (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.DEPEND_ON_THEME);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {boolean}\n\t */\n\tisDependOnTheme(): boolean {\n\t\tif (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.DEPEND_ON_THEME);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.DEPEND_ON_THEME);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDropdown(flag: ? boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.DROPDOWN);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.DROPDOWN);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {boolean}\n\t */\n\tisDropdown(): boolean\n\t{\n\t\treturn Dom.hasClass(this.getContainer(), ButtonStyle.DROPDOWN);\n\t}\n\n\t/**\n\t *\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetCollapsed(flag: ? boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), ButtonStyle.COLLAPSED);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tDom.addClass(this.getContainer(), ButtonStyle.COLLAPSED);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {boolean}\n\t */\n\tisCollapsed(): boolean\n\t{\n\t\treturn Dom.hasClass(this.getContainer(), ButtonStyle.COLLAPSED);\n\t}\n\n\t/**\n\t * @protected\n\t * @param {MenuOptions|false} options\n\t */\n\tsetMenu(options: MenuOptions): this\n\t{\n\t\tif (Type.isPlainObject(options) && Type.isArray(options.items) && options.items.length > 0)\n\t\t{\n\t\t\tthis.setMenu(false);\n\n\t\t\tthis.menuWindow = new Menu({\n\t\t\t\tid: `ui-btn-menu-${Text.getRandom().toLowerCase()}`,\n\t\t\t\tbindElement: this.getMenuBindElement(),\n\t\t\t\t...options\n\t\t\t});\n\n\t\t\tthis.menuWindow.getPopupWindow().subscribe('onClose', this.handleMenuClose);\n\t\t\tEvent.bind(this.getMenuClickElement(), 'click', this.handleMenuClick);\n\t\t}\n\t\telse if (options === false && this.menuWindow !== null)\n\t\t{\n\t\t\tthis.menuWindow.close();\n\n\t\t\tthis.menuWindow.getPopupWindow().unsubscribe('onClose', this.handleMenuClose);\n\t\t\tEvent.unbind(this.getMenuClickElement(), 'click', this.handleMenuClick);\n\n\t\t\tthis.menuWindow.destroy();\n\t\t\tthis.menuWindow = null;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {HTMLElement}\n\t */\n\tgetMenuBindElement(): HTMLElement\n\t{\n\t\treturn this.getContainer();\n\t}\n\n\t/**\n\t * @public\n\t * @return {HTMLElement}\n\t */\n\tgetMenuClickElement(): HTMLElement\n\t{\n\t\treturn this.getContainer();\n\t}\n\n\t/**\n\t * @protected\n\t * @param {MouseEvent} event\n\t */\n\thandleMenuClick(event: MouseEvent): void\n\t{\n\t\tthis.getMenuWindow().show();\n\t\tthis.setActive(this.getMenuWindow().getPopupWindow().isShown());\n\t}\n\n\t/**\n\t * @protected\n\t */\n\thandleMenuClose(): void\n\t{\n\t\tthis.setActive(false);\n\t}\n\n\t/**\n\t * @public\n\t * @return {Menu}\n\t */\n\tgetMenuWindow(): Menu\n\t{\n\t\treturn this.menuWindow;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string|null} id\n\t * @return {this}\n\t */\n\tsetId(id: string | null): this\n\t{\n\t\tif (Type.isStringFilled(id) || Type.isNull(id))\n\t\t{\n\t\t\tthis.id = id;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {?string}\n\t */\n\tgetId(): ?string\n\t{\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetActive(flag?: boolean): this\n\t{\n\t\treturn this.setState(flag === false ? null : ButtonState.ACTIVE);\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisActive(): boolean\n\t{\n\t\treturn this.getState() === ButtonState.ACTIVE;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetHovered(flag?: boolean): this\n\t{\n\t\treturn this.setState(flag === false ? null : ButtonState.HOVER);\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisHover(): boolean\n\t{\n\t\treturn this.getState() === ButtonState.HOVER;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDisabled(flag): this\n\t{\n\t\tthis.setState(flag === false ? null : ButtonState.DISABLED);\n\t\tsuper.setDisabled(flag);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisDisabled(): boolean\n\t{\n\t\treturn this.getState() === ButtonState.DISABLED;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetWaiting(flag: ? boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tthis.setState(null);\n\t\t\tthis.setProps({ disabled: null });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState(ButtonState.WAITING);\n\t\t\tthis.setProps({ disabled: true });\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisWaiting(): boolean\n\t{\n\t\treturn this.getState() === ButtonState.WAITING;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetClocking(flag?: boolean): this\n\t{\n\t\tif (flag === false)\n\t\t{\n\t\t\tthis.setState(null);\n\t\t\tthis.setProps({ disabled: null });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.setState(ButtonState.CLOCKING);\n\t\t\tthis.setProps({ disabled: true });\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisClocking(): boolean\n\t{\n\t\treturn this.getState() === ButtonState.CLOCKING;\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tsetProperty(property: string, value?: any, enumeration: Object): this\n\t{\n\t\tif (this.isEnumValue(value, enumeration))\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), this[property]);\n\t\t\tDom.addClass(this.getContainer(), value);\n\t\t\tthis[property] = value;\n\t\t}\n\t\telse if (value === null)\n\t\t{\n\t\t\tDom.removeClass(this.getContainer(), this[property]);\n\t\t\tthis[property] = null;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {*} context\n\t */\n\tsetContext(context: any): this\n\t{\n\t\tif (!Type.isUndefined(context))\n\t\t{\n\t\t\tthis.context = context;\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t *\n\t * @return {*}\n\t */\n\tgetContext(): any\n\t{\n\t\treturn this.context;\n\t}\n}\n","/**\n * @namespace {BX.UI}\n */\nexport default class SplitButtonState\n{\n\tstatic HOVER = 'ui-btn-hover';\n\tstatic MAIN_HOVER = 'ui-btn-main-hover';\n\tstatic MENU_HOVER = 'ui-btn-menu-hover';\n\tstatic ACTIVE = 'ui-btn-active';\n\tstatic MAIN_ACTIVE = 'ui-btn-main-active';\n\tstatic MENU_ACTIVE = 'ui-btn-menu-active';\n\tstatic DISABLED = 'ui-btn-disabled';\n\tstatic MAIN_DISABLED = 'ui-btn-main-disabled';\n\tstatic MENU_DISABLED = 'ui-btn-menu-disabled';\n\tstatic CLOCKING = 'ui-btn-clock';\n\tstatic WAITING = 'ui-btn-wait';\n}","/**\n * @namespace {BX.UI}\n */\nexport default class SplitSubButtonType\n{\n\tstatic MAIN = 'ui-btn-main';\n\tstatic MENU = 'ui-btn-menu';\n}","import BaseButton from '../base-button';\nimport SplitButtonState from './split-button-state';\nimport SplitSubButtonType from './split-sub-button-type';\nimport type SplitButton from './split-button';\nimport { Type } from 'main.core';\nimport type { SplitSubButtonOptions } from './split-sub-button-options';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SplitSubButton extends BaseButton\n{\n\tconstructor(options: SplitSubButtonOptions)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\toptions.baseClass =\n\t\t\toptions.buttonType === SplitSubButtonType.MAIN\n\t\t\t\t? SplitSubButtonType.MAIN\n\t\t\t\t: SplitSubButtonType.MENU\n\t\t;\n\n\t\tsuper(options);\n\n\t\tif (this.isInputType())\n\t\t{\n\t\t\tthrow new Error('BX.UI.SplitSubButton: Split button cannot be an input tag.');\n\t\t}\n\t}\n\n\tstatic Type = SplitSubButtonType;\n\n\tinit(): void\n\t{\n\t\tthis.buttonType = this.options.buttonType;\n\t\tthis.splitButton = this.options.splitButton;\n\n\t\tsuper.init();\n\t}\n\n\t/**\n\t * @public\n\t * @return {SplitButton}\n\t */\n\tgetSplitButton(): SplitButton\n\t{\n\t\treturn this.splitButton;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisMainButton(): boolean\n\t{\n\t\treturn this.buttonType === SplitSubButtonType.MAIN;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisMenuButton(): boolean\n\t{\n\t\treturn this.buttonType === SplitSubButtonType.MENU;\n\t}\n\n\tsetText(text: string): this\n\t{\n\t\tif (Type.isString(text) && this.isMenuButton())\n\t\t{\n\t\t\tthrow new Error('BX.UI.SplitButton: a menu button doesn\\'t support a text caption.');\n\t\t}\n\n\t\treturn super.setText(text);\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetActive(flag?: boolean): this\n\t{\n\t\tthis.toggleState(\n\t\t\tflag,\n\t\t\tSplitButtonState.ACTIVE,\n\t\t\tSplitButtonState.MAIN_ACTIVE,\n\t\t\tSplitButtonState.MENU_ACTIVE\n\t\t);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisActive(): boolean\n\t{\n\t\tconst state = this.getSplitButton().getState();\n\t\tif (state === SplitButtonState.ACTIVE)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.isMainButton())\n\t\t{\n\t\t\treturn state === SplitButtonState.MAIN_ACTIVE;\n\t\t}\n\n\t\treturn state === SplitButtonState.MENU_ACTIVE;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDisabled(flag?: boolean): this\n\t{\n\t\tthis.toggleState(\n\t\t\tflag,\n\t\t\tSplitButtonState.DISABLED,\n\t\t\tSplitButtonState.MAIN_DISABLED,\n\t\t\tSplitButtonState.MENU_DISABLED\n\t\t);\n\n\t\tsuper.setDisabled(flag);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} flag\n\t * @return {this}\n\t */\n\tsetHovered(flag): this\n\t{\n\t\tthis.toggleState(\n\t\t\tflag,\n\t\t\tSplitButtonState.HOVER,\n\t\t\tSplitButtonState.MAIN_HOVER,\n\t\t\tSplitButtonState.MENU_HOVER\n\t\t);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisHovered(): boolean\n\t{\n\t\tconst state = this.getSplitButton().getState();\n\t\tif (state === SplitButtonState.HOVER)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.isMainButton())\n\t\t{\n\t\t\treturn state === SplitButtonState.MAIN_HOVER;\n\t\t}\n\n\t\treturn state === SplitButtonState.MENU_HOVER;\n\t}\n\n\t/**\n\t * @private\n\t * @param flag\n\t * @param globalState\n\t * @param mainState\n\t * @param menuState\n\t */\n\ttoggleState(flag, globalState, mainState, menuState)\n\t{\n\t\tconst state = this.getSplitButton().getState();\n\t\tif (flag === false)\n\t\t{\n\t\t\tif (state === globalState)\n\t\t\t{\n\t\t\t\tthis.getSplitButton().setState(this.isMainButton() ? menuState : mainState);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.getSplitButton().setState(null);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (state === mainState && this.isMenuButton())\n\t\t\t{\n\t\t\t\tthis.getSplitButton().setState(globalState);\n\t\t\t}\n\t\t\telse if (state === menuState && this.isMainButton())\n\t\t\t{\n\t\t\t\tthis.getSplitButton().setState(globalState);\n\t\t\t}\n\t\t\telse if (state !== globalState)\n\t\t\t{\n\t\t\t\tthis.getSplitButton().setState(this.isMainButton() ? mainState : menuState);\n\t\t\t}\n\t\t}\n\t}\n}","import Button from '../button/button';\nimport SplitSubButton from './split-sub-button';\nimport SplitButtonState from './split-button-state';\nimport ButtonState from '../button/button-state';\nimport { Type, Tag } from 'main.core';\nimport SplitSubButtonType from './split-sub-button-type';\nimport type { SplitButtonOptions } from './split-button-options';\nimport ButtonTag from '../button/button-tag';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SplitButton extends Button\n{\n\tstatic BASE_CLASS = 'ui-btn-split';\n\n\tconstructor(options: SplitButtonOptions)\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\t// delete options.round;\n\n\t\tif (Type.isStringFilled(options.link))\n\t\t{\n\t\t\toptions.mainButton = Type.isPlainObject(options.mainButton) ? options.mainButton : {};\n\t\t\toptions.mainButton.link = options.link;\n\t\t\tdelete options.link;\n\t\t}\n\n\t\toptions.tag = ButtonTag.DIV;\n\t\toptions.baseClass = SplitButton.BASE_CLASS;\n\n\t\tsuper(options);\n\t}\n\n\tinit()\n\t{\n\t\tconst mainOptions = Type.isPlainObject(this.options.mainButton) ? this.options.mainButton : {};\n\t\tconst menuOptions = Type.isPlainObject(this.options.menuButton) ? this.options.menuButton : {};\n\t\tmainOptions.buttonType = SplitSubButtonType.MAIN;\n\t\tmainOptions.splitButton = this;\n\n\t\tmenuOptions.buttonType = SplitSubButtonType.MENU;\n\t\tmenuOptions.splitButton = this;\n\n\t\tthis.mainButton = new SplitSubButton(mainOptions);\n\t\tthis.menuButton = new SplitSubButton(menuOptions);\n\t\tthis.menuTarget = SplitSubButtonType.MAIN;\n\n\t\tif (this.options.menuTarget === SplitSubButtonType.MENU)\n\t\t{\n\t\t\tthis.menuTarget = SplitSubButtonType.MENU;\n\t\t}\n\n\t\tsuper.init();\n\t}\n\n\tstatic State = SplitButtonState;\n\n\t/**\n\t * @public\n\t * @return {HTMLElement}\n\t */\n\tgetContainer(): HTMLElement\n\t{\n\t\tif (this.button === null)\n\t\t{\n\t\t\tthis.button = Tag.render`\n\t\t\t\t<div class=\"${this.getBaseClass()}\">${[\n\t\t\t\tthis.getMainButton().getContainer(),\n\t\t\t\tthis.getMenuButton().getContainer()\n\t\t\t]}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.button;\n\t}\n\n\t/**\n\t * @public\n\t * @return {SplitSubButton}\n\t */\n\tgetMainButton(): SplitSubButton\n\t{\n\t\treturn this.mainButton;\n\t}\n\n\t/**\n\t * @public\n\t * @return {SplitSubButton}\n\t */\n\tgetMenuButton(): SplitSubButton\n\t{\n\t\treturn this.menuButton;\n\t}\n\n\t/**\n\t * @public\n\t * @param {string} text\n\t * @return {this}\n\t */\n\tsetText(text: string): this\n\t{\n\t\tif (Type.isString(text))\n\t\t{\n\t\t\tthis.getMainButton().setText(text);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {string}\n\t */\n\tgetText(): string\n\t{\n\t\treturn this.getMainButton().getText();\n\t}\n\n\t/**\n\t *\n\t * @param {number | string} counter\n\t * @return {this}\n\t */\n\tsetCounter(counter: number | string): this\n\t{\n\t\treturn this.getMainButton().setCounter(counter);\n\t}\n\n\t/**\n\t *\n\t * @return {number | string | null}\n\t */\n\tgetCounter(): number | string | null\n\t{\n\t\treturn this.getMainButton().getCounter();\n\t}\n\n\t/**\n\t *\n\t * @param {string} link\n\t * @return {this}\n\t */\n\tsetLink(link: string): this\n\t{\n\t\treturn this.getMainButton().setLink(link);\n\t}\n\n\t/**\n\t *\n\t * @return {string}\n\t */\n\tgetLink(): string\n\t{\n\t\treturn this.getMainButton().getLink();\n\t}\n\n\t/**\n\t * @public\n\t * @param {SplitButtonState|null} state\n\t * @return {this}\n\t */\n\tsetState(state: SplitButtonState | null): this\n\t{\n\t\treturn this.setProperty('state', state, SplitButtonState);\n\t}\n\n\t/**\n\t * @public\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDisabled(flag?: boolean): this\n\t{\n\t\tthis.setState(flag === false ? null : ButtonState.DISABLED);\n\t\tthis.getMainButton().setDisabled(flag);\n\t\tthis.getMenuButton().setDisabled(flag);\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * @protected\n\t * @return {HTMLElement}\n\t */\n\tgetMenuBindElement(): HTMLElement\n\t{\n\t\tif (this.getMenuTarget() === SplitSubButtonType.MENU)\n\t\t{\n\t\t\treturn this.getMenuButton().getContainer();\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.getContainer();\n\t\t}\n\t}\n\n\t/**\n\t * @protected\n\t * @param {MouseEvent} event\n\t */\n\thandleMenuClick(event: MouseEvent): void\n\t{\n\t\tthis.getMenuWindow().show();\n\n\t\tconst isActive = this.getMenuWindow().getPopupWindow().isShown();\n\t\tthis.getMenuButton().setActive(isActive);\n\t}\n\n\t/**\n\t * @protected\n\t */\n\thandleMenuClose(): void\n\t{\n\t\tthis.getMenuButton().setActive(false);\n\t}\n\n\t/**\n\t * @protected\n\t * @return {HTMLElement}\n\t */\n\tgetMenuClickElement(): HTMLElement\n\t{\n\t\treturn this.getMenuButton().getContainer();\n\t}\n\n\t/**\n\t * @public\n\t * @return {SplitSubButtonType}\n\t */\n\tgetMenuTarget(): SplitSubButtonType\n\t{\n\t\treturn this.menuTarget;\n\t}\n\n\t/**\n\t *\n\t * @param {boolean} [flag=true]\n\t * @return {this}\n\t */\n\tsetDropdown(flag?: boolean): this\n\t{\n\t\treturn this;\n\t}\n\n\t/**\n\t * @public\n\t * @return {boolean}\n\t */\n\tisDropdown(): boolean\n\t{\n\t\treturn true;\n\t}\n}","import { Type, Reflection, Dom, Runtime, Tag } from 'main.core';\nimport { EventEmitter, BaseEvent } from 'main.core.events';\nimport { MenuItem } from 'main.popup';\n\nimport BaseButton from './base-button';\nimport Button from './button/button';\nimport SplitButton from './split-button/split-button';\nimport ButtonTag from './button/button-tag';\nimport ButtonColor from './button/button-color';\nimport ButtonSize from './button/button-size';\nimport ButtonState from './button/button-state';\nimport ButtonStyle from './button/button-style';\nimport ButtonIcon from './button/button-icon';\nimport SplitButtonState from './split-button/split-button-state';\n\nimport type { SplitButtonOptions } from './split-button/split-button-options';\nimport type { ButtonOptions } from './button/button-options';\nimport type { SplitSubButtonOptions } from './split-button/split-sub-button-options';\nimport SplitSubButtonType from './split-button/split-sub-button-type';\n\nexport default class ButtonManager\n{\n\t/**\n\t * @public\n\t * @param {HTMLButtonElement | HTMLAnchorElement | HTMLInputElement} node\n\t * @return {Button | SplitButton}\n\t */\n\tstatic createFromNode(\n\t\tnode: HTMLButtonElement | HTMLAnchorElement | HTMLInputElement | HTMLDivElement\n\t): Button | SplitButton\n\t{\n\t\tif (!Type.isDomNode(node))\n\t\t{\n\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: \"node\" must be a DOM node.');\n\t\t}\n\n\t\tif (!Dom.hasClass(node, Button.BASE_CLASS) && !Dom.hasClass(node, SplitButton.BASE_CLASS))\n\t\t{\n\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: \"node\" is not a button.');\n\t\t}\n\n\t\tconst isSplitButton = Dom.hasClass(node, SplitButton.BASE_CLASS);\n\t\tlet tag = null;\n\t\tlet text = null;\n\t\tlet textNode = null;\n\t\tlet counterNode = null;\n\t\tlet disabled = false;\n\t\tlet mainButtonOptions: SplitSubButtonOptions = {};\n\t\tlet menuButtonOptions: SplitSubButtonOptions = {};\n\n\t\tif (isSplitButton)\n\t\t{\n\t\t\tconst mainButton = node.querySelector(`.${SplitSubButtonType.MAIN}`);\n\t\t\tconst menuButton = node.querySelector(`.${SplitSubButtonType.MENU}`);\n\t\t\tif (!mainButton)\n\t\t\t{\n\t\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: a split button doesn\\'t have a main button.');\n\t\t\t}\n\n\t\t\tif (!menuButton)\n\t\t\t{\n\t\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: a split button doesn\\'t have a menu button.');\n\t\t\t}\n\n\t\t\tconst mainButtonTag = this.#getTag(mainButton);\n\t\t\tif (mainButtonTag === ButtonTag.INPUT || mainButtonTag === ButtonTag.SUBMIT)\n\t\t\t{\n\t\t\t\ttext = mainButton.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[textNode, counterNode] = this.#getTextNode(mainButton);\n\t\t\t\ttext = textNode.textContent;\n\t\t\t}\n\n\t\t\tdisabled = Dom.hasClass(node, SplitButtonState.DISABLED);\n\n\t\t\tmainButtonOptions = {\n\t\t\t\ttag: mainButtonTag,\n\t\t\t\ttextNode,\n\t\t\t\tcounterNode,\n\t\t\t\tbuttonNode: mainButton,\n\t\t\t\tdisabled: Dom.hasClass(node, SplitButtonState.MAIN_DISABLED)\n\t\t\t};\n\n\t\t\tmenuButtonOptions = {\n\t\t\t\ttag: this.#getTag(menuButton),\n\t\t\t\tbuttonNode: menuButton,\n\t\t\t\ttextNode: null,\n\t\t\t\tcounterNode: null,\n\t\t\t\tdisabled: Dom.hasClass(node, SplitButtonState.MENU_DISABLED)\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\ttag = this.#getTag(node);\n\t\t\tif (tag === null)\n\t\t\t{\n\t\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: \"node\" must be a button, link or input.');\n\t\t\t}\n\n\t\t\tdisabled = Dom.hasClass(node, ButtonState.DISABLED);\n\n\t\t\tif (tag === ButtonTag.INPUT || tag === ButtonTag.SUBMIT)\n\t\t\t{\n\t\t\t\ttext = node.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[textNode, counterNode] = this.#getTextNode(node);\n\t\t\t\ttext = textNode.textContent;\n\t\t\t}\n\t\t}\n\n\t\tconst options: ButtonOptions & SplitButtonOptions = {\n\t\t\tid: node.dataset.btnUniqid,\n\t\t\tbuttonNode: node,\n\t\t\ttextNode: isSplitButton ? null : textNode,\n\t\t\tcounterNode: isSplitButton ? null : counterNode,\n\t\t\tcounter: this.#getCounter(counterNode),\n\t\t\ttag,\n\t\t\ttext,\n\t\t\tdisabled,\n\t\t\tmainButton: mainButtonOptions,\n\t\t\tmenuButton: menuButtonOptions,\n\t\t\tsize: this.#getEnumProp(node, ButtonSize),\n\t\t\tcolor: this.#getEnumProp(node, ButtonColor),\n\t\t\ticon: this.#getEnumProp(node, ButtonIcon),\n\t\t\tstate: this.#getEnumProp(node, isSplitButton ? SplitButtonState : ButtonState),\n\t\t\tnoCaps: Dom.hasClass(node, ButtonStyle.NO_CAPS),\n\t\t\tround: Dom.hasClass(node, ButtonStyle.ROUND)\n\t\t};\n\n\n\t\tconst nodeOptions = Dom.attr(node, 'data-json-options') || {};\n\n\t\tif (Dom.hasClass(node, ButtonStyle.DROPDOWN))\n\t\t{\n\t\t\toptions.dropdown = true;\n\t\t}\n\t\telse if (nodeOptions.dropdown === false)\n\t\t{\n\t\t\toptions.dropdown = false;\n\t\t}\n\n\t\tif (nodeOptions.onclick)\n\t\t{\n\t\t\toptions.onclick = this.#convertEventHandler(nodeOptions.onclick);\n\t\t}\n\n\t\tif (Type.isPlainObject(nodeOptions.events))\n\t\t{\n\t\t\toptions.events = nodeOptions.events;\n\t\t\tthis.#convertEvents(options.events);\n\t\t}\n\n\t\tif (Type.isPlainObject(nodeOptions.menu))\n\t\t{\n\t\t\toptions.menu = nodeOptions.menu;\n\t\t\tthis.#convertMenuEvents(options.menu.items);\n\t\t}\n\n\t\t['mainButton', 'menuButton'].forEach(button => {\n\n\t\t\tif (!Type.isPlainObject(nodeOptions[button]))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\toptions[button] = Runtime.merge(options[button], nodeOptions[button]);\n\t\t\tif (options[button].onclick)\n\t\t\t{\n\t\t\t\toptions[button].onclick = this.#convertEventHandler(options[button].onclick);\n\t\t\t}\n\n\t\t\tthis.#convertEvents(options[button].events);\n\n\t\t});\n\n\t\tif (Type.isStringFilled(nodeOptions.menuTarget))\n\t\t{\n\t\t\toptions.menuTarget = nodeOptions.menuTarget;\n\t\t}\n\n\t\treturn isSplitButton ? new SplitButton(options) : new Button(options);\n\t}\n\n\tstatic createByUniqId(id): Button | SplitButton | null\n\t{\n\t\tif (!Type.isStringFilled(id))\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tconst node = document.querySelector(`[data-btn-uniqid=\"${id}\"]`);\n\n\t\treturn node ? this.createFromNode(node) : null;\n\t}\n\n\t/**\n\t * @private\n\t * @param {HTMLElement} node\n\t * @return {null|number}\n\t */\n\tstatic #getTag(node: HTMLElement | HTMLInputElement): ButtonTag | null\n\t{\n\t\tif (node.nodeName === 'A')\n\t\t{\n\t\t\treturn ButtonTag.LINK;\n\t\t}\n\t\telse if (node.nodeName === 'BUTTON')\n\t\t{\n\t\t\treturn ButtonTag.BUTTON;\n\t\t}\n\t\telse if (node.nodeName === 'INPUT' && node.type === 'button')\n\t\t{\n\t\t\treturn ButtonTag.INPUT;\n\t\t}\n\t\telse if (node.nodeName === 'INPUT' && node.type === 'submit')\n\t\t{\n\t\t\treturn ButtonTag.SUBMIT;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * @private\n\t * @param {HTMLElement} node\n\t */\n\tstatic #getTextNode(node: HTMLElement): [HTMLElement, HTMLElement]\n\t{\n\t\tlet textNode = node.querySelector('.ui-btn-text');\n\t\tconst counterNode = node.querySelector('.ui-btn-counter');\n\t\tif (!textNode)\n\t\t{\n\t\t\tif (counterNode)\n\t\t\t{\n\t\t\t\tDom.remove(counterNode);\n\t\t\t}\n\n\t\t\ttextNode = Tag.render`<span class=\"ui-btn-text\">${node.innerHTML.trim()}</span>`;\n\t\t\tDom.clean(node);\n\t\t\tDom.append(textNode, node);\n\n\t\t\tif (counterNode)\n\t\t\t{\n\t\t\t\tDom.append(counterNode, node);\n\t\t\t}\n\t\t}\n\n\t\treturn [textNode, counterNode];\n\t}\n\n\t/**\n\t * @private\n\t * @param counterNode\n\t * @return {null|any}\n\t */\n\tstatic #getCounter(counterNode: HTMLElement): number | string | null\n\t{\n\t\tif (Type.isDomNode(counterNode))\n\t\t{\n\t\t\tconst textContent = counterNode.textContent;\n\t\t\tconst counter = Number(textContent);\n\n\t\t\treturn Type.isNumber(counter) ? counter : textContent;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * @private\n\t * @param {HTMLElement} node\n\t * @param {object} enumeration\n\t * @return {null|*}\n\t */\n\tstatic #getEnumProp(node: HTMLElement, enumeration: Object)\n\t{\n\t\tfor (let key in enumeration)\n\t\t{\n\t\t\tif (!enumeration.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (Dom.hasClass(node, enumeration[key]))\n\t\t\t{\n\t\t\t\treturn enumeration[key];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * @private\n\t * @param handler\n\t * @return {Function}\n\t */\n\tstatic #convertEventHandler(handler): Function\n\t{\n\t\tif (Type.isFunction(handler))\n\t\t{\n\t\t\treturn handler;\n\t\t}\n\n\t\tif (!Type.isObject(handler))\n\t\t{\n\t\t\tthrow new Error('BX.UI.ButtonManager.createFromNode: Event handler must be described as object or function.');\n\t\t}\n\n\t\tif (Type.isStringFilled(handler.code))\n\t\t{\n\t\t\treturn function() { // handle code can use callback arguments\n\t\t\t\teval(handler.code);\n\t\t\t};\n\t\t}\n\t\telse if (Type.isStringFilled(handler.event))\n\t\t{\n\t\t\treturn function(...args) {\n\n\t\t\t\tlet event;\n\t\t\t\tif (args[0] instanceof BaseEvent)\n\t\t\t\t{\n\t\t\t\t\tevent = args[0];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (args[0] instanceof BaseButton)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent = new BaseEvent({ data: { button: args[0], event: args[1] } });\n\t\t\t\t\t}\n\t\t\t\t\telse if (args[1] instanceof MenuItem)\n\t\t\t\t\t{\n\t\t\t\t\t\tevent = new BaseEvent({ data: { item: args[1], event: args[0] } });\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tevent = new BaseEvent({ data: args });\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tEventEmitter.emit(handler.event, event);\n\t\t\t};\n\t\t}\n\t\telse if (Type.isStringFilled(handler.handler))\n\t\t{\n\t\t\treturn function(...args) {\n\t\t\t\tconst fn = Reflection.getClass(handler.handler);\n\t\t\t\tif (Type.isFunction(fn))\n\t\t\t\t{\n\t\t\t\t\tlet context = this;\n\t\t\t\t\tif (Type.isStringFilled(handler.context))\n\t\t\t\t\t{\n\t\t\t\t\t\tcontext = Reflection.getClass(handler.context);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn fn.apply(context, args);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`BX.UI.ButtonManager.createFromNode: be aware, the handler ${handler.handler} is not a function.`\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * @private\n\t * @param events\n\t */\n\tstatic #convertEvents(events)\n\t{\n\t\tif (Type.isPlainObject(events))\n\t\t{\n\t\t\tfor (let [eventName, eventFn] of Object.entries(events))\n\t\t\t{\n\t\t\t\tevents[eventName] = this.#convertEventHandler(eventFn);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param items\n\t */\n\tstatic #convertMenuEvents(items)\n\t{\n\t\tif (!Type.isArray(items))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\titems.forEach(item => {\n\t\t\tif (item.onclick)\n\t\t\t{\n\t\t\t\titem.onclick = this.#convertEventHandler(item.onclick);\n\t\t\t}\n\n\t\t\tif (item.events)\n\t\t\t{\n\t\t\t\tthis.#convertEvents(item.events);\n\t\t\t}\n\n\t\t\tif (Type.isArray(item.items))\n\t\t\t{\n\t\t\t\tthis.#convertMenuEvents(item.items);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @deprecated\n\t * @param uniqId\n\t * @return {null|*}\n\t */\n\tstatic getByUniqid(uniqId)\n\t{\n\t\tconst toolbar = BX.UI.ToolbarManager.getDefaultToolbar();\n\n\t\treturn toolbar ? toolbar.getButton(uniqId) : null;\n\t}\n}","/**\n * @namespace {BX.UI}\n */\nexport default class IButton\n{\n\trender(): HTMLElement\n\t{\n\t\tthrow new Error('BX.UI.IButton: Must be implemented by a subclass');\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class AddButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_ADD_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class ApplyButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_APPLY_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LIGHT_BORDER\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CancelButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CANCEL_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LINK\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CloseButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CLOSE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LINK\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CreateButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CREATE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SaveButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_SAVE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SendButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_SEND_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import Button from '../button';\nimport ButtonColor from '../button-color';\nimport ButtonIcon from '../button-icon';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SettingsButton extends Button\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ticon: ButtonIcon.SETTING,\n\t\t\tcolor: ButtonColor.LIGHT_BORDER,\n\t\t\tdropdown: false\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class AddSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_ADD_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class ApplySplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_APPLY_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LIGHT_BORDER\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CancelSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CANCEL_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LINK\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CloseSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CLOSE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.LINK\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class CreateSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_CREATE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SaveSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_SAVE_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}","import SplitButton from '../split-button';\nimport ButtonColor from '../../button/button-color';\nimport { Loc } from 'main.core';\n\n/**\n * @namespace {BX.UI}\n */\nexport default class SendSplitButton extends SplitButton\n{\n\tgetDefaultOptions()\n\t{\n\t\treturn {\n\t\t\ttext: Loc.getMessage('UI_BUTTONS_SEND_BTN_TEXT'),\n\t\t\tcolor: ButtonColor.SUCCESS\n\t\t};\n\t}\n}"],"names":["ButtonTag","BaseButton","options","Type","isPlainObject","Object","assign","getDefaultOptions","button","isDomNode","buttonNode","textNode","counterNode","text","counter","events","link","maxWidth","tag","isEnumValue","BUTTON","isStringFilled","LINK","baseClass","disabled","handleEvent","bind","init","setDisabled","setText","setCounter","setProps","props","setDataSet","dataset","addClass","className","setLink","setMaxWidth","bindEvent","onclick","bindEvents","getContainer","node","appendChild","getTag","Tag","render","getBaseClass","INPUT","SUBMIT","DIV","SPAN","isString","isInputType","value","length","parentNode","Dom","prepend","textContent","remove","includes","isNumber","Error","append","href","style","removeProperty","propName","propValue","attr","attrs","attributes","result","reserved","i","name","startsWith","getDataSet","removeClass","flag","eventName","fn","isArray","forEach","unbindEvent","isFunction","Event","unbind","event","type","call","enumeration","code","ButtonColor","ButtonSize","ButtonIcon","ButtonState","ButtonStyle","Button","BASE_CLASS","isDependOnTheme","size","color","icon","state","id","context","menuWindow","handleMenuClick","handleMenuClose","setDependOnTheme","dependOnTheme","setSize","setColor","setIcon","setState","setId","setMenu","menu","setContext","noCaps","setNoCaps","round","setRound","dropdown","getMenuWindow","setDropdown","setProperty","getIcon","NO_CAPS","hasClass","ROUND","DEPEND_ON_THEME","DROPDOWN","COLLAPSED","items","Menu","Text","getRandom","toLowerCase","bindElement","getMenuBindElement","getPopupWindow","subscribe","getMenuClickElement","close","unsubscribe","destroy","show","setActive","isShown","isNull","ACTIVE","getState","HOVER","DISABLED","WAITING","CLOCKING","property","isUndefined","SplitButtonState","SplitSubButtonType","SplitSubButton","buttonType","MAIN","MENU","splitButton","isMenuButton","toggleState","MAIN_ACTIVE","MENU_ACTIVE","getSplitButton","isMainButton","MAIN_DISABLED","MENU_DISABLED","MAIN_HOVER","MENU_HOVER","globalState","mainState","menuState","SplitButton","mainButton","mainOptions","menuOptions","menuButton","menuTarget","getMainButton","getMenuButton","getText","getCounter","getLink","getMenuTarget","isActive","ButtonManager","isSplitButton","mainButtonOptions","menuButtonOptions","querySelector","mainButtonTag","btnUniqid","nodeOptions","Runtime","merge","document","createFromNode","uniqId","toolbar","BX","UI","ToolbarManager","getDefaultToolbar","getButton","nodeName","innerHTML","trim","clean","Number","key","hasOwnProperty","handler","isObject","eval","args","BaseEvent","data","MenuItem","item","EventEmitter","emit","Reflection","getClass","apply","console","warn","eventFn","entries","IButton","AddButton","Loc","getMessage","SUCCESS","ApplyButton","LIGHT_BORDER","CancelButton","CloseButton","CreateButton","SaveButton","SendButton","SettingsButton","SETTING","AddSplitButton","ApplySplitButton","CancelSplitButton","CloseSplitButton","CreateSplitButton","SaveSplitButton","SendSplitButton"],"mappings":"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"}