{"version":3,"file":"view.bundle.js","sources":["../src/base-field.js","../src/checker.js","../src/inline-checker.js","../src/item-picker.js","../src/selector.js","../src/selector-menu.js","../src/single-checker.js","../src/text-input.js","../src/textarea.js","../src/text-input-inline.js","../src/user-selector.js"],"sourcesContent":["import { Dom, Loc, Tag, Text, Type } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { HelpMessage } from 'ui.section';\n\nexport class BaseField extends EventEmitter\n{\n\t#id: string;\n\t#inputName: string;\n\tfield: HTMLElement;\n\t#isEnable: boolean;\n\t#bannerCode: ?string;\n\t#helpDeskCode: ?string;\n\t#label: string = '';\n\t#helpMessageProvider: function;\n\t#helpMessage: ?HelpMessage = null;\n\t#errorContainer: HTMLElement;\n\t#isFieldDisabled: boolean = false;\n\n\tconstructor(params)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('UI.Section');\n\n\t\tthis.#label = Type.isStringFilled(params.label) ? params.label : '';\n\t\tif (Type.isStringFilled(params.id))\n\t\t{\n\t\t\tthis.#id = params.id;\n\t\t}\n\t\telse if (!this.id)\n\t\t{\n\t\t\tthis.#id = this.prefixId() + Text.getRandom(8);\n\t\t}\n\n\t\tif (Type.isStringFilled(params.inputName))\n\t\t{\n\t\t\tthis.#inputName = params.inputName;\n\t\t}\n\t\telse if (!this.#inputName)\n\t\t{\n\t\t\tthis.#inputName = Text.getRandom(8);\n\t\t}\n\t\tthis.#isEnable = params.isEnable !== false;\n\t\tthis.#bannerCode = Type.isStringFilled(params.bannerCode) ? params.bannerCode : null;\n\t\tthis.#helpDeskCode = Type.isStringFilled(params.helpDesk) ? params.helpDesk : null;\n\t\tthis.#helpMessageProvider = params.helpMessageProvider;\n\t\tthis.#isFieldDisabled = Type.isBoolean(params.isFieldDisabled) ? params.isFieldDisabled : false;\n\t}\n\n\tgetHelpMessage(): ?HelpMessage\n\t{\n\t\tif (this.#helpMessage instanceof HelpMessage)\n\t\t{\n\t\t\treturn this.#helpMessage;\n\t\t}\n\t\tthis.#helpMessage = Type.isFunction(this.#helpMessageProvider)\n\t\t\t? this.#helpMessageProvider(this.getId(), this.getInputNode())\n\t\t\t: null;\n\n\t\treturn this.#helpMessage;\n\t}\n\n\tcleanError()\n\t{\n\t\tDom.clean(this.#errorContainer);\n\t\tDom.removeClass(this.getErrorBox(), '--error');\n\t}\n\n\tsetErrors(errorMessages): void\n\t{\n\t\tthis.cleanError();\n\t\tDom.addClass(this.getErrorBox(), '--error');\n\t\tfor (let message of errorMessages)\n\t\t{\n\t\t\tlet error = Tag.render`\n\t\t\t\t<div class=\"ui-section__error-message\">\n\t\t\t\t\t<span class=\"ui-icon-set --warning\"></span>\n\t\t\t\t\t<span>${message}</span>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tDom.append(error, this.renderErrors());\n\t\t}\n\t}\n\n\tgetErrorBox(): HTMLElement\n\t{\n\t\treturn this.getInputNode();\n\t}\n\n\trenderErrors()\n\t{\n\t\tif (this.#errorContainer)\n\t\t{\n\t\t\treturn this.#errorContainer;\n\t\t}\n\n\t\tthis.#errorContainer = Tag.render`<div class=\"ui-section__error-container\"></div>`;\n\n\t\treturn this.#errorContainer;\n\t}\n\n\tgetId(): string\n\t{\n\t\treturn this.#id;\n\t}\n\n\tgetLabel(): string\n\t{\n\t\treturn this.#label;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn '';\n\t}\n\n\tgetName(): string\n\t{\n\t\treturn this.#inputName;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn null;\n\t}\n\n\tsetName(name: string): void\n\t{\n\t\tthis.#inputName = name;\n\t}\n\n\tcancel(): void {}\n\n\trender(): HTMLElement\n\t{\n\t\tif (this.field)\n\t\t{\n\t\t\treturn this.field;\n\t\t}\n\t\tthis.field = this.renderContentField();\n\n\t\treturn this.field;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\treturn Tag.render``;\n\t}\n\n\tisEnable(): boolean\n\t{\n\t\treturn this.#isEnable;\n\t}\n\n\tgetBannerCode(): ?string\n\t{\n\t\treturn this.#bannerCode;\n\t}\n\n\tshowBanner(): void\n\t{\n\t\tif (this.getBannerCode())\n\t\t{\n\t\t\tBX.UI.InfoHelper.show(this.getBannerCode());\n\t\t}\n\t}\n\n\tgetHelpdeskCode(): ?string\n\t{\n\t\treturn this.#helpDeskCode;\n\t}\n\n\tshowHelpdesk(): void\n\t{\n\t\tif (this.getHelpdeskCode())\n\t\t{\n\t\t\ttop.BX.Helper.show(this.getHelpdeskCode());\n\t\t}\n\t}\n\n\trenderLockElement(): HTMLElement\n\t{\n\t\tconst lockElement = Tag.render`<span class=\"ui-icon-set --lock field-has-lock\"></span>`;\n\n\t\tlockElement.addEventListener('click', () => {\n\t\t\tthis.showBanner()\n\t\t});\n\n\t\treturn lockElement\n\t}\n\n\trenderMoreElement(helpdeskCode): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t${this.getMoreElement(helpdeskCode)}\n\t\t`;\n\t}\n\n\tgetMoreElement(helpdeskCode): string\n\t{\n\t\treturn `\n\t\t\t<a class=\"more\" href=\"javascript:top.BX.Helper.show('${helpdeskCode}');\">\n\t\t\t\t${Loc.getMessage('INTRANET_SETTINGS_CANCEL_MORE')}\n\t\t\t</a>\n\t\t`;\n\t}\n\n\tisFieldDisabled(): boolean\n\t{\n\t\treturn this.#isFieldDisabled;\n\t}\n}\n","import { Switcher } from 'ui.switcher';\nimport { Dom, Tag, Type } from 'main.core';\nimport 'ui.info-helper';\nimport { EventEmitter } from 'main.core.events';\nimport { BaseField } from './base-field';\n\nexport class Checker extends BaseField\n{\n\tfield: HTMLElement;\n\tswitcher: Switcher;\n\thintOn: string;\n\thintOff: string;\n\tdefaultValue: boolean;\n\thideSeparator: boolean;\n\talignCenter: boolean;\n\tnoMarginBottom: boolean;\n\t#renderMore: ?HTMLElement;\n\t#moreElement: string;\n\n\tconstructor(params)\n\t{\n\t\tparams.label = params.title;\n\t\tsuper(params);\n\t\tthis.hintOn = params.hintOn;\n\t\tthis.hintOff = params.hintOff;\n\t\tthis.hideSeparator = params.hideSeparator;\n\t\tthis.alignCenter = params.alignCenter;\n\t\tthis.noMarginBottom = params.noMarginBottom;\n\t\tthis.size = params.size;\n\n\t\tthis.switcher = new Switcher({\n\t\t\tinputName: this.getName(),\n\t\t\tchecked: params.checked,\n\t\t\tid: this.getId(),\n\t\t\tattributeName: params.attributeName,\n\t\t\thandlers: params.handlers,\n\t\t\tcolor: params.colors,\n\t\t\tsize: params.size,\n\t\t});\n\t\tif (this.isFieldDisabled())\n\t\t{\n\t\t\tthis.switcher.disable(true);\n\t\t}\n\t\tthis.defaultValue = params.checked;\n\t\tEventEmitter.subscribe(\n\t\t\tthis.switcher,\n\t\t\t'toggled',\n\t\t\t() =>\n\t\t\t{\n\t\t\t\tif (!this.isEnable())\n\t\t\t\t{\n\t\t\t\t\tthis.switcher.check(this.defaultValue, false);\n\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.switcher.inputNode.form.dispatchEvent(new Event('change'));\n\t\t\t\tthis.changeHint(this.isChecked());\n\t\t\t\tthis.emit('change', this.isChecked());\n\t\t\t}\n\t\t);\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn this.switcher.inputNode.value;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.switcher.node;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'checker_';\n\t}\n\n\tisChecked(): boolean\n\t{\n\t\treturn this.switcher.isChecked();\n\t}\n\n\trenderMore(): ?HTMLElement\n\t{\n\t\tif (this.#renderMore)\n\t\t{\n\t\t\treturn this.#renderMore;\n\t\t}\n\n\t\tthis.#renderMore = !Type.isNil(this.getHelpdeskCode())\n\t\t\t? this.renderMoreElement(this.getHelpdeskCode())\n\t\t\t: '';\n\n\t\treturn this.#renderMore;\n\t}\n\n\t#getMore(): string\n\t{\n\t\tif (!this.#moreElement)\n\t\t{\n\t\t\tthis.#moreElement = !Type.isNil(this.getHelpdeskCode())\n\t\t\t\t? this.getMoreElement(this.getHelpdeskCode())\n\t\t\t\t: '';\n\t\t}\n\n\t\treturn this.#moreElement;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = !this.isEnable() ? this.renderLockElement() : null;\n\n\t\treturn Tag.render`\n\t\t\t<div\n\t\t\t\tid=\"${this.getId()}\" \n\t\t\t\tclass=\"\n\t\t\t\t\tui-section__field-switcher\n\t\t\t\t\t${this.hideSeparator ? '--hide-separator' : ''}\n\t\t\t\t\t${this.alignCenter ? '--align-center --gray-title' : ''}\n\t\t\t\t\t${this.noMarginBottom ? '--no-margin-bottom' : ''}\n\t\t\t\t\t${this.size ? `--${this.size}` : ''}\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t\t<div class=\"ui-section__switcher\">\n\t\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-section__field-inner\">\n\t\t\t\t\t\t<div class=\"ui-section__title\">\n\t\t\t\t\t\t\t${this.getLabel()} ${lockElement}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${this.#renderHint(this.isChecked())}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${this.renderErrors()}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetHint(isChecked: boolean)\n\t{\n\t\tif (!Type.isStringFilled(this.hintOff))\n\t\t{\n\t\t\treturn Type.isStringFilled(this.hintOn) ? this.hintOn : '';\n\t\t}\n\t\tlet result = isChecked ? this.hintOn : this.hintOff;\n\n\t\treturn Type.isStringFilled(result) ? result : '';\n\t}\n\n\tchangeHint(isChecked: boolean)\n\t{\n\t\tconst hintElement = this.field.querySelector('.ui-section__hint');\n\t\tDom.replace(hintElement, this.#renderHint(isChecked));\n\t}\n\n\t#renderHint(isChecked: boolean)\n\t{\n\t\tlet result = '';\n\t\tlet moreText = this.#getMore();\n\t\tlet hintText = this.getHint(isChecked);\n\n\t\tif (hintText.indexOf('#MORE_DETAILS#') === -1)\n\t\t{\n\t\t\tresult = hintText + ' ' + moreText;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tresult = hintText.replace('#MORE_DETAILS#', moreText);\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t${result}\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","import { Checker } from './checker';\nimport { Tag, Type } from 'main.core';\n\nexport class InlineChecker extends Checker\n{\n\thintTitle: String;\n\t#hintDescElement: HTMLElement;\n\n\tconstructor(params) {\n\t\tsuper(params);\n\t\tthis.hintTitle = Type.isStringFilled(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.#hintDescElement = Tag.render`\n\t\t\t<div class=\"ui-section__description\">\n\t\t\t\t${this.isChecked() ? this.hintOn : this.hintOff}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'inline_checker_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tlet content = Tag.render`\n\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-switcher --field-separator --align-center\">\n\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t<div class=\"ui-section__field-switcher-box\">\n\t\t\t\t<div class=\"ui-section__switcher\"></div>\n\t\t\t\t<div class=\"ui-section__switcher-title\">\n\t\t\t\t\t${this.getLabel()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"ui-section__field-inline-separator\"></div>\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t<div class=\"ui-section__title\">\n\t\t\t\t\t${this.hintTitle}\n\t\t\t\t</div>\n\t\t\t\t${this.#hintDescElement}\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t`;\n\n\t\tthis.switcher.renderTo(content.querySelector('.ui-section__switcher'));\n\n\t\treturn content;\n\t}\n\n\tchangeHint(isChecked: boolean)\n\t{\n\t\tthis.#hintDescElement.innerText = this.getHint(isChecked);\n\t}\n}\n","import { BaseField } from './base-field';\nimport { Dom, Tag, Type } from 'main.core';\n\nexport class ItemPicker extends BaseField\n{\n\t#items: Array = [];\n\t#selectNode: HTMLElement;\n\t#isMulti: boolean;\n\t#current;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.#items = params.items;\n\t\tthis.#isMulti = params.isMulti === true;\n\t\tthis.#current = params.current;\n\t\tif (\n\t\t\tthis.#isMulti\n\t\t&& this.getName().substring(this.getName().length - 2) !== '[]'\n\t\t)\n\t\t{\n\t\t\tthis.setName(this.getName() + '[]');\n\t\t}\n\n\t\tthis.#selectNode = this.#buildSelector();\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'item_picker_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t<div class=\"ui-section__picker-wrapper\" id=\"${this.getId()}\">\n\t\t\t<div class=\"ui-section__field-label\">${this.getLabel()}</div>\n\t\t\t${this.#buildItems()}\n\t\t\t${this.renderErrors()}\n\t\t\t${this.getInputNode()}\n\t\t</div>\n\t\t`\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#selectNode;\n\t}\n\n\tonClickHandler(event): void\n\t{\n\t\tDom.toggleClass(event.target, 'ui-section__selected');\n\t\tif (!Dom.hasClass(event.target, 'ui-section__selected') && this.#isMulti)\n\t\t{\n\t\t\tthis.unSelect(event.target);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.select(event.target);\n\t\t}\n\t}\n\n\tcreateItem(text: string, value: string, isSelected: boolean = false): HTMLElement\n\t{\n\t\treturn Dom.create( 'div',\n\t\t\t{\n\t\t\t\ttext: text,\n\t\t\t\tprops: {\n\t\t\t\t\tclassName: \"ui-section__item \" + (isSelected ? 'ui-section__selected' : ''),\n\t\t\t\t},\n\t\t\t\tdataset: {\n\t\t\t\t\tvalue: value\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.onClickHandler.bind(this)\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\t#buildSelector(): HTMLElement\n\t{\n\t\tlet options = [];\n\t\tfor (let {value, name, selected} of this.#items)\n\t\t{\n\t\t\tlet selectedAttr = '';\n\t\t\tif (selected === true)\n\t\t\t{\n\t\t\t\tselectedAttr = 'selected';\n\t\t\t}\n\t\t\toptions.push(Tag.render`<option ${selectedAttr} value=\"${value}\">${name}</option>`);\n\t\t}\n\n\t\treturn Dom.create('select', {\n\t\t\tattrs: {\n\t\t\t\tmultiple: this.#isMulti ? 'on' : '',\n\t\t\t\tname: this.getName(),\n\t\t\t\tdisabled: !this.isEnable() ? 'disable' : ''\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'none'\n\t\t\t},\n\t\t\tchildren: options,\n\t\t});\n\t}\n\n\t#buildItems(): HTMLElement\n\t{\n\t\tlet collectionNode = Tag.render`<div class=\"ui-section__item-collection\"></div>`;\n\t\tfor (let {value, name, selected} of this.#items)\n\t\t{\n\t\t\tDom.append(this.createItem(name, value, selected), collectionNode);\n\t\t}\n\n\t\treturn collectionNode;\n\t}\n\n\tselect(node: HTMLElement, fireEvent = true)\n\t{\n\t\tif (!this.#isMulti)\n\t\t{\n\t\t\tthis.unSelectAll();\n\t\t}\n\t\tconst value = node.dataset['value'];\n\t\tlet optNode = this.#selectNode.querySelector('option[value=\"'+value+'\"]')\n\t\tif (Type.isDomNode(optNode))\n\t\t{\n\t\t\tDom.addClass(node, 'ui-section__selected');\n\t\t\toptNode.selected = true;\n\t\t\tif (fireEvent)\n\t\t\t{\n\t\t\t\tthis.fireEvent();\n\t\t\t}\n\t\t}\n\t}\n\n\tunSelect(node, fireEvent = true)\n\t{\n\t\tconst value = node.dataset['value'];\n\t\tlet optNode = this.#selectNode.querySelector('option[value=\"'+value+'\"]')\n\t\tif (Type.isDomNode(optNode))\n\t\t{\n\t\t\tDom.removeClass(node, 'ui-section__selected');\n\t\t\toptNode.selected = false;\n\t\t\tif (fireEvent)\n\t\t\t{\n\t\t\t\tthis.fireEvent();\n\t\t\t}\n\t\t}\n\t}\n\n\tunSelectAll(fireEvent = false)\n\t{\n\t\tif (Type.isDomNode(this.field))\n\t\t{\n\t\t\tlet items = this.field.querySelectorAll('.ui-section__item.ui-section__selected')\n\t\t\titems.forEach(item => {\n\t\t\t\tDom.removeClass(item, 'ui-section__selected');\n\t\t\t});\n\t\t}\n\n\t\tlet optsNodes = this.#selectNode.querySelectorAll('option');\n\t\toptsNodes.forEach((node) => {\n\t\t\tif (Type.isDomNode(node))\n\t\t\t{\n\t\t\t\tnode.selected = false;\n\t\t\t}\n\t\t});\n\t\tif (fireEvent)\n\t\t{\n\t\t\tthis.fireEvent()\n\t\t}\n\t}\n\n\tgetNodesByValue(data)\n\t{\n\t\tlet query;\n\t\tif (Type.isArray(data))\n\t\t{\n\t\t\tlet queryList = data.map((value) => {\n\t\t\t\treturn '.ui-section__item[data-value=\"'+value+'\"]';\n\t\t\t});\n\t\t\tquery = queryList.join(', ');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tquery = '.ui-section__item[data-value=\"'+data+'\"]';\n\t\t}\n\n\t\treturn this.field.querySelectorAll(query);\n\t}\n\n\tfireEvent()\n\t{\n\t\tthis.#selectNode.dispatchEvent(new Event('change'));\n\t\tthis.#selectNode.form.dispatchEvent(new Event('change'));\n\t}\n}\n","import {Dom, Loc, Tag, Text, Type} from \"main.core\";\nimport {BaseField} from \"./base-field\";\n\nexport class Selector extends BaseField\n{\n\t#items: Array = [];\n\t#hintTitle: String;\n\t#hints: Object;\n\tdefaultValue: string;\n\t#hintTitleElement: HTMLElement;\n\t#hintDescElement: HTMLElement;\n\t#inputNode: HTMLElement;\n\t#selectorNode: HTMLElement;\n\t#hintSeparatorElement: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tparams.inputName = params.name;\n\t\tsuper(params);\n\t\tthis.#items = params.items;\n\t\tthis.#hintTitle = Type.isString(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.#hints = Type.isObject(params.hints) ? params.hints : {};\n\t\tthis.defaultValue = params.current;\n\t\tthis.#hintTitleElement = Tag.render`<div class=\"ui-section__title\"></div>`;\n\t\tthis.#hintDescElement = Tag.render`<div class=\"ui-section__description\"></div>`;\n\t\tthis.#hintSeparatorElement = Tag.render`<div class=\"ui-section__field-inline-separator\"></div>`;\n\t\tthis.#inputNode = this.#buildSelector();\n\t}\n\n\tgetHint(key: string)\n\t{\n\t\tlet hint = this.#hints[key];\n\t\tif (!Type.isString(hint) || hint === '')\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn hint;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'selector_';\n\t}\n\n\tsetHint(key: string): void\n\t{\n\t\tconst more = (\n\t\t\tType.isNil(this.getHelpdeskCode())\n\t\t\t\t? ''\n\t\t\t\t: this.renderMoreElement(this.getHelpdeskCode()).outerHTML\n\t\t);\n\n\t\tconst hint = this.getHint(key);\n\t\tthis.#hintTitleElement.innerText = !Type.isNil(hint) ? this.#hintTitle : '';\n\t\tthis.#hintDescElement.innerHTML = !Type.isNil(hint) ? hint + ' ' + more : '';\n\n\t\tDom.removeClass(this.field, '--field-separator');\n\t\tDom.remove(this.#hintSeparatorElement);\n\t\tif (!Type.isNil(hint))\n\t\t{\n\t\t\tDom.addClass(this.field, '--field-separator');\n\t\t\tconst fieldContainer = this.field\n\t\t\t\t.querySelector('.ui-section__field-inline-box .ui-section__field')\n\t\t\t;\n\t\t\tDom.insertAfter(this.#hintSeparatorElement, fieldContainer);\n\t\t}\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = this.isEnable() ? null : this.renderLockElement();\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector \">\n\t\t\t\t<div class=\"ui-section__field-container\">\n\t\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t\t<label class=\"ui-section__field-label\" for=\"${this.getName()}\">${this.getLabel()}</label> \n\t\t\t\t\t\t${lockElement}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t\t\t\t${this.getSelector()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t\t\t\t${this.#hintTitleElement}\n\t\t\t\t\t\t\t${this.#hintDescElement}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\trender(): HTMLElement\n\t{\n\t\tconst render = super.render();\n\t\tthis.setHint(this.getInputNode().value);\n\n\t\treturn render;\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.#items;\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn this.getInputNode().value;\n\t}\n\n\tgetSelector(): HTMLElement\n\t{\n\t\tconst disableClass = !this.isEnable() || this.isFieldDisabled() ? 'ui-ctl-disabled' : '';\n\n\t\tthis.#selectorNode ??= Tag.render`\n\t\t\t<div class=\"ui-ctl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown ${disableClass}\">\n\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t${this.getInputNode()}\n\t\t\t</div>\n\t\t`;\n\n\t\treturn this.#selectorNode;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#inputNode;\n\t}\n\n\t#buildSelector(): HTMLElement\n\t{\n\t\tlet options = [];\n\t\tfor (let { value, name, selected, disabled, hidden } of this.#items)\n\t\t{\n\t\t\tlet selectedAttr = '';\n\t\t\tlet disabledAttr = '';\n\t\t\tlet hiddenAttr = '';\n\t\t\tif (selected === true)\n\t\t\t{\n\t\t\t\tselectedAttr = 'selected';\n\t\t\t}\n\n\t\t\tif (disabled === true)\n\t\t\t{\n\t\t\t\tdisabledAttr = 'disabled';\n\t\t\t}\n\n\t\t\tif (hidden === true)\n\t\t\t{\n\t\t\t\thiddenAttr = 'hidden';\n\t\t\t}\n\t\t\toptions.push(Tag.render`<option ${selectedAttr} ${disabledAttr} ${hiddenAttr} value=\"${value}\">${name}</option>`);\n\t\t}\n\n\t\treturn Dom.create('select', {\n\t\t\tattrs: {\n\t\t\t\tname: this.getName(),\n\t\t\t\tclass: 'ui-ctl-element',\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tchange: (event) => {\n\t\t\t\t\tthis.setHint(event.target.value);\n\t\t\t\t},\n\t\t\t\tclick: (event) => {\n\t\t\t\t\tif (!this.isEnable())\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmousedown: (event) => {\n\t\t\t\t\tif (!this.isEnable() || this.isFieldDisabled())\n\t\t\t\t\t{\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\tchildren: options,\n\t\t});\n\t}\n}\n","import { Dom, Event } from 'main.core';\nimport { Menu, MenuManager } from 'main.popup';\nimport { Selector } from './selector';\n\nexport class SelectorMenu extends Selector\n{\n\t#menu: Menu;\n\n\tconstructor(params)\n\t{\n\t\tparams.items = params.items.map((item) => ({\n\t\t\tvalue: item.id,\n\t\t\tname: item.text,\n\t\t\t...item,\n\t\t\tonclick: (event, item) => {\n\t\t\t\tthis.getInputNode().value = item.value;\n\t\t\t\tthis.#menu.close();\n\t\t\t},\n\t\t}));\n\n\t\tsuper(params);\n\n\t\tDom.style(this.getInputNode(), 'pointer-events', 'none');\n\t\tDom.style(this.getSelector(), 'cursor', 'pointer');\n\t\tEvent.bind(this.getSelector(), 'click', this.#showMenu.bind(this));\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'menu_';\n\t}\n\n\t#showMenu(): void\n\t{\n\t\tconst handleScroll = () => {\n\t\t\tconst popup = this.#menu.getPopupWindow();\n\t\t\tpopup.adjustPosition();\n\n\t\t\tconst popupRect = popup.bindElement.getBoundingClientRect();\n\t\t\tif (popupRect.top > window.innerHeight || popupRect.bottom < 0)\n\t\t\t{\n\t\t\t\tthis.#menu.close();\n\t\t\t}\n\t\t};\n\n\t\tthis.#menu = MenuManager.create({\n\t\t\tid: `ui-form-elements-menu${this.getId()}`,\n\t\t\tbindElement: this.getInputNode(),\n\t\t\titems: this.getItems().map((item) => {\n\t\t\t\tconst selected = item.value === this.getValue() ? 'ui-form-elements-menu-item --selected' : '';\n\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\tclassName: item.className ? `${item.className} ${selected}` : `menu-popup-no-icon ${selected}`,\n\t\t\t\t};\n\t\t\t}),\n\t\t\tevents: {\n\t\t\t\tonShow: () => {\n\t\t\t\t\tconst popup = this.#menu.getPopupWindow();\n\t\t\t\t\tconst elementWidth = popup.bindElement.offsetWidth;\n\n\t\t\t\t\tpopup.setOffset({ offsetLeft: 0, offsetTop: 5 });\n\t\t\t\t\tpopup.setWidth(elementWidth);\n\t\t\t\t\tpopup.adjustPosition();\n\n\t\t\t\t\tEvent.bind(window, 'scroll', handleScroll, true);\n\t\t\t\t},\n\t\t\t\tonClose: () => {\n\t\t\t\t\tthis.#menu.destroy();\n\n\t\t\t\t\tEvent.unbind(window, 'scroll', handleScroll, true);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tthis.#menu.show();\n\t}\n}\n","import { BaseField } from './base-field';\nimport { Switcher } from 'ui.switcher';\nimport { Type, Event } from 'main.core';\n\nexport class SingleChecker extends BaseField\n{\n\tswitcher: Switcher;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.switcher = params.switcher;\n\n\t\tEvent.bind(\n\t\t\tthis.switcher.getNode(),\n\t\t\t'click',\n\t\t\t() => {\n\t\t\t\tif (!this.isEnable() && !this.switcher.isChecked())\n\t\t\t\t{\n\t\t\t\t\tthis.switcher.check(true, false);\n\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.switcher.inputNode.form.dispatchEvent(new window.Event('change'));\n\t\t\t\tthis.emit('change', this.switcher.isChecked());\n\t\t\t},\n\t\t);\n\t}\n}\n","import {Event, Tag, Type, Text} from \"main.core\";\nimport {BaseField} from \"./base-field\";\n\nexport class TextInput extends BaseField\n{\n\tdefaultValue: string;\n\thintTitle: string;\n\tplaceholder: string;\n\t#inputNode: HTMLElement;\n\t#maxlength: number;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.defaultValue = Type.isStringFilled(params.value) ? params.value : '';\n\t\tthis.hintTitle = Type.isStringFilled(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.placeholder = Type.isStringFilled(params.placeholder) ? params.placeholder : '';\n\t\tthis.#maxlength = Type.isInteger(params.maxlength) ? params.maxlength : 255;\n\t\tthis.inputDefaultWidth = Type.isBoolean(params.inputDefaultWidth) ? params.inputDefaultWidth : '';\n\t\tthis.inputType = Type.isStringFilled(params.type) ? params.type : 'text';\n\n\t\tif (!this.isEnable())\n\t\t{\n\t\t\tEvent.bind(this.getInputNode(), 'click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t{\n\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.isEnable())\n\t\t{\n\t\t\tthis.getInputNode().addEventListener('input', () => {\n\t\t\t\tthis.getInputNode().form.dispatchEvent(new window.Event('change'));\n\t\t\t});\n\t\t}\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'text_';\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn this.getInputNode().value;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\tthis.#inputNode ??= this.#renderInputNode();\n\n\t\treturn this.#inputNode;\n\t}\n\n\t#renderInputNode(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<input\n\t\t\t\tvalue=\"${Text.encode(this.defaultValue)}\" \n\t\t\t\tname=\"${Text.encode(this.getName())}\" \n\t\t\t\ttype=\"${this.inputType}\" \n\t\t\t\tclass=\"ui-ctl-element ${this.isEnable() ? '' : '--readonly'}\" \n\t\t\t\tplaceholder=\"${Text.encode(this.placeholder)}\"\n\t\t\t\tmaxlength=\"${parseInt(this.#maxlength, 10)}\"\n\t\t\t\t${this.isEnable() ? '' : 'readonly'}\n\t\t\t>\n\t\t`;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = !this.isEnable ? this.renderLockElement() : null;\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector\">\n\t\t\t\t<div class=\"ui-section__field-container\">\n\t\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t\t<label for=\"${this.getName()}\" class=\"ui-section__field-label\">\n\t\t\t\t\t\t\t${this.getLabel()}\n\t\t\t\t\t\t</label> \n\t\t\t\t\t\t${lockElement}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-textbox ui-ctl-block ${this.inputDefaultWidth ? '' : 'ui-ctl-w100'}\">\n\t\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.renderErrors()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t\t${this.hintTitle}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","import { Tag, Text, Type } from 'main.core';\nimport { BaseField } from './base-field';\n\ntype TextareaParams = {\n\tvalue: string,\n\thintTitle: string,\n\tplaceholder: string,\n\tinputDefaultWidth: boolean,\n\tresizeOnlyY: boolean,\n\tresizeOnlyX: boolean,\n}\n\nexport class TextArea extends BaseField\n{\n\t#defaultValue: string;\n\t#hintTitle: string;\n\t#placeholder: string;\n\t#inputDefaultWidth: boolean;\n\t#resizeOnlyY: boolean;\n\t#resizeOnlyX: boolean;\n\n\t#node: HTMLElement;\n\n\tconstructor(params: TextareaParams)\n\t{\n\t\tsuper(params);\n\n\t\tthis.setEventNamespace('UI.Form.Textarea');\n\n\t\tthis.#defaultValue = Type.isStringFilled(params.value) ? params.value : '';\n\t\tthis.#hintTitle = Type.isStringFilled(params.hintTitle) ? params.hintTitle : '';\n\t\tthis.#placeholder = Type.isStringFilled(params.placeholder) ? params.placeholder : '';\n\t\tthis.#inputDefaultWidth = Type.isBoolean(params.inputDefaultWidth) ? params.inputDefaultWidth : false;\n\t\tthis.#resizeOnlyY = Type.isBoolean(params.resizeOnlyY) ? params.resizeOnlyY : false;\n\t\tthis.#resizeOnlyX = Type.isBoolean(params.resizeOnlyX) ? params.resizeOnlyX : false;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'textarea_';\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn this.getNode().value;\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = this.isEnable ? null : this.renderLockElement();\n\n\t\tlet resizeUiClass = this.#resizeOnlyY ? 'ui-ctl-resize-y' : '';\n\t\tif (resizeUiClass === '')\n\t\t{\n\t\t\tresizeUiClass = this.#resizeOnlyX ? 'ui-ctl-resize-x' : '';\n\t\t}\n\t\tconst defaultWidthUIClass = this.#inputDefaultWidth ? '' : 'ui-ctl-w100';\n\n\t\treturn Tag.render`\n\t\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector\">\n\t\t\t\t<div class=\"ui-section__field-container\">\n\t\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t\t<label for=\"${this.getName()}\" class=\"ui-section__field-label\">\n\t\t\t\t\t\t\t${this.getLabel()}\n\t\t\t\t\t\t</label> \n\t\t\t\t\t\t${lockElement}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-textarea ui-form-textarea ${resizeUiClass} ${defaultWidthUIClass}\">\n\t\t\t\t\t\t${this.getNode()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.renderErrors()}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t\t${this.#hintTitle}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tgetNode(): HTMLTextAreaElement\n\t{\n\t\tthis.#node ??= this.#renderNode();\n\n\t\treturn this.#node;\n\t}\n\n\t#renderNode(): HTMLTextAreaElement\n\t{\n\t\tconst node = Tag.render`\n\t\t\t<textarea\n\t\t\t\tclass=\"ui-ctl-element\"\n\t\t\t\tname=\"${Text.encode(this.getName())}\"\n\t\t\t\tplaceholder=\"${Text.encode(this.#placeholder)}\"\n\t\t\t\t${this.isEnable() ? '' : 'readonly'}\n\t\t\t></textarea>\n\t\t`;\n\n\t\tnode.value = this.#defaultValue;\n\n\t\treturn node;\n\t}\n}\n","import { Text, Tag, Type, Dom } from 'main.core';\nimport { TextInput } from './text-input';\n\nexport class TextInputInline extends TextInput\n{\n\t#hintDesc: string;\n\t#hintBlock: HTMLElement;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.valueColor = Type.isBoolean(params.valueColor) === true ? '--color-blue' : '';\n\t\tthis.#hintDesc = Type.isStringFilled(params.hintDesc) ? params.hintDesc : '';\n\t\tthis.#hintBlock = Tag.render`<div></div>`;\n\t\tthis.getInputNode().addEventListener('keyup', (event) => {\n\t\t\tDom.clean(this.#hintBlock);\n\t\t\tDom.append(this.renderHint(), this.#hintBlock);\n\t\t});\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst lockElement = this.isEnable ? null : this.renderLockElement();\n\n\t\tlet content = Tag.render`\n\t\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-selector --field-separator\">\n\t\t\t\t<div class=\"ui-section__field-container\">\t\t\t\n\t\t\t\t\t<div class=\"ui-section__field-label_box\">\n\t\t\t\t\t\t<label for=\"${Text.encode(this.getName())}\" class=\"ui-section__field-label\">${this.getLabel()}</label> \n\t\t\t\t\t\t${lockElement}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-section__field-inline-box\">\n\t\t\t\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t\t\t\t<div class=\"ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100\">\n\t\t\t\t\t\t\t\t${this.getInputNode()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ui-section__field-inline-separator\"></div>\n\t\t\t\t\t\t${this.#hintBlock}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.renderErrors()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tDom.append(this.renderHint(), this.#hintBlock);\n\n\t\treturn content;\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'text_inline_';\n\t}\n\n\trenderHint(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-section__hint\">\n\t\t\t\t<div class=\"ui-section__title\">${this.hintTitle}</div>\n\t\t\t\t<div class=\"ui-section__value ${this.valueColor}\">${Text.encode(this.getInputNode().value)}</div>\n\t\t\t\t<div class=\"ui-section__description\">${this.#hintDesc}</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}\n","import { Dom, Tag, Type, Text } from 'main.core';\nimport { TagSelector } from 'ui.entity-selector';\nimport { BaseField } from './base-field';\n\nexport class UserSelector extends BaseField\n{\n\t#entitySelector: TagSelector;\n\t#defaultValues: Array = [];\n\t#inputContainer: HTMLElement;\n\t#encode: ?function = null;\n\t#decode: ?function = null;\n\t#defaultTags: Array = [];\n\t#className: string = '';\n\t#enableUsers: boolean;\n\t#enableAll: boolean;\n\t#enableDepartments: boolean;\n\n\tconstructor(params)\n\t{\n\t\tsuper(params);\n\t\tthis.#encode = Type.isFunction(params.encodeValue) ? params.encodeValue : null;\n\t\tthis.#decode = Type.isFunction(params.decodeValue) ? params.decodeValue : null;\n\t\tthis.#inputContainer = Tag.render`<div class=\"ui-section__input-container\"></div>`;\n\t\tthis.#className = params.className;\n\t\tthis.#enableUsers = params.enableUsers !== false;\n\t\tthis.#enableAll = this.#enableUsers && params.enableAll !== false;\n\t\tthis.#enableDepartments = params.enableDepartments === true;\n\n\t\tthis.#initInput(params.values);\n\n\t\tconst entities = [];\n\n\t\tif (this.#enableUsers)\n\t\t{\n\t\t\tentities.push(\n\t\t\t\t{\n\t\t\t\t\tid: 'user',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tintranetUsersOnly: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tif (this.#enableUsers || this.#enableDepartments)\n\t\t{\n\t\t\tentities.push(\n\t\t\t\t{\n\t\t\t\t\tid: 'department',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tselectMode: this.#getDepartamentsSelectMode(),\n\t\t\t\t\t\tallowFlatDepartments: this.#enableDepartments,\n\t\t\t\t\t\tallowSelectRootDepartment: this.#enableDepartments,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tif (this.#enableAll)\n\t\t{\n\t\t\tentities.push(\n\t\t\t\t{\n\t\t\t\t\tid: 'meta-user',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\t'all-users': this.#enableAll, // All users\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\n\t\tif (params.entities)\n\t\t{\n\t\t\tentities.push(...params.entities);\n\t\t}\n\n\t\tconst multiple = params.multiple !== false;\n\n\t\tthis.#entitySelector = new TagSelector({\n\t\t\tid: this.getId(),\n\t\t\ttextBoxAutoHide: false,\n\t\t\ttextBoxWidth: 350,\n\t\t\tmaxHeight: 99,\n\t\t\tdialogOptions: {\n\t\t\t\tid: this.getId(),\n\t\t\t\tpreselectedItems: this.#defaultValues,\n\t\t\t\tmultiple: multiple,\n\t\t\t\thideOnDeselect: !multiple,\n\t\t\t\tevents: {\n\t\t\t\t\t'Item:onSelect': this.onChangeSelector.bind(this),\n\t\t\t\t\t'Item:onDeselect': this.onChangeSelector.bind(this),\n\t\t\t\t},\n\t\t\t\tentities: entities,\n\t\t\t},\n\t\t\tmultiple: multiple,\n\t\t});\n\t\tthis.#defaultTags = this.#entitySelector.getTags();\n\n\t\tif (!this.isEnable())\n\t\t{\n\t\t\tthis.#entitySelector.hideAddButton();\n\t\t\tthis.#entitySelector.getTextBox().readOnly = true;\n\t\t\tDom.adjust(this.#entitySelector.getContainer(), {\n\t\t\t\tevents: {\n\t\t\t\t\tclick: (event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tif (!Type.isNil(this.getHelpMessage()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.getHelpMessage().show();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\t#getDepartamentsSelectMode(): string\n\t{\n\t\tif (this.#enableUsers && this.#enableDepartments)\n\t\t{\n\t\t\treturn 'usersAndDepartments';\n\t\t}\n\n\t\tif (this.#enableUsers && !this.#enableDepartments)\n\t\t{\n\t\t\treturn 'usersOnly';\n\t\t}\n\n\t\treturn 'departmentsOnly';\n\t}\n\n\tgetSelector(): TagSelector\n\t{\n\t\treturn this.#entitySelector;\n\t}\n\n\tgetInputNode(): HTMLElement\n\t{\n\t\treturn this.#entitySelector.getContainer();\n\t}\n\n\tgetErrorBox(): HTMLElement\n\t{\n\t\treturn this.#entitySelector.getOuterContainer();\n\t}\n\n\tprefixId(): string\n\t{\n\t\treturn 'user_selector_';\n\t}\n\n\trenderContentField(): HTMLElement\n\t{\n\t\tconst content = Tag.render`\n\t\t\t<div id=\"${this.getId()}\" class=\"ui-section__field-user_selector ${this.#className}\">\n\t\t\t\t<div class=\"ui-section__field\">\n\t\t\t\t\t<div class=\"ui-section__field-label\">\n\t\t\t\t\t\t${this.getLabel()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t${this.renderErrors()}\n\t\t\t\t<div class=\"ui-section__input-box\">\n\t\t\t\t\t${this.#inputContainer}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\tthis.#entitySelector.renderTo(content.querySelector('.ui-section__field'));\n\n\t\treturn content;\n\t}\n\n\tonChangeSelector(event): void\n\t{\n\t\tlet selectedItems = event.target.getSelectedItems();\n\t\tDom.clean(this.#inputContainer);\n\t\tif (Type.isArray(selectedItems))\n\t\t{\n\t\t\tselectedItems.forEach(item =>\n\t\t\t{\n\t\t\t\tlet type = '';\n\t\t\t\tswitch (item.entityId)\n\t\t\t\t{\n\t\t\t\t\tcase 'meta-user':\n\t\t\t\t\t\ttype = 'AU';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'department':\n\t\t\t\t\t\tif (item.id.toString().split(':')[1] === 'F')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype = 'D';\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype = 'DR';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'user':\n\t\t\t\t\t\ttype = 'U';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (type)\n\t\t\t\t{\n\t\t\t\t\tconst value = Type.isFunction(this.#encode) ? this.#encode({id: item.id, type: type}) : item.id;\n\t\t\t\t\tif (value)\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.append(this.#createInputElement(value), this.#inputContainer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.#triggerEventChange();\n\t}\n\n\t#createInputElement(value: string): HTMLElement\n\t{\n\t\treturn Dom.create('input', {\n\t\t\tattrs: {\n\t\t\t\tname: this.getName(),\n\t\t\t\tvalue: Text.encode(value),\n\t\t\t\ttype: 'text',\n\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tdisplay: 'none',\n\t\t\t},\n\t\t});\n\t}\n\n\tsetValues(values): void\n\t{\n\t\tif (Type.isArray(values))\n\t\t{\n\t\t\tfor (let userId of values)\n\t\t\t{\n\t\t\t\tconst value = Type.isFunction(this.#decode) ? this.#decode(userId) : userId;\n\n\t\t\t\tlet item = [];\n\t\t\t\tif (Type.isObject(value) && Type.isString(value.type) && Type.isString(value.id))\n\t\t\t\t{\n\t\t\t\t\tswitch (value.type)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'AU':\n\t\t\t\t\t\t\titem = ['meta-user', 'all-users'];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'DR':\n\t\t\t\t\t\t\tif (!this.#enableDepartments)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem = ['department', value.id];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D':\n\t\t\t\t\t\t\tif (!this.#enableDepartments)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem = ['department', value.id.toString() + ':F'];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'U':\n\t\t\t\t\t\t\titem = ['user', value.id];\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Type.isArrayFilled(value))\n\t\t\t\t{\n\t\t\t\t\titem = value;\n\t\t\t\t}\n\n\t\t\t\tthis.#defaultValues.push(item);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#defaultValues = [];\n\t\t}\n\t}\n\n\t#initInput(values)\n\t{\n\t\tif (Type.isArray(values))\n\t\t{\n\t\t\tfor (let value of values)\n\t\t\t{\n\t\t\t\tlet input = this.#createInputElement(value);\n\t\t\t\tDom.append(input, this.#inputContainer);\n\t\t\t}\n\t\t\tthis.setValues(values);\n\t\t}\n\t}\n\n\t#triggerEventChange()\n\t{\n\t\tlet input = this.#inputContainer.firstChild;\n\t\tlet form;\n\t\tif (Type.isNil(input))\n\t\t{\n\t\t\tinput = this.#createInputElement('');\n\t\t\tDom.append(input, this.#inputContainer);\n\t\t\tform = input.form;\n\t\t\tDom.remove(input);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tform = input.form;\n\t\t}\n\t\tform.dispatchEvent(new Event('change'));\n\t}\n}\n"],"names":["BaseField","params","setEventNamespace","Type","isStringFilled","label","id","prefixId","Text","getRandom","inputName","isEnable","bannerCode","helpDesk","helpMessageProvider","isBoolean","isFieldDisabled","HelpMessage","isFunction","getId","getInputNode","Dom","clean","removeClass","getErrorBox","errorMessages","cleanError","addClass","message","error","Tag","render","append","renderErrors","name","field","renderContentField","getBannerCode","BX","UI","InfoHelper","show","getHelpdeskCode","top","Helper","lockElement","addEventListener","showBanner","helpdeskCode","getMoreElement","Loc","getMessage","EventEmitter","Checker","title","_classPrivateFieldInitSpec","hintOn","hintOff","hideSeparator","alignCenter","noMarginBottom","size","switcher","Switcher","getName","checked","attributeName","handlers","color","colors","disable","defaultValue","subscribe","check","isNil","getHelpMessage","inputNode","form","dispatchEvent","Event","changeHint","isChecked","emit","value","node","renderMoreElement","renderLockElement","getLabel","result","hintElement","querySelector","replace","moreText","hintText","getHint","indexOf","InlineChecker","hintTitle","content","renderTo","innerText","ItemPicker","_classPrivateMethodInitSpec","items","isMulti","current","substring","length","setName","event","toggleClass","target","hasClass","unSelect","select","text","isSelected","create","props","className","dataset","events","click","onClickHandler","bind","fireEvent","unSelectAll","optNode","isDomNode","selected","querySelectorAll","forEach","item","optsNodes","data","query","isArray","queryList","map","join","options","selectedAttr","push","attrs","multiple","disabled","style","display","children","collectionNode","createItem","Selector","isString","isObject","hints","key","hint","more","outerHTML","innerHTML","remove","fieldContainer","insertAfter","getSelector","setHint","disableClass","hidden","disabledAttr","hiddenAttr","change","preventDefault","mousedown","SelectorMenu","onclick","close","_classPrivateMethodGet","handleScroll","popup","getPopupWindow","adjustPosition","popupRect","bindElement","getBoundingClientRect","window","innerHeight","bottom","MenuManager","getItems","getValue","onShow","elementWidth","offsetWidth","setOffset","offsetLeft","offsetTop","setWidth","onClose","destroy","unbind","SingleChecker","getNode","TextInput","placeholder","isInteger","maxlength","inputDefaultWidth","inputType","type","encode","parseInt","TextArea","resizeOnlyY","resizeOnlyX","resizeUiClass","defaultWidthUIClass","TextInputInline","valueColor","hintDesc","renderHint","UserSelector","encodeValue","decodeValue","enableUsers","enableAll","enableDepartments","values","entities","intranetUsersOnly","selectMode","allowFlatDepartments","allowSelectRootDepartment","TagSelector","textBoxAutoHide","textBoxWidth","maxHeight","dialogOptions","preselectedItems","hideOnDeselect","onChangeSelector","getTags","hideAddButton","getTextBox","readOnly","adjust","getContainer","getOuterContainer","selectedItems","getSelectedItems","entityId","toString","split","userId","isArrayFilled","input","setValues","firstChild"],"mappings":"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"}