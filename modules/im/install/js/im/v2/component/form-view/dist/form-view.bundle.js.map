{"version":3,"file":"form-view.bundle.js","sources":["../src/components/checkbox.js","../src/components/select.js","../src/form-view.js"],"sourcesContent":["// @vue/component\nexport const Checkbox = {\n\tname: 'Checkbox',\n\temits: ['changeData'],\n\tprops: {\n\t\tfieldValue: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tfieldMetadata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\ttemplate: `\n\t\t<input\n\t\t\ttype=\"checkbox\"\n\t\t\t:checked=fieldValue\n\t\t\t:id=\"fieldMetadata.id\"\n\t\t\tclass=\"bx-im-form-view__field_checkbox\"\n\t\t\t@change=\"(event) => {\n\t\t\t\tthis.$emit('changeData', event.target.checked);\n\t\t\t}\"\n\t\t/>\n\t\t<label\n\t\t\tclass=\"bx-im-form-view__field_label\"\n\t\t\t:for=\"fieldMetadata.id\"\n\t\t>\n\t\t\t{{fieldMetadata.label}}\n\t\t</label>\n\t`\n};","import {Dropdown} from 'im.v2.component.elements';\n\n// @vue/component\nexport const Select = {\n\tname: 'Select',\n\tcomponents: {Dropdown},\n\temits: ['changeData'],\n\tprops: {\n\t\tfieldValue: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tfieldMetadata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\ttemplate: `\n\t\t<label class=\"bx-im-form-view__field_label\">\n\t\t\t{{fieldMetadata.label}}\n\t\t</label>\n\t\t<Dropdown\n\t\t\tclass=\"bx-im-form-view__field_select\"\n\t\t\t:id=\"fieldMetadata.id\"\n\t\t\t:items=\"fieldMetadata.options\"\n\t\t\t@itemChange=\"(event) => {\n\t\t\t\tthis.$emit('changeData', event);\n\t\t\t}\"\n\t\t/>\n\t`\n};","import {Checkbox} from './components/checkbox';\nimport {Select} from './components/select';\n\nimport './css/form-view.css';\n\nexport type Formatters = {\n\tboolean: Checkbox;\n\tselect: Select;\n};\n\n// @vue/component\nexport const FormView = {\n\tname: 'FormView',\n\tcomponents: {Checkbox, Select},\n\temits: ['changeData'],\n\tprops: {\n\t\tsections: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t},\n\t\tformMetadata: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tformData: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\torder: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\tcomputed:\n\t{\n\t\tformatters(): Formatters\n\t\t{\n\t\t\treturn {\n\t\t\t\tboolean: Checkbox,\n\t\t\t\tselect: Select\n\t\t\t};\n\t\t},\n\t\tpropsInSection(): {[key: string]: Array<string>}\n\t\t{\n\t\t\tconst sectionIds = Object.keys(this.sections);\n\t\t\tconst formMetadataIds = Object.keys(this.formMetadata);\n\n\t\t\treturn sectionIds.reduce((acc, sectionId) => {\n\t\t\t\tconst props = formMetadataIds.filter((fieldMetadata) => {\n\t\t\t\t\treturn this.formMetadata[fieldMetadata].section === sectionId;\n\t\t\t\t});\n\n\t\t\t\treturn {...acc, [sectionId]: props};\n\t\t\t}, {});\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tchangeData(propName, newValue)\n\t\t{\n\t\t\tconst oldValue = this.formData[propName];\n\t\t\tconst detail = {\n\t\t\t\tpropName,\n\t\t\t\toldValue,\n\t\t\t\tnewValue\n\t\t\t};\n\t\t\tthis.$emit('changeData', detail);\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-form-view__scope\">\n\t\t\t<template v-for=\"orderItem in order\">\n\t\t\t\t<template v-if=\"sections[orderItem]\">\n\t\t\t\t\t<div class=\"bx-im-form-view__section\" :key=\"orderItem\">\n\t\t\t\t\t\t<p class=\"bx-im-form-view__section_title\">\n\t\t\t\t\t\t\t{{sections[orderItem]}}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-for=\"propName in propsInSection[orderItem]\"\n\t\t\t\t\t\t\tclass=\"bx-im-form-view__field\"\n\t\t\t\t\t\t\t:key=\"orderItem + '-' + propName\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Component\n\t\t\t\t\t\t\t\t:is=\"formatters[formMetadata[propName].type]\"\n\t\t\t\t\t\t\t\t:fieldMetadata=\"formMetadata[propName]\"\n\t\t\t\t\t\t\t\t:fieldValue=\"formData[propName]\"\n\t\t\t\t\t\t\t\t@changeData=\"(event) => changeData(propName, event)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<div v-else class=\"bx-im-form-view__field\" :key=\"orderItem\">\n\t\t\t\t\t<Component\n\t\t\t\t\t\t:is=\"formatters[formMetadata[orderItem].type]\"\n\t\t\t\t\t\t:fieldMetadata=\"formMetadata[orderItem]\"\n\t\t\t\t\t\t:fieldValue=\"formData[orderItem]\"\n\t\t\t\t\t\t@changeData=\"(event) => changeData(orderItem, event)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n};"],"names":["Checkbox","name","emits","props","fieldValue","type","Boolean","required","fieldMetadata","Object","template","Select","components","Dropdown","String","FormView","sections","default","formMetadata","formData","order","Array","computed","formatters","boolean","select","propsInSection","sectionIds","keys","formMetadataIds","reduce","acc","sectionId","filter","section","methods","changeData","propName","newValue","oldValue","detail","$emit"],"mappings":";;;;;;CAAA;AACA,CAAO,MAAMA,QAAQ,GAAG;GACvBC,IAAI,EAAE,UAAU;GAChBC,KAAK,EAAE,CAAC,YAAY,CAAC;GACrBC,KAAK,EAAE;KACNC,UAAU,EAAE;OACXC,IAAI,EAAEC,OAAO;OACbC,QAAQ,EAAE;MACV;KACDC,aAAa,EAAE;OACdH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,QAAQ,EAAG;;;;;;;;;;;;;;;;;CAiBZ,CAAC;;CC7BD;AACA,CAAO,MAAMC,MAAM,GAAG;GACrBV,IAAI,EAAE,QAAQ;GACdW,UAAU,EAAE;eAACC;IAAS;GACtBX,KAAK,EAAE,CAAC,YAAY,CAAC;GACrBC,KAAK,EAAE;KACNC,UAAU,EAAE;OACXC,IAAI,EAAES,MAAM;OACZP,QAAQ,EAAE;MACV;KACDC,aAAa,EAAE;OACdH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,QAAQ,EAAG;;;;;;;;;;;;;CAaZ,CAAC;;CCpBD;AACA,OAAaK,QAAQ,GAAG;GACvBd,IAAI,EAAE,UAAU;GAChBW,UAAU,EAAE;KAACZ,QAAQ;KAAEW;IAAO;GAC9BT,KAAK,EAAE,CAAC,YAAY,CAAC;GACrBC,KAAK,EAAE;KACNa,QAAQ,EAAE;OACTX,IAAI,EAAEI,MAAM;OACZQ,OAAO,EAAE;MACT;KACDC,YAAY,EAAE;OACbb,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;MACV;KACDY,QAAQ,EAAE;OACTd,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;MACV;KACDa,KAAK,EAAE;OACNf,IAAI,EAAEgB,KAAK;OACXJ,OAAO,EAAE;;IAEV;GACDK,QAAQ,EACR;KACCC,UAAU,GACV;OACC,OAAO;SACNC,OAAO,EAAExB,QAAQ;SACjByB,MAAM,EAAEd;QACR;MACD;KACDe,cAAc,GACd;OACC,MAAMC,UAAU,GAAGlB,MAAM,CAACmB,IAAI,CAAC,IAAI,CAACZ,QAAQ,CAAC;OAC7C,MAAMa,eAAe,GAAGpB,MAAM,CAACmB,IAAI,CAAC,IAAI,CAACV,YAAY,CAAC;OAEtD,OAAOS,UAAU,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,SAAS,KAAK;SAC5C,MAAM7B,KAAK,GAAG0B,eAAe,CAACI,MAAM,CAAEzB,aAAa,IAAK;WACvD,OAAO,IAAI,CAACU,YAAY,CAACV,aAAa,CAAC,CAAC0B,OAAO,KAAKF,SAAS;UAC7D,CAAC;SAEF,OAAO;WAAC,GAAGD,GAAG;WAAE,CAACC,SAAS,GAAG7B;UAAM;QACnC,EAAE,EAAE,CAAC;;IAEP;GACDgC,OAAO,EACP;KACCC,UAAU,CAACC,QAAQ,EAAEC,QAAQ,EAC7B;OACC,MAAMC,QAAQ,GAAG,IAAI,CAACpB,QAAQ,CAACkB,QAAQ,CAAC;OACxC,MAAMG,MAAM,GAAG;SACdH,QAAQ;SACRE,QAAQ;SACRD;QACA;OACD,IAAI,CAACG,KAAK,CAAC,YAAY,EAAED,MAAM,CAAC;;IAEjC;GACD9B,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAiCZ,CAAC;;;;;;;;"}