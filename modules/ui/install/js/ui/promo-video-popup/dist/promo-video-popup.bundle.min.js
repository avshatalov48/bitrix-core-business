this.BX=this.BX||{};(function(e,s,o,t,i,l){"use strict";let r=e=>e,a;const n=Object.freeze({TOP:"top",LEFT:"left",BOTTOM:"bottom",RIGHT:"right"});const p=Object.freeze({ACCEPT:"accept",HIDE:"hide"});const c=Object.freeze({LEFT:"left",RIGHT:"right"});var d=babelHelpers.classPrivateFieldLooseKey("videoSrc");var b=babelHelpers.classPrivateFieldLooseKey("title");var v=babelHelpers.classPrivateFieldLooseKey("text");var u=babelHelpers.classPrivateFieldLooseKey("icon");var P=babelHelpers.classPrivateFieldLooseKey("colors");var h=babelHelpers.classPrivateFieldLooseKey("targetOptions");var f=babelHelpers.classPrivateFieldLooseKey("angleOptions");var H=babelHelpers.classPrivateFieldLooseKey("offset");var y=babelHelpers.classPrivateFieldLooseKey("videoContainerMinHeight");var F=babelHelpers.classPrivateFieldLooseKey("buttonOptions");var L=babelHelpers.classPrivateFieldLooseKey("useOverlay");var B=babelHelpers.classPrivateFieldLooseKey("popup");var m=babelHelpers.classPrivateFieldLooseKey("iniPopup");var O=babelHelpers.classPrivateFieldLooseKey("getPopupClassname");var g=babelHelpers.classPrivateFieldLooseKey("getAnimationCloseClassName");var w=babelHelpers.classPrivateFieldLooseKey("renderPopupContent");var j=babelHelpers.classPrivateFieldLooseKey("renderAcceptButton");var T=babelHelpers.classPrivateFieldLooseKey("renderIcon");var _=babelHelpers.classPrivateFieldLooseKey("getPopupContentVariablesStyles");var I=babelHelpers.classPrivateFieldLooseKey("getOptionsTitleColor");var E=babelHelpers.classPrivateFieldLooseKey("getOptionsIconColor");var C=babelHelpers.classPrivateFieldLooseKey("getOptionsButtonColor");var K=babelHelpers.classPrivateFieldLooseKey("validateOptions");var V=babelHelpers.classPrivateFieldLooseKey("isIconExist");var S=babelHelpers.classPrivateFieldLooseKey("getButtonOptions");var U=babelHelpers.classPrivateFieldLooseKey("getDefaultButtonOptions");var x=babelHelpers.classPrivateFieldLooseKey("getPopupOverlay");var $=babelHelpers.classPrivateFieldLooseKey("getPopupFooterElementClassname");class z extends o.EventEmitter{constructor(e){var s;super(e);Object.defineProperty(this,$,{value:se});Object.defineProperty(this,x,{value:ee});Object.defineProperty(this,U,{value:Z});Object.defineProperty(this,S,{value:Q});Object.defineProperty(this,V,{value:J});Object.defineProperty(this,K,{value:Y});Object.defineProperty(this,C,{value:W});Object.defineProperty(this,E,{value:q});Object.defineProperty(this,I,{value:D});Object.defineProperty(this,_,{value:G});Object.defineProperty(this,T,{value:N});Object.defineProperty(this,j,{value:k});Object.defineProperty(this,w,{value:X});Object.defineProperty(this,g,{value:A});Object.defineProperty(this,O,{value:R});Object.defineProperty(this,m,{value:M});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,y,{writable:true,value:255});Object.defineProperty(this,F,{writable:true,value:null});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});this.setEventNamespace("UI.PromoVideoPopup");babelHelpers.classPrivateFieldLooseBase(this,K)[K](e);babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e.videoSrc;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e.title;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e.text;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=babelHelpers.classPrivateFieldLooseBase(this,V)[V](e.icon)?e.icon:i.Main.B_24;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e.colors;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e.targetOptions;babelHelpers.classPrivateFieldLooseBase(this,f)[f]=e.angleOptions||false;babelHelpers.classPrivateFieldLooseBase(this,H)[H]=e.offset;babelHelpers.classPrivateFieldLooseBase(this,y)[y]=e.videoContainerMinHeight;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=(s=e.button)!=null?s:null;babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e.useOverlay===true}static getWidth(){return 498}show(){if(!babelHelpers.classPrivateFieldLooseBase(this,B)[B]){babelHelpers.classPrivateFieldLooseBase(this,m)[m]()}if(babelHelpers.classPrivateFieldLooseBase(this,B)[B].isShown()){return}babelHelpers.classPrivateFieldLooseBase(this,B)[B].show()}hide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,B)[B])==null?void 0:e.close()}isShown(){var e;return Boolean((e=babelHelpers.classPrivateFieldLooseBase(this,B)[B])==null?void 0:e.isShown())}adjustPosition(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,B)[B])==null?void 0:e.adjustPosition({forceBindPosition:true})}}function M(){var e,s;const o=getComputedStyle(document.body);const i=o.getPropertyValue("--ui-color-background-primary");const l=o.getPropertyValue("--ui-color-background-primary-rgb");babelHelpers.classPrivateFieldLooseBase(this,B)[B]=new t.Popup({bindElement:babelHelpers.classPrivateFieldLooseBase(this,h)[h],cacheable:false,width:z.getWidth(),borderRadius:"16px",angle:babelHelpers.classPrivateFieldLooseBase(this,f)[f],content:babelHelpers.classPrivateFieldLooseBase(this,w)[w](),closeByEsc:true,autoHide:true,closeIcon:true,background:`rgba(${l}, 0.5)`,contentBackground:i,contentPadding:12,contentBorderRadius:"8px",overlay:babelHelpers.classPrivateFieldLooseBase(this,x)[x](),className:babelHelpers.classPrivateFieldLooseBase(this,O)[O](),events:{onPopupClose:()=>{setTimeout((()=>{this.emit(p.HIDE);babelHelpers.classPrivateFieldLooseBase(this,B)[B].destroy();babelHelpers.classPrivateFieldLooseBase(this,B)[B]=null}),300)}},animation:{showClassName:"--show",closeClassName:babelHelpers.classPrivateFieldLooseBase(this,g)[g](),closeAnimationType:"animation"}});babelHelpers.classPrivateFieldLooseBase(this,B)[B].setOffset({offsetTop:(e=babelHelpers.classPrivateFieldLooseBase(this,H)[H])==null?void 0:e.top,offsetLeft:(s=babelHelpers.classPrivateFieldLooseBase(this,H)[H])==null?void 0:s.left})}function R(){var e,s;let o=["ui__promo-video-popup"];if(((e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])==null?void 0:e.position)===n.RIGHT){o=[...o,"--from-right"]}if(((s=babelHelpers.classPrivateFieldLooseBase(this,f)[f])==null?void 0:s.position)===n.TOP){o=[...o,"--from-top"]}return o.join(" ")}function A(){var e;switch((e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])==null?void 0:e.position){case n.RIGHT:{return"--close-left"}case n.TOP:{return"--close-bottom"}default:{return"--close"}}}function X(){return s.Tag.render(a||(a=r`
			<div
				class="ui__promo-video-popup-content"
				style="${0}"
			>
				<div class="ui__promo-video-popup-content_header">
					<div class="ui__promo-video-popup-content_header-icon">
						${0}
					</div>
					<div class="ui__promo-video-popup-content_header-title">
						${0}
					</div>
				</div>
				<div class="ui__promo-video-popup-content_promo-text">
					${0}
				</div>
				<div
					class="ui__promo-video-popup-content_promo-video-wrapper"
					style="min-height: ${0}"
				>
					<video
						src="${0}"
						autoplay
						preload
						loop
						class="ui__promo-video-popup-content_promo-video"
					></video>
				</div>
				<div class="${0}">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,_)[_](),babelHelpers.classPrivateFieldLooseBase(this,T)[T](),babelHelpers.classPrivateFieldLooseBase(this,b)[b],babelHelpers.classPrivateFieldLooseBase(this,v)[v],`${babelHelpers.classPrivateFieldLooseBase(this,y)[y]}px`,babelHelpers.classPrivateFieldLooseBase(this,d)[d],babelHelpers.classPrivateFieldLooseBase(this,$)[$](),babelHelpers.classPrivateFieldLooseBase(this,j)[j]())}function k(){const e=babelHelpers.classPrivateFieldLooseBase(this,S)[S]();const s=new l.Button({color:e.color,text:e.text,size:e.size,round:true,onclick:()=>{this.emit(p.ACCEPT)}});return s.render()}function N(){const e=getComputedStyle(document.body).getPropertyValue("--ui-color-on-primary");const s=new i.Icon({color:e,size:18,icon:babelHelpers.classPrivateFieldLooseBase(this,u)[u]});return s.render()}function G(){const e={};if(babelHelpers.classPrivateFieldLooseBase(this,I)[I]()){e["--ui__promo-video-popup_title-color"]=babelHelpers.classPrivateFieldLooseBase(this,I)[I]()}if(babelHelpers.classPrivateFieldLooseBase(this,E)[E]()){e["--ui__promo-video-popup_icon-color"]=babelHelpers.classPrivateFieldLooseBase(this,E)[E]()}return Object.entries(e).map((([e,s])=>`${e}: ${s}`)).join(";")}function D(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,P)[P])==null?void 0:e.title}function q(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,P)[P])==null?void 0:e.iconBackground}function W(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,P)[P])==null?void 0:e.button}function Y(e){var o,t,i;const r=e==null?void 0:e.title;const a=e==null?void 0:e.text;const n=e==null?void 0:e.videoSrc;const p=e==null?void 0:(o=e.colors)==null?void 0:o.iconBackground;const c=e==null?void 0:(t=e.colors)==null?void 0:t.title;const d=e==null?void 0:(i=e.colors)==null?void 0:i.button;const b=e==null?void 0:e.targetOptions;const v=e==null?void 0:e.offset;const u=e==null?void 0:e.videoContainerMinHeight;if(!e){throw new TypeError("UI.PromoVideoPopup: options are required for constructor")}if(!b){throw new Error("UI.PromoVideoPopup: targetOptions is required option")}if(r&&s.Type.isString(r)===false){throw new TypeError("UI.PromoVideoPopup: title option must be string")}if(p&&s.Type.isStringFilled(p)===false){throw new TypeError("UI.PromoVideoPopup: colors.icon option must be string")}if(c&&s.Type.isStringFilled(c)===false){throw new TypeError("UI.PromoVideoPopup: colors.title option must be string")}if(d&&Object.values(l.ButtonColor).includes(d)===false){throw new TypeError("UI.PromoVideoPopup: colors.button option must be from ButtonColor from ui.buttons")}if(a&&s.Type.isString(a)===false){throw new TypeError("UI.PromoVideoPopup: description option must be string")}if(!n){throw new Error("UI.PromoVideoPopup: videoSrc is required option")}if(n&&s.Type.isStringFilled(n)===false){throw new Error("UI.PromoVideoPopup: videoSrc must be string")}if(v&&s.Type.isPlainObject(v)===false){throw new Error("UI.PromoVideoPopup: offset options must be plain object with top and left properties")}if(v!=null&&v.top&&s.Type.isNumber(v==null?void 0:v.top)===false){throw new TypeError("UI.PromoVideoPopup: offset.top option must be number")}if(v!=null&&v.left&&s.Type.isNumber(v==null?void 0:v.left)===false){throw new TypeError("UI.PromoVideoPopup: offset.left option must be number")}if(u&&s.Type.isNumber(u)===false){throw new TypeError("UI.PromoVideoPopup: videoContainerMinHeight option must be number")}}function J(e){return Object.values(i.Set).includes(e)}function Q(){var e,s,o,t,i,l,r,a;const n=babelHelpers.classPrivateFieldLooseBase(this,U)[U]();return{text:(e=(s=babelHelpers.classPrivateFieldLooseBase(this,F)[F])==null?void 0:s.text)!=null?e:n.text,color:(o=(t=babelHelpers.classPrivateFieldLooseBase(this,F)[F])==null?void 0:t.color)!=null?o:n.color,size:(i=(l=babelHelpers.classPrivateFieldLooseBase(this,F)[F])==null?void 0:l.size)!=null?i:n.size,position:(r=(a=babelHelpers.classPrivateFieldLooseBase(this,F)[F])==null?void 0:a.position)!=null?r:n.position}}function Z(){return{text:s.Loc.getMessage("PROMO_VIDEO_POPUP_ACCEPT"),size:l.ButtonSize.SMALL,color:babelHelpers.classPrivateFieldLooseBase(this,C)[C]()||l.ButtonColor.PRIMARY,position:c.LEFT}}function ee(){return babelHelpers.classPrivateFieldLooseBase(this,L)[L]?{backgroundColor:"rgba(0, 0, 0, 0.4)"}:false}function se(){const e=babelHelpers.classPrivateFieldLooseBase(this,S)[S]().position===c.RIGHT?"--align-right":"";return`ui__promo-video-popup-content_footer ${e}`}e.AnglePosition=n;e.PromoVideoPopupEvents=p;e.PromoVideoPopupButtonPosition=c;e.PromoVideoPopup=z})(this.BX.UI=this.BX.UI||{},BX,BX.Event,BX.Main,BX.UI.IconSet,BX.UI);
//# sourceMappingURL=promo-video-popup.bundle.map.js