{"version":3,"file":"message.bundle.map.js","names":["exports","im_view_message_body","im_model","ui_vue","im_const","im_lib_utils","im_lib_animation","main_core_events","BitrixVue","component","props","userId","default","dialogId","chatId","enableReactions","enableDateActions","enableCreateContent","enableGestureQuote","enableGestureQuoteFromRight","enableGestureMenu","showAvatar","showMenu","showName","showLargeFont","capturedMoveEvent","referenceContentClassName","referenceContentBodyClassName","referenceContentNameClassName","message","type","Object","MessagesModel","create","getElementState","data","componentBodyId","drag","dragWidth","dragPosition","dragIconShowLeft","dragIconShowRight","created","this","dragStartPositionX","dragStartPositionY","dragMovePositionX","dragMovePositionY","beforeDestroy","clearTimeout","dragStartTimeout1","dragStartTimeout2","dragBackAnimation","Animation","cancel","methods","clickByAvatar","event","EventEmitter","emit","EventType","dialog","clickOnUserName","clickByMessageMenu","clickOnMessageMenu","clickByMessageRetry","clickOnMessageRetry","doubleClickByMessage","doubleClickOnMessage","gestureRouter","eventName","gestureQuote","gestureMenu","_this","gestureMenuStarted","gestureMenuPreventTouchEnd","target","tagName","gestureMenuStartPosition","x","changedTouches","clientX","y","clientY","gestureMenuTimeout","setTimeout","Math","abs","preventDefault","_this2","Utils","browser","findParent","platform","isAndroid","fromRight","layerX","getBoundingClientRect","left","layerY","top","dragCheck","dragStartInitialX","dragStartInitialY","$emit","result","$refs","body","offsetWidth","isBitrixMobile","app","exec","quoteMessage","start","end","increment","duration","element","elementProperty","callback","dragLayerPosition","undefined","watch","movementX","dragPositionMax","dragPositionIcon","_dragPositionMax","_dragPositionIcon","computed","MessageType","$store","getters","system","authorId","self","opponent","userData","userAvatar","params","AVATAR","concat","avatar","filesData","files","isEdited","IS_EDITED","isDeleted","IS_DELETED","isLargeFont","LARGE_FONT","template","window","BX","Messenger","Model","Const","Lib","Event"],"sources":["message.bundle.js"],"mappings":"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"}