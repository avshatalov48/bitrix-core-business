this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,n,a,s,i,r,o,c,l,d){"use strict";const h={components:{MessengerButton:d.Button},props:{isCreating:{type:Boolean,required:true},createButtonTitle:{type:String,required:true},createButtonColorScheme:{type:[Object,null],required:false,default:null}},emits:["create","cancel"],computed:{ButtonSize:()=>d.ButtonSize,ButtonColor:()=>d.ButtonColor},methods:{loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-chat-forms-button-panel__container">\n\t\t\t<MessengerButton\n\t\t\t\t:size="ButtonSize.XL"\n\t\t\t\t:color="ButtonColor.Success"\n\t\t\t\t:customColorScheme="createButtonColorScheme"\n\t\t\t\t:text="createButtonTitle"\n\t\t\t\t:isLoading="isCreating"\n\t\t\t\t:isDisabled="isCreating"\n\t\t\t\t@click="$emit('create')"\n\t\t\t\tclass="bx-im-chat-forms-button-panel__create-button"\n\t\t\t/>\n\t\t\t<MessengerButton\n\t\t\t\t:size="ButtonSize.XL"\n\t\t\t\t:color="ButtonColor.Link"\n\t\t\t\t:text="loc('IM_CREATE_CHAT_CANCEL')"\n\t\t\t\t:isDisabled="isCreating"\n\t\t\t\t@click="$emit('cancel')"\n\t\t\t/>\n\t\t</div>\n\t`};const _={name:"ChatAvatar",components:{EmptyAvatar:d.EmptyAvatar},props:{avatarFile:{required:true,validator(t){return t instanceof File||o.Type.isNull(t)}},existingAvatarUrl:{type:String,default:""},chatTitle:{type:String,required:true},type:{type:String,default:d.EmptyAvatarType.default}},emits:["avatarChange"],computed:{AvatarSize:()=>d.AvatarSize,preparedAvatar(){if(!this.avatarFile){return null}return URL.createObjectURL(this.avatarFile)},avatarToShow(){return this.preparedAvatar||this.existingAvatarUrl}},methods:{onAvatarChangeClick(){this.$refs.avatarInput.click()},async onAvatarSelect(t){const e=t.target;const n=e.files[0];if(!n){return}const a=await this.getChatService().prepareAvatar(n);if(!a){return}this.$emit("avatarChange",a)},getChatService(){if(!this.chatService){this.chatService=new e.ChatService}return this.chatService}},template:`\n\t\t<EmptyAvatar \n\t\t\t:size="AvatarSize.XXL"\n\t\t\t:url="avatarToShow"\n\t\t\t:title="chatTitle"\n\t\t\t:type="type"\n\t\t\t@click="onAvatarChangeClick"\n\t\t\tclass="bx-im-chat-forms-chat-avatar__container"\n\t\t/>\n\t\t<input \n\t\t\ttype="file" \n\t\t\t@change="onAvatarSelect" \n\t\t\taccept="image/*" \n\t\t\tclass="bx-im-chat-forms-chat-avatar__input" \n\t\t\tref="avatarInput"\n\t\t>\n\t`};const p={props:{chatMembers:{type:Array,required:true},customElements:{type:Array,default:()=>[]}},emits:["membersChange"],created(){const t=this.loc("IM_CREATE_CHAT_USER_SELECTOR_ADD_MEMBERS_V2");this.membersSelector=new i.TagSelector({maxHeight:99,placeholder:"",addButtonCaption:t,addButtonCaptionMore:t,showCreateButton:false,items:this.customElements,dialogOptions:{enableSearch:true,alwaysShowLabels:true,context:"IM_CHAT_CREATE",entities:this.getEntitiesConfig(),preselectedItems:this.chatMembers,undeselectedItems:[["user",r.Core.getUserId()]],events:{"Item:onSelect":this.onItemsChange,"Item:onDeselect":this.onItemsChange}}})},mounted(){this.membersSelector.renderTo(this.$refs.members)},methods:{getEntitiesConfig(){const t=[{id:"user"}];const e=a.FeatureManager.isFeatureAvailable(a.Feature.chatDepartments);if(e){t.push({id:"department",options:{selectMode:"usersAndDepartments",allowFlatDepartments:true,allowSelectRootDepartment:true}})}else{t.push({id:"department"})}return t},onItemsChange(t){const e=t.getTarget();const n=e.getSelectedItems();this.$emit("membersChange",n.map((t=>this.prepareTag(t))))},prepareTag(t){return[t.getEntityId(),t.getId()]},loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-chat-forms-chat-members__container" ref="members"></div>\n\t`};const m={name:"CreateChatHeading",components:{ChatHint:d.ChatHint},props:{text:{type:String,required:true},hintText:{type:String,required:false,default:""}},computed:{preparedText(){return this.text.replace("#SUBTITLE_START#",'<span class="bx-im-content-create-chat__subheading">').replace("#SUBTITLE_END#","</span>")}},template:`\n\t\t<div class="bx-im-content-create-chat__heading_container">\n\t\t\t<div class="bx-im-content-create-chat__heading" v-html="preparedText"></div>\n\t\t\t<ChatHint v-if="hintText" :text="hintText" />\n\t\t</div>\n\t`};const C={name:"RadioOption",props:{items:{type:Array,required:true}},emits:["change"],data(){return{groupName:o.Text.getRandom()}},computed:{options(){return this.items},selectedValue(){return this.options.find((t=>t.selected===true))}},methods:{onInput(t){this.$emit("change",t.value)}},template:`\n\t\t<div class="bx-im-content-create-chat-radio__container">\n\t\t\t<label v-for="option in options" class="bx-im-content-create-chat-radio__item ui-ctl ui-ctl-radio">\n\t\t\t\t<input type="radio" class="ui-ctl-element" :name="groupName" :checked="option.selected" @input="onInput(option)">\n\t\t\t\t<div class="ui-ctl-label-text">\n\t\t\t\t\t\x3c!-- Text --\x3e\n\t\t\t\t\t<div v-if="option.html" class="bx-im-content-create-chat-radio__label_title" v-html="option.text"></div>\n\t\t\t\t\t<div v-else class="bx-im-content-create-chat-radio__label_title">{{ option.text }}</div>\n\t\t\t\t\t\x3c!-- Subtext --\x3e\n\t\t\t\t\t<template v-if="option.subtext">\n\t\t\t\t\t\t<div v-if="option.html" class="bx-im-content-create-chat-radio__label_subtitle" v-html="option.subtext"></div>\n\t\t\t\t\t\t<div v-else class="bx-im-content-create-chat-radio__label_subtitle">{{ option.subtext }}</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t`};const g={name:"TextareaInput",props:{value:{type:String,default:""},placeholder:{type:String,required:true},border:{type:Boolean,required:false,default:true},rounded:{type:Boolean,required:false,default:true}},emits:["input"],computed:{containerClasses(){return{"--no-border":!this.border,"--rounded":this.rounded}}},methods:{onInput(t){this.$emit("input",t.target.value)}},template:`\n\t\t<div class="bx-im-content-create-chat__textarea_container" :class="containerClasses">\n\t\t\t<div class="ui-ctl ui-ctl-textarea ui-ctl-w100 ui-ctl-no-resize">\n\t\t\t\t<textarea\n\t\t\t\t\t:value="value"\n\t\t\t\t\t:placeholder="placeholder"\n\t\t\t\t\t@input="onInput"\n\t\t\t\t\tclass="bx-im-content-create-chat__textarea ui-ctl-element"\n\t\t\t\t></textarea>\n\t\t\t</div>\n\t\t</div>\n\t`};const u={name:"TitleInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,required:true}},emits:["update:modelValue"],mounted(){this.$refs.titleInput.focus()},methods:{onInput(t){this.$emit("update:modelValue",t.target.value)}},template:`\n\t\t<div class="bx-im-chat-forms-title-input__container">\n\t\t\t<input\n\t\t\t\t:value="modelValue"\n\t\t\t\t:placeholder="placeholder"\n\t\t\t\t@input="onInput"\n\t\t\t\tclass="bx-im-chat-forms-title-input__input"\n\t\t\t\tref="titleInput"\n\t\t\t/>\n\t\t</div>\n\t`};const T={components:{ExpandAnimation:s.ExpandAnimation},props:{name:{type:String,required:true},title:{type:String,required:true},alwaysOpened:{type:Boolean,default:false}},data(){return{isOpened:false}},computed:{containerClasses(){return[`--${this.name}`,{"--active":this.isOpened}]}},created(){if(this.alwaysOpened){this.isOpened=true}},methods:{onHeaderClick(){if(this.alwaysOpened){return}this.isOpened=!this.isOpened}},template:`\n\t\t<div :class="containerClasses" class="bx-im-content-create-chat__section bx-im-content-create-chat__section_scope">\n\t\t\t<div @click="onHeaderClick" class="bx-im-content-create-chat__section_header">\n\t\t\t\t<div class="bx-im-content-create-chat__section_left">\n\t\t\t\t\t<div class="bx-im-content-create-chat__section_icon"></div>\n\t\t\t\t\t<div class="bx-im-content-create-chat__section_text">{{ title }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if="!alwaysOpened" class="bx-im-content-create-chat__section_right"></div>\t\n\t\t\t</div>\n\t\t\t<ExpandAnimation>\n\t\t\t\t<div v-if="isOpened" class="bx-im-content-create-chat__section_content_container">\n\t\t\t\t\t<div class="bx-im-content-create-chat__section_content">\n\t\t\t\t\t\t<slot></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ExpandAnimation>\n\t\t</div>\n\t`};const E={props:{name:{type:String,required:true},title:{type:String,required:true}},template:`\n\t\t<div :class="'--' + name" class="bx-im-content-create-chat__section bx-im-content-create-chat__section_scope --external">\n\t\t\t<div class="bx-im-content-create-chat__section_header">\n\t\t\t\t<div class="bx-im-content-create-chat__section_left">\n\t\t\t\t\t<div class="bx-im-content-create-chat__section_icon"></div>\n\t\t\t\t\t<div class="bx-im-content-create-chat__section_text">{{ title }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-im-content-create-chat__section_right"></div>\t\n\t\t\t</div>\n\t\t</div>\n\t`};const A={components:{CreateChatSection:T,CreateChatHeading:m,Dropdown:d.Dropdown,TextareaInput:g,RadioOption:C},props:{description:{type:String,required:true},withSearchOption:{type:Boolean,default:true},isAvailableInSearch:{type:Boolean,default:false}},emits:["chatTypeChange","descriptionChange"],computed:{privacyOptions(){return[{value:false,text:this.loc("IM_CREATE_CHAT_SETTINGS_SECTION_PRIVATE_TITLE"),subtext:this.loc("IM_CREATE_CHAT_SETTINGS_SECTION_PRIVATE_SUBTITLE"),selected:!this.isAvailableInSearch},{value:true,text:this.loc("IM_CREATE_CHAT_SETTINGS_SECTION_OPEN_TITLE"),subtext:this.loc("IM_CREATE_CHAT_SETTINGS_SECTION_OPEN_SUBTITLE"),selected:this.isAvailableInSearch}]}},methods:{onTypeChange(t){this.$emit("chatTypeChange",t)},onDescriptionChange(t){this.$emit("descriptionChange",t)},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<CreateChatSection name="settings" :title="loc('IM_CREATE_CHAT_SETTINGS_SECTION')">\n\t\t\t<div v-if="withSearchOption" class="bx-im-content-create-chat__section_block">\n\t\t\t\t<CreateChatHeading :text="loc('IM_CREATE_CHAT_SETTINGS_SECTION_PRIVACY_MSGVER_1')" />\n\t\t\t\t<RadioOption :items="privacyOptions" @change="onTypeChange" />\n\t\t\t</div>\n\t\t\t<div class="bx-im-content-create-chat__section_block">\n\t\t\t\t<CreateChatHeading :text="loc('IM_CREATE_CHAT_SETTINGS_SECTION_DESCRIPTION')" />\n\t\t\t\t<div class="bx-im-chat-forms-settings__description_container">\n\t\t\t\t\t<TextareaInput\n\t\t\t\t\t\t:value="description"\n\t\t\t\t\t\t:placeholder="loc('IM_CREATE_CHAT_SETTINGS_SECTION_DESCRIPTION_PLACEHOLDER_MSGVER_1')"\n\t\t\t\t\t\t:rounded="false"\n\t\t\t\t\t\t@input="onDescriptionChange"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`};const S={name:"RoleSelector",components:{Dropdown:d.Dropdown,ChatHint:d.ChatHint},props:{title:{type:String,required:true},dropdownItems:{type:Array,required:true},dropdownId:{type:String,required:true},hintText:{type:String,required:false,default:""}},emits:["itemChange"],template:`\n\t\t<div class="bx-im-content-create-chat__section_block">\n\t\t\t<div class="bx-im-content-create-chat__section-header">\n\t\t\t\t<div class="bx-im-content-create-chat__section-heading">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<ChatHint v-if="hintText" :text="hintText" />\n\t\t\t</div>\n\t\t\t<div class="bx-im-chat-forms-chat-settings__manage-select">\n\t\t\t\t<Dropdown\n\t\t\t\t\t:items="dropdownItems"\n\t\t\t\t\t:id="dropdownId" \n\t\t\t\t\t@itemChange="$emit('itemChange', $event)"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`};const I={name:"UserSelector",components:{ChatHint:d.ChatHint},props:{title:{type:String,required:true},hintText:{type:String,required:false,default:""}},template:`\n\t\t<div class="bx-im-content-create-chat__section_block">\n\t\t\t<div class="bx-im-content-create-chat__section-header">\n\t\t\t\t<div class="bx-im-content-create-chat__section-heading">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<ChatHint v-if="hintText" :text="hintText" />\n\t\t\t</div>\n\t\t\t<slot></slot>\n\t\t</div>\n\t`};const v={name:"OwnerSelector",props:{ownerId:{type:Number,required:true}},emits:["ownerChange"],created(){this.membersSelector=new i.TagSelector({multiple:false,maxHeight:33,placeholder:"",addButtonCaption:this.loc("IM_CREATE_CHAT_USER_SELECTOR_CHANGE_OWNER"),addButtonCaptionMore:this.loc("IM_CREATE_CHAT_USER_SELECTOR_CHANGE_OWNER"),showCreateButton:false,dialogOptions:{enableSearch:false,context:"IM_CHAT_CREATE",entities:[{id:"user"},{id:"department"}],preselectedItems:[["user",this.ownerId]]},events:{onBeforeTagAdd:t=>{const{tag:e}=t.getData();e.setDeselectable(false)},onAfterTagAdd:t=>{const{tag:e}=t.getData();this.$emit("ownerChange",e.id)}}})},mounted(){this.membersSelector.renderTo(this.$refs.owner)},methods:{loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-chat-forms-sections-owner__container" ref="owner"></div>\n\t`};const M={props:{managerIds:{type:Array,required:true}},emits:["managersChange"],computed:{currentUserId(){return r.Core.getUserId()}},created(){const t=this.managerIds.map((t=>["user",t]));this.membersSelector=new i.TagSelector({maxHeight:99,placeholder:"",addButtonCaption:this.loc("IM_CREATE_CHAT_RIGHTS_SECTION_ADD_MANAGERS"),addButtonCaptionMore:this.loc("IM_CREATE_CHAT_RIGHTS_SECTION_ADD_MANAGERS"),showCreateButton:false,dialogOptions:{enableSearch:false,context:"IM_CHAT_CREATE",entities:[{id:"user"},{id:"department"}],preselectedItems:t},events:{onAfterTagAdd:t=>{const e=t.getTarget();this.$emit("managersChange",e.getTags().map((t=>t.id)))},onAfterTagRemove:t=>{const e=t.getTarget();this.$emit("managersChange",e.getTags().map((t=>t.id)))}}})},mounted(){this.membersSelector.renderTo(this.$refs.managers)},methods:{loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-chat-forms-sections-managers__container" ref="managers"></div>\n\t`};const R=[{value:c.UserRole.member,text:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_MEMBER")},{value:c.UserRole.manager,text:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_MANAGER_V2")},{value:c.UserRole.owner,text:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_OWNER"),default:true}];const x={[c.ChatType.channel]:new Set([c.ChatActionGroup.manageUsersAdd,c.ChatActionGroup.manageUsersDelete,c.ChatActionGroup.manageMessages]),default:new Set([c.ChatActionGroup.manageUsersAdd,c.ChatActionGroup.manageUsersDelete,c.ChatActionGroup.manageUi,c.ChatActionGroup.manageMessages])};const N={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_USERS_ADD"),default:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_USERS_ADD")};const b={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_USERS_DELETE"),default:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_USERS_DELETE")};const f={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_SENDING"),default:o.Loc.getMessage("IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_SENDING_MSGVER_1")};const y={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_OWNER_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_OWNER_HINT")};const H={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_MANAGER_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_MANAGER_HINT")};const O={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_MANAGE_USERS_ADD_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_MANAGE_USERS_ADD_HINT")};const w={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_MANAGE_USERS_DELETE_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_MANAGE_USERS_DELETE_HINT")};const U={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_MANAGE_UI_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_MANAGE_UI_HINT")};const B={[c.ChatType.channel]:o.Loc.getMessage("IM_CREATE_CHANNEL_MANAGE_SENDING_HINT"),default:o.Loc.getMessage("IM_CREATE_CHAT_MANAGE_SENDING_HINT")};const L={name:"RightsSection",components:{CreateChatSection:T,RoleSelector:S,UserSelector:I,OwnerSelector:v,ManagersSelector:M},props:{ownerId:{type:Number,required:true},managerIds:{type:Array,required:true},manageUsersAdd:{type:String,required:true},manageUsersDelete:{type:String,required:true},manageUi:{type:String,required:true},manageMessages:{type:String,required:true},chatType:{type:String,default:c.ChatType.chat}},emits:["ownerChange","managersChange","manageUsersAddChange","manageUsersDeleteChange","manageUiChange","manageMessagesChange"],computed:{PopupType:()=>c.PopupType,manageUsersAddItems(){return this.prepareDropdownItems(this.manageUsersAdd)},manageUsersDeleteItems(){return this.prepareDropdownItems(this.manageUsersDelete)},manageUiItems(){return this.prepareDropdownItems(this.manageUi)},manageMessagesItems(){return this.prepareDropdownItems(this.manageMessages)},showManageUiBlock(){var t;const e=(t=x[this.chatType])!=null?t:x.default;return e.has(c.ChatActionGroup.manageUi)},canAddUsersCaption(){var t;return(t=N[this.chatType])!=null?t:N.default},canKickUsersCaption(){var t;return(t=b[this.chatType])!=null?t:b.default},canSendCaption(){var t;return(t=f[this.chatType])!=null?t:f.default},ownerHint(){var t;return(t=y[this.chatType])!=null?t:y.default},managerHint(){var t;return(t=H[this.chatType])!=null?t:H.default},addUsersHint(){var t;return(t=O[this.chatType])!=null?t:O.default},deleteUsersHint(){var t;return(t=w[this.chatType])!=null?t:w.default},manageUiHint(){var t;return(t=U[this.chatType])!=null?t:U.default},sendMessagesHint(){var t;return(t=B[this.chatType])!=null?t:B.default}},methods:{prepareDropdownItems(t){return R.map((e=>({...e,default:e.value===t})))},onOwnerChange(t){this.$emit("ownerChange",t)},onManagersChange(t){this.$emit("managersChange",t)},onManageUsersAddChange(t){this.$emit("manageUsersAddChange",t)},onManageUsersDeleteChange(t){this.$emit("manageUsersDeleteChange",t)},onManageUiChange(t){this.$emit("manageUiChange",t)},onManageMessagesChange(t){this.$emit("manageMessagesChange",t)},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<CreateChatSection name="rights" :title="loc('IM_CREATE_CHAT_RIGHTS_SECTION')">\n\t\t\t<UserSelector :title="loc('IM_CREATE_CHAT_SETTINGS_SECTION_OWNER')" :hintText="ownerHint">\n\t\t\t\t<OwnerSelector :ownerId="ownerId" @ownerChange="onOwnerChange" />\n\t\t\t</UserSelector>\n\t\t\t<UserSelector :title="loc('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGERS')" :hintText="managerHint">\n\t\t\t\t<ManagersSelector :managerIds="managerIds" @managersChange="onManagersChange" />\n\t\t\t</UserSelector>\n\t\t\t<RoleSelector\n\t\t\t\t:title="canAddUsersCaption"\n\t\t\t\t:hintText="addUsersHint"\n\t\t\t\t:dropdownId="PopupType.createChatManageUsersAddMenu"\n\t\t\t\t:dropdownItems="manageUsersAddItems"\n\t\t\t\t@itemChange="onManageUsersAddChange"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\t:title="canKickUsersCaption"\n\t\t\t\t:hintText="deleteUsersHint"\n\t\t\t\t:dropdownId="PopupType.createChatManageUsersDeleteMenu"\n\t\t\t\t:dropdownItems="manageUsersDeleteItems"\n\t\t\t\t@itemChange="onManageUsersDeleteChange"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\tv-if="showManageUiBlock"\n\t\t\t\t:title="loc('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_UI_MSGVER_2')"\n\t\t\t\t:hintText="manageUiHint"\n\t\t\t\t:dropdownId="PopupType.createChatManageUiMenu"\n\t\t\t\t:dropdownItems="manageUiItems"\n\t\t\t\t@itemChange="onManageUiChange"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\t:title="canSendCaption"\n\t\t\t\t:hintText="sendMessagesHint"\n\t\t\t\t:dropdownId="PopupType.createChatManageMessagesMenu"\n\t\t\t\t:dropdownItems="manageMessagesItems"\n\t\t\t\t@itemChange="onManageMessagesChange"\n\t\t\t/>\n\t\t</CreateChatSection>\n\t`};const D={components:{CreateChatSection:T,RadioOption:C},props:{withSearchOption:{type:Boolean,default:true},isAvailableInSearch:{type:Boolean,default:false}},emits:["chatTypeChange"],computed:{privacyOptions(){return[{value:false,text:this.loc("IM_CREATE_CHAT_PRIVACY_SECTION_PRIVATE_TITLE"),subtext:this.loc("IM_CREATE_CHAT_PRIVACY_SECTION_PRIVATE_SUBTITLE_V2"),selected:!this.isAvailableInSearch},{value:true,text:this.loc("IM_CREATE_CHAT_PRIVACY_SECTION_OPEN_TITLE"),subtext:this.loc("IM_CREATE_CHAT_PRIVACY_SECTION_OPEN_SUBTITLE_V2"),selected:this.isAvailableInSearch}]}},methods:{onTypeChange(t){this.$emit("chatTypeChange",t)},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<CreateChatSection\n\t\t\tname="privacy"\n\t\t\t:title="loc('IM_CREATE_CHAT_PRIVACY_SECTION_V2')"\n\t\t\t:alwaysOpened="true"\n\t\t>\n\t\t\t<div class="bx-im-content-create-chat__section_block">\n\t\t\t\t<RadioOption :items="privacyOptions" @change="onTypeChange" />\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`};const G={components:{CreateChatSection:T,CreateChatHeading:m,Dropdown:d.Dropdown,Toggle:d.Toggle},props:{passwordNeeded:{type:Boolean,required:true},password:{type:String,required:true}},emits:["passwordNeededChange","passwordChange"],computed:{ToggleSize:()=>d.ToggleSize},methods:{onPasswordNeededChange(t){this.$emit("passwordNeededChange",t)},onPasswordChange(t){this.$emit("passwordChange",t.target.value)},onToggleLabelClick(){this.onPasswordNeededChange(!this.passwordNeeded)},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<CreateChatSection name="conference" :title="loc('IM_CREATE_CHAT_CONFERENCE_SECTION')">\n\t\t\t<div class="bx-im-content-create-chat__section_block">\n\t\t\t\t<CreateChatHeading :text="loc('IM_CREATE_CHAT_CONFERENCE_SECTION_PRIVACY')" />\n\t\t\t\t<div @click="onToggleLabelClick" class="bx-im-chat-forms-chat-settings__type-select">\n\t\t\t\t\t<Toggle :size="ToggleSize.M" :isEnabled="passwordNeeded" />\n\t\t\t\t\t<div class="bx-im-chat-forms-chat-settings__type-select_label">\n\t\t\t\t\t\t{{ loc('IM_CREATE_CHAT_CONFERENCE_SECTION_USE_PASSWORD') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if="passwordNeeded" class="bx-im-chat-forms-chat-settings__password-container ui-ctl ui-ctl-textbox">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tclass="bx-im-content-create-chat-conference__password-input ui-ctl-element"\n\t\t\t\t\t\t:value="password"\n\t\t\t\t\t\t:placeholder="loc('IM_CREATE_CHAT_CONFERENCE_SECTION_PASSWORD_PLACEHOLDER')"\n\t\t\t\t\t\t@input="onPasswordChange"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`};const $={components:{CreateChatSection:T},data(){return{}},template:`\n\t\t<Section name="appearance" title="Appearance" />\n\t`};t.ButtonPanel=h;t.ChatAvatar=_;t.ChatMembersSelector=p;t.CreateChatHeading=m;t.RadioOption=C;t.TextareaInput=g;t.TitleInput=u;t.CreateChatSection=T;t.CreateChatExternalSection=E;t.SettingsSection=A;t.RightsSection=L;t.PrivacySection=D;t.ConferenceSection=G;t.AppearanceSection=$})(this.BX.Messenger.v2.Component.Content=this.BX.Messenger.v2.Component.Content||{},BX.Messenger.v2.Service,BX.Event,BX.Messenger.v2.Lib,BX.Messenger.v2.Component.Animation,BX.UI.EntitySelector,BX.Messenger.v2.Application,BX,BX.Messenger.v2.Const,BX,BX.Messenger.v2.Component.Elements);
//# sourceMappingURL=registry.bundle.map.js