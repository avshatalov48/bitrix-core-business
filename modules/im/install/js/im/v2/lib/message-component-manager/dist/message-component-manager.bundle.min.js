this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,a,t,l){"use strict";const i=new Set([t.MessageComponent.unsupported,t.MessageComponent.chatCreation,t.MessageComponent.ownChatCreation,t.MessageComponent.conferenceCreation,t.MessageComponent.callInvite,t.MessageComponent.copilotCreation,t.MessageComponent.copilotMessage,t.MessageComponent.supportVote,t.MessageComponent.supportSessionNumber,t.MessageComponent.supportChatCreation,t.MessageComponent.zoomInvite,t.MessageComponent.copilotAddedUsers,t.MessageComponent.supervisorUpdateFeature,t.MessageComponent.supervisorEnableFeature,t.MessageComponent.sign,t.MessageComponent.checkIn,t.MessageComponent.generalChatCreationMessage,t.MessageComponent.generalChannelCreationMessage,t.MessageComponent.channelCreationMessage,t.MessageComponent.callMessage]);var r=babelHelpers.classPrivateFieldLooseKey("message");var o=babelHelpers.classPrivateFieldLooseKey("store");var n=babelHelpers.classPrivateFieldLooseKey("isServerComponent");var p=babelHelpers.classPrivateFieldLooseKey("hasFiles");var b=babelHelpers.classPrivateFieldLooseKey("hasText");var c=babelHelpers.classPrivateFieldLooseKey("hasAttach");var v=babelHelpers.classPrivateFieldLooseKey("isEmptyMessage");var d=babelHelpers.classPrivateFieldLooseKey("isDeletedMessage");var h=babelHelpers.classPrivateFieldLooseKey("isSystemMessage");var u=babelHelpers.classPrivateFieldLooseKey("isEmojiOnly");var g=babelHelpers.classPrivateFieldLooseKey("hasSmilesOnly");var P=babelHelpers.classPrivateFieldLooseKey("hasOnlyText");var F=babelHelpers.classPrivateFieldLooseKey("isForward");class L{constructor(e){Object.defineProperty(this,F,{value:X});Object.defineProperty(this,P,{value:K});Object.defineProperty(this,g,{value:j});Object.defineProperty(this,u,{value:O});Object.defineProperty(this,h,{value:y});Object.defineProperty(this,d,{value:C});Object.defineProperty(this,v,{value:B});Object.defineProperty(this,c,{value:M});Object.defineProperty(this,b,{value:H});Object.defineProperty(this,p,{value:m});Object.defineProperty(this,n,{value:f});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,o,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e;babelHelpers.classPrivateFieldLooseBase(this,o)[o]=a.Core.getStore()}getName(){if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]()){return t.MessageComponent.deleted}if(babelHelpers.classPrivateFieldLooseBase(this,n)[n]()){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].componentId}if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){return t.MessageComponent.system}if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]()){return t.MessageComponent.file}if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]()||babelHelpers.classPrivateFieldLooseBase(this,g)[g]()){return t.MessageComponent.smile}return t.MessageComponent.default}}function f(){return i.has(babelHelpers.classPrivateFieldLooseBase(this,r)[r].componentId)}function m(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].files.length>0}function H(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].text.length>0}function M(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].attach.length>0}function B(){return!babelHelpers.classPrivateFieldLooseBase(this,b)[b]()&&!babelHelpers.classPrivateFieldLooseBase(this,p)[p]()&&!babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}function C(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].isDeleted||babelHelpers.classPrivateFieldLooseBase(this,v)[v]()}function y(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r].authorId===0}function O(){if(babelHelpers.classPrivateFieldLooseBase(this,r)[r].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]()){return false}return s.Utils.text.isEmojiOnly(babelHelpers.classPrivateFieldLooseBase(this,r)[r].text)}function j(){var e,a;if(babelHelpers.classPrivateFieldLooseBase(this,r)[r].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]()){return false}const t=l.SmileManager.getInstance();const i=(e=(a=t.smileList)==null?void 0:a.smiles)!=null?e:[];const o=[...i].sort(((e,s)=>s.typing.localeCompare(e.typing)));const n=o.map((e=>s.Utils.text.escapeRegex(e.typing))).join("|");const p=babelHelpers.classPrivateFieldLooseBase(this,r)[r].text.replaceAll(new RegExp(n,"g"),"");const b=p.trim().length===0;const c=new RegExp(`(?:(?:${n})\\s*){4,}`);return b&&!c.test(babelHelpers.classPrivateFieldLooseBase(this,r)[r].text)}function K(){if(!babelHelpers.classPrivateFieldLooseBase(this,b)[b]()){return false}return!babelHelpers.classPrivateFieldLooseBase(this,p)[p]()&&!babelHelpers.classPrivateFieldLooseBase(this,c)[c]()}function X(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].getters["messages/isForward"](babelHelpers.classPrivateFieldLooseBase(this,r)[r].id)}e.MessageComponentManager=L})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Messenger.v2.Lib,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib);
//# sourceMappingURL=message-component-manager.bundle.map.js