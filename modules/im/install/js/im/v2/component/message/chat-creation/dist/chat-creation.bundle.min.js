this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,n,s,i,o,a,r){"use strict";const c="#00ace3";const l={name:"ChatCreationMessage",directives:{hint:r.hint},components:{ButtonComponent:n.Button,AddToChat:s.AddToChat,BaseMessage:i.BaseMessage},props:{item:{type:Object,required:true},dialogId:{type:String,required:true}},data(){return{showAddToChatPopup:false}},computed:{ButtonSize:()=>n.ButtonSize,ButtonIcon:()=>n.ButtonIcon,buttonColorScheme(){return{backgroundColor:"transparent",borderColor:c,iconColor:c,textColor:c,hoverColor:"transparent"}},message(){return this.item},chatId(){return this.message.chatId},dialog(){return this.$store.getters["chats/get"](this.dialogId,true)},hasActiveCurrentCall(){return a.CallManager.getInstance().hasActiveCurrentCall(this.dialogId)},hasActiveAnotherCall(){return a.CallManager.getInstance().hasActiveAnotherCall(this.dialogId)},isActive(){if(this.hasActiveCurrentCall){return true}if(this.hasActiveAnotherCall){return false}return a.CallManager.getInstance().chatCanBeCalled(this.dialogId)},userLimit(){return a.CallManager.getInstance().getCallUserLimit()},isChatUserLimitExceeded(){return a.CallManager.getInstance().isChatUserLimitExceeded(this.dialogId)},hintContent(){if(this.isChatUserLimitExceeded){return{text:this.loc("IM_LIB_CALL_USER_LIMIT_EXCEEDED_TOOLTIP",{"#USER_LIMIT#":this.userLimit}),popupOptions:{bindOptions:{position:"bottom"},angle:{position:"top"},targetContainer:document.body,offsetLeft:82,offsetTop:0}}}return null}},methods:{loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)},onCallButtonClick(){o.Analytics.getInstance().onStartCallClick({type:o.Analytics.AnalyticsType.groupCall,section:o.Analytics.AnalyticsSection.chatWindow,subSection:o.Analytics.AnalyticsSubSection.window,element:o.Analytics.AnalyticsElement.initialBanner,chatId:this.chatId});e.Messenger.startVideoCall(this.dialogId)},onInviteButtonClick(){this.showAddToChatPopup=true}},template:`\n\t\t<BaseMessage\n\t\t\t:dialogId="dialogId"\n\t\t\t:item="item"\n\t\t\t:withContextMenu="false"\n\t\t\t:withReactions="false"\n\t\t\t:withBackground="false"\n\t\t\tclass="bx-im-message-chat-creation__scope"\n\t\t>\n\t\t\t<div class="bx-im-message-chat-creation__container">\n\t\t\t\t<div class="bx-im-message-chat-creation__image"></div>\n\t\t\t\t<div class="bx-im-message-chat-creation__content">\n\t\t\t\t\t<div class="bx-im-message-chat-creation__title">\n\t\t\t\t\t\t{{ loc('IM_MESSAGE_CHAT_CREATION_TITLE_V2') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-im-message-chat-creation__description">\n\t\t\t\t\t\t{{ loc('IM_MESSAGE_CHAT_CREATION_DESCRIPTION') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-im-message-chat-creation__buttons_container">\n\t\t\t\t\t\t<div class="bx-im-message-chat-creation__buttons_item">\n\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\t:size="ButtonSize.L" \n\t\t\t\t\t\t\t\t:icon="ButtonIcon.Call" \n\t\t\t\t\t\t\t\t:customColorScheme="buttonColorScheme"\n\t\t\t\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t\t\t\t:text="loc('IM_MESSAGE_CHAT_CREATION_BUTTON_VIDEOCALL')"\n\t\t\t\t\t\t\t\t@click="onCallButtonClick"\n\t\t\t\t\t\t\t\t:isDisabled="!isActive"\n\t\t\t\t\t\t\t\tv-hint="hintContent"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bx-im-message-chat-creation__buttons_item">\n\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t\t\t\t:icon="ButtonIcon.AddUser"\n\t\t\t\t\t\t\t\t:customColorScheme="buttonColorScheme"\n\t\t\t\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t\t\t\t:text="loc('IM_MESSAGE_CHAT_CREATION_BUTTON_INVITE_USERS')"\n\t\t\t\t\t\t\t\t@click="onInviteButtonClick"\n\t\t\t\t\t\t\t\tref="add-members-button"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<AddToChat\n\t\t\t\t\t:bindElement="$refs['add-members-button'] || {}"\n\t\t\t\t\t:chatId="chatId"\n\t\t\t\t\t:dialogId="dialogId"\n\t\t\t\t\t:showPopup="showAddToChatPopup"\n\t\t\t\t\t:popupConfig="{offsetTop: 0, offsetLeft: 0}"\n\t\t\t\t\t@close="showAddToChatPopup = false"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`};t.ChatCreationMessage=l})(this.BX.Messenger.v2.Component.Message=this.BX.Messenger.v2.Component.Message||{},BX.Messenger.v2.Lib,BX.Messenger.v2.Component.Elements,BX.Messenger.v2.Component.EntitySelector,BX.Messenger.v2.Component.Message,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Vue3.Directives);
//# sourceMappingURL=chat-creation.bundle.map.js