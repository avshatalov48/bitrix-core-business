this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(t,e,s,o,_,n,i){"use strict";const I="im-confirm-container";const E=110;class L extends s.MessageBox{getPopupWindow(){const t=super.getPopupWindow();_.Dom.addClass(t.getPopupContainer(),I);_.Dom.style(t.getPopupContainer(),"minHeight",`${E}px`);return super.getPopupWindow()}}const r=t=>{const{text:e="",firstButtonCaption:o="",secondButtonCaption:n="",title:i=""}=t;return new Promise((t=>{const I={message:e,modal:true,buttons:s.MessageBoxButtons.YES_CANCEL,onYes:e=>{t(true);e.close()},onCancel:e=>{t(false);e.close()}};if(_.Type.isStringFilled(i)){I.title=i}if(_.Type.isStringFilled(o)){I.yesCaption=o}if(_.Type.isStringFilled(n)){I.cancelCaption=n}L.show(I)}))};const M=t=>{const{text:e,firstButtonCaption:o="",title:n=""}=t;return new Promise((t=>{const i={message:e,modal:true,buttons:s.MessageBoxButtons.OK,onOk:e=>{t(true);e.close()}};if(_.Type.isStringFilled(n)){i.title=n}if(_.Type.isStringFilled(o)){i.okCaption=o}L.show(i)}))};const C=t=>{const{title:e,text:s,firstButtonCaption:o}=T(t);return r({title:e,text:s,firstButtonCaption:o})};const T=t=>{const e=o.ChannelManager.isChannel(t);if(e){return{title:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHANNEL_TITLE"),text:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHANNEL_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHAT_TEXT_CONFIRM")}}if(a(t)){return{title:_.Loc.getMessage("IM_LIB_CONFIRM_DELETE_COLLAB_TITLE"),text:_.Loc.getMessage("IM_LIB_CONFIRM_DELETE_COLLAB_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHAT_TEXT_CONFIRM")}}return{title:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHAT_TITLE"),text:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHAT_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHAT_TEXT_CONFIRM")}};const a=t=>{const e=n.Core.getStore().getters["chats/get"](t,true);return e.type===i.ChatType.collab};const g=t=>{const{title:e,text:s,firstButtonCaption:o}=c(t);return r({text:s,title:e,firstButtonCaption:o})};const c=t=>{if(B(t)){return{title:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_COLLAB_TITLE"),text:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_COLLAB_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_CHAT_YES_MSGVER_1")}}if(o.ChannelManager.isChannel(t)){return{text:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_CHANNEL_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_CHANNEL_YES")}}return{text:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_CHAT_MSGVER_1"),firstButtonCaption:_.Loc.getMessage("IM_LIB_CONFIRM_LEAVE_CHAT_YES_MSGVER_1")}};const B=t=>{const e=n.Core.getStore().getters["chats/get"](t,true);return e.type===i.ChatType.collab};const u=t=>{const{title:e,firstButtonCaption:s}=p(t);return r({title:e,firstButtonCaption:s})};const p=t=>{const e=o.ChannelManager.isChannel(t);if(e){return{title:_.Loc.getMessage("IM_LIB_EXIT_UPDATE_CHANNEL_TITLE"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_UPDATE_CHAT_TEXT_CONFIRM")}}return{title:_.Loc.getMessage("IM_LIB_EXIT_UPDATE_CHAT_TITLE"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_UPDATE_CHAT_TEXT_CONFIRM")}};const l=()=>{const t=_.Loc.getMessage("IM_LIB_CONFIRM_RESTART_DESKTOP");const e=_.Loc.getMessage("IM_LIB_CONFIRM_RESTART_DESKTOP_OK");return M({text:t,firstButtonCaption:e})};const O=()=>{const t=_.Loc.getMessage("IM_LIB_CONFIRM_RESTART_DESKTOP");const e=_.Loc.getMessage("IM_LIB_CONFIRM_RESTART_DESKTOP_RESTART");const s=_.Loc.getMessage("IM_LIB_CONFIRM_RESTART_DESKTOP_LATER");return r({text:t,firstButtonCaption:e,secondButtonCaption:s})};const R=()=>{const t=_.Loc.getMessage("IM_LIB_CONFIRM_DELETE_DESKTOP").replace("#BR#","<br>");const e=_.Loc.getMessage("IM_LIB_CONFIRM_DELETE_DESKTOP_CONFIRM");return r({text:t,firstButtonCaption:e})};const N=()=>r({title:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHANNEL_POST_TITLE"),text:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHANNEL_POST_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_EXIT_DELETE_CHANNEL_POST_TEXT_CONFIRM")});const f=()=>{const t=_.Loc.getMessage("IM_LIB_CONFIRM_SWITCH_NOTIFICATION_MODE");const e=_.Loc.getMessage("IM_LIB_CONFIRM_SWITCH_NOTIFICATION_MODE_YES");return r({text:t,firstButtonCaption:e})};const A=t=>{const{title:e,text:s,firstButtonCaption:o}=S(t);return r({title:e,text:s,firstButtonCaption:o})};const S=t=>{if(X(t)){return{title:_.Loc.getMessage("IM_LIB_CONFIRM_USER_KICK_FROM_COLLAB_TITLE"),text:_.Loc.getMessage("IM_LIB_CONFIRM_USER_KICK_FROM_COLLAB_TEXT"),firstButtonCaption:_.Loc.getMessage("IM_LIB_CONFIRM_USER_KICK_YES")}}return{text:_.Loc.getMessage("IM_LIB_CONFIRM_USER_KICK"),firstButtonCaption:_.Loc.getMessage("IM_LIB_CONFIRM_USER_KICK_YES")}};const X=t=>{const e=n.Core.getStore().getters["chats/get"](t,true);return e.type===i.ChatType.collab};t.showDeleteChatConfirm=C;t.showLeaveChatConfirm=g;t.showExitUpdateChatConfirm=u;t.showDesktopRestartConfirm=O;t.showDesktopConfirm=l;t.showDesktopDeleteConfirm=R;t.showDeleteChannelPostConfirm=N;t.showNotificationsModeSwitchConfirm=f;t.showKickUserConfirm=A})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Main,BX.UI.Dialogs,BX.Messenger.v2.Lib,BX,BX.Messenger.v2.Application,BX.Messenger.v2.Const);
//# sourceMappingURL=registry.bundle.map.js