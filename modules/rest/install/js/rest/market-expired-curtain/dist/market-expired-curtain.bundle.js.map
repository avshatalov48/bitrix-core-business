{"version":3,"file":"market-expired-curtain.bundle.js","sources":["../src/market-expired-curtain.js"],"sourcesContent":["import { Loc } from 'main.core';\nimport { BannerDispatcher } from 'ui.banner-dispatcher';\nimport { NotificationPanel } from 'ui.notification-panel';\nimport { Icon, Main } from 'ui.icon-set.api.core';\nimport { Button } from 'ui.buttons';\nimport { sendData } from 'ui.analytics';\nimport 'ui.icon-set.main';\n\nexport class MarketExpiredCurtain\n{\n\tconstructor(id: string)\n\t{\n\t\tthis.id = id;\n\t}\n\n\t#getPanel(onDone: function): NotificationPanel\n\t{\n\t\tconst panel = new NotificationPanel({\n\t\t\tcontent: Loc.getMessage('REST_SIDEPANEL_WRAPPER_MARKET_EXPIRED_NOTIFICATION_TEXT'),\n\t\t\tbackgroundColor: '#E89B06',\n\t\t\ttextColor: '#FFFFFF',\n\t\t\tcrossColor: '#FFFFFF',\n\t\t\tleftIcon: new Icon({\n\t\t\t\ticon: Main.MARKET_1,\n\t\t\t\tcolor: '#FFFFFF',\n\t\t\t}),\n\t\t\trightButtons: [\n\t\t\t\tnew Button({\n\t\t\t\t\ttext: Loc.getMessage('REST_SIDEPANEL_WRAPPER_MARKET_EXPIRED_NOTIFICATION_BUTTON_TEXT'),\n\t\t\t\t\tsize: Button.Size.EXTRA_SMALL,\n\t\t\t\t\tcolor: Button.Color.CURTAIN_WARNING,\n\t\t\t\t\ttag: Button.Tag.LINK,\n\t\t\t\t\tnoCaps: true,\n\t\t\t\t\tround: true,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\thref: 'FEATURE_PROMOTER=limit_v2_nosubscription_marketplace_withapplications_off',\n\t\t\t\t\t},\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tpanel.hide();\n\t\t\t\t\t\tthis.#sendAnalytics('click_button');\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t],\n\t\t\tevents: {\n\t\t\t\tonHide: () => {\n\t\t\t\t\tonDone();\n\t\t\t\t\tBX.userOptions.save('rest', `marketTransitionCurtain${this.id}Ts`, null, Math.floor(Date.now() / 1000));\n\t\t\t\t},\n\t\t\t},\n\t\t\tzIndex: 1001,\n\t\t});\n\n\t\treturn panel;\n\t}\n\n\tshow(): void\n\t{\n\t\tBannerDispatcher.critical.toQueue((onDone) => {\n\t\t\tconst panel = this.#getPanel(onDone);\n\t\t\tpanel.show();\n\t\t\tthis.#sendAnalytics('show_notification_panel');\n\t\t});\n\t}\n\n\t#sendAnalytics(event: string): void\n\t{\n\t\tconst params = {\n\t\t\ttool: 'infohelper',\n\t\t\tcategory: 'market',\n\t\t\tevent,\n\t\t\ttype: 'notification_panel',\n\t\t};\n\n\t\tsendData(params);\n\t}\n}\n"],"names":["MarketExpiredCurtain","id","BannerDispatcher","critical","toQueue","onDone","panel","show","NotificationPanel","content","Loc","getMessage","backgroundColor","textColor","crossColor","leftIcon","Icon","icon","Main","MARKET_1","color","rightButtons","Button","text","size","Size","EXTRA_SMALL","Color","CURTAIN_WARNING","tag","Tag","LINK","noCaps","round","props","href","onclick","hide","events","onHide","BX","userOptions","save","Math","floor","Date","now","zIndex","event","params","tool","category","type","sendData"],"mappings":";;;;;;;;AAAA,CAM0B;CAAA;AAE1B,KAAaA,oBAAoB;GAEhC,8BAAYC,EAAU,EACtB;KAAA;KAAA;KAAA;KACC,IAAI,CAACA,EAAE,GAAGA,EAAE;;GACZ;KAAA;KAAA,uBA2CD;OAAA;OACCC,oCAAgB,CAACC,QAAQ,CAACC,OAAO,CAAC,UAACC,MAAM,EAAK;SAC7C,IAAMC,KAAK,0BAAG,KAAI,8BAAJ,KAAI,EAAWD,MAAM,CAAC;SACpCC,KAAK,CAACC,IAAI,EAAE;SACZ,4BAAI,wCAAJ,KAAI,EAAgB,yBAAyB;QAC7C,CAAC;;;GACF;CAAA;CAaD,oBA5DUF,MAAgB,EAC1B;GAAA;GACC,IAAMC,KAAK,GAAG,IAAIE,sCAAiB,CAAC;KACnCC,OAAO,EAAEC,aAAG,CAACC,UAAU,CAAC,yDAAyD,CAAC;KAClFC,eAAe,EAAE,SAAS;KAC1BC,SAAS,EAAE,SAAS;KACpBC,UAAU,EAAE,SAAS;KACrBC,QAAQ,EAAE,IAAIC,wBAAI,CAAC;OAClBC,IAAI,EAAEC,wBAAI,CAACC,QAAQ;OACnBC,KAAK,EAAE;MACP,CAAC;KACFC,YAAY,EAAE,CACb,IAAIC,iBAAM,CAAC;OACVC,IAAI,EAAEb,aAAG,CAACC,UAAU,CAAC,gEAAgE,CAAC;OACtFa,IAAI,EAAEF,iBAAM,CAACG,IAAI,CAACC,WAAW;OAC7BN,KAAK,EAAEE,iBAAM,CAACK,KAAK,CAACC,eAAe;OACnCC,GAAG,EAAEP,iBAAM,CAACQ,GAAG,CAACC,IAAI;OACpBC,MAAM,EAAE,IAAI;OACZC,KAAK,EAAE,IAAI;OACXC,KAAK,EAAE;SACNC,IAAI,EAAE;QACN;OACDC,OAAO,EAAE,mBAAM;SACd9B,KAAK,CAAC+B,IAAI,EAAE;SACZ,6BAAI,wCAAJ,MAAI,EAAgB,cAAc;;MAEnC,CAAC,CACF;KACDC,MAAM,EAAE;OACPC,MAAM,EAAE,kBAAM;SACblC,MAAM,EAAE;SACRmC,EAAE,CAACC,WAAW,CAACC,IAAI,CAAC,MAAM,mCAA4B,MAAI,CAACzC,EAAE,SAAM,IAAI,EAAE0C,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;;MAExG;KACDC,MAAM,EAAE;IACR,CAAC;GAEF,OAAOzC,KAAK;CACb;CAAC,yBAWc0C,KAAa,EAC5B;GACC,IAAMC,MAAM,GAAG;KACdC,IAAI,EAAE,YAAY;KAClBC,QAAQ,EAAE,QAAQ;KAClBH,KAAK,EAALA,KAAK;KACLI,IAAI,EAAE;IACN;GAEDC,qBAAQ,CAACJ,MAAM,CAAC;CACjB;;;;;;;;"}