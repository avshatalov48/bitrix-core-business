{"version":3,"file":"designpreview.bundle.js","sources":["../src/internal/control.js","../src/designpreview.js"],"sourcesContent":["import {Event} from \"main.core\";\n\nexport class Control\n{\n\tnode: ?HTMLElement;\n\tparent: ?Control;\n\tdefaultValue: string;\n\tonChange: function;\n\n\tconstructor(node: HTMLElement)\n\t{\n\t\tthis.node = node;\n\n\t\treturn this;\n\t}\n\n\tsetParent(parent: Control)\n\t{\n\t\tthis.parent = parent;\n\n\t\treturn this;\n\t}\n\n\tsetDefaultValue(defaultValue: string)\n\t{\n\t\tthis.defaultValue = defaultValue;\n\n\t\treturn this;\n\t}\n\n\tsetChangeHandler(onChange: function)\n\t{\n\t\tEvent.bind(this.node, \"change\", onChange);\n\t}\n\n\tsetClickHandler(onClick: function)\n\t{\n\t\tEvent.bind(this.node, \"click\", onClick);\n\t}\n\n\tgetValue(): string\n\t{\n\t\treturn (this.parent && this.parent.getValue() !== true)\n\t\t\t? this.defaultValue\n\t\t\t: this.getValueInternal()\n\t\t;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tgetValueInternal()\n\t{\n\t\t//if(this.node.type === 'checkbox')\n\t\t//{\n\t\t//\treturn this.node.checked;\n\t\t//}\n\n\t\t//return this.node.value;\n\t\treturn this.node;\n\t}\n}","import { Dom, Event, Tag } from 'main.core';\nimport { Control } from './internal/control';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport 'ui.design-tokens';\n\nimport './css/style.css';\nimport 'main.polyfill.intersectionobserver';\n\ntype Controls = {\n\ttheme: {\n\t\tuse: ?Control,\n\t\tbaseColors: ?Control,\n\t\tcorporateColor: ?Control,\n\t},\n\ttypo: {\n\t\tuse: ?Control,\n\t\ttextColor: ?Control,\n\t\ttextSize: ?Control,\n\t\ttextFont: ?Control,\n\t\ttextWeight: ?Control,\n\t\ttextLineHeight: ?Control,\n\t\thColor: ?Control,\n\t\thFont: ?Control,\n\t\thWeight: ?Control,\n\t},\n\tbackground: {\n\t\tuse: ?Control,\n\t\tuseSite: ?Control,\n\t\tfield: ?Control,\n\t\timage: ?Control,\n\t\tposition: ?Control,\n\t\tcolor: ?Control,\n\t},\n}\n\nexport class DesignPreview extends EventEmitter\n{\n\tstatic DEFAULT_FONT_SIZE = 14;\n\tstatic HEIGHT_PAGE_TITLE_WRAP = 74;\n\n\tcontrols: Controls;\n\n\tconstructor(form: HTMLElement, options: Object = {}, phrase: Object = {}, id = null, type = null)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.SettingsForm.DesignPreview');\n\n\t\tthis.form = form;\n\t\tthis.phrase = phrase;\n\t\tthis.id = id;\n\t\tthis.options = options;\n\t\tthis.type = type;\n\t\twindow.fontsProxyUrl = window.fontsProxyUrl ?? 'fonts.googleapis.com';\n\n\t\tthis.initControls();\n\t\tthis.initLayout();\n\t\tthis.applyStyles();\n\t\tthis.onApplyStyles = this.applyStyles.bind(this);\n\t}\n\n\tinitLayout()\n\t{\n\t\tthis.createLayout();\n\t\tthis.styleNode = document.createElement('style');\n\t\tDom.append(this.styleNode, this.layout);\n\t\tDom.append(this.layout, this.form);\n\n\t\tconst paramsObserver = {\n\t\t\tthreshold: 1,\n\t\t};\n\t\tconst observer = new IntersectionObserver((entries) => {\n\t\t\tentries.forEach((entry) => {\n\t\t\t\tconst availableHeight = document.documentElement.clientHeight - DesignPreview.HEIGHT_PAGE_TITLE_WRAP;\n\t\t\t\tif (entry.target.getBoundingClientRect().height <= availableHeight)\n\t\t\t\t{\n\t\t\t\t\tthis.toggleIntersectionState(entry);\n\t\t\t\t}\n\t\t\t});\n\t\t}, paramsObserver);\n\t\tobserver.observe(this.layoutContent.parentNode);\n\t}\n\n\ttoggleIntersectionState(entry)\n\t{\n\t\tif (entry.isIntersecting)\n\t\t{\n\t\t\tif (!('defaultIntersecting' in this))\n\t\t\t{\n\t\t\t\tthis.defaultIntersecting = true;\n\t\t\t}\n\n\t\t\tif (this.defaultIntersecting)\n\t\t\t{\n\t\t\t\tthis.unFixElement();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!('defaultIntersecting' in this))\n\t\t\t{\n\t\t\t\tthis.defaultIntersecting = false;\n\t\t\t}\n\n\t\t\tif (this.defaultIntersecting)\n\t\t\t{\n\t\t\t\tthis.fixElement();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitControls()\n\t{\n\t\tthis.controls = {};\n\t\tthis.initOptions();\n\n\t\t// parents and default\n\t\tconst controlsKeys = Object.keys(this.controls);\n\t\tfor (const group of controlsKeys)\n\t\t{\n\t\t\tif (!(group in this.controls))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst keys = Object.keys(this.controls[group]);\n\t\t\tfor (const key of keys)\n\t\t\t{\n\t\t\t\tif (!(key in this.controls[group]))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (key !== 'use' && this.controls[group].use)\n\t\t\t\t{\n\t\t\t\t\tthis.setupControls(group, key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.initSubscribes();\n\n\t\tthis.panel = BX.Landing.UI.Panel.GoogleFonts.getInstance();\n\t\tDom.append(this.panel.layout, document.body);\n\n\t\tthis.setupFontFields();\n\t}\n\n\tinitOptions()\n\t{\n\t\tconst optionKeys = Object.keys(this.options);\n\t\tfor (const group of optionKeys)\n\t\t{\n\t\t\tif (!(group in this.options))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst groupKeys = Object.keys(this.options[group]);\n\t\t\tfor (const key of groupKeys)\n\t\t\t{\n\t\t\t\tif (!(key in this.options[group]))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!this.controls[group])\n\t\t\t\t{\n\t\t\t\t\tthis.controls[group] = {};\n\t\t\t\t}\n\n\t\t\t\tconst control = new Control(this.options[group][key].control);\n\t\t\t\tthis.initControlHandlers(control, group, key);\n\n\t\t\t\tthis.controls[group][key] = control;\n\t\t\t}\n\t\t}\n\t}\n\n\tinitControlHandlers(control, group, key)\n\t{\n\t\tcontrol.setChangeHandler(this.applyStyles.bind(this));\n\t\tif (control.node && key === 'use')\n\t\t{\n\t\t\tEvent.bind(control.node.parentNode, 'click', this.onCheckboxClick.bind(this, group));\n\t\t}\n\n\t\tif (group === 'theme' && key !== 'use')\n\t\t{\n\t\t\tcontrol.setClickHandler(this.applyStyles.bind(this));\n\t\t}\n\n\t\tif (group === 'background' && key === 'field')\n\t\t{\n\t\t\tcontrol.setClickHandler(this.applyStyles.bind(this));\n\t\t}\n\t}\n\n\tsetupControls(group, key)\n\t{\n\t\tthis.controls[group][key].setParent(this.controls[group].use);\n\t\tif (this.options[group][key].defaultValue)\n\t\t{\n\t\t\tthis.controls[group][key].setDefaultValue(this.options[group][key].defaultValue);\n\t\t}\n\t}\n\n\tinitSubscribes()\n\t{\n\t\tif (this.controls.theme.corporateColor.node)\n\t\t{\n\t\t\tthis.controls.theme.corporateColor.node.subscribe('onSelectCustomColor', this.applyStyles.bind(this));\n\t\t}\n\n\t\tif (this.controls.background.image.node)\n\t\t{\n\t\t\tthis.controls.background.image.node.subscribe('change', this.onApplyStyles.bind(this));\n\t\t}\n\n\t\tif (this.controls.typo.textColor.node)\n\t\t{\n\t\t\tEventEmitter.subscribe(this.controls.typo.textColor.node, 'BX.Landing.ColorPicker:onSelectColor', this.onApplyStyles.bind(this));\n\t\t\tEventEmitter.subscribe(this.controls.typo.textColor.node, 'BX.Landing.ColorPicker:onClearColorPicker', this.onApplyStyles.bind(this));\n\t\t}\n\n\t\tif (this.controls.typo.hColor.node)\n\t\t{\n\t\t\tEventEmitter.subscribe(this.controls.typo.hColor.node, 'BX.Landing.ColorPicker:onSelectColor', this.onApplyStyles.bind(this));\n\t\t\tEventEmitter.subscribe(this.controls.typo.hColor.node, 'BX.Landing.ColorPicker:onClearColorPicker', this.onApplyStyles.bind(this));\n\t\t}\n\n\t\tif (this.controls.background.color.node)\n\t\t{\n\t\t\tEventEmitter.subscribe(this.controls.background.color.node, 'BX.Landing.ColorPicker:onSelectColor', this.onApplyStyles.bind(this));\n\t\t\tEventEmitter.subscribe(this.controls.background.color.node, 'BX.Landing.ColorPicker:onClearColorPicker', this.onApplyStyles.bind(this));\n\t\t}\n\t}\n\n\tsetupFontFields()\n\t{\n\t\tif (this.controls.typo.textFont.node && this.controls.typo.hFont.node)\n\t\t{\n\t\t\tthis.controls.typo.textFont.node.setAttribute(\n\t\t\t\t'value',\n\t\t\t\tthis.convertFont(this.controls.typo.textFont.node.value),\n\t\t\t);\n\t\t\tthis.controls.typo.hFont.node.setAttribute(\n\t\t\t\t'value',\n\t\t\t\tthis.convertFont(this.controls.typo.hFont.node.value),\n\t\t\t);\n\t\t\tEvent.bind(this.controls.typo.textFont.node, 'click', this.onCodeClick.bind(this));\n\t\t\tEvent.bind(this.controls.typo.hFont.node, 'click', this.onCodeClick.bind(this));\n\t\t}\n\t}\n\n\tonCodeClick(event: BaseEvent)\n\t{\n\t\tthis.panel.show({\n\t\t\thideOverlay: true,\n\t\t\tcontext: window,\n\t\t}).then((font) => {\n\t\t\tconst element = event.target;\n\t\t\telement.setAttribute('value', font.family);\n\t\t\tthis.onApplyStyles();\n\t\t}).catch((error) => {\n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\n\tonApplyStyles()\n\t{\n\t\tthis.applyStyles();\n\t}\n\n\tapplyStyles()\n\t{\n\t\tthis.styleNode.innerHTML = this.generateCss();\n\t\tsetTimeout(() => {\n\t\t\tlet layoutHeight = parseInt(window.getComputedStyle(this.layoutContent.parentNode).height, 10);\n\t\t\tconst formHeight = parseInt(window.getComputedStyle(this.form).height, 10);\n\t\t\tif (layoutHeight > formHeight)\n\t\t\t{\n\t\t\t\tlayoutHeight += 20;\n\t\t\t\tBX.Dom.style(this.form, 'min-height', `${layoutHeight}px`);\n\t\t\t\tconst formSection = this.form.querySelector('.ui-form-section');\n\t\t\t\tif (formSection)\n\t\t\t\t{\n\t\t\t\t\tBX.Dom.style(formSection, 'min-height', `${layoutHeight}px`);\n\t\t\t\t}\n\t\t\t}\n\t\t}, 1000);\n\t}\n\n\tonCheckboxClick(group)\n\t{\n\t\tthis.controls[group].use.node.check = !this.controls[group].use.node.checked;\n\t\tthis.applyStyles();\n\t}\n\n\tgenerateSelectorStart(className): string\n\t{\n\t\treturn `#${className} {`;\n\t}\n\n\tgenerateSelectorEnd(selector): string\n\t{\n\t\treturn `${selector} }`;\n\t}\n\n\tgetCSSPart1(css): string\n\t{\n\t\tlet colorPrimary = '';\n\t\tconst setColors = this.controls.theme.baseColors.node;\n\t\tlet colorPickerElement = '';\n\t\tif (this.controls.theme.corporateColor.node)\n\t\t{\n\t\t\tcolorPickerElement = this.controls.theme.corporateColor.node.element;\n\t\t}\n\n\t\tlet activeColorNode = '';\n\t\tif (setColors)\n\t\t{\n\t\t\tactiveColorNode = setColors.querySelector('.active');\n\t\t}\n\t\tlet isActiveColorPickerElement = '';\n\t\tif (colorPickerElement)\n\t\t{\n\t\t\tisActiveColorPickerElement = Dom.hasClass(colorPickerElement, 'active');\n\t\t}\n\n\t\tif (activeColorNode)\n\t\t{\n\t\t\tcolorPrimary = activeColorNode.dataset.value;\n\t\t}\n\n\t\tif (isActiveColorPickerElement)\n\t\t{\n\t\t\tcolorPrimary = colorPickerElement.dataset.value;\n\t\t}\n\n\t\t// for \"design page\", if you use the unchecked box, use the color from \"design site\"\n\t\tif (this.controls.theme.use.node && this.controls.theme.use.node.check === false)\n\t\t{\n\t\t\tcolorPrimary = this.controls.theme.corporateColor.defaultValue;\n\t\t}\n\n\t\tlet preparedCss = css;\n\t\tif (colorPrimary)\n\t\t{\n\t\t\tif (colorPrimary[0] !== '#')\n\t\t\t{\n\t\t\t\tcolorPrimary = `#${colorPrimary}`;\n\t\t\t}\n\t\t\tpreparedCss += `--design-preview-primary: ${colorPrimary};`;\n\t\t}\n\n\t\treturn preparedCss;\n\t}\n\n\tgetCSSPart2(css): string\n\t{\n\t\tlet textColor = this.getControlValue(\n\t\t\tthis.controls.typo.textColor.node,\n\t\t\tthis.controls.typo.textColor.node.input.value,\n\t\t);\n\t\tlet textFont = this.getControlValue(\n\t\t\tthis.controls.typo.textFont.node,\n\t\t\tthis.controls.typo.textFont.node.value,\n\t\t);\n\t\tlet hFont = this.getControlValue(\n\t\t\tthis.controls.typo.hFont.node,\n\t\t\tthis.controls.typo.hFont.node.value,\n\t\t);\n\t\tlet fontWeight = this.getControlValue(\n\t\t\tthis.controls.typo.textWeight.node,\n\t\t\tthis.controls.typo.textWeight.node.value,\n\t\t);\n\t\tlet fontLineHeight = this.getControlValue(\n\t\t\tthis.controls.typo.textLineHeight.node,\n\t\t\tthis.controls.typo.textLineHeight.node.value,\n\t\t);\n\t\tlet hColor = this.getControlValue(\n\t\t\tthis.controls.typo.hColor.node,\n\t\t\tthis.controls.typo.hColor.node.input.value,\n\t\t);\n\t\tlet hWeight = this.getControlValue(\n\t\t\tthis.controls.typo.hWeight.node,\n\t\t\tthis.controls.typo.hWeight.node.value,\n\t\t);\n\n\t\tlet textSize = '';\n\t\tif (this.controls.typo.textSize.node)\n\t\t{\n\t\t\ttextSize = `${Math.round(this.controls.typo.textSize.node.value * DesignPreview.DEFAULT_FONT_SIZE)}px`;\n\t\t}\n\n\t\tif (this.controls.typo.use.node && this.controls.typo.use.node.check === false)\n\t\t{\n\t\t\ttextColor = this.controls.typo.textColor.defaultValue;\n\t\t\ttextFont = this.controls.typo.textFont.defaultValue;\n\t\t\thFont = this.controls.typo.hFont.defaultValue;\n\t\t\ttextSize = `${Math.round(this.controls.typo.textSize.defaultValue\n\t\t\t\t\t* DesignPreview.DEFAULT_FONT_SIZE)}px`;\n\t\t\tfontWeight = this.controls.typo.textWeight.defaultValue;\n\t\t\tfontLineHeight = this.controls.typo.textLineHeight.defaultValue;\n\t\t\thColor = this.controls.typo.hColor.defaultValue;\n\t\t\thWeight = this.controls.typo.hWeight.defaultValue;\n\t\t}\n\n\t\tthis.appendFontLinks(textFont);\n\t\tthis.appendFontLinks(hFont);\n\n\t\tlet preparedCss = css;\n\t\tpreparedCss += `--design-preview-color: ${textColor};`;\n\t\tpreparedCss += `--design-preview-font-theme: ${textFont};`;\n\t\tpreparedCss += `--design-preview-font-size: ${textSize};`;\n\t\tpreparedCss += `--design-preview-font-weight: ${fontWeight};`;\n\t\tpreparedCss += `--design-preview-line-height: ${fontLineHeight};`;\n\t\tif (hColor)\n\t\t{\n\t\t\tpreparedCss += `--design-preview-color-h: ${hColor};`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpreparedCss += `--design-preview-color-h: ${textColor};`;\n\t\t}\n\n\t\tif (hWeight)\n\t\t{\n\t\t\tpreparedCss += `--design-preview-font-weight-h: ${hWeight};`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpreparedCss += `--design-preview-font-weight-h: ${fontWeight};`;\n\t\t}\n\n\t\tif (this.controls.typo.hFont.node)\n\t\t{\n\t\t\tpreparedCss += `--design-preview-font-h-theme: ${hFont};`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpreparedCss += `--design-preview-font-h-theme: ${textFont};`;\n\t\t}\n\n\t\treturn preparedCss;\n\t}\n\n\tcreateFontLink(font: string): string\n\t{\n\t\tconst link = document.createElement('link');\n\t\tlink.rel = 'stylesheet';\n\t\tlink.href = `https://${window.fontsProxyUrl}/css2?family=`;\n\t\tlink.href += font.replace(' ', '+');\n\t\tlink.href += ':wght@100;200;300;400;500;600;700;800;900';\n\n\t\treturn link;\n\t}\n\n\tgetControlValue(element, value): string\n\t{\n\t\tif (element)\n\t\t{\n\t\t\treturn value;\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tappendFontLinks(font)\n\t{\n\t\tif (font)\n\t\t{\n\t\t\tDom.append(this.createFontLink(font), this.form);\n\t\t}\n\t}\n\n\tgetCSSPart3(css): string\n\t{\n\t\tlet preparedCss = css;\n\t\tlet bgColor = this.controls.background.color.node.input.value;\n\t\tconst bgFieldNode = this.controls.background.field.node;\n\t\tconst bgPictureElement = bgFieldNode.getElementsByClassName('landing-ui-field-image-hidden');\n\t\tlet bgPicture = bgPictureElement[0].getAttribute('src');\n\t\tlet bgPosition = this.controls.background.position.node.value;\n\n\t\tif (this.controls.background.use.node.check === true)\n\t\t{\n\t\t\tpreparedCss += `--design-preview-bg: ${bgColor};`;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tbgPicture = '';\n\t\t\tif (this.controls.background.useSite && this.controls.background.useSite.defaultValue === 'Y')\n\t\t\t{\n\t\t\t\tbgColor = this.controls.background.color.defaultValue;\n\t\t\t\tbgPicture = this.controls.background.field.defaultValue;\n\t\t\t\tbgPosition = this.controls.background.position.defaultValue;\n\t\t\t\tpreparedCss += `--design-preview-bg: ${bgColor};`;\n\t\t\t}\n\t\t}\n\n\t\tif (this.options.background.image.defaultValue && bgPicture === '')\n\t\t{\n\t\t\tbgPicture = this.options.background.image.defaultValue;\n\t\t}\n\n\t\tif (bgPicture)\n\t\t{\n\t\t\tpreparedCss += `background-image: url(${bgPicture});`;\n\t\t}\n\n\t\tif (this.controls.background.position)\n\t\t{\n\t\t\tif (bgPosition === 'center')\n\t\t\t{\n\t\t\t\tpreparedCss += 'background-attachment: scroll;';\n\t\t\t\tpreparedCss += 'background-position: center;';\n\t\t\t\tpreparedCss += 'background-repeat: no-repeat;';\n\t\t\t\tpreparedCss += 'background-size: cover;';\n\t\t\t}\n\n\t\t\tif (bgPosition === 'repeat')\n\t\t\t{\n\t\t\t\tpreparedCss += 'background-attachment: scroll;';\n\t\t\t\tpreparedCss += 'background-position: center;';\n\t\t\t\tpreparedCss += 'background-repeat: repeat;';\n\t\t\t\tpreparedCss += 'background-size: 50%;';\n\t\t\t}\n\n\t\t\tif (bgPosition === 'center_repeat_y')\n\t\t\t{\n\t\t\t\tpreparedCss += 'background-attachment: scroll;';\n\t\t\t\tpreparedCss += 'background-position: top;';\n\t\t\t\tpreparedCss += 'background-repeat: repeat-y;';\n\t\t\t\tpreparedCss += 'background-size: 100%;';\n\t\t\t}\n\t\t}\n\n\t\treturn preparedCss;\n\t}\n\n\tgenerateCss(): string\n\t{\n\t\tlet css = this.generateSelectorStart(this.id);\n\t\tcss = this.getCSSPart1(css);\n\t\tcss = this.getCSSPart2(css);\n\t\tcss = this.getCSSPart3(css);\n\t\tcss = this.generateSelectorEnd(css);\n\n\t\treturn css;\n\t}\n\n\tcreateLayout(): HTMLDivElement\n\t{\n\t\tthis.layout = Tag.render`<div class=\"landing-design-preview-wrap\"></div>`;\n\t\tif (this.type === null)\n\t\t{\n\t\t\tthis.layoutContent = Tag.render`<div id=\"${this.id}\" class=\"landing-design-preview\"><h2 class=\"landing-design-preview-title\">${this.phrase.title}</h2><h4 class=\"landing-design-preview-subtitle\">${this.phrase.subtitle}</h4><p class=\"landing-design-preview-text\">${this.phrase.text1}</p><p class=\"landing-design-preview-text\">${this.phrase.text2}</p><div class=\"\"><a class=\"landing-design-preview-button\">${this.phrase.button}</a></div></div>`;\n\t\t}\n\n\t\tDom.append(this.layoutContent, this.layout);\n\t}\n\n\tfixElement()\n\t{\n\t\tconst designPreviewWrap = this.layoutContent.parentNode;\n\t\tconst designPreviewWrapPosition = designPreviewWrap.getBoundingClientRect();\n\t\tconst paddingDesignPreview = 20;\n\t\tconst maxWidth = designPreviewWrapPosition.width - (paddingDesignPreview * 2);\n\t\tconst designForm = designPreviewWrap.parentNode;\n\t\tconst designFormPosition = designForm.getBoundingClientRect();\n\t\tconst designPreviewPosition = this.layoutContent.getBoundingClientRect();\n\t\tconst bodyWidth = document.body.clientWidth;\n\t\tconst paddingDesignForm = 20;\n\t\tconst positionFixedRight = bodyWidth - designFormPosition.right + paddingDesignForm;\n\t\tif (designFormPosition.height > designPreviewPosition.height)\n\t\t{\n\t\t\tlet fixedStyle = 'position: fixed; ';\n\t\t\tfixedStyle += 'top: 20px; ';\n\t\t\tfixedStyle += 'margin-top: 0; ';\n\t\t\tfixedStyle += `right: ${positionFixedRight}px;`;\n\t\t\tfixedStyle += `max-width: ${maxWidth}px;`;\n\t\t\tthis.layoutContent.setAttribute('style', fixedStyle);\n\t\t}\n\t}\n\n\tunFixElement()\n\t{\n\t\tthis.layoutContent.setAttribute('style', '');\n\t}\n\n\tconvertFont(font): string\n\t{\n\t\tlet convertFont = font;\n\t\tconvertFont = convertFont\n\t\t\t.replace('g-font-', '')\n\t\t\t.replaceAll('-', ' ')\n\t\t\t.replace('ibm ', 'IBM ')\n\t\t\t.replace('pt ', 'PT ')\n\t\t\t.replace(/sc(?![a-z])/i, 'SC')\n\t\t\t.replace(/jp(?![a-z])/i, 'JP')\n\t\t\t.replace(/kr(?![a-z])/i, 'KR')\n\t\t\t.replace(/tc(?![a-z])/i, 'TC')\n\t\t\t.replaceAll(/(^|\\s)\\S/g, (firstSymbol) => {\n\t\t\t\treturn firstSymbol.toUpperCase();\n\t\t\t});\n\n\t\treturn convertFont;\n\t}\n}\n"],"names":["Control","node","parent","defaultValue","onChange","Event","bind","onClick","getValue","getValueInternal","DesignPreview","form","options","phrase","id","type","setEventNamespace","window","fontsProxyUrl","initControls","initLayout","applyStyles","onApplyStyles","createLayout","styleNode","document","createElement","Dom","append","layout","paramsObserver","threshold","observer","IntersectionObserver","entries","forEach","entry","availableHeight","documentElement","clientHeight","HEIGHT_PAGE_TITLE_WRAP","target","getBoundingClientRect","height","toggleIntersectionState","observe","layoutContent","parentNode","isIntersecting","defaultIntersecting","unFixElement","fixElement","controls","initOptions","controlsKeys","Object","keys","group","key","use","setupControls","initSubscribes","panel","BX","Landing","UI","Panel","GoogleFonts","getInstance","body","setupFontFields","optionKeys","groupKeys","control","initControlHandlers","setChangeHandler","onCheckboxClick","setClickHandler","setParent","setDefaultValue","theme","corporateColor","subscribe","background","image","typo","textColor","EventEmitter","hColor","color","textFont","hFont","setAttribute","convertFont","value","onCodeClick","event","show","hideOverlay","context","then","font","element","family","error","console","innerHTML","generateCss","setTimeout","layoutHeight","parseInt","getComputedStyle","formHeight","style","formSection","querySelector","check","checked","className","selector","css","colorPrimary","setColors","baseColors","colorPickerElement","activeColorNode","isActiveColorPickerElement","hasClass","dataset","preparedCss","getControlValue","input","fontWeight","textWeight","fontLineHeight","textLineHeight","hWeight","textSize","Math","round","DEFAULT_FONT_SIZE","appendFontLinks","link","rel","href","replace","createFontLink","bgColor","bgFieldNode","field","bgPictureElement","getElementsByClassName","bgPicture","getAttribute","bgPosition","position","useSite","generateSelectorStart","getCSSPart1","getCSSPart2","getCSSPart3","generateSelectorEnd","Tag","render","title","subtitle","text1","text2","button","designPreviewWrap","designPreviewWrapPosition","paddingDesignPreview","maxWidth","width","designForm","designFormPosition","designPreviewPosition","bodyWidth","clientWidth","paddingDesignForm","positionFixedRight","right","fixedStyle","replaceAll","firstSymbol","toUpperCase"],"mappings":"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"}