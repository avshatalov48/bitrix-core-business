this.BX=this.BX||{};(function(e,s){"use strict";let a=e=>e,t,l,i,o,r,b;var n=babelHelpers.classPrivateFieldLooseKey("metadata");var c=babelHelpers.classPrivateFieldLooseKey("order");var d=babelHelpers.classPrivateFieldLooseKey("options");var v=babelHelpers.classPrivateFieldLooseKey("stepIndex");var p=babelHelpers.classPrivateFieldLooseKey("stepNode");var h=babelHelpers.classPrivateFieldLooseKey("stages");var u=babelHelpers.classPrivateFieldLooseKey("navigationButtons");var P=babelHelpers.classPrivateFieldLooseKey("createNavigationButtons");var L=babelHelpers.classPrivateFieldLooseKey("createStages");var F=babelHelpers.classPrivateFieldLooseKey("onPrevStep");var B=babelHelpers.classPrivateFieldLooseKey("tryCompleteStep");var H=babelHelpers.classPrivateFieldLooseKey("onNextStep");var g=babelHelpers.classPrivateFieldLooseKey("getButtonsTitle");var f=babelHelpers.classPrivateFieldLooseKey("renderNavigationButtons");var m=babelHelpers.classPrivateFieldLooseKey("renderActiveStage");var y=babelHelpers.classPrivateFieldLooseKey("renderStep");class O{constructor(e={},l={}){Object.defineProperty(this,y,{value:S});Object.defineProperty(this,m,{value:K});Object.defineProperty(this,f,{value:N});Object.defineProperty(this,g,{value:D});Object.defineProperty(this,H,{value:j});Object.defineProperty(this,B,{value:w});Object.defineProperty(this,F,{value:C});Object.defineProperty(this,L,{value:T});Object.defineProperty(this,P,{value:_});Object.defineProperty(this,n,{writable:true,value:void 0});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,p,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,n)[n]=e;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=l;babelHelpers.classPrivateFieldLooseBase(this,c)[c]=Object.keys(e);babelHelpers.classPrivateFieldLooseBase(this,v)[v]=0;babelHelpers.classPrivateFieldLooseBase(this,p)[p]=s.Tag.render(t||(t=a`<div class="sign-wizard__step"></div>`));babelHelpers.classPrivateFieldLooseBase(this,h)[h]=new Map;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=babelHelpers.classPrivateFieldLooseBase(this,P)[P]()}getLayout(){babelHelpers.classPrivateFieldLooseBase(this,h)[h]=babelHelpers.classPrivateFieldLooseBase(this,L)[L]();const e=s.Tag.render(l||(l=a`
			<div class="sign-wizard__content">
				<div class="sign-wizard__stages">
					${0}
				</div>
				${0}
			</div>
		`),[...babelHelpers.classPrivateFieldLooseBase(this,h)[h].values()],babelHelpers.classPrivateFieldLooseBase(this,p)[p]);const t=s.Tag.render(i||(i=a`
			<div class="sign-wizard__footer">
				${0}
			</div>
		`),Object.values(babelHelpers.classPrivateFieldLooseBase(this,u)[u]));return s.Tag.render(o||(o=a`
			<div class="sign-wizard__scope sign-wizard">
				${0}
				${0}
			</div>
		`),e,t)}moveOnStep(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e;babelHelpers.classPrivateFieldLooseBase(this,m)[m]();babelHelpers.classPrivateFieldLooseBase(this,f)[f]();babelHelpers.classPrivateFieldLooseBase(this,y)[y]()}toggleBtnLoadingState(e,a){const t=babelHelpers.classPrivateFieldLooseBase(this,u)[u][e];if(a){s.Dom.addClass(t,"ui-btn-wait")}else{s.Dom.removeClass(t,"ui-btn-wait")}}toggleBtnActiveState(e,a){const t=babelHelpers.classPrivateFieldLooseBase(this,u)[u][e];if(a){s.Dom.addClass(t,"ui-btn-disabled")}else{s.Dom.removeClass(t,"ui-btn-disabled")}}}function _(){var e,t,l;const i=["ui-btn","ui-btn-lg","ui-btn-round","sign-wizard__footer_button"];const{back:o={},next:b={},complete:n={},swapButtons:c=false}=(e=babelHelpers.classPrivateFieldLooseBase(this,d)[d])!=null?e:{};const{title:v,onComplete:p,className:h}=n;const u=((t=o.className)!=null?t:"").split(" ");const P=((l=b.className)!=null?l:"").split(" ");const L=(h!=null?h:"").split(" ");const g={id:"back",title:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_BACK"),method:()=>babelHelpers.classPrivateFieldLooseBase(this,F)[F](),buttonClassList:[...i,...u]};const f=[{id:"next",title:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_NEXT"),method:()=>babelHelpers.classPrivateFieldLooseBase(this,H)[H](),buttonClassList:[...i,...P]},{id:"complete",title:v!=null?v:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_COMPLETE"),method:async()=>{const e=await babelHelpers.classPrivateFieldLooseBase(this,B)[B]("complete");if(e&&p){p()}},buttonClassList:[...i,...L]}];if(c){f.push(g)}else{f.unshift(g)}return f.reduce(((e,t)=>{const{title:l,method:o,buttonClassList:b=i,id:n}=t;const c=s.Tag.render(r||(r=a`
				<button
					class="${0}"
					title="${0}"
					onclick="${0}"
				>
					${0}
				</button>
			`),b.join(" "),l,o,l);e[n]=c;return e}),{})}function T(){const e=Object.entries(babelHelpers.classPrivateFieldLooseBase(this,n)[n]);const t=new Map;e.forEach((([e,l])=>{const i=s.Tag.render(b||(b=a`
				<span class="sign-wizard__stages_item">
					${0}
				</span>
			`),l.title);t.set(e,i)}));return t}function C(){babelHelpers.classPrivateFieldLooseBase(this,v)[v]-=1;this.moveOnStep(babelHelpers.classPrivateFieldLooseBase(this,v)[v])}async function w(e="next"){var s,a;const t=babelHelpers.classPrivateFieldLooseBase(this,c)[c][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const{beforeCompletion:l}=(s=babelHelpers.classPrivateFieldLooseBase(this,n)[n][t])!=null?s:{};this.toggleBtnLoadingState(e,true);const i=(a=await(l==null?void 0:l()))!=null?a:true;this.toggleBtnLoadingState(e,false);return i}async function j(){const e=await babelHelpers.classPrivateFieldLooseBase(this,B)[B]();if(e){babelHelpers.classPrivateFieldLooseBase(this,v)[v]+=1;this.moveOnStep(babelHelpers.classPrivateFieldLooseBase(this,v)[v])}}function D(){var e,a,t,l,i;const{back:o={},next:r={}}=(e=babelHelpers.classPrivateFieldLooseBase(this,d)[d])!=null?e:{};const b=babelHelpers.classPrivateFieldLooseBase(this,c)[c][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const n=(a=(t=o.titles)==null?void 0:t[b])!=null?a:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_BACK");const p=(l=(i=r.titles)==null?void 0:i[b])!=null?l:s.Loc.getMessage("SIGN_WIZARD_FOOTER_BUTTON_NEXT");return{backTitle:n,nextTitle:p}}function N(){const{back:e,next:a,complete:t}=babelHelpers.classPrivateFieldLooseBase(this,u)[u];const l=babelHelpers.classPrivateFieldLooseBase(this,v)[v]===0;const i=babelHelpers.classPrivateFieldLooseBase(this,v)[v]+1===babelHelpers.classPrivateFieldLooseBase(this,c)[c].length;s.Dom.removeClass(e,"--hide");s.Dom.removeClass(a,"--hide");s.Dom.addClass(t,"--hide");const{nextTitle:o,backTitle:r}=babelHelpers.classPrivateFieldLooseBase(this,g)[g](e,a);e.textContent=r;a.textContent=o;if(l){s.Dom.addClass(e,"--hide")}if(i){s.Dom.addClass(a,"--hide");s.Dom.removeClass(t,"--hide")}}function K(){babelHelpers.classPrivateFieldLooseBase(this,h)[h].forEach((e=>{s.Dom.removeClass(e,"--active")}));const e=babelHelpers.classPrivateFieldLooseBase(this,c)[c][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const a=babelHelpers.classPrivateFieldLooseBase(this,h)[h].get(e);s.Dom.addClass(a,"--active")}function S(){var e;const a=babelHelpers.classPrivateFieldLooseBase(this,c)[c][babelHelpers.classPrivateFieldLooseBase(this,v)[v]];const{content:t}=(e=babelHelpers.classPrivateFieldLooseBase(this,n)[n][a])!=null?e:{};if(!t){return}s.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,p)[p]);if(s.Type.isArrayFilled(t)){t.forEach((e=>s.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,p)[p])))}else{s.Dom.append(t,babelHelpers.classPrivateFieldLooseBase(this,p)[p])}}e.Wizard=O})(this.BX.Ui=this.BX.Ui||{},BX);
//# sourceMappingURL=wizard.bundle.map.js