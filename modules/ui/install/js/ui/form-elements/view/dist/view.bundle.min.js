this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,i,l,a,r,s){"use strict";var n,o,d,c,u;function b(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=p(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function p(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function h(e,t,i){f(e,t);t.set(e,i)}function f(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var H=new WeakMap;var g=new WeakMap;var T=new WeakMap;var y=new WeakMap;var m=new WeakMap;var w=new WeakMap;var I=new WeakMap;var k=new WeakMap;var _=new WeakMap;var F=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));h(babelHelpers.assertThisInitialized(i),H,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),g,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),T,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),y,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),m,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),w,{writable:true,value:""});h(babelHelpers.assertThisInitialized(i),I,{writable:true,value:void 0});h(babelHelpers.assertThisInitialized(i),k,{writable:true,value:null});h(babelHelpers.assertThisInitialized(i),_,{writable:true,value:void 0});i.setEventNamespace("UI.Section");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),w,r.Type.isStringFilled(e.label)?e.label:"");if(r.Type.isStringFilled(e.id)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),H,e.id)}else if(!i.id){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),H,i.prefixId()+r.Text.getRandom(8))}if(r.Type.isStringFilled(e.inputName)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,e.inputName)}else if(!babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),g)){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),g,r.Text.getRandom(8))}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),T,e.isEnable!==false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),y,r.Type.isStringFilled(e.bannerCode)?e.bannerCode:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),m,r.Type.isStringFilled(e.helpDesk)?e.helpDesk:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),I,e.helpMessageProvider);return i}babelHelpers.createClass(t,[{key:"getHelpMessage",value:function e(){if(babelHelpers.classPrivateFieldGet(this,k)instanceof l.HelpMessage){return babelHelpers.classPrivateFieldGet(this,k)}babelHelpers.classPrivateFieldSet(this,k,r.Type.isFunction(babelHelpers.classPrivateFieldGet(this,I))?babelHelpers.classPrivateFieldGet(this,I).call(this,this.getId(),this.getInputNode()):null);return babelHelpers.classPrivateFieldGet(this,k)}},{key:"cleanError",value:function e(){r.Dom.clean(babelHelpers.classPrivateFieldGet(this,_))}},{key:"setErrors",value:function e(t){this.cleanError();var i=b(t),l;try{for(i.s();!(l=i.n()).done;){var a=l.value;var s=r.Tag.render(n||(n=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__error-message">\n\t\t\t\t<span class="ui-icon-set --warning"></span>\n\t\t\t\t<span>',"</span>\n\t\t\t</div>"])),a);r.Dom.append(s,this.renderErrors())}}catch(e){i.e(e)}finally{i.f()}}},{key:"renderErrors",value:function e(){if(babelHelpers.classPrivateFieldGet(this,_)){return babelHelpers.classPrivateFieldGet(this,_)}babelHelpers.classPrivateFieldSet(this,_,r.Tag.render(o||(o=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__error-container"></div>']))));return babelHelpers.classPrivateFieldGet(this,_)}},{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,H)}},{key:"getLabel",value:function e(){return babelHelpers.classPrivateFieldGet(this,w)}},{key:"prefixId",value:function e(){return""}},{key:"getValue",value:function e(){return""}},{key:"getName",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"getInputNode",value:function e(){return null}},{key:"setName",value:function e(t){babelHelpers.classPrivateFieldSet(this,g,t)}},{key:"cancel",value:function e(){return}},{key:"render",value:function e(){if(this.field){return this.field}this.field=this.renderContentField();return this.field}},{key:"renderContentField",value:function e(){return r.Tag.render(d||(d=babelHelpers.taggedTemplateLiteral([""])))}},{key:"isEnable",value:function e(){return babelHelpers.classPrivateFieldGet(this,T)}},{key:"getBannerCode",value:function e(){return babelHelpers.classPrivateFieldGet(this,y)}},{key:"showBanner",value:function e(){if(this.getBannerCode()){BX.UI.InfoHelper.show(this.getBannerCode())}}},{key:"getHelpdeskCode",value:function e(){return babelHelpers.classPrivateFieldGet(this,m)}},{key:"showHelpdesk",value:function e(){if(this.getHelpdeskCode()){top.BX.Helper.show(this.getHelpdeskCode())}}},{key:"renderLockElement",value:function e(){var t=this;var i=r.Tag.render(c||(c=babelHelpers.taggedTemplateLiteral(['<span class="ui-icon-set --lock field-has-lock"></span>'])));i.addEventListener("click",(function(){t.showBanner()}));return i}},{key:"renderMoreElement",value:function e(t){return r.Tag.render(u||(u=babelHelpers.taggedTemplateLiteral(["\n\t\t\t","\n\t\t"])),this.getMoreElement(t))}},{key:"getMoreElement",value:function e(t){return'\n\t\t\t<a class="more" href="javascript:top.BX.Helper.show(\''.concat(t,"');\">\n\t\t\t\t").concat(r.Loc.getMessage("INTRANET_SETTINGS_CANCEL_MORE"),"\n\t\t\t</a>")}}]);return t}(i.EventEmitter);var P,S;function z(e,t){E(e,t);t.add(e)}function C(e,t,i){E(e,t);t.set(e,i)}function E(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function G(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var M=new WeakMap;var N=new WeakMap;var D=new WeakSet;var x=new WeakSet;var W=function(e){babelHelpers.inherits(t,e);function t(e){var l;babelHelpers.classCallCheck(this,t);e.label=e.title;l=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));z(babelHelpers.assertThisInitialized(l),x);z(babelHelpers.assertThisInitialized(l),D);C(babelHelpers.assertThisInitialized(l),M,{writable:true,value:void 0});C(babelHelpers.assertThisInitialized(l),N,{writable:true,value:void 0});l.hintOn=e.hintOn;l.hintOff=e.hintOff;l.hideSeparator=e.hideSeparator;l.alignCenter=e.alignCenter;l.noMarginBottom=e.noMarginBottom;l.switcher=new a.Switcher({inputName:l.getName(),checked:e.checked,id:l.getId(),attributeName:e.attributeName,handlers:e.handlers,color:e.colors,size:e.size});l.defaultValue=e.checked;i.EventEmitter.subscribe(l.switcher,"toggled",(function(){if(!l.isEnable()){l.switcher.check(l.defaultValue,false);if(!r.Type.isNil(l.getHelpMessage())){l.getHelpMessage().show()}return}l.switcher.inputNode.form.dispatchEvent(new Event("change"));l.changeHint(l.isChecked());l.emit("change",l.isChecked())}));return l}babelHelpers.createClass(t,[{key:"getValue",value:function e(){return this.switcher.inputNode.value}},{key:"getInputNode",value:function e(){return this.switcher.node}},{key:"prefixId",value:function e(){return"checker_"}},{key:"isChecked",value:function e(){return this.switcher.isChecked()}},{key:"renderMore",value:function e(){if(babelHelpers.classPrivateFieldGet(this,M)){return babelHelpers.classPrivateFieldGet(this,M)}babelHelpers.classPrivateFieldSet(this,M,!r.Type.isNil(this.getHelpdeskCode())?this.renderMoreElement(this.getHelpdeskCode()):"");return babelHelpers.classPrivateFieldGet(this,M)}},{key:"renderContentField",value:function e(){var t=!this.isEnable()?this.renderLockElement():null;return r.Tag.render(P||(P=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" \n\t\t\tclass="ui-section__field-switcher '," "," ",'">\n\t\t\t<div class="ui-section__field">\n\t\t\t\t<div class="ui-section__switcher">\n\t\t\t\t\t','\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="ui-section__field-inner">\n\t\t\t\t\t<div class="ui-section__title">\n\t\t\t\t\t\t'," ","\n\t\t\t\t\t</div>\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.hideSeparator?"--hide-separator":"",this.alignCenter?"--align-center --gray-title":"",this.noMarginBottom?"--no-margin-bottom":"",this.getInputNode(),this.getLabel(),t,G(this,x,A).call(this,this.isChecked()))}},{key:"getHint",value:function e(t){if(!r.Type.isStringFilled(this.hintOff)){return r.Type.isStringFilled(this.hintOn)?this.hintOn:""}var i=t?this.hintOn:this.hintOff;return r.Type.isStringFilled(i)?i:""}},{key:"changeHint",value:function e(t){var i=this.field.querySelector(".ui-section__hint");r.Dom.replace(i,G(this,x,A).call(this,t))}}]);return t}(F);function L(){if(!babelHelpers.classPrivateFieldGet(this,N)){babelHelpers.classPrivateFieldSet(this,N,!r.Type.isNil(this.getHelpdeskCode())?this.getMoreElement(this.getHelpdeskCode()):"")}return babelHelpers.classPrivateFieldGet(this,N)}function A(e){var t="";var i=G(this,D,L).call(this);var l=this.getHint(e);if(l.indexOf("#MORE_DETAILS#")===-1){t=l+" "+i}else{t=l.replace("#MORE_DETAILS#",i)}return r.Tag.render(S||(S=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),t)}var O,B;function j(e,t,i){U(e,t);t.set(e,i)}function U(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var R=new WeakMap;var X=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));j(babelHelpers.assertThisInitialized(i),R,{writable:true,value:void 0});i.hintTitle=r.Type.isStringFilled(e.hintTitle)?e.hintTitle:"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),R,r.Tag.render(O||(O=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__description">\n\t\t\t\t',"\n\t\t\t</div>"])),!i.isChecked()?i.hintOff:i.hintOn));return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"inline_checker_"}},{key:"renderContentField",value:function e(){var t=r.Tag.render(B||(B=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-switcher --field-separator --align-center">\n\t\t<div class="ui-section__field-inline-box">\n\t\t\t<div class="ui-section__field-switcher-box">\n\t\t\t\t<div class="ui-section__switcher"></div>\n\t\t\t\t<div class="ui-section__switcher-title">\n\t\t\t\t\t','\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="ui-section__field-inline-separator"></div>\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t<div class="ui-section__title">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getLabel(),this.hintTitle,babelHelpers.classPrivateFieldGet(this,R));this.switcher.renderTo(t.querySelector(".ui-section__switcher"));return t}},{key:"changeHint",value:function e(t){babelHelpers.classPrivateFieldGet(this,R).innerText=this.getHint(t)}}]);return t}(W);var V,q,$;function J(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=K(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function K(e,t){if(!e)return;if(typeof e==="string")return Q(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Q(e,t)}function Q(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function Y(e,t){ee(e,t);t.add(e)}function Z(e,t,i){ee(e,t);t.set(e,i)}function ee(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function te(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var ie=new WeakMap;var le=new WeakMap;var ae=new WeakMap;var re=new WeakMap;var se=new WeakSet;var ne=new WeakSet;var oe=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Y(babelHelpers.assertThisInitialized(i),ne);Y(babelHelpers.assertThisInitialized(i),se);Z(babelHelpers.assertThisInitialized(i),ie,{writable:true,value:[]});Z(babelHelpers.assertThisInitialized(i),le,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),ae,{writable:true,value:void 0});Z(babelHelpers.assertThisInitialized(i),re,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ie,e.items);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ae,e.isMulti===true);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),re,e.current);if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ae)&&i.getName().substring(i.getName().length-2)!=="[]"){i.setName(i.getName()+"[]")}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),le,te(babelHelpers.assertThisInitialized(i),se,de).call(babelHelpers.assertThisInitialized(i)));return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"item_picker_"}},{key:"renderContentField",value:function e(){return r.Tag.render(V||(V=babelHelpers.taggedTemplateLiteral(['\n\t\t<div class="ui-section__picker-wrapper" id="','">\n\t\t\t<div class="ui-section__field-label">',"</div>\n\t\t\t","\n\t\t\t","\n\t\t\t","\n\t\t</div>\n\t\t"])),this.getId(),this.getLabel(),te(this,ne,ce).call(this),this.renderErrors(),this.getInputNode())}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,le)}},{key:"onClickHandler",value:function e(t){r.Dom.toggleClass(t.target,"ui-section__selected");if(!r.Dom.hasClass(t.target,"ui-section__selected")&&babelHelpers.classPrivateFieldGet(this,ae)){this.unSelect(t.target)}else{this.select(t.target)}}},{key:"createItem",value:function e(t,i){var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return r.Dom.create("div",{text:t,props:{className:"ui-section__item "+(l?"ui-section__selected":"")},dataset:{value:i},events:{click:this.onClickHandler.bind(this)}})}},{key:"select",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!babelHelpers.classPrivateFieldGet(this,ae)){this.unSelectAll()}var l=t.dataset["value"];var a=babelHelpers.classPrivateFieldGet(this,le).querySelector('option[value="'+l+'"]');if(r.Type.isDomNode(a)){r.Dom.addClass(t,"ui-section__selected");a.selected=true;if(i){this.fireEvent()}}}},{key:"unSelect",value:function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var l=t.dataset["value"];var a=babelHelpers.classPrivateFieldGet(this,le).querySelector('option[value="'+l+'"]');if(r.Type.isDomNode(a)){r.Dom.removeClass(t,"ui-section__selected");a.selected=false;if(i){this.fireEvent()}}}},{key:"unSelectAll",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(r.Type.isDomNode(this.field)){var i=this.field.querySelectorAll(".ui-section__item.ui-section__selected");i.forEach((function(e){r.Dom.removeClass(e,"ui-section__selected")}))}var l=babelHelpers.classPrivateFieldGet(this,le).querySelectorAll("option");l.forEach((function(e){if(r.Type.isDomNode(e)){e.selected=false}}));if(t){this.fireEvent()}}},{key:"getNodesByValue",value:function e(t){var i;if(r.Type.isArray(t)){var l=t.map((function(e){return'.ui-section__item[data-value="'+e+'"]'}));i=l.join(", ")}else{i='.ui-section__item[data-value="'+t+'"]'}return this.field.querySelectorAll(i)}},{key:"fireEvent",value:function e(){babelHelpers.classPrivateFieldGet(this,le).dispatchEvent(new Event("change"));babelHelpers.classPrivateFieldGet(this,le).form.dispatchEvent(new Event("change"))}}]);return t}(F);function de(){var e=[];var t=J(babelHelpers.classPrivateFieldGet(this,ie)),i;try{for(t.s();!(i=t.n()).done;){var l=i.value,a=l.value,s=l.name,n=l.selected;var o="";if(n===true){o="selected"}e.push(r.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(["<option ",' value="','">',"</option>"])),o,a,s))}}catch(e){t.e(e)}finally{t.f()}return r.Dom.create("select",{attrs:{multiple:babelHelpers.classPrivateFieldGet(this,ae)?"on":"",name:this.getName(),disabled:!this.isEnable()?"disable":""},style:{display:"none"},children:e})}function ce(){var e=r.Tag.render($||($=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__item-collection"></div>'])));var t=J(babelHelpers.classPrivateFieldGet(this,ie)),i;try{for(t.s();!(i=t.n()).done;){var l=i.value,a=l.value,s=l.name,n=l.selected;r.Dom.append(this.createItem(s,a,n),e)}}catch(e){t.e(e)}finally{t.f()}return e}var ue,be,pe,ve,he;function fe(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=He(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function He(e,t){if(!e)return;if(typeof e==="string")return ge(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ge(e,t)}function ge(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function Te(e,t){me(e,t);t.add(e)}function ye(e,t,i){me(e,t);t.set(e,i)}function me(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function we(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var Ie=new WeakMap;var ke=new WeakMap;var _e=new WeakMap;var Fe=new WeakMap;var Pe=new WeakMap;var Se=new WeakMap;var ze=new WeakMap;var Ce=new WeakSet;var Ee=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);e.inputName=e.name;i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Te(babelHelpers.assertThisInitialized(i),Ce);ye(babelHelpers.assertThisInitialized(i),Ie,{writable:true,value:[]});ye(babelHelpers.assertThisInitialized(i),ke,{writable:true,value:void 0});ye(babelHelpers.assertThisInitialized(i),_e,{writable:true,value:void 0});ye(babelHelpers.assertThisInitialized(i),Fe,{writable:true,value:void 0});ye(babelHelpers.assertThisInitialized(i),Pe,{writable:true,value:void 0});ye(babelHelpers.assertThisInitialized(i),Se,{writable:true,value:void 0});ye(babelHelpers.assertThisInitialized(i),ze,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ie,e.items);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ke,r.Type.isString(e.hintTitle)?e.hintTitle:"");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),_e,r.Type.isObject(e.hints)?e.hints:{});i.defaultValue=e.current;babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Fe,r.Tag.render(ue||(ue=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__title"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Pe,r.Tag.render(be||(be=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__description"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ze,r.Tag.render(pe||(pe=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__field-inline-separator"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Se,we(babelHelpers.assertThisInitialized(i),Ce,Ge).call(babelHelpers.assertThisInitialized(i)));return i}babelHelpers.createClass(t,[{key:"getHint",value:function e(t){var i=babelHelpers.classPrivateFieldGet(this,_e)[t];if(!r.Type.isString(i)||i===""){return null}return i}},{key:"prefixId",value:function e(){return"selector_"}},{key:"setHint",value:function e(t){var i=this.renderMoreElement(this.getHelpdeskCode()).outerHTML;var l=!r.Type.isNil(this.getHelpdeskCode())?i:"";var a=this.getHint(t);babelHelpers.classPrivateFieldGet(this,Fe).innerText=!r.Type.isNil(a)?babelHelpers.classPrivateFieldGet(this,ke):"";babelHelpers.classPrivateFieldGet(this,Pe).innerHTML=!r.Type.isNil(a)?a+" "+l:"";r.Dom.removeClass(this.field,"--field-separator");r.Dom.remove(babelHelpers.classPrivateFieldGet(this,ze));if(!r.Type.isNil(a)){r.Dom.addClass(this.field,"--field-separator");var s=this.field.querySelector(".ui-section__field-inline-box .ui-section__field");r.Dom.insertAfter(babelHelpers.classPrivateFieldGet(this,ze),s)}}},{key:"renderContentField",value:function e(){var t=!this.isEnable()?"ui-ctl-disabled":"";var i=!this.isEnable()?this.renderLockElement():null;return r.Tag.render(ve||(ve=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector ">\n\t\t\t<div class="ui-section__field-container">\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label class="ui-section__field-label" for="','">',"</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\t\t\t\n\t\t\t\t<div class="ui-section__field-inline-box">\n\t\t\t\t\t<div class="ui-section__field">\t\t\t\t\n\t\t\t\t\t\t<div class="ui-ctl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown ','">\n\t\t\t\t\t\t\t<div class="ui-ctl-after ui-ctl-icon-angle"></div>\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t<div class="ui-section__hint">\n\t\t\t\t\t\t',"\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t</div>\t\t\t\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getName(),this.getLabel(),i,t,this.getInputNode(),babelHelpers.classPrivateFieldGet(this,Fe),babelHelpers.classPrivateFieldGet(this,Pe))}},{key:"render",value:function e(){var e=babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"render",this).call(this);this.setHint(this.getInputNode().value);return e}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,Se)}}]);return t}(F);function Ge(){var e=this;var t=[];var i=fe(babelHelpers.classPrivateFieldGet(this,Ie)),l;try{for(i.s();!(l=i.n()).done;){var a=l.value,s=a.value,n=a.name,o=a.selected;var d="";if(o===true){d="selected"}t.push(r.Tag.render(he||(he=babelHelpers.taggedTemplateLiteral(["<option ",' value="','">',"</option>"])),d,s,n))}}catch(e){i.e(e)}finally{i.f()}return r.Dom.create("select",{attrs:{name:this.getName(),class:"ui-ctl-element"},events:{change:function t(i){e.setHint(i.target.value)},click:function t(i){if(!e.isEnable()){if(!r.Type.isNil(e.getHelpMessage())){e.getHelpMessage().show()}i.preventDefault()}},mousedown:function t(i){if(!e.isEnable()){i.preventDefault()}}},children:t})}var Me=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));i.switcher=e.switcher;r.Event.bind(i.switcher.getNode(),"click",(function(){if(!i.isEnable()&&!i.switcher.isChecked()){i.switcher.check(true,false);if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}return}i.switcher.inputNode.form.dispatchEvent(new window.Event("change"));i.emit("change",i.switcher.isChecked())}));return i}return t}(F);var Ne,De;function xe(e,t,i){We(e,t);t.set(e,i)}function We(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var Le=new WeakMap;var Ae=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));xe(babelHelpers.assertThisInitialized(i),Le,{writable:true,value:void 0});i.defaultValue=r.Type.isStringFilled(e.value)?e.value:"";i.hintTitle=r.Type.isStringFilled(e.hintTitle)?e.hintTitle:"";i.placeholder=r.Type.isStringFilled(e.placeholder)?e.placeholder:"";i.inputDefaultWidth=r.Type.isBoolean(e.inputDefaultWidth)?e.inputDefaultWidth:"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Le,r.Tag.render(Ne||(Ne=babelHelpers.taggedTemplateLiteral(['<input \n\t\t\tvalue="','" \n\t\t\tname="','" \n\t\t\ttype="text" \n\t\t\tclass="ui-ctl-element ','" \n\t\t\tplaceholder="','"\n\t\t\t',"\n\t\t>"])),r.Text.encode(i.defaultValue),r.Text.encode(i.getName()),i.isEnable()?"":"--readonly",r.Text.encode(i.placeholder),i.isEnable()?"":"readonly"));if(!i.isEnable()){r.Event.bind(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Le),"click",(function(e){e.preventDefault();if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}}))}if(i.isEnable()){i.getInputNode().addEventListener("keydown",(function(){i.getInputNode().form.dispatchEvent(new window.Event("change"))}))}return i}babelHelpers.createClass(t,[{key:"prefixId",value:function e(){return"text_"}},{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,Le)}},{key:"renderContentField",value:function e(){var t=!this.isEnable?this.renderLockElement():null;return r.Tag.render(De||(De=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector">\n\t\t\t<div class="ui-section__field-container">\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label for="','" class="ui-section__field-label">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-block ','">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t",'\n\t\t\t</div>\n\t\t\t<div class="ui-section__hint">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),this.getName(),this.getLabel(),t,this.inputDefaultWidth?"":"ui-ctl-w100",this.getInputNode(),this.renderErrors(),this.hintTitle)}}]);return t}(F);var Oe,Be,je;function Ue(e,t,i){Re(e,t);t.set(e,i)}function Re(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var Xe=new WeakMap;var Ve=new WeakMap;var qe=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Ue(babelHelpers.assertThisInitialized(i),Xe,{writable:true,value:void 0});Ue(babelHelpers.assertThisInitialized(i),Ve,{writable:true,value:void 0});i.valueColor=r.Type.isBoolean(e.valueColor)===true?"--color-blue":"";babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Xe,r.Type.isStringFilled(e.hintDesc)?e.hintDesc:"");babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),Ve,r.Tag.render(Oe||(Oe=babelHelpers.taggedTemplateLiteral(["<div></div>"]))));i.getInputNode().addEventListener("keyup",(function(e){r.Dom.clean(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ve));r.Dom.append(i.renderHint(),babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),Ve))}));return i}babelHelpers.createClass(t,[{key:"renderContentField",value:function e(){var t=!this.isEnable?this.renderLockElement():null;var i=r.Tag.render(Be||(Be=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-selector --field-separator">\n\t\t\t<div class="ui-section__field-container">\t\t\t\n\t\t\t\t<div class="ui-section__field-label_box">\n\t\t\t\t\t<label for="','" class="ui-section__field-label">',"</label> \n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-section__field-inline-box">\n\t\t\t\t\t<div class="ui-section__field">\n\t\t\t\t\t\t<div class="ui-ctl ui-ctl-textbox ui-ctl-block ui-ctl-w100">\n\t\t\t\t\t\t\t','\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="ui-section__field-inline-separator"></div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),r.Text.encode(this.getName()),this.getLabel(),t,this.getInputNode(),babelHelpers.classPrivateFieldGet(this,Ve),this.renderErrors());r.Dom.append(this.renderHint(),babelHelpers.classPrivateFieldGet(this,Ve));return i}},{key:"prefixId",value:function e(){return"text_inline_"}},{key:"renderHint",value:function e(){return r.Tag.render(je||(je=babelHelpers.taggedTemplateLiteral(['\n\t\t<div class="ui-section__hint">\n\t\t\t<div class="ui-section__title">','</div>\n\t\t\t<div class="ui-section__value ','">','</div>\n\t\t\t<div class="ui-section__description">',"</div>\n\t\t</div>\n\t\t"])),this.hintTitle,this.valueColor,r.Text.encode(this.getInputNode().value),babelHelpers.classPrivateFieldGet(this,Xe))}}]);return t}(Ae);var $e,Je;function Ke(e,t){var i=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=Qe(e))||t&&e&&typeof e.length==="number"){if(i)e=i;var l=0;var a=function e(){};return{s:a,n:function t(){if(l>=e.length)return{done:true};return{done:false,value:e[l++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r=true,s=false,n;return{s:function t(){i=i.call(e)},n:function e(){var t=i.next();r=t.done;return t},e:function e(t){s=true;n=t},f:function e(){try{if(!r&&i["return"]!=null)i["return"]()}finally{if(s)throw n}}}}function Qe(e,t){if(!e)return;if(typeof e==="string")return Ye(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor)i=e.constructor.name;if(i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ye(e,t)}function Ye(e,t){if(t==null||t>e.length)t=e.length;for(var i=0,l=new Array(t);i<t;i++)l[i]=e[i];return l}function Ze(e,t){tt(e,t);t.add(e)}function et(e,t,i){tt(e,t);t.set(e,i)}function tt(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function it(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var lt=new WeakMap;var at=new WeakMap;var rt=new WeakMap;var st=new WeakMap;var nt=new WeakMap;var ot=new WeakMap;var dt=new WeakMap;var ct=new WeakMap;var ut=new WeakMap;var bt=new WeakSet;var pt=new WeakSet;var vt=new WeakSet;var ht=function(e){babelHelpers.inherits(t,e);function t(e){var i;babelHelpers.classCallCheck(this,t);i=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Ze(babelHelpers.assertThisInitialized(i),vt);Ze(babelHelpers.assertThisInitialized(i),pt);Ze(babelHelpers.assertThisInitialized(i),bt);et(babelHelpers.assertThisInitialized(i),lt,{writable:true,value:void 0});et(babelHelpers.assertThisInitialized(i),at,{writable:true,value:[]});et(babelHelpers.assertThisInitialized(i),rt,{writable:true,value:void 0});et(babelHelpers.assertThisInitialized(i),st,{writable:true,value:null});et(babelHelpers.assertThisInitialized(i),nt,{writable:true,value:null});et(babelHelpers.assertThisInitialized(i),ot,{writable:true,value:[]});et(babelHelpers.assertThisInitialized(i),dt,{writable:true,value:""});et(babelHelpers.assertThisInitialized(i),ct,{writable:true,value:void 0});et(babelHelpers.assertThisInitialized(i),ut,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),st,r.Type.isFunction(e.encodeValue)?e.encodeValue:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),nt,r.Type.isFunction(e.decodeValue)?e.decodeValue:null);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),rt,r.Tag.render($e||($e=babelHelpers.taggedTemplateLiteral(['<div class="ui-section__input-container"></div>']))));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),dt,e.className);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ct,e.enableAll!==false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ut,e.enableDepartments===true);it(babelHelpers.assertThisInitialized(i),pt,Ht).call(babelHelpers.assertThisInitialized(i),e.values);var l=[{id:"user",options:{intranetUsersOnly:true}},{id:"department",options:{selectMode:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ut)?"usersAndDepartments":"usersOnly",allowFlatDepartments:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ut),allowSelectRootDepartment:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ut)}}];if(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ct)){l.push({id:"meta-user",options:{"all-users":babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),ct)}})}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),lt,new s.TagSelector({id:i.getId(),textBoxAutoHide:true,textBoxWidth:350,maxHeight:99,dialogOptions:{id:i.getId(),preselectedItems:babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),at),events:{"Item:onSelect":i.onChangeSelector.bind(babelHelpers.assertThisInitialized(i)),"Item:onDeselect":i.onChangeSelector.bind(babelHelpers.assertThisInitialized(i))},entities:l}}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(i),ot,babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),lt).getTags());if(!i.isEnable()){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),lt).hideAddButton();babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),lt).getTextBox().readOnly=true;r.Dom.adjust(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(i),lt).getContainer(),{events:{click:function e(t){t.preventDefault();if(!r.Type.isNil(i.getHelpMessage())){i.getHelpMessage().show()}}}})}return i}babelHelpers.createClass(t,[{key:"getInputNode",value:function e(){return babelHelpers.classPrivateFieldGet(this,lt).getContainer()}},{key:"prefixId",value:function e(){return"user_selector_"}},{key:"renderContentField",value:function e(){var t=r.Tag.render(Je||(Je=babelHelpers.taggedTemplateLiteral(['\n\t\t<div id="','" class="ui-section__field-user_selector ','">\n\t\t\t<div class="ui-section__field">\n\t\t\t\t<div class="ui-section__field-label">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t",'\n\t\t\t<div class="ui-section__input-box">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t</div>\n\t\t"])),this.getId(),babelHelpers.classPrivateFieldGet(this,dt),this.getLabel(),this.renderErrors(),babelHelpers.classPrivateFieldGet(this,rt));babelHelpers.classPrivateFieldGet(this,lt).renderTo(t.querySelector(".ui-section__field"));return t}},{key:"onChangeSelector",value:function e(t){var i=this;var l=t.target.getSelectedItems();r.Dom.clean(babelHelpers.classPrivateFieldGet(this,rt));if(r.Type.isArray(l)){l.forEach((function(e){var t="";switch(e.entityId){case"meta-user":t="AU";break;case"department":if(e.id.toString().split(":")[1]==="F"){t="D"}else{t="DR"}break;case"user":t="U";break;default:break}if(t){var l=r.Type.isFunction(babelHelpers.classPrivateFieldGet(i,st))?babelHelpers.classPrivateFieldGet(i,st).call(i,{id:e.id,type:t}):e.id;if(l){r.Dom.append(it(i,bt,ft).call(i,l),babelHelpers.classPrivateFieldGet(i,rt))}}}))}it(this,vt,gt).call(this)}},{key:"setValues",value:function e(t){if(r.Type.isArray(t)){var i=Ke(t),l;try{for(i.s();!(l=i.n()).done;){var a=l.value;var s=r.Type.isFunction(babelHelpers.classPrivateFieldGet(this,nt))?babelHelpers.classPrivateFieldGet(this,nt).call(this,a):a;var n=[];if(r.Type.isObject(s)&&r.Type.isString(s.type)&&r.Type.isString(s.id)){switch(s.type){case"AU":n=["meta-user","all-users"];break;case"DR":if(!babelHelpers.classPrivateFieldGet(this,ut)){continue}n=["department",s.id];break;case"D":if(!babelHelpers.classPrivateFieldGet(this,ut)){continue}n=["department",s.id.toString()+":F"];break;case"U":n=["user",s.id];break;default:continue}}babelHelpers.classPrivateFieldGet(this,at).push(n)}}catch(e){i.e(e)}finally{i.f()}}else{babelHelpers.classPrivateFieldSet(this,at,[])}}}]);return t}(F);function ft(e){return r.Dom.create("input",{attrs:{name:this.getName(),value:r.Text.encode(e),type:"text"},style:{display:"none"}})}function Ht(e){if(r.Type.isArray(e)){var t=Ke(e),i;try{for(t.s();!(i=t.n()).done;){var l=i.value;var a=it(this,bt,ft).call(this,l);r.Dom.append(a,babelHelpers.classPrivateFieldGet(this,rt))}}catch(e){t.e(e)}finally{t.f()}this.setValues(e)}}function gt(){var e=babelHelpers.classPrivateFieldGet(this,rt).firstChild;var t;if(r.Type.isNil(e)){e=it(this,bt,ft).call(this,"");r.Dom.append(e,babelHelpers.classPrivateFieldGet(this,rt));t=e.form;r.Dom.remove(e)}else{t=e.form}t.dispatchEvent(new Event("change"))}e.Checker=W;e.InlineChecker=X;e.ItemPicker=oe;e.Selector=Ee;e.SingleChecker=Me;e.TextInput=Ae;e.TextInputInline=qe;e.UserSelector=ht;e.BaseField=F})(this.BX.UI.FormElements=this.BX.UI.FormElements||{},BX.UI,BX.Event,BX.UI,BX.UI,BX,BX.UI.EntitySelector);
//# sourceMappingURL=view.bundle.map.js