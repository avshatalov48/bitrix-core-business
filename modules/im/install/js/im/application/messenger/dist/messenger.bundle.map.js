{"version":3,"file":"messenger.bundle.map.js","names":["this","BX","Messenger","exports","im_application_core","im_controller","im_provider_rest","ui_vue","ui_vue_vuex","im_lib_utils","im_component_recent","im_component_dialog","im_component_textarea","pull_component_status","main_core_events","ui_entitySelector","im_const","im_eventHandler","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","Search","_this","params","undefined","classCallCheck","store","dialog","UI","EntitySelector","Dialog","targetNode","enableSearch","context","multiple","entities","id","filters","options","searchableChatTypes","searchableBotTypes","events","ItemOnSelect","event","onItemSelect","onLoad","fillStore","createClass","value","deselectAll","item","getData","dialogId","getDialogIdByItem","EventEmitter","emit","EventType","open","$event","getTarget","items","getItems","users","dialogues","customData","getCustomData","entityId","getEntityId","get","_dialogId","dispatch","show","ownKeys$1","_objectSpread$1","BitrixVue","component","props","userId","type","Number","default","data","selectedDialogId","notificationsSelected","textareaHeight","computed","DeviceType","textareaHeightStyle","flex","concat","isDialog","Utils","isChatId","chatId","application","localize","getFilteredPhrases","Vuex","mapState","state","created","initEventHandlers","searchPopup","subscribeToEvents","beforeDestroy","unsubscribeEvents","destroyHandlers","methods","textareaDragHandler","getTextareaDragHandler","readingHandler","ReadingHandler","$Bitrix","reactionHandler","ReactionHandler","quoteHandler","QuoteHandler","textareaHandler","TextareaHandler","sendMessageHandler","SendMessageHandler","textareaUploadHandler","TextareaUploadHandler","dialogActionHandler","DialogActionHandler","destroy","_TextareaDragHandler","TextareaDragHandler","onHeightChange","_ref","newHeight","onStopDrag","scrollToBottom","force","openSearch","document","querySelector","$store","openMessenger","toString","subscribe","onOpenMessenger","unsubscribe","_ref2","onTextareaStartDrag","onStartDrag","textarea","setBlur","template","MessengerApplication","initPromise","Promise","resolve","initPromiseResolver","rootNode","node","createElement","initCore","then","initComponent","initComplete","_this2","Core","ready","controller","_this3","setInitialApplicationInfo","setDialogRestHandler","setApplicationDialogInfo","createVue","el","getUserId","vue","vueInstance","inited","getStore","commit","getDialogId","quoteEnable","autoplayVideo","darkBackground","getters","diskFolderId","addRestAnswerHandler","DialogRestHandler","create","getLocalize","parseInt","getHost","location","origin","getSiteId","addLocalize","phrases","name","Application","Provider","Rest","Lib","window","Event","Const","EventHandler"],"sources":["messenger.bundle.js"],"mappings":"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"}