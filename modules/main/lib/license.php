<? namespace Bitrix\Main;$GLOBALS['____1553799435']= array(base64_decode('ZmlsZV'.'9l'.'eGlzdHM='),base64_decode('c3Ry'.'dG'.'91'.'cHB'.'lcg=='),base64_decode('b'.'WQ1'),base64_decode('b'.'WQ'.'1'),base64_decode('a'.'W5fYXJyY'.'X'.'k='),base64_decode('aW5f'.'YXJyY'.'X'.'k='),base64_decode('aW5fY'.'XJyYXk='),base64_decode('ZGVmaW5lZA=='),base64_decode('ZGVmaW5lZA=='),base64_decode('Z'.'GVm'.'a'.'W5'.'lZA=='),base64_decode(''.'ZmlsZV9'.'leGlz'.'dHM'.'='),base64_decode('Zm'.'lsZV9le'.'G'.'lzdH'.'M='),base64_decode(''.'ZmlsZV9'.'le'.'GlzdHM='),base64_decode('Zmls'.'ZV9l'.'eG'.'lzd'.'HM='),base64_decode('ZXhwbG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___192193365')){function ___192193365($_1786630545){static $_433131547= false; if($_433131547 == false) $_433131547=array(''.'L'.'2'.'JpdH'.'Jp'.'eC'.'9saWNlbnNlX2tleS5waH'.'A'.'=','','',''.'RE'.'VNTw==',''.'REVNTw==','Q'.'klUUklY','TElDRU5DRQ==','REVNTw==','L2tleV9'.'1cGRhdGUucGh'.'wP'.'2xpY2V'.'u'.'c2'.'Vfa2V5PQ==','Jn'.'RvYmFz'.'a2'.'V0PXk'.'mb'.'GF'.'uZz'.'0=','cn'.'U=','a3o=','Ynk'.'=','aHR0cHM6'.'Ly9k'.'Z'.'X'.'Y'.'uMWM'.'tYm'.'l0cml'.'4'.'LnJ1L2'.'xlYX'.'JuaW5nL'.'2Nv'.'dXJzZS9pb'.'mRleC5'.'w'.'aHA/'.'Q09V'.'UlNFX0l'.'E'.'PTEzNS'.'ZMRVNTT05fSUQ'.'9M'.'jU3MjA=','aHR0cHM6Ly9'.'0cmF'.'pbmluZy5'.'ia'.'X'.'Rya'.'Xg'.'y'.'N'.'C5'.'jb'.'20vc3Vwc'.'G9ydC90c'.'mFp'.'bmluZ'.'y9jb'.'3Vyc'.'2'.'Uva'.'W'.'5kZX'.'gu'.'cGhwP0NPVV'.'JTR'.'V9JR'.'D0xNzgm'.'TEVTU09OX0'.'l'.'EPTI'.'1OT'.'MyJkx'.'F'.'U'.'1'.'NP'.'T'.'l9'.'QQ'.'V'.'RIPT'.'E3N'.'TI'.'wLjE'.'3'.'NT'.'YyLj'.'I1O'.'TMwLjI1OT'.'My','cnU=',''.'Yn'.'k=','a3'.'o=','ZGU=',''.'ZXU=','Zn'.'I=','cGw'.'=',''.'aXQ=',''.'dW'.'s=','ZXU=','Y29t','ZW4=','REVNTw==','WQ'.'==','VE'.'lNRUxJ'.'TUlUX0VESVRJT04=','WQ'.'==','RU5DT0RF','WQ==','U2l0'.'Z'.'UV'.'4'.'cGlyZUR'.'hdGU'.'=',''.'b'.'WF'.'pbg==','fnN1'.'cHB'.'v'.'c'.'nRfZmluaXNo'.'X'.'2RhdGU=',''.'WS1tLWQ=','WS'.'1tLWQ'.'=','Yml0c'.'m'.'l4M'.'jQ'.'=','bW'.'Fpbg==','flB'.'BUk'.'FNX0NMSUV'.'OVF9M'.'QU5'.'H','aW50cmF'.'uZXQ'.'=','ZW4=','cnU=','b'.'WFpbg==',''.'dm'.'VuZG9y',''.'dW'.'Ff'.'Yml'.'0'.'cml4X'.'3Bvcn'.'RhbA'.'='.'=','dWE=','Ym'.'l0cml4'.'X'.'3Bv'.'c'.'nRh'.'bA==','ZW4'.'=','MW'.'NfYml0cm'.'l4X'.'3Bvc'.'nRhbA==','cn'.'U=',''.'L2Jpd'.'H'.'JpeC9tb2R1b'.'GVz'.'L2'.'1haW4vb'.'GFuZy91'.'YQ==','d'.'WE=','L2Jpd'.'H'.'JpeC9tb2R1bGVzL'.'2'.'1ha'.'W4vbGFuZy9ieQ==','Ynk'.'=',''.'L2'.'JpdHJpeC'.'9tb2R1'.'bGVzL2'.'1haW4vbGFu'.'Z'.'y9'.'reg==','a'.'3o'.'=','L2'.'JpdHJpeC9tb'.'2R1'.'bGVz'.'L21h'.'aW4vbGFuZy9yd'.'Q'.'==',''.'c'.'nU=',''.'bWFpbg==','fl'.'BBUkFNX1BBUlRORV'.'JfS'.'U'.'Q'.'=','b'.'WFpbg==','U'.'EF'.'SQU1fTUFY'.'X1VT'.'RVJT','bWFpbg'.'==','fkNPV'.'U5UX0VYVFJB','Tg==',''.'WQ'.'==',''.'ZXh0cm'.'FuZXQ=',''.'QU5E'.'IFUuTE'.'F'.'TVF9'.'MT'.'0d'.'JTiA+IA='.'=','QU5EIFUuTEFTVF9MT0dJT'.'iBJU'.'yBOT1Qg'.'TlVMTA==','aW50'.'cmFu'.'ZXQ=','ZXh'.'0'.'cmF'.'uZXQ=','ZXh'.'0'.'cm'.'FuZ'.'XRfZ3JvdXA'.'=','bW'.'Fpbg'.'='.'=','fmxpY2Vuc2V'.'fbmFtZQ==','bWFpb'.'g==','fmxpY2'.'Vuc2'.'V'.'fY29'.'kZXM=','','L'.'A==');return base64_decode($_433131547[$_1786630545]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1058683557= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1058683557 === null){ $_1349331769= Loader::getDocumentRoot(). ___192193365(0); $LICENSE_KEY= ___192193365(1); if($GLOBALS['____1553799435'][0]($_1349331769)){ include($_1349331769);} $this->_1058683557=($LICENSE_KEY == ___192193365(2) || $GLOBALS['____1553799435'][1]($LICENSE_KEY) == ___192193365(3)? ___192193365(4): $LICENSE_KEY);} return $this->_1058683557;} public function getHashLicenseKey(): string{ return $GLOBALS['____1553799435'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1553799435'][3](___192193365(5). $this->getKey(). ___192193365(6));} public function isDemoKey(): bool{ return $this->getKey() == ___192193365(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___192193365(8). $this->getHashLicenseKey(). ___192193365(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_539454169= $this->getRegion(); if($GLOBALS['____1553799435'][4]($_539454169,[___192193365(10), ___192193365(11), ___192193365(12)])){ return ___192193365(13);} return ___192193365(14);} public function getRenewalLink(): string{ $_539454169= $this->getRegion(); if($GLOBALS['____1553799435'][5]($_539454169,[___192193365(15), ___192193365(16), ___192193365(17), ___192193365(18)])){ return self::URL_RENEWAL_LICENSE[$_539454169];} if($GLOBALS['____1553799435'][6]($_539454169,[___192193365(19), ___192193365(20), ___192193365(21), ___192193365(22), ___192193365(23)])){ return self::URL_RENEWAL_LICENSE[___192193365(24)];} return self::URL_RENEWAL_LICENSE[___192193365(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___192193365(26)];} public function isDemo(): bool{ return $GLOBALS['____1553799435'][7](___192193365(27)) && DEMO === ___192193365(28);} public function isTimeBound(): bool{ return $GLOBALS['____1553799435'][8](___192193365(29)) && TIMELIMIT_EDITION === ___192193365(30);} public function isEncoded(): bool{ return $GLOBALS['____1553799435'][9](___192193365(31)) && ENCODE === ___192193365(32);} public function getExpireDate():?Date{ $_1992075463= (int)($GLOBALS[___192193365(33)] ??(842-2*421)); if($_1992075463>(886-2*443)){ return Date::createFromTimestamp($_1992075463);} return null;} public function getSupportExpireDate():?Date{ $_1992075463= Option::get(___192193365(34), ___192193365(35)); if(Date::isCorrect($_1992075463, ___192193365(36))){ return new Date($_1992075463, ___192193365(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___192193365(38))){ return \CBitrix24::getPortalZone();} $_539454169= Option::get(___192193365(39), ___192193365(40)); if(!empty($_539454169)){ return $_539454169;} $_539454169= $this->__840312572(); if(!empty($_539454169)){ return $_539454169;} return $this->__2027929534();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___192193365(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___192193365(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___192193365(43)];} private function __840312572():?string{ $_1660931589= Option::get(___192193365(44), ___192193365(45)); if($_1660931589 === ___192193365(46)){ return ___192193365(47);} if($_1660931589 === ___192193365(48)){ return ___192193365(49);} if($_1660931589 === ___192193365(50)){ return ___192193365(51);} return null;} private function __2027929534():?string{ $_470789754= Application::getDocumentRoot(); if($GLOBALS['____1553799435'][10]($_470789754. ___192193365(52))){ return ___192193365(53);} if($GLOBALS['____1553799435'][11]($_470789754. ___192193365(54))){ return ___192193365(55);} if($GLOBALS['____1553799435'][12]($_470789754. ___192193365(56))){ return ___192193365(57);} if($GLOBALS['____1553799435'][13]($_470789754. ___192193365(58))){ return ___192193365(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___192193365(60), ___192193365(61), min(62,0,20.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___192193365(62), ___192193365(63),(1340/2-670));} public function isExtraCountable(): bool{ return Option::get(___192193365(64), ___192193365(65), ___192193365(66)) === ___192193365(67) && ModuleManager::isModuleInstalled(___192193365(68));} public function getActiveUsersCount(Date $_375870194= null): int{ $_2030098357= Application::getConnection(); $_529394535= min(32,0,10.666666666667); if($_375870194 !== null){  $_1976581977= ___192193365(69).$_2030098357->getSqlHelper()->convertToDbDate($_375870194);} else{  $_1976581977= ___192193365(70);} if(ModuleManager::isModuleInstalled(___192193365(71))){ $_1248102923="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1976581977}
			"; $_529394535= (int)$_2030098357->queryScalar($_1248102923); $_1276087715= (int)Option::get(___192193365(72), ___192193365(73)); if($_1276087715>(892-2*446) && $this->isExtraCountable()){ $_1248102923="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1276087715}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1976581977}
							AND D.VALUE_ID IS NULL
					"; $_529394535 += (int)$_2030098357->queryScalar($_1248102923);}} return $_529394535;}  public function getName(): string{ return Option::get(___192193365(74), ___192193365(75));}  public function getCodes(): array{ $_721425532= Option::get(___192193365(76), ___192193365(77)); if($_721425532 != ___192193365(78)){ return $GLOBALS['____1553799435'][14](___192193365(79), $_721425532);} return[];}}?>