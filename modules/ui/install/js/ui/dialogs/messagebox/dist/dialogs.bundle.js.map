{"version":3,"file":"dialogs.bundle.js","sources":["../src/messageboxbuttons.js","../src/messagebox.js"],"sourcesContent":["/**\n * @namespace BX.UI.Dialogs\n */\nexport default class MessageBoxButtons {\n\tstatic NONE = \"none\";\n\n\tstatic OK = \"ok\";\n\tstatic CANCEL = \"cancel\";\n\tstatic YES = \"yes\";\n\tstatic NO = \"no\";\n\n\tstatic OK_CANCEL = \"ok_cancel\";\n\tstatic YES_NO = \"yes_no\";\n\tstatic YES_CANCEL = \"yes_cancel\";\n\tstatic YES_NO_CANCEL = \"yes_no_cancel\";\n}","import { Type, Loc, Cache } from 'main.core';\nimport { Popup } from 'main.popup';\nimport MessageBoxButtons from './messageboxbuttons';\nimport 'ui.buttons';\n\n/**\n * @namespace {BX.UI.Dialogs}\n */\nexport default class MessageBox\n{\n\t/** @var {Popup} */\n\tpopupWindow = null;\n\ttitle = null;\n\tmessage = null;\n\tmodal = true;\n\tpopupOptions = {};\n\tminWidth = 300;\n\tminHeight = 150;\n\tmaxWidth = 400;\n\tbuttons = [];\n\tmediumButtonSize: false;\n\tcacheable: false;\n\n\tokCallback = null;\n\tcancelCallback = null;\n\tyesCallback = null;\n\tnoCallback = null;\n\n\tconstructor(options = {})\n\t{\n\t\toptions = Type.isPlainObject(options) ? options : {};\n\t\tthis.popupOptions = Type.isPlainObject(options.popupOptions) ? options.popupOptions : {};\n\n\t\tthis.cache = new Cache.MemoryCache();\n\t\tthis.handleButtonClick = this.handleButtonClick.bind(this);\n\n\t\tthis.modal = options.modal !== false;\n\t\tthis.cacheable = options.cacheable === true;\n\n\t\tthis.setTitle(options.title);\n\t\tthis.setMessage(options.message);\n\n\t\tthis.setOkCallback(options.onOk);\n\t\tthis.setCancelCallback(options.onCancel);\n\t\tthis.setYesCallback(options.onYes);\n\t\tthis.setNoCallback(options.onNo);\n\n\t\tif (Type.isBoolean(options.mediumButtonSize))\n\t\t{\n\t\t\tthis.mediumButtonSize = options.mediumButtonSize;\n\t\t}\n\t\telse if (this.getTitle() !== null)\n\t\t{\n\t\t\tthis.mediumButtonSize = true;\n\t\t}\n\n\t\tif (this.isMediumButtonSize())\n\t\t{\n\t\t\tthis.minWidth = 400;\n\t\t\tthis.minHeight = 200;\n\t\t\tthis.maxWidth = 500;\n\t\t}\n\n\t\tthis.minWidth = Type.isNumber(options.minWidth) ? options.minWidth : this.minWidth;\n\t\tthis.minHeight = Type.isNumber(options.minHeight) ? options.minHeight : this.minHeight;\n\t\tthis.maxWidth = Type.isNumber(options.maxWidth) ? options.maxWidth : this.maxWidth;\n\n\t\tthis.setOkCaption(options.okCaption);\n\t\tthis.setCancelCaption(options.cancelCaption);\n\t\tthis.setYesCaption(options.yesCaption);\n\t\tthis.setNoCaption(options.noCaption);\n\n\t\tthis.setButtons(options.buttons);\n\t}\n\n\t/**\n\t * @param {string} message\n\t * @param args\n\t * @example\n\t * BX.UI.Dialogs.{MessageBox.alert('Message');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', (messageBox, button, event) => {});\n\t * BX.UI.Dialogs.MessageBox.alert('Message', (messageBox, button, event) => {}, 'Proceed');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title');\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title', (messageBox, button, event) => {});\n\t * BX.UI.Dialogs.MessageBox.alert('Message', 'Title', (messageBox, button, event) => {}, 'Proceed');\n\t */\n\tstatic alert(message: string, ...args)\n\t{\n\t\tlet title = null;\n\t\tlet okCallback = null;\n\t\tlet okCaption = null;\n\n\t\tif (args.length)\n\t\t{\n\t\t\tif (Type.isString(args[0]))\n\t\t\t{\n\t\t\t\t[title, okCallback, okCaption] = args;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[okCallback, okCaption] = args;\n\t\t\t}\n\t\t}\n\n\t\tthis.show({\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\tokCaption,\n\t\t\tonOk: okCallback,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param {string} message\n\t * @param args\n\t *\n\t * @example\n\t * BX.UI.Dialogs.MessageBox.confirm('Message');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {}, 'Proceed');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', () => {}, 'Proceed', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title');\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title', () => {});\n\t * BX.UI.Dialogs.MessageBox.confirm('Message', 'Title', () => {}, 'Proceed', () => {});\n\t */\n\tstatic confirm(message: string, ...args)\n\t{\n\t\tlet title = null;\n\t\tlet okCallback = null;\n\t\tlet okCaption = null;\n\t\tlet cancelCallback = null;\n\n\t\tif (args.length)\n\t\t{\n\t\t\tif (Type.isString(args[0]))\n\t\t\t{\n\t\t\t\t[title, okCallback, okCaption, cancelCallback] = args;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t[okCallback, okCaption, cancelCallback] = args;\n\t\t\t}\n\t\t}\n\n\t\tthis.show({\n\t\t\tmessage,\n\t\t\ttitle,\n\t\t\tokCaption,\n\t\t\tonOk: okCallback,\n\t\t\tonCancel: cancelCallback,\n\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL\n\t\t});\n\t}\n\n\tstatic show(options = {})\n\t{\n\t\tconst messageBox = this.create(options);\n\t\tmessageBox.show();\n\t}\n\n\tstatic create(options = {})\n\t{\n\t\treturn new this(options);\n\t}\n\n\tshow()\n\t{\n\t\tif (this.getPopupWindow().isDestroyed())\n\t\t{\n\t\t\tthis.popupWindow = null;\n\t\t}\n\n\t\tthis.getPopupWindow().show();\n\t}\n\n\tclose()\n\t{\n\t\tthis.getPopupWindow().close();\n\t}\n\n\t/**\n\t *\n\t * @returns {PopupWindow}\n\t */\n\tgetPopupWindow()\n\t{\n\t\tif (this.popupWindow === null)\n\t\t{\n\t\t\tthis.popupWindow = new Popup({\n\t\t\t\tbindElement: null,\n\t\t\t\tclassName: this.isMediumButtonSize() ? 'ui-message-box ui-message-box-medium-buttons' : 'ui-message-box',\n\t\t\t\tcontent: this.getMessage(),\n\t\t\t\ttitleBar: this.getTitle(),\n\t\t\t\tminWidth: this.minWidth,\n\t\t\t\tminHeight: this.minHeight,\n\t\t\t\tmaxWidth: this.maxWidth,\n\t\t\t\toverlay: this.modal ? { opacity: 20 } : null,\n\t\t\t\tcacheable: this.cacheable,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tcontentBackground: 'transparent',\n\t\t\t\tpadding: 0,\n\t\t\t\tbuttons: this.getButtons(),\n\t\t\t\t...this.popupOptions\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupWindow;\n\t}\n\n\tsetMessage(message: string | Element | Node)\n\t{\n\t\tif (Type.isString(message) || Type.isDomNode(message))\n\t\t{\n\t\t\tthis.message = message;\n\n\t\t\tif (this.popupWindow !== null)\n\t\t\t{\n\t\t\t\tthis.popupWindow.setContent(message);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {?string|Element|Node}\n\t */\n\tgetMessage(): string | Element | Node\n\t{\n\t\treturn this.message;\n\t}\n\n\tsetTitle(title: string)\n\t{\n\t\tif (Type.isString(title))\n\t\t{\n\t\t\tthis.title = title;\n\n\t\t\tif (this.popupWindow !== null)\n\t\t\t{\n\t\t\t\tthis.popupWindow.setTitleBar(title);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {?string}\n\t */\n\tgetTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\t/**\n\t *\n\t * @param {string|BX.UI.Button[]} buttons\n\t */\n\tsetButtons(buttons)\n\t{\n\t\tif (Type.isArray(buttons))\n\t\t{\n\t\t\tthis.buttons = buttons;\n\t\t}\n\t\telse if (Type.isString(buttons))\n\t\t{\n\t\t\tthis.buttons = this.getButtonsLayout(buttons);\n\t\t}\n\n\t\tif (this.popupWindow !== null)\n\t\t{\n\t\t\tthis.popupWindow.setButtons(this.buttons);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button[]}\n\t */\n\tgetButtons()\n\t{\n\t\treturn this.buttons;\n\t}\n\n\tsetOkCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getOkButton().setText(caption);\n\t\t}\n\t}\n\n\tsetCancelCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getCancelButton().setText(caption);\n\t\t}\n\t}\n\n\tsetYesCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getYesButton().setText(caption);\n\t\t}\n\t}\n\n\tsetNoCaption(caption: string)\n\t{\n\t\tif (Type.isString(caption))\n\t\t{\n\t\t\tthis.getNoButton().setText(caption);\n\t\t}\n\t}\n\n\tsetOkCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.okCallback = fn;\n\t\t}\n\t}\n\n\tsetCancelCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.cancelCallback = fn;\n\t\t}\n\t}\n\n\tsetYesCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.yesCallback = fn;\n\t\t}\n\t}\n\n\tsetNoCallback(fn: Function)\n\t{\n\t\tif (Type.isFunction(fn))\n\t\t{\n\t\t\tthis.noCallback = fn;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {boolean}\n\t */\n\tisMediumButtonSize()\n\t{\n\t\treturn this.mediumButtonSize;\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetOkButton()\n\t{\n\t\treturn this.cache.remember('okBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.OK,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_OK_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetCancelButton()\n\t{\n\t\treturn this.cache.remember('cancelBtn', () => {\n\t\t\treturn new BX.UI.CancelButton({\n\t\t\t\tid: MessageBoxButtons.CANCEL,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_CANCEL_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetYesButton()\n\t{\n\t\treturn this.cache.remember('yesBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.YES,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.PRIMARY,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_YES_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @returns {BX.UI.Button}\n\t */\n\tgetNoButton()\n\t{\n\t\treturn this.cache.remember('noBtn', () => {\n\t\t\treturn new BX.UI.Button({\n\t\t\t\tid: MessageBoxButtons.NO,\n\t\t\t\tsize: this.isMediumButtonSize() ? BX.UI.Button.Size.MEDIUM : BX.UI.Button.Size.SMALL,\n\t\t\t\tcolor: BX.UI.Button.Color.LIGHT_BORDER,\n\t\t\t\ttext: Loc.getMessage('UI_MESSAGE_BOX_NO_CAPTION'),\n\t\t\t\tevents: {\n\t\t\t\t\tclick: this.handleButtonClick\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t *\n\t * @param buttons\n\t * @returns {BX.UI.Button[]}\n\t */\n\tgetButtonsLayout(buttons)\n\t{\n\t\tswitch (buttons)\n\t\t{\n\t\t\tcase MessageBoxButtons.OK:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getOkButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.NO:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getNoButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.OK_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getOkButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_NO:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getNoButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tcase MessageBoxButtons.YES_NO_CANCEL:\n\t\t\t\treturn [\n\t\t\t\t\tthis.getYesButton(),\n\t\t\t\t\tthis.getNoButton(),\n\t\t\t\t\tthis.getCancelButton()\n\t\t\t\t];\n\t\t\tdefault:\n\t\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {BX.UI.Button} button\n\t * @param event\n\t */\n\thandleButtonClick(button, event)\n\t{\n\t\tif (button.isDisabled())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tbutton.setDisabled(); // prevent a double click\n\n\t\tconst fn = this[`${button.getId()}Callback`];\n\t\tif (!fn)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t\tthis.close();\n\t\t\treturn;\n\t\t}\n\n\t\tconst result = fn(this, button, event);\n\n\t\tif (result === true)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t\tthis.close();\n\t\t}\n\t\telse if (result === false)\n\t\t{\n\t\t\tbutton.setDisabled(false);\n\t\t}\n\t\telse if (\n\t\t\tresult &&\n\t\t\t(\n\t\t\t\tObject.prototype.toString.call(result) === '[object Promise]' ||\n\t\t\t\tresult.toString() === '[object BX.Promise]'\n\t\t\t)\n\t\t)\n\t\t{\n\t\t\tbutton.setWaiting();\n\t\t\tresult.then(result => {\n\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t\tthis.close();\n\t\t\t\t},\n\t\t\t\treason => {\n\t\t\t\t\tbutton.setWaiting(false);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n}"],"names":["MessageBoxButtons","MessageBox","options","Type","isPlainObject","popupOptions","cache","Cache","MemoryCache","handleButtonClick","bind","modal","cacheable","setTitle","title","setMessage","message","setOkCallback","onOk","setCancelCallback","onCancel","setYesCallback","onYes","setNoCallback","onNo","isBoolean","mediumButtonSize","getTitle","isMediumButtonSize","minWidth","minHeight","maxWidth","isNumber","setOkCaption","okCaption","setCancelCaption","cancelCaption","setYesCaption","yesCaption","setNoCaption","noCaption","setButtons","buttons","getPopupWindow","isDestroyed","popupWindow","show","close","Popup","bindElement","className","content","getMessage","titleBar","overlay","opacity","closeIcon","contentBackground","padding","getButtons","isString","isDomNode","setContent","setTitleBar","isArray","getButtonsLayout","caption","getOkButton","setText","getCancelButton","getYesButton","getNoButton","fn","isFunction","okCallback","cancelCallback","yesCallback","noCallback","remember","BX","UI","Button","id","OK","size","Size","MEDIUM","SMALL","color","Color","PRIMARY","text","Loc","events","click","CancelButton","CANCEL","YES","NO","LIGHT_BORDER","OK_CANCEL","YES_NO","YES_CANCEL","YES_NO_CANCEL","button","event","isDisabled","setDisabled","getId","result","Object","prototype","toString","call","setWaiting","then","reason","args","length","Dialogs","messageBox","create"],"mappings":"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"}