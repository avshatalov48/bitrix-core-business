{"version":3,"file":"script.js","sources":["src/js/editableTitle.js","src/js/leadership.js","src/js/popupHelper.js","src/js/item.js","src/js/itemMarketing.js","src/js/scroller.js","src/js/grid.js"],"sourcesContent":["import { Tag, Event, Text } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nexport default class EditableTitle {\n\tconstructor(options)\n\t{\n\t\tthis.title = options.title;\n\t\tthis.phone = options.phone;\n\t\tthis.type = options.type;\n\t\tthis.item = options.item;\n\t\tthis.url = options.url;\n\t\tthis.disabled = options.disabled || false;\n\t\tthis.isEditMode = false;\n\n\t\tthis.$container = null;\n\t\tthis.$containerInput = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerEditIcon = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tstatic get getTitle()\n\t{\n\t\treturn this.title;\n\t}\n\n\tgetContainerEdit()\n\t{\n\t\tif(!this.$containerEditIcon)\n\t\t{\n\t\t\tthis.$containerEditIcon = Tag.render`<div class=\"landing-sites__title-edit\"></div>`;\n\t\t\t// Event.bind(this.$containerEditIcon, 'click', this.adjustEditMode.bind(this));\n\t\t}\n\n\t\treturn this.$containerEditIcon;\n\t}\n\n\tadjustEditMode()\n\t{\n\t\tthis.isEditMode\n\t\t\t? this.closeEdit()\n\t\t\t: this.openEdit();\n\t}\n\n\topenEdit()\n\t{\n\t\tthis.isEditMode = true;\n\t\tthis.getContainer().classList.add('--edit');\n\t\tthis.getContainerInput().select();\n\t\tthis.getContainerInput().focus();\n\t\tthis.getContainerInput().value = this.title;\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(ev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\tev.target !== this.getContainerInput()\n\t\t\t&& ev.target !== this.getContainerEdit())\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 13) // close by Enter\n\t\t{\n\t\t\tthis.closeEdit();\n\t\t\tthis.updateTitle(this.getContainerInput().value);\n\t\t}\n\t}\n\n\tcloseEdit()\n\t{\n\t\tthis.isEditMode = false;\n\t\tthis.getContainer().classList.remove('--edit');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t}\n\n\tupdateTitle(title: string)\n\t{\n\t\tif(\tthis.getContainerInput().value !== this.getContainerTitle().innerText\n\t\t\t&& this.getContainerInput().value !== '')\n\t\t{\n\t\t\tthis.title = title;\n\t\t\tthis.getContainerTitle().innerText = title;\n\t\t\tlet type = this.type[0].toUpperCase() + this.type.slice(1);\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:update' + type, {\n\t\t\t\titem: this.item,\n\t\t\t\ttitle: this.title\n\t\t\t});\n\t\t}\n\t}\n\n\tgetContainerInput()\n\t{\n\t\tif(!this.$containerInput)\n\t\t{\n\t\t\tthis.$containerInput = Tag.render`<input\n\t\t\t\tvalue=\"${Text.encode(this.title)}\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"landing-sites__title-input\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInput;\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif(!this.$containerTitle)\n\t\t{\n\t\t\tlet value;\n\n\t\t\tif(this.phone)\n\t\t\t{\n\t\t\t\tvalue = this.phone;\n\t\t\t}\n\n\t\t\tif(this.title)\n\t\t\t{\n\t\t\t\tvalue = this.title\n\t\t\t}\n\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title-text --sub\">\n\t\t\t\t\t${Text.encode(value)}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tif (this.disabled)\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<span class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t</span>\n\t\t\t\t`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$container = Tag.render`\n\t\t\t\t\t<a href=\"${this.url}\" class=\"landing-sites__title\">\n\t\t\t\t\t\t${this.getContainerInput()}\n\t\t\t\t\t\t${this.getContainerTitle()}\n\t\t\t\t\t\t${this.getContainerEdit()}\n\t\t\t\t\t</a>\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event, Loc } from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nexport default class LeaderShip {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.item = options.item;\n\t\tthis.articles = options.articles || [];\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\tshow()\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:showLeadership', this.item);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit('BX.Landing.SiteTile:hideLeadership', this.item);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif(\tev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(\t!ev.target.closest('.landing-sites__helper-' + this.id)\n\t\t\t&& ev.target.className !== 'landing-sites__preview-leadership-text')\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif(ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif(ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tgetContainerClose()\n\t{\n\t\tif(!this.$containerClose)\n\t\t{\n\t\t\tthis.$containerClose = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper-close-toggler\">${Loc.getMessage('LANDING_SITE_TILE_HIDE')}</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerClose, 'click', this.hide.bind(this));\n\t\t}\n\n\t\treturn this.$containerClose;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tlet articlesNode = Tag.render`<div class=\"landing-sites__helper-list\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.articles.length; i++)\n\t\t\t{\n\t\t\t\tlet item = this.articles[i];\n\t\t\t\tarticlesNode.appendChild(Tag.render`\n\t\t\t\t\t<div class=\"landing-sites__helper-item ${item.read ? '--read' : ''}\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-title\">${item.title}</div>\n\t\t\t\t\t\t<div class=\"landing-sites__helper-item-container\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-text\">${item.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__helper-item-button ${item.read ? '--read' : ''}\"\">\n\t\t\t\t\t\t\t\t${item.read \n\t\t\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_READ')\n\t\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_TO_READ')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\t}\n\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__helper landing-sites__helper-${this.id}\">\n\t\t\t\t\t<div class=\"landing-sites__helper-title\">\n\t\t\t\t\t\t<div class=\"landing-sites__helper-title-text\">${Loc.getMessage('LANDING_SITE_TILE_LEADERSHIP_TITLE')}</div>\n\t\t\t\t\t\t${this.getContainerClose()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__helper-container\">\n\t\t\t\t\t\t${articlesNode}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import {Tag, Event, Loc} from 'main.core';\nimport {EventEmitter} from \"main.core.events\";\nimport 'ui.notification';\n\nexport default class PopupHelper\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.url = options.url;\n\t\tthis.itemObj = options.itemObj;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.indexEditUrl = options.indexEditUrl;\n\t\tthis.notPublishedText = options.notPublishedText;\n\t\tthis.qr = null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerClose = null;\n\t\tthis.$containerFirstStep = null;\n\t\tthis.$containerSecondStep = null;\n\t\tthis.$containerQr = null;\n\t\tthis.$containerQrimage = null;\n\t\tthis.$containerInputUrl = null;\n\t\tthis.$containerCopyLink = null;\n\t\tthis.$containerTestOrder = null;\n\n\t\tthis.adjustCloseEditByClick = this.adjustCloseEditByClick.bind(this);\n\t\tthis.adjustCloseEditByKeyDown = this.adjustCloseEditByKeyDown.bind(this);\n\t}\n\n\thide()\n\t{\n\t\tthis.getContainer().classList.remove('--show');\n\t\tEvent.unbind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.unbind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onHide', this);\n\t}\n\n\tshow(param: string)\n\t{\n\t\tthis.getContainer().classList.add('--show');\n\t\tif (param === 'link')\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = 'none';\n\t\t\tthis.getContainerSecondStep().style.display = 'none';\n\t\t\tthis.getContainerNotPublished().style.display = 'none';\n\n\t\t\tthis.getContainerQr().style.display = null;\n\t\t}\n\t\telse if (param === 'notPublished')\n\t\t{\n\t\t\tthis.getContainerFirstStep().style.display = 'none';\n\t\t\tthis.getContainerSecondStep().style.display = 'none';\n\t\t\tthis.getContainerQr().style.display = 'none';\n\n\t\t\tthis.getContainerNotPublished().style.display = null;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.getContainerQr().style.display = 'none';\n\t\t\tthis.getContainerNotPublished().style.display = 'none';\n\n\t\t\tthis.getContainerFirstStep().style.display = null;\n\t\t\tthis.getContainerSecondStep().style.display = null;\n\t\t}\n\n\t\tEvent.bind(document.body, 'click', this.adjustCloseEditByClick);\n\t\tEvent.bind(document.body, 'keydown', this.adjustCloseEditByKeyDown);\n\t\tEventEmitter.emit(this, 'BX.Landing.SiteTile.Popup:onShow', this);\n\t}\n\n\tadjustCloseEditByClick(ev)\n\t{\n\t\tif (ev.type !== 'click')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tev.target.closest('.landing-sites__popup')\n\t\t\t|| ev.target.closest('.landing-sites__container-link-' + this.id)\n\t\t\t|| ev.target.closest('.landing-sites__status-' + this.id)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hide();\n\t}\n\n\tadjustCloseEditByKeyDown(ev)\n\t{\n\t\tif (ev.type !== 'keydown')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (ev.keyCode === 27) // close by Escape\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tshowSecondStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.add('--hide-right');\n\t\tthis.getContainerSecondStep().classList.remove('--hide-left');\n\t}\n\n\tshowFirstStep()\n\t{\n\t\tthis.getContainerFirstStep().classList.remove('--hide-right');\n\t\tthis.getContainerSecondStep().classList.add('--hide-left');\n\t}\n\n\tgetContainerInputUrl()\n\t{\n\t\tif (!this.$containerInputUrl)\n\t\t{\n\t\t\tthis.$containerInputUrl = Tag.render`\n\t\t\t\t<input \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tstyle=\"position: absolute; opacity: 0; pointer-events: none\"\n\t\t\t\t\tvalue=\"${this.fullUrl}\">\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInputUrl;\n\t}\n\n\tgetContainerCopyLink()\n\t{\n\t\tif (!this.$containerCopyLink)\n\t\t{\n\t\t\tthis.$containerCopyLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-copy\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK')}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerCopyLink, 'click', () => {\n\t\t\t\tthis.getContainerInputUrl().select();\n\t\t\t\tdocument.execCommand('copy');\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: Loc.getMessage('LANDING_SITE_TILE_POPUP_COPY_LINK_COMPLETE'),\n\t\t\t\t\tautoHideDelay: 2000,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerCopyLink;\n\t}\n\n\tgetContainerQrImage()\n\t{\n\t\tlet node = Tag.render`\n\t\t\t<div class=\"landing-sites__popup-image\"></div>\n\t\t`;\n\n\t\tnew QRCode(node, {\n\t\t\ttext: this.fullUrl,\n\t\t\twidth: 250,\n\t\t\theight: 250,\n\t\t});\n\n\t\treturn node;\n\t}\n\n\tgetContainerQr()\n\t{\n\t\tif (!this.$containerQr)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\t\t\tconst isShop = this.indexEditUrl.startsWith('/shop/');\n\t\t\tconst popupText = isShop ? Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_3') : Loc.getMessage('LANDING_SITE_TILE_POPUP_SITE_TEXT');\n\t\t\tconst popupButtonText = isShop ? Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_SHOP') : Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_SITE');\n\n\t\t\tthis.$containerQr = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --qr\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${popupText}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${popupButtonText}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-bottom\">\n\t\t\t\t\t\t\t<a href=\"${this.fullUrl}\" target=\"_blank\" class=\"landing-sites__popup-url\">\n\t\t\t\t\t\t\t\t${this.url}\n\t\t\t\t\t\t\t\t${this.getContainerInputUrl()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t${this.getContainerCopyLink()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerQr;\n\t}\n\n\tgetContainerTestOrder()\n\t{\n\t\tif (!this.$containerTestOrder)\n\t\t{\n\t\t\tthis.$containerTestOrder = Tag.render`\n\t\t\t\t<span class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}\n\t\t\t\t</span>\t\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerTestOrder, 'click', this.showSecondStep.bind(this));\n\t\t}\n\n\t\treturn this.$containerTestOrder;\n\t}\n\n\tgetContainerFirstStep()\n\t{\n\t\tif (!this.$containerFirstStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tthis.$containerFirstStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_CREATE_TEST_ORDER')}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_TEXT')}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-image --first-order\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t${this.getContainerTestOrder()}\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerFirstStep;\n\t}\n\n\tgetContainerSecondStep()\n\t{\n\t\tif (!this.$containerSecondStep)\n\t\t{\n\t\t\tlet closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tlet prevIcon = Tag.render`<div class=\"landing-sites__popup-prev\"></div>`;\n\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\t\t\tEvent.bind(prevIcon, 'click', this.showFirstStep.bind(this));\n\n\t\t\tthis.$containerSecondStep = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --hide-left\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t${prevIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER')}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>1</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_1')}</div>\n\t\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text --list\"><span>2</span> ${Loc.getMessage('LANDING_SITE_TILE_POPUP_TEST_ORDER_ACTION_2')}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t${this.getContainerQrImage()}\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t<a href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_POPUP_OPEN_CRM')}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerSecondStep;\n\t}\n\n\tgetContainerNotPublished()\n\t{\n\t\tif (!this.$containerNotPublished)\n\t\t{\n\t\t\tconst closeIcon = Tag.render`<div class=\"landing-sites__popup-close\"></div>`;\n\t\t\tEvent.bind(closeIcon, 'click', this.hide.bind(this));\n\n\t\t\tconst buttPublish = Tag.render`\n\t\t\t\t<span href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-success ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_NOT_PUBLISHED_BUTTON_PUBLISH')}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t\tEvent.bind(buttPublish, 'click', () =>\n\t\t\t{\n\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:publish', this.itemObj);\n\t\t\t\tthis.hide();\n\t\t\t});\n\n\t\t\tconst buttOpen = Tag.render`\n\t\t\t\t<span href=\"${this.ordersUrl}\" class=\"ui-btn ui-btn-light-border ui-btn-round\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_NOT_PUBLISHED_BUTTON_OPEN')}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t\tEvent.bind(buttOpen, 'click', () =>\n\t\t\t{\n\t\t\t\t// todo: loader?\n\t\t\t\tif (this.indexEditUrl)\n\t\t\t\t{\n\t\t\t\t\twindow.location.href = this.indexEditUrl;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$containerNotPublished = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup-container --not-published\">\n\t\t\t\t\t${closeIcon}\n\t\t\t\t\t<div class=\"landing-sites__popup-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__popup-title\">\n\t\t\t\t\t\t\t<span class=\"landing-sites__popup-title-text\">\n\t\t\t\t\t\t\t\t${this.notPublishedText ? this.notPublishedText.title : 'title'}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"landing-sites__popup-content\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-text\">\n\t\t\t\t\t\t\t\t${this.notPublishedText ? this.notPublishedText.message : 'message'}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__popup-buttons\">\n\t\t\t\t\t\t\t\t${buttPublish}\n\t\t\t\t\t\t\t\t${buttOpen}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerNotPublished;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__popup\">\n\t\t\t\t\t${this.getContainerFirstStep()}\n\t\t\t\t\t${this.getContainerSecondStep()}\n\t\t\t\t\t${this.getContainerQr()}\n\t\t\t\t\t${this.getContainerNotPublished()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import {Tag, Text, Event, Loc, Dom} from 'main.core';\nimport {Menu} from 'main.popup';\nimport {EventEmitter} from 'main.core.events';\nimport {MessageBox} from 'ui.dialogs.messagebox';\n\nimport EditableTitle from './editableTitle';\nimport LeaderShip from './leadership';\nimport PopupHelper from './popupHelper';\n\nexport default class Item\n{\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.url = options.url;\n\t\tthis.fullUrl = options.fullUrl;\n\t\tthis.domainProvider = options.domainProvider;\n\t\tthis.pagesUrl = options.pagesUrl;\n\t\tthis.ordersUrl = options.ordersUrl;\n\t\tthis.domainUrl = options.domainUrl;\n\t\tthis.contactsUrl = options.contactsUrl;\n\t\tthis.indexEditUrl = options.indexEditUrl;\n\t\tthis.ordersCount = options.ordersCount;\n\t\tthis.phone = options.phone;\n\t\tthis.preview = options.preview;\n\t\tthis.cloudPreview = options.cloudPreview;\n\t\tthis.published = options.published;\n\t\tthis.deleted = options.deleted;\n\t\tthis.domainStatus = options.domainStatus;\n\t\tthis.domainStatusMessage = options.domainStatusMessage;\n\t\tthis.menuItems = options.menuItems || [];\n\t\tthis.menuBottomItems = options.menuBottomItems || [];\n\t\tthis.notPublishedText = options.notPublishedText || null;\n\t\tthis.access = options.access || {};\n\t\tthis.articles = options.articles || [];\n\t\tthis.editableTitle = null;\n\t\tthis.editableUrl = null;\n\t\tthis.leadership = null;\n\t\tthis.popupHelper = null;\n\t\tthis.popupStatus = null;\n\t\tthis.popupConfig = null;\n\t\tthis.loader = null;\n\n\t\tthis.$container = null;\n\t\tthis.$containerWrapper = null;\n\t\tthis.$containerPreviewImage = null;\n\t\tthis.$containerPreviewStatus = null;\n\t\tthis.$containerPreviewShowPages = null;\n\t\tthis.$containerPreviewInstruction = null;\n\t\tthis.$containerInfo = null;\n\t\tthis.$containerPhone = null;\n\t\tthis.$containerTitle = null;\n\t\tthis.$containerDomain = null;\n\t\tthis.$containerDomainLink = null;\n\t\tthis.$containerDomainStatus = null;\n\t\tthis.$containerDomainStatusIcon = null;\n\t\tthis.$containerDomainStatusTitle = null;\n\t\tthis.$containerDomainStatusMessage = null;\n\t\tthis.$containerSiteStatus = null;\n\t\tthis.$containerSiteStatusRound = null;\n\t\tthis.$containerSiteStatusTitle = null;\n\t\tthis.$containerSiteMore = null;\n\t\tthis.$containerLinks = null;\n\n\t\tthis.bindEvents();\n\n\t\tthis.lazyLoadCloudPreview = this.lazyLoadCloudPreview.bind(this);\n\t}\n\n\tbindEvents()\n\t{\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:showLeadership', options => {\n\t\t\tif (this === options.data)\n\t\t\t{\n\t\t\t\tthis.active();\n\t\t\t\tthis.setContainerPosition();\n\t\t\t}\n\n\t\t\tif (this !== options.data)\n\t\t\t{\n\t\t\t\tthis.fade();\n\t\t\t}\n\t\t});\n\n\t\tEventEmitter.subscribe('BX.Landing.SiteTile:hideLeadership', options => {\n\t\t\tif (this === options.data)\n\t\t\t{\n\t\t\t\tthis.unActive();\n\t\t\t\tthis.unSetContainerPosition();\n\t\t\t}\n\n\t\t\tthis.unFade();\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onShow', () => {\n\t\t\tthis.getContainerWrapper().classList.add('--fade');\n\t\t});\n\n\t\tEventEmitter.subscribe(this.getPopupHelper(), 'BX.Landing.SiteTile.Popup:onHide', () => {\n\t\t\tthis.getContainerWrapper().classList.remove('--fade');\n\t\t});\n\t}\n\n\tsetContainerPosition()\n\t{\n\t\tlet offsetRight = window.innerWidth - this.getContainer().getBoundingClientRect().right;\n\t\tlet leaderShipWidth = this.getLeadership().getContainer().offsetWidth;\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif (offsetRight > leaderShipWidth)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.getContainer().style.transform = 'translateX(-' + (leaderShipWidth + 40 - offsetRight) + 'px)';\n\n\t\tif (previousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = 'translateX(-10px)';\n\t\t}\n\t}\n\n\tunSetContainerPosition()\n\t{\n\t\tthis.getContainer().style.transform = null;\n\n\t\tlet previousItem = this.getContainer().previousSibling;\n\t\tif (previousItem && (previousItem.offsetTop === this.getContainer().offsetTop))\n\t\t{\n\t\t\tpreviousItem.style.transform = null;\n\t\t}\n\t}\n\n\tupdatePublishedStatus(status: boolean)\n\t{\n\t\tif (this.published === status)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (this.popupStatus)\n\t\t{\n\t\t\tthis.popupStatus.destroy();\n\t\t}\n\t\tthis.popupStatus = null;\n\n\t\tif (status)\n\t\t{\n\t\t\tthis.published = true;\n\t\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\t\tthis.getContainerPreviewImage().classList.remove('--not-published');\n\t\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewImage().classList.add('--not-published');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tupdateTitle(param: string)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tthis.title = param;\n\t\t}\n\t}\n\n\tupdateUrl(param: string)\n\t{\n\t\tif (param)\n\t\t{\n\t\t\tthis.url = param;\n\t\t}\n\t}\n\n\tgetContainerTitle()\n\t{\n\t\tif (!this.$containerTitle)\n\t\t{\n\t\t\tthis.$containerTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t<div class=\"landing-sites__title-text\">${this.title}</div>\n\t\t\t\t\t<div class=\"landing-sites__title-edit\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerTitle;\n\t}\n\n\tmergeMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\tconst addMenu = [\n\t\t\t{\n\t\t\t\ttext: this.deleted\n\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_RESTORE')\n\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_REMOVE'),\n\t\t\t\taccess: 'delete',\n\t\t\t\tonclick: () => {\n\t\t\t\t\tif (!this.deleted)\n\t\t\t\t\t{\n\t\t\t\t\t\tconst messageBox = new MessageBox({\n\t\t\t\t\t\t\ttitle: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_TITLE'),\n\t\t\t\t\t\t\tmessage: Loc.getMessage('LANDING_SITE_TILE_DELETE_ALERT_MESSAGE'),\n\t\t\t\t\t\t\tbuttons: BX.UI.Dialogs.MessageBoxButtons.OK_CANCEL,\n\t\t\t\t\t\t\tonOk: () => {\n\t\t\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:remove', [this, messageBox]);\n\t\t\t\t\t\t\t\tmessageBox.close();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpopupOptions: {\n\t\t\t\t\t\t\t\tautoHide: true,\n\t\t\t\t\t\t\t\tcloseByEsc: true,\n\t\t\t\t\t\t\t\tminHeight: false,\n\t\t\t\t\t\t\t\tminWidth: 260,\n\t\t\t\t\t\t\t\tmaxWidth: 300,\n\t\t\t\t\t\t\t\twidth: false,\n\t\t\t\t\t\t\t\tanimation: 'fading-slide',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmessageBox.show();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tEventEmitter.emit('BX.Landing.SiteTile:restore', this);\n\t\t\t\t\t\tthis.getPopupConfig().close();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tlet spliceStart = 0;\n\t\titems.map((item, i) => {\n\t\t\tif (item.delimiter === true)\n\t\t\t{\n\t\t\t\tspliceStart = i;\n\t\t\t}\n\t\t\tif (this.deleted)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t});\n\t\taddMenu.reverse().map(item => {\n\t\t\titems.push(item);\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tdisableMenuItems(items: Array<Object>): Array<Object>\n\t{\n\t\titems = items.map(item => {\n\t\t\tif (item.access && this.access[item.access] !== true)\n\t\t\t{\n\t\t\t\titem.disabled = true;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\n\t\treturn items;\n\t}\n\n\tgetPopupConfig()\n\t{\n\t\tif (!this.popupConfig)\n\t\t{\n\t\t\tthis.popupConfig = new Menu({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteMore(),\n\t\t\t\toffsetLeft: -61,\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: this.disableMenuItems(this.mergeMenuItems(this.menuItems)),\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteMore().classList.add('--hover');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupConfig;\n\t}\n\n\tgetPopupStatus(): Menu\n\t{\n\t\tif (!this.popupStatus)\n\t\t{\n\t\t\tthis.popupStatus = new Menu({\n\t\t\t\tclassName: 'landing-sites__status-popup',\n\t\t\t\tbindElement: this.getContainerSiteStatus(),\n\t\t\t\tminWidth: 220,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tautoHide: true,\n\t\t\t\tangle: {\n\t\t\t\t\toffset: 97,\n\t\t\t\t},\n\t\t\t\titems: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: this.published\n\t\t\t\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_UNPUBLISH')\n\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_PUBLISH'),\n\t\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\t\tthis.popupStatus.close();\n\t\t\t\t\t\t\tthis.published\n\t\t\t\t\t\t\t\t? EventEmitter.emit('BX.Landing.SiteTile:unPublish', this)\n\t\t\t\t\t\t\t\t: EventEmitter.emit('BX.Landing.SiteTile:publish', this);\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.remove('--hover');\n\t\t\t\t\t},\n\t\t\t\t\tonPopupShow: () => {\n\t\t\t\t\t\tthis.getContainerSiteStatus().classList.add('--hover');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tanimation: 'fading-slide',\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupStatus;\n\t}\n\n\tgetContainerSiteStatus()\n\t{\n\t\tif (!this.$containerSiteStatus)\n\t\t{\n\t\t\tthis.$containerSiteStatus = Tag.render`\n\t\t\t\t<div class=\"${this.access.publication ? 'landing-sites__status' : 'landing-sites__status_disabled'}\">\n\t\t\t\t\t${this.getContainerSiteStatusRound()}\n\t\t\t\t\t${this.getContainerSiteStatusTitle()}\n\t\t\t\t\t${this.access.publication ? Tag.render`<div class=\"landing-sites__status-arrow\"></div>` : ''}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tif (this.access.publication)\n\t\t\t{\n\t\t\t\tEvent.bind(this.$containerSiteStatus, 'click', ev => {\n\t\t\t\t\tthis.getPopupStatus().layout.menuContainer.style.left =\n\t\t\t\t\t\tthis.$containerSiteStatus.getBoundingClientRect().left + 'px';\n\t\t\t\t\tthis.getPopupStatus().show();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerSiteStatus;\n\t}\n\n\tgetContainerSiteMore()\n\t{\n\t\tif (!this.$containerSiteMore)\n\t\t{\n\t\t\tthis.$containerSiteMore = Tag.render`<div class=\"landing-sites__more\"></div>`;\n\n\t\t\tEvent.bind(this.$containerSiteMore, 'click', ev => {\n\t\t\t\tthis.getPopupConfig().show();\n\t\t\t\tev.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerSiteMore;\n\t}\n\n\tgetContainerSiteStatusRound()\n\t{\n\t\tif (!this.$containerSiteStatusRound)\n\t\t{\n\t\t\tlet status = this.published\n\t\t\t\t? '--success'\n\t\t\t\t: '--alert';\n\n\t\t\tthis.$containerSiteStatusRound = Tag.render`<div class=\"landing-sites__status-round ${status}\"></div>`;\n\t\t}\n\n\t\treturn this.$containerSiteStatusRound;\n\t}\n\n\tgetContainerSiteStatusTitle()\n\t{\n\t\tif (!this.$containerSiteStatusTitle)\n\t\t{\n\t\t\tlet title = this.published\n\t\t\t\t? Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED')\n\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\n\t\t\tthis.$containerSiteStatusTitle = Tag.render`<div class=\"landing-sites__status-title\">${title}</div>`;\n\t\t}\n\n\t\treturn this.$containerSiteStatusTitle;\n\t}\n\n\tpublush()\n\t{\n\t\tthis.published = true;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --success';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.add('--hide');\n\t}\n\n\tunPublish()\n\t{\n\t\tthis.published = false;\n\t\tthis.getContainerSiteStatusRound().className = 'landing-sites__status-round --alert';\n\t\tthis.getContainerSiteStatusTitle().innerText = Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED');\n\t\tthis.getContainerPreviewStatus().classList.remove('--hide');\n\t}\n\n\tgetEditableTitle()\n\t{\n\t\tif (!this.editableTitle)\n\t\t{\n\t\t\tthis.editableTitle = new EditableTitle({\n\t\t\t\tphone: this.phone,\n\t\t\t\ttype: 'title',\n\t\t\t\titem: this,\n\t\t\t\turl: this.contactsUrl,\n\t\t\t\tdisabled: !this.access.settings,\n\t\t\t});\n\t\t}\n\n\t\treturn this.editableTitle;\n\t}\n\n\tgetContainerInfo()\n\t{\n\t\tif (!this.$containerInfo)\n\t\t{\n\t\t\tthis.$containerInfo = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg\">\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t<div class=\"landing-sites__title\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__title-text\" title=\"${Text.encode(this.title)}\">${Text.encode(this.title)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t${this.phone ? this.getEditableTitle().getContainer() : ''}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerSiteStatus()}\n\t\t\t\t\t\t${this.getContainerSiteMore()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerInfo;\n\t}\n\n\tupdateDomainStatus(status: string, statusText: string)\n\t{\n\t\t// success\n\t\t// alert\n\t\t// danger\n\t\t// clock\n\t\t!status ? status = '' : null;\n\t\tthis.getContainerDomainStatus().className = 'landing-sites__container-status --' + status;\n\n\t\t!statusText ? statusText = '' : null;\n\t\tthis.updateDomainStatusMessage(statusText);\n\t}\n\n\tgetContainerDomainStatus()\n\t{\n\t\tif (!this.$containerDomainStatus)\n\t\t{\n\t\t\tthis.$containerDomainStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container-status --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatus;\n\t}\n\n\tgetEditableUrl()\n\t{\n\t\tif (!this.editableUrl)\n\t\t{\n\t\t\tthis.editableUrl = new EditableTitle({\n\t\t\t\ttitle: this.url,\n\t\t\t\ttype: 'url',\n\t\t\t\titem: this,\n\t\t\t\turl: this.domainUrl,\n\t\t\t\tdisabled: !this.access.settings,\n\t\t\t});\n\t\t}\n\n\t\treturn this.editableUrl;\n\t}\n\n\tgetContainerDomainStatusIcon()\n\t{\n\t\tif (!this.$containerDomainStatusIcon)\n\t\t{\n\t\t\tthis.$containerDomainStatusIcon = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-icon --${this.domainStatus}\"></div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusIcon;\n\t}\n\n\tgetContainerDomainStatusTitle()\n\t{\n\t\tif (!this.$containerDomainStatusTitle)\n\t\t{\n\t\t\tlet title = Loc.getMessage('LANDING_SITE_TILE_OPEN');\n\n\t\t\tthis.$containerDomainStatusTitle = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status-title\">\n\t\t\t\t\t${title}\n\t\t\t\t</div>`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusTitle;\n\t}\n\n\tupdateDomainStatusMessage(text: string)\n\t{\n\t\t!text ? text = '' : null;\n\n\t\tthis.getContainerDomainStatusMessage().innerText = text;\n\t\tthis.domainStatusMessage = text;\n\t}\n\n\tgetContainerDomainStatusMessage()\n\t{\n\t\tif (!this.$containerDomainStatusMessage)\n\t\t{\n\t\t\t!this.domainStatusMessage ? this.domainStatusMessage = '' : null;\n\t\t\tthis.$containerDomainStatusMessage = Tag.render`\n\t\t\t\t<div class=\"landing-sites__sub-title\">${this.domainStatusMessage}</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomainStatusMessage;\n\t}\n\n\tgetContainerDomainLink()\n\t{\n\t\tif (!this.$containerDomainLink)\n\t\t{\n\t\t\tthis.$containerDomainLink = Tag.render`\n\t\t\t\t<div class=\"landing-sites__status landing-sites__status-${this.id}\">\n\t\t\t\t\t${this.getContainerDomainStatusIcon()}\n\t\t\t\t\t${this.getContainerDomainStatusTitle()}\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerDomainLink, 'click', () => {\n\t\t\t\tthis.getPopupHelper().show(this.published ? 'link' : 'notPublished');\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerDomainLink;\n\t}\n\n\tgetContainerDomain()\n\t{\n\t\tif (!this.$containerDomain)\n\t\t{\n\t\t\tthis.$containerDomain = Tag.render`\n\t\t\t\t<div class=\"landing-sites__container --white-bg --white-bg--alpha --domain\">\n\t\t\t\t\t${this.getContainerDomainStatus()}\n\t\t\t\t\t<div class=\"landing-sites__container-left\">\n\t\t\t\t\t\t${this.getEditableUrl().getContainer()}\n\t\t\t\t\t\t${this.getContainerDomainStatusMessage()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"landing-sites__container-right\">\n\t\t\t\t\t\t${this.getContainerDomainLink()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerDomain;\n\t}\n\n\tgetContainerPreviewImage()\n\t{\n\t\tif (!this.$containerPreviewImage)\n\t\t{\n\t\t\tthis.$containerPreviewImage = Tag.render`<div class=\"landing-sites__preview-image ${this.published ? '' : '--not-published'}\"></div>`;\n\n\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + this.preview + ')';\n\t\t\tthis.$containerPreviewImage.style.backgroundSize = 'cover';\n\t\t\tif (this.published && this.cloudPreview && (this.cloudPreview !== this.preview))\n\t\t\t{\n\t\t\t\tthis.lazyLoadCloudPreview();\n\t\t\t}\n\t\t}\n\n\t\treturn this.$containerPreviewImage;\n\t}\n\n\tlazyLoadCloudPreview()\n\t{\n\t\tconst previewUrl =\n\t\t\tthis.cloudPreview\n\t\t\t+ ((this.cloudPreview.indexOf('?') > 0) ? '&' : '?')\n\t\t\t+ 'refreshed' + (Date.now()/86400000|0)\n\t\t;\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open(\"HEAD\", previewUrl);\n\t\txhr.onload = () => {\n\t\t\tconst expires = xhr.getResponseHeader(\"expires\");\n\t\t\tif (\n\t\t\t\texpires\n\t\t\t\t&& (new Date(expires)) <= (new Date())\n\t\t\t)\n\t\t\t{\n\t\t\t\tsetTimeout(this.lazyLoadCloudPreview, 3000);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.$containerPreviewImage.style.backgroundImage = 'url(' + previewUrl + ')';\n\t\t\t}\n\t\t};\n\t\txhr.send();\n\t}\n\n\tgetContainerPreviewStatus()\n\t{\n\t\tif (!this.$containerPreviewStatus)\n\t\t{\n\t\t\tthis.$containerPreviewStatus = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-status --not-published ${this.published ? '--hide' : ''}\">\n\t\t\t\t\t<div class=\"landing-sites__preview-status-wrapper\">\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__preview-status-text\">\n\t\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_STATUS_NOT_PUBLISHED')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseenter', () => {\n\t\t\t\tthis.$containerPreviewStatus.style.width = this.$containerPreviewStatus.firstElementChild.offsetWidth + 'px';\n\t\t\t});\n\n\t\t\tEvent.bind(this.$containerPreviewStatus, 'mouseleave', () => {\n\t\t\t\tthis.$containerPreviewStatus.style.width = null;\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewStatus;\n\t}\n\n\tgetContainerPreviewShowPages()\n\t{\n\t\tif (!this.$containerPreviewShowPages)\n\t\t{\n\t\t\tthis.$containerPreviewShowPages = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-show\">\n\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_SHOW_PAGES')}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerPreviewShowPages;\n\t}\n\n\tgetContainerPreviewInstruction()\n\t{\n\t\tif (!this.$containerPreviewInstruction)\n\t\t{\n\t\t\tthis.$containerPreviewInstruction = Tag.render`\n\t\t\t\t<div class=\"landing-sites__preview-leadership\">\n\t\t\t\t\t<div class=\"landing-sites__preview-leadership-text\">\n\t\t\t\t\t\t${Loc.getMessage('LANDING_SITE_TILE_INSTRUCTION')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$containerPreviewInstruction, 'click', () => {\n\t\t\t\tthis.getLeadership().show();\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerPreviewInstruction;\n\t}\n\n\tgetContainerLinks()\n\t{\n\t\tif (!this.$containerLinks)\n\t\t{\n\t\t\tthis.$containerLinks = Tag.render`<div class=\"landing-sites__container --without-bg --auto-height --flex\"></div>`;\n\n\t\t\tthis.menuBottomItems.map(menuItem => {\n\t\t\t\tthis.$containerLinks.appendChild(this.getContainerLinksItem(menuItem.code, menuItem.href, menuItem.text));\n\t\t\t});\n\t\t}\n\n\t\treturn this.$containerLinks;\n\t}\n\n\tgetContainerLinksItem(type: string, link: string, title: string)\n\t{\n\t\tconst container = Tag.render`\n\t\t\t<a href=\"${link}\" class=\"landing-sites__container-link landing-sites__container-link-${this.id} --white-bg--alpha\">\n\t\t\t\t<div class=\"landing-sites__container-link-icon --${type}\"></div>\n\t\t\t\t<div class=\"landing-sites__container-link-text\">${title}</div>\n\t\t\t</a>\n\t\t`;\n\n\t\tEvent.bind(container, 'click', event => {\n\t\t\tEventEmitter.emit('BX.Landing.SiteTile:onBottomMenuClick', [type, event, this]);\n\t\t});\n\n\t\treturn container;\n\t}\n\n\tgetLeadership()\n\t{\n\t\tif (!this.leadership)\n\t\t{\n\t\t\tthis.leadership = new LeaderShip({\n\t\t\t\tid: this.id,\n\t\t\t\titem: this,\n\t\t\t\tarticles: this.articles,\n\t\t\t});\n\t\t}\n\t\treturn this.leadership;\n\t}\n\n\tremove()\n\t{\n\t\tthis.getContainer().classList.add('--remove');\n\t\tEvent.bind(this.getContainer(), 'transitionend', () => {\n\t\t\tlet items = this.grid.getItems();\n\t\t\titems.splice(items.indexOf(items), 1);\n\t\t\tDom.remove(this.getContainer());\n\t\t});\n\t}\n\n\tlock()\n\t{\n\t\tthis.getContainer().classList.add('--lock');\n\t\tif (!this.loader)\n\t\t{\n\t\t\tthis.loader = new BX.Loader({\n\t\t\t\ttarget: this.getContainer(),\n\t\t\t\tsize: 100,\n\t\t\t});\n\t\t}\n\n\t\tthis.loader.show();\n\t}\n\n\tunLock()\n\t{\n\t\tthis.getContainer().classList.remove('--lock');\n\t\tif (this.loader)\n\t\t{\n\t\t\tthis.loader.hide();\n\t\t}\n\t}\n\n\tfade()\n\t{\n\t\tthis.getContainer().classList.add('--fade');\n\t}\n\n\tunFade()\n\t{\n\t\tthis.getContainer().classList.remove('--fade');\n\t}\n\n\tactive()\n\t{\n\t\tthis.getContainer().classList.add('--active');\n\t}\n\n\tunActive()\n\t{\n\t\tthis.getContainer().classList.remove('--active');\n\t}\n\n\tgetPopupHelper(): PopupHelper\n\t{\n\t\tif (!this.popupHelper)\n\t\t{\n\t\t\tthis.popupHelper = new PopupHelper({\n\t\t\t\tid: this.id,\n\t\t\t\turl: this.url,\n\t\t\t\titemObj: this,\n\t\t\t\tfullUrl: this.fullUrl,\n\t\t\t\tordersUrl: this.ordersUrl,\n\t\t\t\tindexEditUrl: this.indexEditUrl,\n\t\t\t\tnotPublishedText: this.notPublishedText,\n\t\t\t});\n\t\t}\n\n\t\treturn this.popupHelper;\n\t}\n\n\tgetContainerWrapper()\n\t{\n\t\tif (!this.$containerWrapper)\n\t\t{\n\t\t\tthis.$containerWrapper = Tag.render`\n\t\t\t\t<div class=\"landing-sites__item-container\">\n\t\t\t\t\t<a href=\"${this.pagesUrl}\" class=\"landing-sites__preview\">\n\t\t\t\t\t\t${this.getContainerPreviewImage()}\n\t\t\t\t\t\t${this.getContainerPreviewStatus()}\n\t\t\t\t\t\t${this.getContainerPreviewShowPages()}\n\t\t\t\t\t\t${this.articles.length > 0 ? this.getContainerPreviewInstruction() : ''}\n\t\t\t\t\t</a>\n\t\t\t\t\t${this.getContainerInfo()}\n\t\t\t\t\t${this.getContainerDomain()}\n\t\t\t\t\t${this.getContainerLinks()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$containerWrapper;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__grid-item ${this.deleted ? '--deleted' : ''}\">\n\t\t\t\t\t<div class=\"landing-sites__item\" id=\"landing-sites__grid-item--${this.id}\">\n\t\t\t\t\t\t${this.getLeadership().getContainer()}\n\t\t\t\t\t\t${this.getContainerWrapper()}\n\t\t\t\t\t\t${this.getPopupHelper().getContainer()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}\n","import { Tag, Event } from 'main.core';\n\nexport default class ItemMarketing {\n\tconstructor(options)\n\t{\n\t\tthis.id = options.id;\n\t\tthis.grid = options.grid;\n\t\tthis.title = options.title;\n\t\tthis.text = options.text;\n\t\tthis.buttonText = options.buttonText;\n\t\tthis.url = options.url;\n\t\tthis.onClick = options.onClick;\n\t\tthis.$container = null;\n\t}\n\n\tgetButton()\n\t{\n\t\tconst button = Tag.render`\n\t\t\t<span class=\"ui-btn ui-btn-light-border ui-btn-round\" href=\"#\">${this.buttonText}</span>\n\t\t`;\n\t\tif (this.onClick)\n\t\t{\n\t\t\tEvent.bind(button, 'click', this.onClick);\n\t\t}\n\t\treturn button;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__grid-item\">\n\t\t\t\t\t<div class=\"landing-sites__item --marketing\">\n\t\t\t\t\t\t<div class=\"landing-sites__item-container --flex\">\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--title\">${this.title}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--text\">${this.text}</div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--icon\"></div>\n\t\t\t\t\t\t\t<div class=\"landing-sites__item-marketing--buttons\">\n\t\t\t\t\t\t\t\t${this.getButton()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn this.$container;\n\t}\n}","import { Tag, Loc, Event, Dom } from 'main.core';\n\nexport default class Scroller {\n\tconstructor(options)\n\t{\n\t\tthis.grid = options.grid;\n\t\tthis.scrollerText = options.scrollerText;\n\t\tthis.$container = null;\n\t\tthis.$lastItem = null;\n\t\tthis.bindEvents();\n\t\tthis.init();\n\t}\n\n\tbindEvents()\n\t{\n\t\tEvent.bind(window, 'scroll', this.adjustPosition.bind(this));\n\t}\n\n\tshow()\n\t{\n\t\tif(!this.getContainer().classList.contains('--show'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--hide');\n\t\t\tthis.getContainer().classList.add('--show');\n\t\t}\n\t}\n\n\thide()\n\t{\n\t\tif(!this.getContainer().classList.contains('--hide'))\n\t\t{\n\t\t\tthis.getContainer().classList.remove('--show');\n\t\t\tthis.getContainer().classList.add('--hide');\n\t\t}\n\t}\n\t\n\tadjustPosition()\n\t{\n\t\tif(!this.$lastItem)\n\t\t{\n\t\t\tthis.$lastItem = this.grid.getItems()[this.grid.getItems().length - 1].getContainer();\n\t\t}\n\n\t\tthis.$lastItem.getBoundingClientRect().top > document.documentElement.clientHeight\n\t\t\t? this.show()\n\t\t\t: this.hide();\n\t}\n\n\tgetContainer()\n\t{\n\t\tif(!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`\n\t\t\t\t<div class=\"landing-sites__scroller landing-sites__scope\">\n\t\t\t\t\t<div class=\"landing-sites__scroller-button\">\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-icon\"></div>\n\t\t\t\t\t\t<div class=\"landing-sites__scroller-text\">\n\t\t\t\t\t\t\t${this.scrollerText\n\t\t\t\t\t\t\t\t? this.scrollerText\n\t\t\t\t\t\t\t\t: Loc.getMessage('LANDING_SITE_TILE_SCROLLER_SITES')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tEvent.bind(this.$container, 'click', ()=> {\n\t\t\t\tlet offsetY = window.pageYOffset;\n\t\t\t\tlet timer = setInterval(()=> {\n\t\t\t\t\tif(\n\t\t\t\t\t\t(window.pageYOffset + 30) >= this.$lastItem.getBoundingClientRect().top + window.pageYOffset - document.body.clientTop\n\t\t\t\t\t\t|| window.pageYOffset + window.innerHeight >= document.body.scrollHeight\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tclearInterval(timer);\n\t\t\t\t\t}\n\t\t\t\t\toffsetY = offsetY + 10;\n\t\t\t\t\twindow.scrollTo(0,offsetY);\n\t\t\t\t}, 10);\n\t\t\t});\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\t\n\tinit()\n\t{\n\t\tdocument.body.appendChild(this.getContainer());\n\t\tthis.adjustPosition();\n\t}\n}","import { Tag } from 'main.core';\nimport 'ui.design-tokens';\nimport Item from './item';\nimport ItemMarketing from './itemMarketing';\nimport Scroller from './scroller';\nimport '../css/landing.site.tile.css';\n\nexport class SiteTile\n{\n\tconstructor(options)\n\t{\n\t\tthis.renderTo = options.renderTo || null;\n\t\tthis.items = options.items || [];\n\t\tthis.scrollerText = options.scrollerText || null;\n\t\tthis.notPublishedText = options.notPublishedText || null;\n\t\tthis.siteTileItems = [];\n\t\tthis.$container = null;\n\t\tthis.scroller = null;\n\t\tthis.setData(this.items);\n\t\tthis.init();\n\t}\n\n\tgetItems()\n\t{\n\t\treturn this.siteTileItems;\n\t}\n\n\tsetData(data)\n\t{\n\t\tthis.siteTileItems = data.map((item) => {\n\t\t\tif (item.type === 'itemMarketing')\n\t\t\t{\n\t\t\t\treturn new ItemMarketing({\n\t\t\t\t\tid: item.id || null,\n\t\t\t\t\ttitle: item.title || null,\n\t\t\t\t\ttext: item.text || null,\n\t\t\t\t\tbuttonText: item.buttonText || null,\n\t\t\t\t\tonClick: item.onClick || null,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn new Item({\n\t\t\t\tid: item.id || null,\n\t\t\t\ttitle: item.title || null,\n\t\t\t\turl: item.url || null,\n\t\t\t\tfullUrl: item.fullUrl || null,\n\t\t\t\tdomainProvider: item.domainProvider || null,\n\t\t\t\tpagesUrl: item.pagesUrl || null,\n\t\t\t\tordersUrl: item.ordersUrl || null,\n\t\t\t\tdomainUrl: item.domainUrl || null,\n\t\t\t\tcontactsUrl: item.contactsUrl || null,\n\t\t\t\tindexEditUrl: item.indexEditUrl || null,\n\t\t\t\tordersCount: parseInt(item.ordersCount) || null,\n\t\t\t\tphone: item.phone || null,\n\t\t\t\tpreview: item.preview || null,\n\t\t\t\tcloudPreview: item.cloudPreview || null,\n\t\t\t\tpublished: item.published || null,\n\t\t\t\tdeleted: item.deleted || null,\n\t\t\t\tdomainStatus: item.domainStatus || null,\n\t\t\t\tdomainStatusMessage: item.domainStatusMessage || null,\n\t\t\t\tmenuItems: item.menuItems || null,\n\t\t\t\tmenuBottomItems: item.menuBottomItems || null,\n\t\t\t\tnotPublishedText: this.notPublishedText || null,\n\t\t\t\taccess: item.access || {},\n\t\t\t\tarticles: item.articles || null,\n\t\t\t\tgrid: this,\n\t\t\t});\n\t\t});\n\n\t\treturn this.siteTileItems;\n\t}\n\n\tgetContainer()\n\t{\n\t\tif (!this.$container)\n\t\t{\n\t\t\tthis.$container = Tag.render`<div class=\"landing-sites__grid landing-sites__scope\"></div>`;\n\n\t\t\tfor (let i = 0; i < this.siteTileItems.length; i++)\n\t\t\t{\n\t\t\t\tthis.$container.appendChild(this.siteTileItems[i].getContainer());\n\t\t\t}\n\t\t}\n\n\t\treturn this.$container;\n\t}\n\n\tdraw()\n\t{\n\t\tif (this.renderTo)\n\t\t{\n\t\t\tthis.renderTo.appendChild(this.getContainer());\n\t\t}\n\n\t\tthis.afterDraw();\n\t}\n\n\tafterDraw()\n\t{\n\t\tif (this.getItems().length > 4)\n\t\t{\n\t\t\tif (!this.scroller)\n\t\t\t{\n\t\t\t\tthis.scroller = new Scroller({\n\t\t\t\t\tgrid: this,\n\t\t\t\t\tscrollerText: this.scrollerText,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinit()\n\t{\n\t\tthis.draw();\n\t}\n}\n"],"names":["EditableTitle","options","title","phone","type","item","url","disabled","isEditMode","$container","$containerInput","$containerTitle","$containerEditIcon","adjustCloseEditByClick","bind","adjustCloseEditByKeyDown","Tag","render","closeEdit","openEdit","getContainer","classList","add","getContainerInput","select","focus","value","Event","document","body","ev","target","getContainerEdit","keyCode","updateTitle","remove","unbind","getContainerTitle","innerText","toUpperCase","slice","EventEmitter","emit","Text","encode","LeaderShip","id","articles","$containerClose","closest","className","hide","Loc","getMessage","articlesNode","i","length","appendChild","read","text","getContainerClose","PopupHelper","itemObj","fullUrl","ordersUrl","indexEditUrl","notPublishedText","qr","$containerFirstStep","$containerSecondStep","$containerQr","$containerQrimage","$containerInputUrl","$containerCopyLink","$containerTestOrder","param","getContainerFirstStep","style","display","getContainerSecondStep","getContainerNotPublished","getContainerQr","getContainerInputUrl","execCommand","BX","UI","Notification","Center","notify","content","autoHideDelay","node","QRCode","width","height","closeIcon","isShop","startsWith","popupText","popupButtonText","getContainerQrImage","getContainerCopyLink","showSecondStep","getContainerTestOrder","prevIcon","showFirstStep","$containerNotPublished","buttPublish","buttOpen","window","location","href","message","Item","grid","domainProvider","pagesUrl","domainUrl","contactsUrl","ordersCount","preview","cloudPreview","published","deleted","domainStatus","domainStatusMessage","menuItems","menuBottomItems","access","editableTitle","editableUrl","leadership","popupHelper","popupStatus","popupConfig","loader","$containerWrapper","$containerPreviewImage","$containerPreviewStatus","$containerPreviewShowPages","$containerPreviewInstruction","$containerInfo","$containerPhone","$containerDomain","$containerDomainLink","$containerDomainStatus","$containerDomainStatusIcon","$containerDomainStatusTitle","$containerDomainStatusMessage","$containerSiteStatus","$containerSiteStatusRound","$containerSiteStatusTitle","$containerSiteMore","$containerLinks","bindEvents","lazyLoadCloudPreview","subscribe","data","active","setContainerPosition","fade","unActive","unSetContainerPosition","unFade","getPopupHelper","getContainerWrapper","offsetRight","innerWidth","getBoundingClientRect","right","leaderShipWidth","getLeadership","offsetWidth","previousItem","previousSibling","transform","offsetTop","status","destroy","getContainerSiteStatusRound","getContainerSiteStatusTitle","getContainerPreviewImage","getContainerPreviewStatus","items","addMenu","onclick","messageBox","MessageBox","buttons","Dialogs","MessageBoxButtons","OK_CANCEL","onOk","close","popupOptions","autoHide","closeByEsc","minHeight","minWidth","maxWidth","animation","show","getPopupConfig","map","delimiter","reverse","push","Menu","bindElement","getContainerSiteMore","offsetLeft","angle","offset","disableMenuItems","mergeMenuItems","events","onPopupClose","onPopupShow","getContainerSiteStatus","publication","getPopupStatus","layout","menuContainer","left","stopPropagation","settings","getEditableTitle","statusText","getContainerDomainStatus","updateDomainStatusMessage","getContainerDomainStatusMessage","getContainerDomainStatusIcon","getContainerDomainStatusTitle","getEditableUrl","getContainerDomainLink","backgroundImage","backgroundSize","previewUrl","indexOf","Date","now","xhr","XMLHttpRequest","open","onload","expires","getResponseHeader","setTimeout","send","firstElementChild","menuItem","getContainerLinksItem","code","link","container","event","getItems","splice","Dom","Loader","size","getContainerPreviewShowPages","getContainerPreviewInstruction","getContainerInfo","getContainerDomain","getContainerLinks","ItemMarketing","buttonText","onClick","button","getButton","Scroller","scrollerText","$lastItem","init","adjustPosition","contains","top","documentElement","clientHeight","offsetY","pageYOffset","timer","setInterval","clientTop","innerHeight","scrollHeight","clearInterval","scrollTo","SiteTile","renderTo","siteTileItems","scroller","setData","parseInt","afterDraw","draw"],"mappings":";;;;;;;KAGqBA;CACpB,yBAAYC,OAAZ,EACA;CAAA;CACC,SAAKC,KAAL,GAAaD,OAAO,CAACC,KAArB;CACA,SAAKC,KAAL,GAAaF,OAAO,CAACE,KAArB;CACA,SAAKC,IAAL,GAAYH,OAAO,CAACG,IAApB;CACA,SAAKC,IAAL,GAAYJ,OAAO,CAACI,IAApB;CACA,SAAKC,GAAL,GAAWL,OAAO,CAACK,GAAnB;CACA,SAAKC,QAAL,GAAgBN,OAAO,CAACM,QAAR,IAAoB,KAApC;CACA,SAAKC,UAAL,GAAkB,KAAlB;CAEA,SAAKC,UAAL,GAAkB,IAAlB;CACA,SAAKC,eAAL,GAAuB,IAAvB;CACA,SAAKC,eAAL,GAAuB,IAAvB;CACA,SAAKC,kBAAL,GAA0B,IAA1B;CAEA,SAAKC,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,CAA9B;CACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BD,IAA9B,CAAmC,IAAnC,CAAhC;CACA;;;;wCAQD;CACC,UAAG,CAAC,KAAKF,kBAAT,EACA;CACC,aAAKA,kBAAL,GAA0BI,aAAG,CAACC,MAA9B,iIADD;CAGC;;CAED,aAAO,KAAKL,kBAAZ;CACA;;;sCAGD;CACC,WAAKJ,UAAL,GACG,KAAKU,SAAL,EADH,GAEG,KAAKC,QAAL,EAFH;CAGA;;;gCAGD;CACC,WAAKX,UAAL,GAAkB,IAAlB;CACA,WAAKY,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;CACA,WAAKC,iBAAL,GAAyBC,MAAzB;CACA,WAAKD,iBAAL,GAAyBE,KAAzB;CACA,WAAKF,iBAAL,GAAyBG,KAAzB,GAAiC,KAAKxB,KAAtC;CACAyB,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,OAA1B,EAAmC,KAAKhB,sBAAxC;CACAc,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,SAA1B,EAAqC,KAAKd,wBAA1C;CACA;;;4CAEsBe,IACvB;CACC,UAAGA,EAAE,CAAC1B,IAAH,KAAY,OAAf,EACA;CACC;CACA;;CAED,UAAI0B,EAAE,CAACC,MAAH,KAAc,KAAKR,iBAAL,EAAd,IACAO,EAAE,CAACC,MAAH,KAAc,KAAKC,gBAAL,EADlB,EAEA;CACC,aAAKd,SAAL;CACA;CACD;;;8CAEwBY,IACzB;CACC,UAAGA,EAAE,CAAC1B,IAAH,KAAY,SAAf,EACA;CACC;CACA;;CAED,UAAG0B,EAAE,CAACG,OAAH,KAAe,EAAlB;CACA;CACC,eAAKf,SAAL;CACA;CACA;;CAED,UAAGY,EAAE,CAACG,OAAH,KAAe,EAAlB;CACA;CACC,eAAKf,SAAL;CACA,eAAKgB,WAAL,CAAiB,KAAKX,iBAAL,GAAyBG,KAA1C;CACA;CACD;;;iCAGD;CACC,WAAKlB,UAAL,GAAkB,KAAlB;CACA,WAAKY,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACAR,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,OAA5B,EAAqC,KAAKhB,sBAA1C;CACAc,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,SAA5B,EAAuC,KAAKd,wBAA5C;CACA;;;iCAEWb,OACZ;CACC,UAAI,KAAKqB,iBAAL,GAAyBG,KAAzB,KAAmC,KAAKW,iBAAL,GAAyBC,SAA5D,IACA,KAAKf,iBAAL,GAAyBG,KAAzB,KAAmC,EADvC,EAEA;CACC,aAAKxB,KAAL,GAAaA,KAAb;CACA,aAAKmC,iBAAL,GAAyBC,SAAzB,GAAqCpC,KAArC;CACA,YAAIE,IAAI,GAAG,KAAKA,IAAL,CAAU,CAAV,EAAamC,WAAb,KAA6B,KAAKnC,IAAL,CAAUoC,KAAV,CAAgB,CAAhB,CAAxC;CACAC,QAAAA,6BAAY,CAACC,IAAb,CAAkB,+BAA+BtC,IAAjD,EAAuD;CACtDC,UAAAA,IAAI,EAAE,KAAKA,IAD2C;CAEtDH,UAAAA,KAAK,EAAE,KAAKA;CAF0C,SAAvD;CAIA;CACD;;;yCAGD;CACC,UAAG,CAAC,KAAKQ,eAAT,EACA;CACC,aAAKA,eAAL,GAAuBM,aAAG,CAACC,MAA3B,gMACU0B,cAAI,CAACC,MAAL,CAAY,KAAK1C,KAAjB,CADV;CAKA;;CAED,aAAO,KAAKQ,eAAZ;CACA;;;yCAGD;CACC,UAAG,CAAC,KAAKC,eAAT,EACA;CACC,YAAIe,KAAJ;;CAEA,YAAG,KAAKvB,KAAR,EACA;CACCuB,UAAAA,KAAK,GAAG,KAAKvB,KAAb;CACA;;CAED,YAAG,KAAKD,KAAR,EACA;CACCwB,UAAAA,KAAK,GAAG,KAAKxB,KAAb;CACA;;CAED,aAAKS,eAAL,GAAuBK,aAAG,CAACC,MAA3B,6KAEI0B,cAAI,CAACC,MAAL,CAAYlB,KAAZ,CAFJ;CAIA;;CAED,aAAO,KAAKf,eAAZ;CACA;;;oCAGD;CACC,UAAG,CAAC,KAAKF,UAAT,EACA;CACC,YAAI,KAAKF,QAAT,EACA;CACC,eAAKE,UAAL,GAAkBO,aAAG,CAACC,MAAtB,sMAEI,KAAKM,iBAAL,EAFJ,EAGI,KAAKc,iBAAL,EAHJ;CAMA,SARD,MAUA;CACC,eAAK5B,UAAL,GAAkBO,aAAG,CAACC,MAAtB,gOACY,KAAKX,GADjB,EAEI,KAAKiB,iBAAL,EAFJ,EAGI,KAAKc,iBAAL,EAHJ,EAII,KAAKL,gBAAL,EAJJ;CAOA;CACD;;CAED,aAAO,KAAKvB,UAAZ;CACA;;;yBA3JD;CACC,aAAO,KAAKP,KAAZ;CACA;;;;;;;KCvBmB2C;CACpB,sBAAY5C,OAAZ,EACA;CAAA;CACC,SAAK6C,EAAL,GAAU7C,OAAO,CAAC6C,EAAlB;CACA,SAAKzC,IAAL,GAAYJ,OAAO,CAACI,IAApB;CACA,SAAK0C,QAAL,GAAgB9C,OAAO,CAAC8C,QAAR,IAAoB,EAApC;CAEA,SAAKtC,UAAL,GAAkB,IAAlB;CACA,SAAKuC,eAAL,GAAuB,IAAvB;CAEA,SAAKnC,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,CAA9B;CACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BD,IAA9B,CAAmC,IAAnC,CAAhC;CACA;;;;4BAGD;CACC,WAAKM,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;CACAK,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,OAA1B,EAAmC,KAAKhB,sBAAxC;CACAc,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,SAA1B,EAAqC,KAAKd,wBAA1C;CACA0B,MAAAA,6BAAY,CAACC,IAAb,CAAkB,oCAAlB,EAAwD,KAAKrC,IAA7D;CACA;;;4BAGD;CACC,WAAKe,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACAR,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,OAA5B,EAAqC,KAAKhB,sBAA1C;CACAc,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,SAA5B,EAAuC,KAAKd,wBAA5C;CACA0B,MAAAA,6BAAY,CAACC,IAAb,CAAkB,oCAAlB,EAAwD,KAAKrC,IAA7D;CACA;;;4CAEsByB,IACvB;CACC,UAAIA,EAAE,CAAC1B,IAAH,KAAY,OAAhB,EACA;CACC;CACA;;CAED,UAAI,CAAC0B,EAAE,CAACC,MAAH,CAAUkB,OAAV,CAAkB,4BAA4B,KAAKH,EAAnD,CAAD,IACAhB,EAAE,CAACC,MAAH,CAAUmB,SAAV,KAAwB,wCAD5B,EAEA;CACC,aAAKC,IAAL;CACA;CACD;;;8CAEwBrB,IACzB;CACC,UAAGA,EAAE,CAAC1B,IAAH,KAAY,SAAf,EACA;CACC;CACA;;CAED,UAAG0B,EAAE,CAACG,OAAH,KAAe,EAAlB;CACA;CACC,eAAKkB,IAAL;CACA;CACD;;;yCAGD;CACC,UAAG,CAAC,KAAKH,eAAT,EACA;CACC,aAAKA,eAAL,GAAuBhC,aAAG,CAACC,MAA3B,qKACoDmC,aAAG,CAACC,UAAJ,CAAe,wBAAf,CADpD;CAIA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAKkC,eAAhB,EAAiC,OAAjC,EAA0C,KAAKG,IAAL,CAAUrC,IAAV,CAAe,IAAf,CAA1C;CACA;;CAED,aAAO,KAAKkC,eAAZ;CACA;;;oCAGD;CACC,UAAG,CAAC,KAAKvC,UAAT,EACA;CACC,YAAI6C,YAAY,GAAGtC,aAAG,CAACC,MAAP,uIAAhB;;CAEA,aAAK,IAAIsC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKR,QAAL,CAAcS,MAAlC,EAA0CD,CAAC,EAA3C,EACA;CACC,cAAIlD,IAAI,GAAG,KAAK0C,QAAL,CAAcQ,CAAd,CAAX;CACAD,UAAAA,YAAY,CAACG,WAAb,CAAyBzC,aAAG,CAACC,MAA7B,0gBAC0CZ,IAAI,CAACqD,IAAL,GAAY,QAAZ,GAAuB,EADjE,EAEkDrD,IAAI,CAACH,KAFvD,EAIkDG,IAAI,CAACsD,IAJvD,EAKmDtD,IAAI,CAACqD,IAAL,GAAY,QAAZ,GAAuB,EAL1E,EAMMrD,IAAI,CAACqD,IAAL,GACCN,aAAG,CAACC,UAAJ,CAAe,wBAAf,CADD,GAECD,aAAG,CAACC,UAAJ,CAAe,2BAAf,CARP;CAaA;;CAED,aAAK5C,UAAL,GAAkBO,aAAG,CAACC,MAAtB,4bAC2D,KAAK6B,EADhE,EAGmDM,aAAG,CAACC,UAAJ,CAAe,oCAAf,CAHnD,EAIK,KAAKO,iBAAL,EAJL,EAOKN,YAPL;CAWA;;CAED,aAAO,KAAK7C,UAAZ;CACA;;;;;;;KC5GmBoD;CAEpB,uBAAY5D,OAAZ,EACA;CAAA;CACC,SAAK6C,EAAL,GAAU7C,OAAO,CAAC6C,EAAlB;CACA,SAAKxC,GAAL,GAAWL,OAAO,CAACK,GAAnB;CACA,SAAKwD,OAAL,GAAe7D,OAAO,CAAC6D,OAAvB;CACA,SAAKC,OAAL,GAAe9D,OAAO,CAAC8D,OAAvB;CACA,SAAKC,SAAL,GAAiB/D,OAAO,CAAC+D,SAAzB;CACA,SAAKC,YAAL,GAAoBhE,OAAO,CAACgE,YAA5B;CACA,SAAKC,gBAAL,GAAwBjE,OAAO,CAACiE,gBAAhC;CACA,SAAKC,EAAL,GAAU,IAAV;CAEA,SAAK1D,UAAL,GAAkB,IAAlB;CACA,SAAKuC,eAAL,GAAuB,IAAvB;CACA,SAAKoB,mBAAL,GAA2B,IAA3B;CACA,SAAKC,oBAAL,GAA4B,IAA5B;CACA,SAAKC,YAAL,GAAoB,IAApB;CACA,SAAKC,iBAAL,GAAyB,IAAzB;CACA,SAAKC,kBAAL,GAA0B,IAA1B;CACA,SAAKC,kBAAL,GAA0B,IAA1B;CACA,SAAKC,mBAAL,GAA2B,IAA3B;CAEA,SAAK7D,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BC,IAA5B,CAAiC,IAAjC,CAA9B;CACA,SAAKC,wBAAL,GAAgC,KAAKA,wBAAL,CAA8BD,IAA9B,CAAmC,IAAnC,CAAhC;CACA;;;;4BAGD;CACC,WAAKM,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACAR,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,OAA5B,EAAqC,KAAKhB,sBAA1C;CACAc,MAAAA,eAAK,CAACS,MAAN,CAAaR,QAAQ,CAACC,IAAtB,EAA4B,SAA5B,EAAuC,KAAKd,wBAA5C;CACA0B,MAAAA,6BAAY,CAACC,IAAb,CAAkB,IAAlB,EAAwB,kCAAxB,EAA4D,IAA5D;CACA;;;0BAEIiC,OACL;CACC,WAAKvD,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;;CACA,UAAIqD,KAAK,KAAK,MAAd,EACA;CACC,aAAKC,qBAAL,GAA6BC,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;CACA,aAAKC,sBAAL,GAA8BF,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;CACA,aAAKE,wBAAL,GAAgCH,KAAhC,CAAsCC,OAAtC,GAAgD,MAAhD;CAEA,aAAKG,cAAL,GAAsBJ,KAAtB,CAA4BC,OAA5B,GAAsC,IAAtC;CACA,OAPD,MAQK,IAAIH,KAAK,KAAK,cAAd,EACL;CACC,aAAKC,qBAAL,GAA6BC,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;CACA,aAAKC,sBAAL,GAA8BF,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;CACA,aAAKG,cAAL,GAAsBJ,KAAtB,CAA4BC,OAA5B,GAAsC,MAAtC;CAEA,aAAKE,wBAAL,GAAgCH,KAAhC,CAAsCC,OAAtC,GAAgD,IAAhD;CACA,OAPI,MASL;CACC,aAAKG,cAAL,GAAsBJ,KAAtB,CAA4BC,OAA5B,GAAsC,MAAtC;CACA,aAAKE,wBAAL,GAAgCH,KAAhC,CAAsCC,OAAtC,GAAgD,MAAhD;CAEA,aAAKF,qBAAL,GAA6BC,KAA7B,CAAmCC,OAAnC,GAA6C,IAA7C;CACA,aAAKC,sBAAL,GAA8BF,KAA9B,CAAoCC,OAApC,GAA8C,IAA9C;CACA;;CAEDnD,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,OAA1B,EAAmC,KAAKhB,sBAAxC;CACAc,MAAAA,eAAK,CAACb,IAAN,CAAWc,QAAQ,CAACC,IAApB,EAA0B,SAA1B,EAAqC,KAAKd,wBAA1C;CACA0B,MAAAA,6BAAY,CAACC,IAAb,CAAkB,IAAlB,EAAwB,kCAAxB,EAA4D,IAA5D;CACA;;;4CAEsBZ,IACvB;CACC,UAAIA,EAAE,CAAC1B,IAAH,KAAY,OAAhB,EACA;CACC;CACA;;CAED,UACC0B,EAAE,CAACC,MAAH,CAAUkB,OAAV,CAAkB,uBAAlB,KACGnB,EAAE,CAACC,MAAH,CAAUkB,OAAV,CAAkB,oCAAoC,KAAKH,EAA3D,CADH,IAEGhB,EAAE,CAACC,MAAH,CAAUkB,OAAV,CAAkB,4BAA4B,KAAKH,EAAnD,CAHJ,EAKA;CACC;CACA;;CAED,WAAKK,IAAL;CACA;;;8CAEwBrB,IACzB;CACC,UAAIA,EAAE,CAAC1B,IAAH,KAAY,SAAhB,EACA;CACC;CACA;;CAED,UAAI0B,EAAE,CAACG,OAAH,KAAe,EAAnB;CACA;CACC,eAAKkB,IAAL;CACA;CACD;;;sCAGD;CACC,WAAKyB,qBAAL,GAA6BvD,SAA7B,CAAuCC,GAAvC,CAA2C,cAA3C;CACA,WAAKyD,sBAAL,GAA8B1D,SAA9B,CAAwCc,MAAxC,CAA+C,aAA/C;CACA;;;qCAGD;CACC,WAAKyC,qBAAL,GAA6BvD,SAA7B,CAAuCc,MAAvC,CAA8C,cAA9C;CACA,WAAK4C,sBAAL,GAA8B1D,SAA9B,CAAwCC,GAAxC,CAA4C,aAA5C;CACA;;;4CAGD;CACC,UAAI,CAAC,KAAKkD,kBAAV,EACA;CACC,aAAKA,kBAAL,GAA0BxD,aAAG,CAACC,MAA9B,8OAIW,KAAK8C,OAJhB;CAMA;;CAED,aAAO,KAAKS,kBAAZ;CACA;;;4CAGD;CAAA;;CACC,UAAI,CAAC,KAAKC,kBAAV,EACA;CACC,aAAKA,kBAAL,GAA0BzD,aAAG,CAACC,MAA9B,mLAEImC,aAAG,CAACC,UAAJ,CAAe,mCAAf,CAFJ;CAMA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK2D,kBAAhB,EAAoC,OAApC,EAA6C,YAAM;CAClD,UAAA,KAAI,CAACS,oBAAL,GAA4B1D,MAA5B;;CACAI,UAAAA,QAAQ,CAACuD,WAAT,CAAqB,MAArB;CACAC,UAAAA,EAAE,CAACC,EAAH,CAAMC,YAAN,CAAmBC,MAAnB,CAA0BC,MAA1B,CAAiC;CAChCC,YAAAA,OAAO,EAAErC,aAAG,CAACC,UAAJ,CAAe,4CAAf,CADuB;CAEhCqC,YAAAA,aAAa,EAAE;CAFiB,WAAjC;CAIA,SAPD;CAQA;;CAED,aAAO,KAAKjB,kBAAZ;CACA;;;2CAGD;CACC,UAAIkB,IAAI,GAAG3E,aAAG,CAACC,MAAP,qJAAR;CAIA,UAAI2E,MAAJ,CAAWD,IAAX,EAAiB;CAChBhC,QAAAA,IAAI,EAAE,KAAKI,OADK;CAEhB8B,QAAAA,KAAK,EAAE,GAFS;CAGhBC,QAAAA,MAAM,EAAE;CAHQ,OAAjB;CAMA,aAAOH,IAAP;CACA;;;sCAGD;CACC,UAAI,CAAC,KAAKrB,YAAV,EACA;CACC,YAAIyB,SAAS,GAAG/E,aAAG,CAACC,MAAP,uIAAb;CACAU,QAAAA,eAAK,CAACb,IAAN,CAAWiF,SAAX,EAAsB,OAAtB,EAA+B,KAAK5C,IAAL,CAAUrC,IAAV,CAAe,IAAf,CAA/B;CACA,YAAMkF,MAAM,GAAG,KAAK/B,YAAL,CAAkBgC,UAAlB,CAA6B,QAA7B,CAAf;CACA,YAAMC,SAAS,GAAGF,MAAM,GAAG5C,aAAG,CAACC,UAAJ,CAAe,6CAAf,CAAH,GAAmED,aAAG,CAACC,UAAJ,CAAe,mCAAf,CAA3F;CACA,YAAM8C,eAAe,GAAGH,MAAM,GAAG5C,aAAG,CAACC,UAAJ,CAAe,mCAAf,CAAH,GAAyDD,aAAG,CAACC,UAAJ,CAAe,mCAAf,CAAvF;CAEA,aAAKiB,YAAL,GAAoBtD,aAAG,CAACC,MAAxB,46BAEI8E,SAFJ,EAMOG,SANP,EAQM,KAAKE,mBAAL,EARN,EAUgB,KAAKrC,OAVrB,EAWQoC,eAXR,EAgBe,KAAKpC,OAhBpB,EAiBO,KAAKzD,GAjBZ,EAkBO,KAAK4E,oBAAL,EAlBP,EAoBM,KAAKmB,oBAAL,EApBN;CAyBA;;CAED,aAAO,KAAK/B,YAAZ;CACA;;;6CAGD;CACC,UAAI,CAAC,KAAKI,mBAAV,EACA;CACC,aAAKA,mBAAL,GAA2B1D,aAAG,CAACC,MAA/B,4LAEImC,aAAG,CAACC,UAAJ,CAAe,2CAAf,CAFJ;CAMA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK4D,mBAAhB,EAAqC,OAArC,EAA8C,KAAK4B,cAAL,CAAoBxF,IAApB,CAAyB,IAAzB,CAA9C;CACA;;CAED,aAAO,KAAK4D,mBAAZ;CACA;;;6CAGD;CACC,UAAI,CAAC,KAAKN,mBAAV,EACA;CACC,YAAI2B,SAAS,GAAG/E,aAAG,CAACC,MAAP,mIAAb;CACAU,QAAAA,eAAK,CAACb,IAAN,CAAWiF,SAAX,EAAsB,OAAtB,EAA+B,KAAK5C,IAAL,CAAUrC,IAAV,CAAe,IAAf,CAA/B;CAEA,aAAKsD,mBAAL,GAA2BpD,aAAG,CAACC,MAA/B,m6BAEI8E,SAFJ,EAMO3C,aAAG,CAACC,UAAJ,CAAe,2CAAf,CANP,EAWOD,aAAG,CAACC,UAAJ,CAAe,yCAAf,CAXP,EAeO,KAAKkD,qBAAL,EAfP,EAgBgB,KAAKvC,SAhBrB,EAiBQZ,aAAG,CAACC,UAAJ,CAAe,kCAAf,CAjBR;CAwBA;;CAED,aAAO,KAAKe,mBAAZ;CACA;;;8CAGD;CACC,UAAI,CAAC,KAAKC,oBAAV,EACA;CACC,YAAI0B,SAAS,GAAG/E,aAAG,CAACC,MAAP,mIAAb;CACA,YAAIuF,QAAQ,GAAGxF,aAAG,CAACC,MAAP,oIAAZ;CAEAU,QAAAA,eAAK,CAACb,IAAN,CAAWiF,SAAX,EAAsB,OAAtB,EAA+B,KAAK5C,IAAL,CAAUrC,IAAV,CAAe,IAAf,CAA/B;CACAa,QAAAA,eAAK,CAACb,IAAN,CAAW0F,QAAX,EAAqB,OAArB,EAA8B,KAAKC,aAAL,CAAmB3F,IAAnB,CAAwB,IAAxB,CAA9B;CAEA,aAAKuD,oBAAL,GAA4BrD,aAAG,CAACC,MAAhC,0+BAEI8E,SAFJ,EAGIS,QAHJ,EAMoDpD,aAAG,CAACC,UAAJ,CAAe,oCAAf,CANpD,EAUoED,aAAG,CAACC,UAAJ,CAAe,6CAAf,CAVpE,EAWoED,aAAG,CAACC,UAAJ,CAAe,6CAAf,CAXpE,EAaM,KAAK+C,mBAAL,EAbN,EAegB,KAAKpC,SAfrB,EAgBQZ,aAAG,CAACC,UAAJ,CAAe,kCAAf,CAhBR;CAuBA;;CAED,aAAO,KAAKgB,oBAAZ;CACA;;;gDAGD;CAAA;;CACC,UAAI,CAAC,KAAKqC,sBAAV,EACA;CACC,YAAMX,SAAS,GAAG/E,aAAG,CAACC,MAAP,qIAAf;CACAU,QAAAA,eAAK,CAACb,IAAN,CAAWiF,SAAX,EAAsB,OAAtB,EAA+B,KAAK5C,IAAL,CAAUrC,IAAV,CAAe,IAAf,CAA/B;CAEA,YAAM6F,WAAW,GAAG3F,aAAG,CAACC,MAAP,0MACF,KAAK+C,SADH,EAEbZ,aAAG,CAACC,UAAJ,CAAe,gDAAf,CAFa,CAAjB;CAKA1B,QAAAA,eAAK,CAACb,IAAN,CAAW6F,WAAX,EAAwB,OAAxB,EAAiC,YACjC;CACClE,UAAAA,6BAAY,CAACC,IAAb,CAAkB,6BAAlB,EAAiD,MAAI,CAACoB,OAAtD;;CACA,UAAA,MAAI,CAACX,IAAL;CACA,SAJD;CAMA,YAAMyD,QAAQ,GAAG5F,aAAG,CAACC,MAAP,+MACC,KAAK+C,SADN,EAEVZ,aAAG,CAACC,UAAJ,CAAe,6CAAf,CAFU,CAAd;CAKA1B,QAAAA,eAAK,CAACb,IAAN,CAAW8F,QAAX,EAAqB,OAArB,EAA8B,YAC9B;CACC;CACA,cAAI,MAAI,CAAC3C,YAAT,EACA;CACC4C,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,MAAI,CAAC9C,YAA5B;CACA;CACD,SAPD;CASA,aAAKyC,sBAAL,GAA8B1F,aAAG,CAACC,MAAlC,0vBAEI8E,SAFJ,EAMO,KAAK7B,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBhE,KAA9C,GAAsD,OAN7D,EAWO,KAAKgE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsB8C,OAA9C,GAAwD,SAX/D,EAcOL,WAdP,EAeOC,QAfP;CAqBA;;CAED,aAAO,KAAKF,sBAAZ;CACA;;;oCAGD;CACC,UAAI,CAAC,KAAKjG,UAAV,EACA;CACC,aAAKA,UAAL,GAAkBO,aAAG,CAACC,MAAtB,4NAEI,KAAK2D,qBAAL,EAFJ,EAGI,KAAKG,sBAAL,EAHJ,EAII,KAAKE,cAAL,EAJJ,EAKI,KAAKD,wBAAL,EALJ;CAQA;;CAED,aAAO,KAAKvE,UAAZ;CACA;;;;;;;KC3WmBwG;CAEpB,gBAAYhH,OAAZ,EACA;CAAA;CACC,SAAK6C,EAAL,GAAU7C,OAAO,CAAC6C,EAAlB;CACA,SAAKoE,IAAL,GAAYjH,OAAO,CAACiH,IAApB;CACA,SAAKhH,KAAL,GAAaD,OAAO,CAACC,KAArB;CACA,SAAKI,GAAL,GAAWL,OAAO,CAACK,GAAnB;CACA,SAAKyD,OAAL,GAAe9D,OAAO,CAAC8D,OAAvB;CACA,SAAKoD,cAAL,GAAsBlH,OAAO,CAACkH,cAA9B;CACA,SAAKC,QAAL,GAAgBnH,OAAO,CAACmH,QAAxB;CACA,SAAKpD,SAAL,GAAiB/D,OAAO,CAAC+D,SAAzB;CACA,SAAKqD,SAAL,GAAiBpH,OAAO,CAACoH,SAAzB;CACA,SAAKC,WAAL,GAAmBrH,OAAO,CAACqH,WAA3B;CACA,SAAKrD,YAAL,GAAoBhE,OAAO,CAACgE,YAA5B;CACA,SAAKsD,WAAL,GAAmBtH,OAAO,CAACsH,WAA3B;CACA,SAAKpH,KAAL,GAAaF,OAAO,CAACE,KAArB;CACA,SAAKqH,OAAL,GAAevH,OAAO,CAACuH,OAAvB;CACA,SAAKC,YAAL,GAAoBxH,OAAO,CAACwH,YAA5B;CACA,SAAKC,SAAL,GAAiBzH,OAAO,CAACyH,SAAzB;CACA,SAAKC,OAAL,GAAe1H,OAAO,CAAC0H,OAAvB;CACA,SAAKC,YAAL,GAAoB3H,OAAO,CAAC2H,YAA5B;CACA,SAAKC,mBAAL,GAA2B5H,OAAO,CAAC4H,mBAAnC;CACA,SAAKC,SAAL,GAAiB7H,OAAO,CAAC6H,SAAR,IAAqB,EAAtC;CACA,SAAKC,eAAL,GAAuB9H,OAAO,CAAC8H,eAAR,IAA2B,EAAlD;CACA,SAAK7D,gBAAL,GAAwBjE,OAAO,CAACiE,gBAAR,IAA4B,IAApD;CACA,SAAK8D,MAAL,GAAc/H,OAAO,CAAC+H,MAAR,IAAkB,EAAhC;CACA,SAAKjF,QAAL,GAAgB9C,OAAO,CAAC8C,QAAR,IAAoB,EAApC;CACA,SAAKkF,aAAL,GAAqB,IAArB;CACA,SAAKC,WAAL,GAAmB,IAAnB;CACA,SAAKC,UAAL,GAAkB,IAAlB;CACA,SAAKC,WAAL,GAAmB,IAAnB;CACA,SAAKC,WAAL,GAAmB,IAAnB;CACA,SAAKC,WAAL,GAAmB,IAAnB;CACA,SAAKC,MAAL,GAAc,IAAd;CAEA,SAAK9H,UAAL,GAAkB,IAAlB;CACA,SAAK+H,iBAAL,GAAyB,IAAzB;CACA,SAAKC,sBAAL,GAA8B,IAA9B;CACA,SAAKC,uBAAL,GAA+B,IAA/B;CACA,SAAKC,0BAAL,GAAkC,IAAlC;CACA,SAAKC,4BAAL,GAAoC,IAApC;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,eAAL,GAAuB,IAAvB;CACA,SAAKnI,eAAL,GAAuB,IAAvB;CACA,SAAKoI,gBAAL,GAAwB,IAAxB;CACA,SAAKC,oBAAL,GAA4B,IAA5B;CACA,SAAKC,sBAAL,GAA8B,IAA9B;CACA,SAAKC,0BAAL,GAAkC,IAAlC;CACA,SAAKC,2BAAL,GAAmC,IAAnC;CACA,SAAKC,6BAAL,GAAqC,IAArC;CACA,SAAKC,oBAAL,GAA4B,IAA5B;CACA,SAAKC,yBAAL,GAAiC,IAAjC;CACA,SAAKC,yBAAL,GAAiC,IAAjC;CACA,SAAKC,kBAAL,GAA0B,IAA1B;CACA,SAAKC,eAAL,GAAuB,IAAvB;CAEA,SAAKC,UAAL;CAEA,SAAKC,oBAAL,GAA4B,KAAKA,oBAAL,CAA0B7I,IAA1B,CAA+B,IAA/B,CAA5B;CACA;;;;kCAGD;CAAA;;CACC2B,MAAAA,6BAAY,CAACmH,SAAb,CAAuB,oCAAvB,EAA6D,UAAA3J,OAAO,EAAI;CACvE,YAAI,KAAI,KAAKA,OAAO,CAAC4J,IAArB,EACA;CACC,UAAA,KAAI,CAACC,MAAL;;CACA,UAAA,KAAI,CAACC,oBAAL;CACA;;CAED,YAAI,KAAI,KAAK9J,OAAO,CAAC4J,IAArB,EACA;CACC,UAAA,KAAI,CAACG,IAAL;CACA;CACD,OAXD;CAaAvH,MAAAA,6BAAY,CAACmH,SAAb,CAAuB,oCAAvB,EAA6D,UAAA3J,OAAO,EAAI;CACvE,YAAI,KAAI,KAAKA,OAAO,CAAC4J,IAArB,EACA;CACC,UAAA,KAAI,CAACI,QAAL;;CACA,UAAA,KAAI,CAACC,sBAAL;CACA;;CAED,QAAA,KAAI,CAACC,MAAL;CACA,OARD;CAUA1H,MAAAA,6BAAY,CAACmH,SAAb,CAAuB,KAAKQ,cAAL,EAAvB,EAA8C,kCAA9C,EAAkF,YAAM;CACvF,QAAA,KAAI,CAACC,mBAAL,GAA2BhJ,SAA3B,CAAqCC,GAArC,CAAyC,QAAzC;CACA,OAFD;CAIAmB,MAAAA,6BAAY,CAACmH,SAAb,CAAuB,KAAKQ,cAAL,EAAvB,EAA8C,kCAA9C,EAAkF,YAAM;CACvF,QAAA,KAAI,CAACC,mBAAL,GAA2BhJ,SAA3B,CAAqCc,MAArC,CAA4C,QAA5C;CACA,OAFD;CAGA;;;4CAGD;CACC,UAAImI,WAAW,GAAGzD,MAAM,CAAC0D,UAAP,GAAoB,KAAKnJ,YAAL,GAAoBoJ,qBAApB,GAA4CC,KAAlF;CACA,UAAIC,eAAe,GAAG,KAAKC,aAAL,GAAqBvJ,YAArB,GAAoCwJ,WAA1D;CACA,UAAIC,YAAY,GAAG,KAAKzJ,YAAL,GAAoB0J,eAAvC;;CACA,UAAIR,WAAW,GAAGI,eAAlB,EACA;CACC;CACA;;CAED,WAAKtJ,YAAL,GAAoByD,KAApB,CAA0BkG,SAA1B,GAAsC,kBAAkBL,eAAe,GAAG,EAAlB,GAAuBJ,WAAzC,IAAwD,KAA9F;;CAEA,UAAIO,YAAY,IAAKA,YAAY,CAACG,SAAb,KAA2B,KAAK5J,YAAL,GAAoB4J,SAApE,EACA;CACCH,QAAAA,YAAY,CAAChG,KAAb,CAAmBkG,SAAnB,GAA+B,mBAA/B;CACA;CACD;;;8CAGD;CACC,WAAK3J,YAAL,GAAoByD,KAApB,CAA0BkG,SAA1B,GAAsC,IAAtC;CAEA,UAAIF,YAAY,GAAG,KAAKzJ,YAAL,GAAoB0J,eAAvC;;CACA,UAAID,YAAY,IAAKA,YAAY,CAACG,SAAb,KAA2B,KAAK5J,YAAL,GAAoB4J,SAApE,EACA;CACCH,QAAAA,YAAY,CAAChG,KAAb,CAAmBkG,SAAnB,GAA+B,IAA/B;CACA;CACD;;;2CAEqBE,QACtB;CACC,UAAI,KAAKvD,SAAL,KAAmBuD,MAAvB,EACA;CACC;CACA;;CACD,UAAI,KAAK5C,WAAT,EACA;CACC,aAAKA,WAAL,CAAiB6C,OAAjB;CACA;;CACD,WAAK7C,WAAL,GAAmB,IAAnB;;CAEA,UAAI4C,MAAJ,EACA;CACC,aAAKvD,SAAL,GAAiB,IAAjB;CACA,aAAKyD,2BAAL,GAAmCjI,SAAnC,GAA+C,uCAA/C;CACA,aAAKkI,2BAAL,GAAmC9I,SAAnC,GAA+Cc,aAAG,CAACC,UAAJ,CAAe,oCAAf,CAA/C;CACA,aAAKgI,wBAAL,GAAgChK,SAAhC,CAA0Cc,MAA1C,CAAiD,iBAAjD;CACA,aAAKmJ,yBAAL,GAAiCjK,SAAjC,CAA2CC,GAA3C,CAA+C,QAA/C;CACA;CACA;;CAED,WAAKoG,SAAL,GAAiB,KAAjB;CACA,WAAKyD,2BAAL,GAAmCjI,SAAnC,GAA+C,qCAA/C;CACA,WAAKkI,2BAAL,GAAmC9I,SAAnC,GAA+Cc,aAAG,CAACC,UAAJ,CAAe,wCAAf,CAA/C;CACA,WAAKgI,wBAAL,GAAgChK,SAAhC,CAA0CC,GAA1C,CAA8C,iBAA9C;CACA,WAAKgK,yBAAL,GAAiCjK,SAAjC,CAA2Cc,MAA3C,CAAkD,QAAlD;CACA;;;iCAEWwC,OACZ;CACC,UAAIA,KAAJ,EACA;CACC,aAAKzE,KAAL,GAAayE,KAAb;CACA;CACD;;;+BAESA,OACV;CACC,UAAIA,KAAJ,EACA;CACC,aAAKrE,GAAL,GAAWqE,KAAX;CACA;CACD;;;yCAGD;CACC,UAAI,CAAC,KAAKhE,eAAV,EACA;CACC,aAAKA,eAAL,GAAuBK,aAAG,CAACC,MAA3B,sRAE2C,KAAKf,KAFhD;CAMA;;CAED,aAAO,KAAKS,eAAZ;CACA;;;oCAEc4K,OACf;CAAA;;CACC,UAAMC,OAAO,GAAG,CACf;CACC7H,QAAAA,IAAI,EAAE,KAAKgE,OAAL,GACHvE,aAAG,CAACC,UAAJ,CAAe,2BAAf,CADG,GAEHD,aAAG,CAACC,UAAJ,CAAe,0BAAf,CAHJ;CAIC2E,QAAAA,MAAM,EAAE,QAJT;CAKCyD,QAAAA,OAAO,EAAE,mBAAM;CACd,cAAI,CAAC,MAAI,CAAC9D,OAAV,EACA;CACC,gBAAM+D,UAAU,GAAG,IAAIC,gCAAJ,CAAe;CACjCzL,cAAAA,KAAK,EAAEkD,aAAG,CAACC,UAAJ,CAAe,sCAAf,CAD0B;CAEjC2D,cAAAA,OAAO,EAAE5D,aAAG,CAACC,UAAJ,CAAe,wCAAf,CAFwB;CAGjCuI,cAAAA,OAAO,EAAExG,EAAE,CAACC,EAAH,CAAMwG,OAAN,CAAcC,iBAAd,CAAgCC,SAHR;CAIjCC,cAAAA,IAAI,EAAE,gBAAM;CACXvJ,gBAAAA,6BAAY,CAACC,IAAb,CAAkB,4BAAlB,EAAgD,CAAC,MAAD,EAAOgJ,UAAP,CAAhD;CACAA,gBAAAA,UAAU,CAACO,KAAX;CACA,eAPgC;CAQjCC,cAAAA,YAAY,EAAE;CACbC,gBAAAA,QAAQ,EAAE,IADG;CAEbC,gBAAAA,UAAU,EAAE,IAFC;CAGbC,gBAAAA,SAAS,EAAE,KAHE;CAIbC,gBAAAA,QAAQ,EAAE,GAJG;CAKbC,gBAAAA,QAAQ,EAAE,GALG;CAMb1G,gBAAAA,KAAK,EAAE,KANM;CAOb2G,gBAAAA,SAAS,EAAE;CAPE;CARmB,aAAf,CAAnB;CAkBAd,YAAAA,UAAU,CAACe,IAAX;CACA,WArBD,MAuBA;CACChK,YAAAA,6BAAY,CAACC,IAAb,CAAkB,6BAAlB,EAAiD,MAAjD;;CACA,YAAA,MAAI,CAACgK,cAAL,GAAsBT,KAAtB;CACA;CACD;CAjCF,OADe,CAAhB;AAsCA,CACAV,MAAAA,KAAK,CAACoB,GAAN,CAAU,UAACtM,IAAD,EAAOkD,CAAP,EAAa;CACtB,YAAIlD,IAAI,CAACuM,SAAL,KAAmB,IAAvB,EACA;;CAGA,YAAI,MAAI,CAACjF,OAAT,EACA;CACCtH,UAAAA,IAAI,CAACE,QAAL,GAAgB,IAAhB;CACA;CACD,OATD;CAUAiL,MAAAA,OAAO,CAACqB,OAAR,GAAkBF,GAAlB,CAAsB,UAAAtM,IAAI,EAAI;CAC7BkL,QAAAA,KAAK,CAACuB,IAAN,CAAWzM,IAAX;CACA,OAFD;CAIA,aAAOkL,KAAP;CACA;;;sCAEgBA,OACjB;CAAA;;CACCA,MAAAA,KAAK,GAAGA,KAAK,CAACoB,GAAN,CAAU,UAAAtM,IAAI,EAAI;CACzB,YAAIA,IAAI,CAAC2H,MAAL,IAAe,MAAI,CAACA,MAAL,CAAY3H,IAAI,CAAC2H,MAAjB,MAA6B,IAAhD,EACA;CACC3H,UAAAA,IAAI,CAACE,QAAL,GAAgB,IAAhB;CACA;;CACD,eAAOF,IAAP;CACA,OANO,CAAR;CAQA,aAAOkL,KAAP;CACA;;;sCAGD;CAAA;;CACC,UAAI,CAAC,KAAKjD,WAAV,EACA;CACC,aAAKA,WAAL,GAAmB,IAAIyE,eAAJ,CAAS;CAC3B7J,UAAAA,SAAS,EAAE,6BADgB;CAE3B8J,UAAAA,WAAW,EAAE,KAAKC,oBAAL,EAFc;CAG3BC,UAAAA,UAAU,EAAE,CAAC,EAHc;CAI3BZ,UAAAA,QAAQ,EAAE,GAJiB;CAK3BF,UAAAA,UAAU,EAAE,IALe;CAM3BD,UAAAA,QAAQ,EAAE,IANiB;CAO3BgB,UAAAA,KAAK,EAAE;CACNC,YAAAA,MAAM,EAAE;CADF,WAPoB;CAU3B7B,UAAAA,KAAK,EAAE,KAAK8B,gBAAL,CAAsB,KAAKC,cAAL,CAAoB,KAAKxF,SAAzB,CAAtB,CAVoB;CAW3ByF,UAAAA,MAAM,EAAE;CACPC,YAAAA,YAAY,EAAE,wBAAM;CACnB,cAAA,MAAI,CAACP,oBAAL,GAA4B5L,SAA5B,CAAsCc,MAAtC,CAA6C,SAA7C;CACA,aAHM;CAIPsL,YAAAA,WAAW,EAAE,uBAAM;CAClB,cAAA,MAAI,CAACR,oBAAL,GAA4B5L,SAA5B,CAAsCC,GAAtC,CAA0C,SAA1C;CACA;CANM,WAXmB;CAmB3BkL,UAAAA,SAAS,EAAE;CAnBgB,SAAT,CAAnB;CAqBA;;CAED,aAAO,KAAKlE,WAAZ;CACA;;;sCAGD;CAAA;;CACC,UAAI,CAAC,KAAKD,WAAV,EACA;CACC,aAAKA,WAAL,GAAmB,IAAI0E,eAAJ,CAAS;CAC3B7J,UAAAA,SAAS,EAAE,6BADgB;CAE3B8J,UAAAA,WAAW,EAAE,KAAKU,sBAAL,EAFc;CAG3BpB,UAAAA,QAAQ,EAAE,GAHiB;CAI3BF,UAAAA,UAAU,EAAE,IAJe;CAK3BD,UAAAA,QAAQ,EAAE,IALiB;CAM3BgB,UAAAA,KAAK,EAAE;CACNC,YAAAA,MAAM,EAAE;CADF,WANoB;CAS3B7B,UAAAA,KAAK,EAAE,CACN;CACC5H,YAAAA,IAAI,EAAE,KAAK+D,SAAL,GACHtE,aAAG,CAACC,UAAJ,CAAe,6BAAf,CADG,GAEHD,aAAG,CAACC,UAAJ,CAAe,2BAAf,CAHJ;CAICoI,YAAAA,OAAO,EAAE,mBAAM;CACd,cAAA,MAAI,CAACpD,WAAL,CAAiB4D,KAAjB;;CACA,cAAA,MAAI,CAACvE,SAAL,GACGjF,6BAAY,CAACC,IAAb,CAAkB,+BAAlB,EAAmD,MAAnD,CADH,GAEGD,6BAAY,CAACC,IAAb,CAAkB,6BAAlB,EAAiD,MAAjD,CAFH;CAGA;CATF,WADM,CAToB;CAsB3B6K,UAAAA,MAAM,EAAE;CACPC,YAAAA,YAAY,EAAE,wBAAM;CACnB,cAAA,MAAI,CAACE,sBAAL,GAA8BrM,SAA9B,CAAwCc,MAAxC,CAA+C,SAA/C;CACA,aAHM;CAIPsL,YAAAA,WAAW,EAAE,uBAAM;CAClB,cAAA,MAAI,CAACC,sBAAL,GAA8BrM,SAA9B,CAAwCC,GAAxC,CAA4C,SAA5C;CACA;CANM,WAtBmB;CA8B3BkL,UAAAA,SAAS,EAAE;CA9BgB,SAAT,CAAnB;CAgCA;;CAED,aAAO,KAAKnE,WAAZ;CACA;;;8CAGD;CAAA;;CACC,UAAI,CAAC,KAAKgB,oBAAV,EACA;CACC,aAAKA,oBAAL,GAA4BrI,aAAG,CAACC,MAAhC,8LACe,KAAK+G,MAAL,CAAY2F,WAAZ,GAA0B,uBAA1B,GAAoD,gCADnE,EAEI,KAAKxC,2BAAL,EAFJ,EAGI,KAAKC,2BAAL,EAHJ,EAII,KAAKpD,MAAL,CAAY2F,WAAZ,GAA0B3M,aAAG,CAACC,MAA9B,2IAAwF,EAJ5F;;CAQA,YAAI,KAAK+G,MAAL,CAAY2F,WAAhB,EACA;CACChM,UAAAA,eAAK,CAACb,IAAN,CAAW,KAAKuI,oBAAhB,EAAsC,OAAtC,EAA+C,UAAAvH,EAAE,EAAI;CACpD,YAAA,MAAI,CAAC8L,cAAL,GAAsBC,MAAtB,CAA6BC,aAA7B,CAA2CjJ,KAA3C,CAAiDkJ,IAAjD,GACC,MAAI,CAAC1E,oBAAL,CAA0BmB,qBAA1B,GAAkDuD,IAAlD,GAAyD,IAD1D;;CAEA,YAAA,MAAI,CAACH,cAAL,GAAsBnB,IAAtB;;CACA3K,YAAAA,EAAE,CAACkM,eAAH;CACA,WALD;CAMA;CACD;;CAED,aAAO,KAAK3E,oBAAZ;CACA;;;4CAGD;CAAA;;CACC,UAAI,CAAC,KAAKG,kBAAV,EACA;CACC,aAAKA,kBAAL,GAA0BxI,aAAG,CAACC,MAA9B;CAEAU,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK0I,kBAAhB,EAAoC,OAApC,EAA6C,UAAA1H,EAAE,EAAI;CAClD,UAAA,MAAI,CAAC4K,cAAL,GAAsBD,IAAtB;;CACA3K,UAAAA,EAAE,CAACkM,eAAH;CACA,SAHD;CAIA;;CAED,aAAO,KAAKxE,kBAAZ;CACA;;;mDAGD;CACC,UAAI,CAAC,KAAKF,yBAAV,EACA;CACC,YAAI2B,MAAM,GAAG,KAAKvD,SAAL,GACV,WADU,GAEV,SAFH;CAIA,aAAK4B,yBAAL,GAAiCtI,aAAG,CAACC,MAArC,8IAAsFgK,MAAtF;CACA;;CAED,aAAO,KAAK3B,yBAAZ;CACA;;;mDAGD;CACC,UAAI,CAAC,KAAKC,yBAAV,EACA;CACC,YAAIrJ,KAAK,GAAG,KAAKwH,SAAL,GACTtE,aAAG,CAACC,UAAJ,CAAe,oCAAf,CADS,GAETD,aAAG,CAACC,UAAJ,CAAe,wCAAf,CAFH;CAIA,aAAKkG,yBAAL,GAAiCvI,aAAG,CAACC,MAArC,6IAAuFf,KAAvF;CACA;;CAED,aAAO,KAAKqJ,yBAAZ;CACA;;;+BAGD;CACC,WAAK7B,SAAL,GAAiB,IAAjB;CACA,WAAKyD,2BAAL,GAAmCjI,SAAnC,GAA+C,uCAA/C;CACA,WAAKkI,2BAAL,GAAmC9I,SAAnC,GAA+Cc,aAAG,CAACC,UAAJ,CAAe,oCAAf,CAA/C;CACA,WAAKiI,yBAAL,GAAiCjK,SAAjC,CAA2CC,GAA3C,CAA+C,QAA/C;CACA;;;iCAGD;CACC,WAAKoG,SAAL,GAAiB,KAAjB;CACA,WAAKyD,2BAAL,GAAmCjI,SAAnC,GAA+C,qCAA/C;CACA,WAAKkI,2BAAL,GAAmC9I,SAAnC,GAA+Cc,aAAG,CAACC,UAAJ,CAAe,wCAAf,CAA/C;CACA,WAAKiI,yBAAL,GAAiCjK,SAAjC,CAA2Cc,MAA3C,CAAkD,QAAlD;CACA;;;wCAGD;CACC,UAAI,CAAC,KAAK8F,aAAV,EACA;CACC,aAAKA,aAAL,GAAqB,IAAIjI,aAAJ,CAAkB;CACtCG,UAAAA,KAAK,EAAE,KAAKA,KAD0B;CAEtCC,UAAAA,IAAI,EAAE,OAFgC;CAGtCC,UAAAA,IAAI,EAAE,IAHgC;CAItCC,UAAAA,GAAG,EAAE,KAAKgH,WAJ4B;CAKtC/G,UAAAA,QAAQ,EAAE,CAAC,KAAKyH,MAAL,CAAYiG;CALe,SAAlB,CAArB;CAOA;;CAED,aAAO,KAAKhG,aAAZ;CACA;;;wCAGD;CACC,UAAI,CAAC,KAAKY,cAAV,EACA;CACC,aAAKA,cAAL,GAAsB7H,aAAG,CAACC,MAA1B,khBAIoD0B,cAAI,CAACC,MAAL,CAAY,KAAK1C,KAAjB,CAJpD,EAIgFyC,cAAI,CAACC,MAAL,CAAY,KAAK1C,KAAjB,CAJhF,EAMK,KAAKC,KAAL,GAAa,KAAK+N,gBAAL,GAAwB9M,YAAxB,EAAb,GAAsD,EAN3D,EASK,KAAKsM,sBAAL,EATL,EAUK,KAAKT,oBAAL,EAVL;CAcA;;CAED,aAAO,KAAKpE,cAAZ;CACA;;;wCAEkBoC,QAAgBkD,YACnC;CACC;CACA;CACA;CACA;CACA,OAAClD,MAAD,GAAUA,MAAM,GAAG,EAAnB,GAAwB,IAAxB;CACA,WAAKmD,wBAAL,GAAgClL,SAAhC,GAA4C,uCAAuC+H,MAAnF;CAEA,OAACkD,UAAD,GAAcA,UAAU,GAAG,EAA3B,GAAgC,IAAhC;CACA,WAAKE,yBAAL,CAA+BF,UAA/B;CACA;;;gDAGD;CACC,UAAI,CAAC,KAAKlF,sBAAV,EACA;CACC,aAAKA,sBAAL,GAA8BjI,aAAG,CAACC,MAAlC,sKACiD,KAAK2G,YADtD;CAGA;;CAED,aAAO,KAAKqB,sBAAZ;CACA;;;sCAGD;CACC,UAAI,CAAC,KAAKf,WAAV,EACA;CACC,aAAKA,WAAL,GAAmB,IAAIlI,aAAJ,CAAkB;CACpCE,UAAAA,KAAK,EAAE,KAAKI,GADwB;CAEpCF,UAAAA,IAAI,EAAE,KAF8B;CAGpCC,UAAAA,IAAI,EAAE,IAH8B;CAIpCC,UAAAA,GAAG,EAAE,KAAK+G,SAJ0B;CAKpC9G,UAAAA,QAAQ,EAAE,CAAC,KAAKyH,MAAL,CAAYiG;CALa,SAAlB,CAAnB;CAOA;;CAED,aAAO,KAAK/F,WAAZ;CACA;;;oDAGD;CACC,UAAI,CAAC,KAAKgB,0BAAV,EACA;CACC,aAAKA,0BAAL,GAAkClI,aAAG,CAACC,MAAtC,iKAC4C,KAAK2G,YADjD;CAGA;;CAED,aAAO,KAAKsB,0BAAZ;CACA;;;qDAGD;CACC,UAAI,CAAC,KAAKC,2BAAV,EACA;CACC,YAAIjJ,KAAK,GAAGkD,aAAG,CAACC,UAAJ,CAAe,wBAAf,CAAZ;CAEA,aAAK8F,2BAAL,GAAmCnI,aAAG,CAACC,MAAvC,+KAEIf,KAFJ;CAIA;;CAED,aAAO,KAAKiJ,2BAAZ;CACA;;;+CAEyBxF,MAC1B;CACC,OAACA,IAAD,GAAQA,IAAI,GAAG,EAAf,GAAoB,IAApB;CAEA,WAAK2K,+BAAL,GAAuChM,SAAvC,GAAmDqB,IAAnD;CACA,WAAKkE,mBAAL,GAA2BlE,IAA3B;CACA;;;uDAGD;CACC,UAAI,CAAC,KAAKyF,6BAAV,EACA;CACC,SAAC,KAAKvB,mBAAN,GAA4B,KAAKA,mBAAL,GAA2B,EAAvD,GAA4D,IAA5D;CACA,aAAKuB,6BAAL,GAAqCpI,aAAG,CAACC,MAAzC,8JACyC,KAAK4G,mBAD9C;CAGA;;CAED,aAAO,KAAKuB,6BAAZ;CACA;;;8CAGD;CAAA;;CACC,UAAI,CAAC,KAAKJ,oBAAV,EACA;CACC,aAAKA,oBAAL,GAA4BhI,aAAG,CAACC,MAAhC,4NAC2D,KAAK6B,EADhE,EAEI,KAAKyL,4BAAL,EAFJ,EAGI,KAAKC,6BAAL,EAHJ;CAOA7M,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAKkI,oBAAhB,EAAsC,OAAtC,EAA+C,YAAM;CACpD,UAAA,MAAI,CAACoB,cAAL,GAAsBqC,IAAtB,CAA2B,MAAI,CAAC/E,SAAL,GAAiB,MAAjB,GAA0B,cAArD;CACA,SAFD;CAGA;;CAED,aAAO,KAAKsB,oBAAZ;CACA;;;0CAGD;CACC,UAAI,CAAC,KAAKD,gBAAV,EACA;CACC,aAAKA,gBAAL,GAAwB/H,aAAG,CAACC,MAA5B,uaAEI,KAAKmN,wBAAL,EAFJ,EAIK,KAAKK,cAAL,GAAsBrN,YAAtB,EAJL,EAKK,KAAKkN,+BAAL,EALL,EAQK,KAAKI,sBAAL,EARL;CAYA;;CAED,aAAO,KAAK3F,gBAAZ;CACA;;;gDAGD;CACC,UAAI,CAAC,KAAKN,sBAAV,EACA;CACC,aAAKA,sBAAL,GAA8BzH,aAAG,CAACC,MAAlC,iJAAoF,KAAKyG,SAAL,GAAiB,EAAjB,GAAsB,iBAA1G;CAEA,aAAKe,sBAAL,CAA4B5D,KAA5B,CAAkC8J,eAAlC,GAAoD,SAAS,KAAKnH,OAAd,GAAwB,GAA5E;CACA,aAAKiB,sBAAL,CAA4B5D,KAA5B,CAAkC+J,cAAlC,GAAmD,OAAnD;;CACA,YAAI,KAAKlH,SAAL,IAAkB,KAAKD,YAAvB,IAAwC,KAAKA,YAAL,KAAsB,KAAKD,OAAvE,EACA;CACC,eAAKmC,oBAAL;CACA;CACD;;CAED,aAAO,KAAKlB,sBAAZ;CACA;;;4CAGD;CAAA;;CACC,UAAMoG,UAAU,GACf,KAAKpH,YAAL,IACI,KAAKA,YAAL,CAAkBqH,OAAlB,CAA0B,GAA1B,IAAiC,CAAlC,GAAuC,GAAvC,GAA6C,GADhD,IAEE,WAFF,IAEiBC,IAAI,CAACC,GAAL,KAAW,QAAX,GAAoB,CAFrC,CADD;CAKA,UAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;CACAD,MAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiBN,UAAjB;;CACAI,MAAAA,GAAG,CAACG,MAAJ,GAAa,YAAM;CAClB,YAAMC,OAAO,GAAGJ,GAAG,CAACK,iBAAJ,CAAsB,SAAtB,CAAhB;;CACA,YACCD,OAAO,IACH,IAAIN,IAAJ,CAASM,OAAT,CAAD,IAAwB,IAAIN,IAAJ,EAF5B,EAIA;CACCQ,UAAAA,UAAU,CAAC,MAAI,CAAC5F,oBAAN,EAA4B,IAA5B,CAAV;CACA,SAND,MAQA;CACC,UAAA,MAAI,CAAClB,sBAAL,CAA4B5D,KAA5B,CAAkC8J,eAAlC,GAAoD,SAASE,UAAT,GAAsB,GAA1E;CACA;CACD,OAbD;;CAcAI,MAAAA,GAAG,CAACO,IAAJ;CACA;;;iDAGD;CAAA;;CACC,UAAI,CAAC,KAAK9G,uBAAV,EACA;CACC,aAAKA,uBAAL,GAA+B1H,aAAG,CAACC,MAAnC,+bAC6D,KAAKyG,SAAL,GAAiB,QAAjB,GAA4B,EADzF,EAKMtE,aAAG,CAACC,UAAJ,CAAe,wCAAf,CALN;CAWA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK4H,uBAAhB,EAAyC,YAAzC,EAAuD,YAAM;CAC5D,UAAA,OAAI,CAACA,uBAAL,CAA6B7D,KAA7B,CAAmCgB,KAAnC,GAA2C,OAAI,CAAC6C,uBAAL,CAA6B+G,iBAA7B,CAA+C7E,WAA/C,GAA6D,IAAxG;CACA,SAFD;CAIAjJ,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK4H,uBAAhB,EAAyC,YAAzC,EAAuD,YAAM;CAC5D,UAAA,OAAI,CAACA,uBAAL,CAA6B7D,KAA7B,CAAmCgB,KAAnC,GAA2C,IAA3C;CACA,SAFD;CAGA;;CAED,aAAO,KAAK6C,uBAAZ;CACA;;;oDAGD;CACC,UAAI,CAAC,KAAKC,0BAAV,EACA;CACC,aAAKA,0BAAL,GAAkC3H,aAAG,CAACC,MAAtC,uLAEImC,aAAG,CAACC,UAAJ,CAAe,8BAAf,CAFJ;CAKA;;CAED,aAAO,KAAKsF,0BAAZ;CACA;;;sDAGD;CAAA;;CACC,UAAI,CAAC,KAAKC,4BAAV,EACA;CACC,aAAKA,4BAAL,GAAoC5H,aAAG,CAACC,MAAxC,+QAGKmC,aAAG,CAACC,UAAJ,CAAe,+BAAf,CAHL;CAQA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAK8H,4BAAhB,EAA8C,OAA9C,EAAuD,YAAM;CAC5D,UAAA,OAAI,CAAC+B,aAAL,GAAqB8B,IAArB;CACA,SAFD;CAGA;;CAED,aAAO,KAAK7D,4BAAZ;CACA;;;yCAGD;CAAA;;CACC,UAAI,CAAC,KAAKa,eAAV,EACA;CACC,aAAKA,eAAL,GAAuBzI,aAAG,CAACC,MAA3B;CAEA,aAAK8G,eAAL,CAAqB4E,GAArB,CAAyB,UAAA+C,QAAQ,EAAI;CACpC,UAAA,OAAI,CAACjG,eAAL,CAAqBhG,WAArB,CAAiC,OAAI,CAACkM,qBAAL,CAA2BD,QAAQ,CAACE,IAApC,EAA0CF,QAAQ,CAAC3I,IAAnD,EAAyD2I,QAAQ,CAAC/L,IAAlE,CAAjC;CACA,SAFD;CAGA;;CAED,aAAO,KAAK8F,eAAZ;CACA;;;2CAEqBrJ,MAAcyP,MAAc3P,OAClD;CAAA;;CACC,UAAM4P,SAAS,GAAG9O,aAAG,CAACC,MAAP,6WACH4O,IADG,EACyE,KAAK/M,EAD9E,EAEsC1C,IAFtC,EAGqCF,KAHrC,CAAf;CAOAyB,MAAAA,eAAK,CAACb,IAAN,CAAWgP,SAAX,EAAsB,OAAtB,EAA+B,UAAAC,KAAK,EAAI;CACvCtN,QAAAA,6BAAY,CAACC,IAAb,CAAkB,uCAAlB,EAA2D,CAACtC,IAAD,EAAO2P,KAAP,EAAc,OAAd,CAA3D;CACA,OAFD;CAIA,aAAOD,SAAP;CACA;;;qCAGD;CACC,UAAI,CAAC,KAAK3H,UAAV,EACA;CACC,aAAKA,UAAL,GAAkB,IAAItF,UAAJ,CAAe;CAChCC,UAAAA,EAAE,EAAE,KAAKA,EADuB;CAEhCzC,UAAAA,IAAI,EAAE,IAF0B;CAGhC0C,UAAAA,QAAQ,EAAE,KAAKA;CAHiB,SAAf,CAAlB;CAKA;;CACD,aAAO,KAAKoF,UAAZ;CACA;;;8BAGD;CAAA;;CACC,WAAK/G,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,UAAlC;CACAK,MAAAA,eAAK,CAACb,IAAN,CAAW,KAAKM,YAAL,EAAX,EAAgC,eAAhC,EAAiD,YAAM;CACtD,YAAImK,KAAK,GAAG,OAAI,CAACrE,IAAL,CAAU8I,QAAV,EAAZ;;CACAzE,QAAAA,KAAK,CAAC0E,MAAN,CAAa1E,KAAK,CAACuD,OAAN,CAAcvD,KAAd,CAAb,EAAmC,CAAnC;CACA2E,QAAAA,aAAG,CAAC/N,MAAJ,CAAW,OAAI,CAACf,YAAL,EAAX;CACA,OAJD;CAKA;;;4BAGD;CACC,WAAKA,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;;CACA,UAAI,CAAC,KAAKiH,MAAV,EACA;CACC,aAAKA,MAAL,GAAc,IAAInD,EAAE,CAAC+K,MAAP,CAAc;CAC3BpO,UAAAA,MAAM,EAAE,KAAKX,YAAL,EADmB;CAE3BgP,UAAAA,IAAI,EAAE;CAFqB,SAAd,CAAd;CAIA;;CAED,WAAK7H,MAAL,CAAYkE,IAAZ;CACA;;;8BAGD;CACC,WAAKrL,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;;CACA,UAAI,KAAKoG,MAAT,EACA;CACC,aAAKA,MAAL,CAAYpF,IAAZ;CACA;CACD;;;4BAGD;CACC,WAAK/B,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;CACA;;;8BAGD;CACC,WAAKF,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACA;;;8BAGD;CACC,WAAKf,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,UAAlC;CACA;;;gCAGD;CACC,WAAKF,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,UAArC;CACA;;;sCAGD;CACC,UAAI,CAAC,KAAKiG,WAAV,EACA;CACC,aAAKA,WAAL,GAAmB,IAAIvE,WAAJ,CAAgB;CAClCf,UAAAA,EAAE,EAAE,KAAKA,EADyB;CAElCxC,UAAAA,GAAG,EAAE,KAAKA,GAFwB;CAGlCwD,UAAAA,OAAO,EAAE,IAHyB;CAIlCC,UAAAA,OAAO,EAAE,KAAKA,OAJoB;CAKlCC,UAAAA,SAAS,EAAE,KAAKA,SALkB;CAMlCC,UAAAA,YAAY,EAAE,KAAKA,YANe;CAOlCC,UAAAA,gBAAgB,EAAE,KAAKA;CAPW,SAAhB,CAAnB;CASA;;CAED,aAAO,KAAKkE,WAAZ;CACA;;;2CAGD;CACC,UAAI,CAAC,KAAKI,iBAAV,EACA;CACC,aAAKA,iBAAL,GAAyBxH,aAAG,CAACC,MAA7B,2WAEa,KAAKmG,QAFlB,EAGK,KAAKiE,wBAAL,EAHL,EAIK,KAAKC,yBAAL,EAJL,EAKK,KAAK+E,4BAAL,EALL,EAMK,KAAKtN,QAAL,CAAcS,MAAd,GAAuB,CAAvB,GAA2B,KAAK8M,8BAAL,EAA3B,GAAmE,EANxE,EAQI,KAAKC,gBAAL,EARJ,EASI,KAAKC,kBAAL,EATJ,EAUI,KAAKC,iBAAL,EAVJ;CAaA;;CAED,aAAO,KAAKjI,iBAAZ;CACA;;;oCAGD;CACC,UAAI,CAAC,KAAK/H,UAAV,EACA;CACC,aAAKA,UAAL,GAAkBO,aAAG,CAACC,MAAtB,kUACwC,KAAK0G,OAAL,GAAe,WAAf,GAA6B,EADrE,EAEmE,KAAK7E,EAFxE,EAGK,KAAK6H,aAAL,GAAqBvJ,YAArB,EAHL,EAIK,KAAKiJ,mBAAL,EAJL,EAKK,KAAKD,cAAL,GAAsBhJ,YAAtB,EALL;CASA;;CAED,aAAO,KAAKX,UAAZ;CACA;;;;;;;KC30BmBiQ;CACpB,yBAAYzQ,OAAZ,EACA;CAAA;CACC,SAAK6C,EAAL,GAAU7C,OAAO,CAAC6C,EAAlB;CACA,SAAKoE,IAAL,GAAYjH,OAAO,CAACiH,IAApB;CACA,SAAKhH,KAAL,GAAaD,OAAO,CAACC,KAArB;CACA,SAAKyD,IAAL,GAAY1D,OAAO,CAAC0D,IAApB;CACA,SAAKgN,UAAL,GAAkB1Q,OAAO,CAAC0Q,UAA1B;CACA,SAAKrQ,GAAL,GAAWL,OAAO,CAACK,GAAnB;CACA,SAAKsQ,OAAL,GAAe3Q,OAAO,CAAC2Q,OAAvB;CACA,SAAKnQ,UAAL,GAAkB,IAAlB;CACA;;;;iCAGD;CACC,UAAMoQ,MAAM,GAAG7P,aAAG,CAACC,MAAP,kLACsD,KAAK0P,UAD3D,CAAZ;;CAGA,UAAI,KAAKC,OAAT,EACA;CACCjP,QAAAA,eAAK,CAACb,IAAN,CAAW+P,MAAX,EAAmB,OAAnB,EAA4B,KAAKD,OAAjC;CACA;;CACD,aAAOC,MAAP;CACA;;;oCAGD;CACC,UAAI,CAAC,KAAKpQ,UAAV,EACA;CACC,aAAKA,UAAL,GAAkBO,aAAG,CAACC,MAAtB,2pBAIwD,KAAKf,KAJ7D,EAKuD,KAAKyD,IAL5D,EAQO,KAAKmN,SAAL,EARP;CAcA;;CAED,aAAO,KAAKrQ,UAAZ;CACA;;;;;;;KC9CmBsQ;CACpB,oBAAY9Q,OAAZ,EACA;CAAA;CACC,SAAKiH,IAAL,GAAYjH,OAAO,CAACiH,IAApB;CACA,SAAK8J,YAAL,GAAoB/Q,OAAO,CAAC+Q,YAA5B;CACA,SAAKvQ,UAAL,GAAkB,IAAlB;CACA,SAAKwQ,SAAL,GAAiB,IAAjB;CACA,SAAKvH,UAAL;CACA,SAAKwH,IAAL;CACA;;;;kCAGD;CACCvP,MAAAA,eAAK,CAACb,IAAN,CAAW+F,MAAX,EAAmB,QAAnB,EAA6B,KAAKsK,cAAL,CAAoBrQ,IAApB,CAAyB,IAAzB,CAA7B;CACA;;;4BAGD;CACC,UAAG,CAAC,KAAKM,YAAL,GAAoBC,SAApB,CAA8B+P,QAA9B,CAAuC,QAAvC,CAAJ,EACA;CACC,aAAKhQ,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACA,aAAKf,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;CACA;CACD;;;4BAGD;CACC,UAAG,CAAC,KAAKF,YAAL,GAAoBC,SAApB,CAA8B+P,QAA9B,CAAuC,QAAvC,CAAJ,EACA;CACC,aAAKhQ,YAAL,GAAoBC,SAApB,CAA8Bc,MAA9B,CAAqC,QAArC;CACA,aAAKf,YAAL,GAAoBC,SAApB,CAA8BC,GAA9B,CAAkC,QAAlC;CACA;CACD;;;sCAGD;CACC,UAAG,CAAC,KAAK2P,SAAT,EACA;CACC,aAAKA,SAAL,GAAiB,KAAK/J,IAAL,CAAU8I,QAAV,GAAqB,KAAK9I,IAAL,CAAU8I,QAAV,GAAqBxM,MAArB,GAA8B,CAAnD,EAAsDpC,YAAtD,EAAjB;CACA;;CAED,WAAK6P,SAAL,CAAezG,qBAAf,GAAuC6G,GAAvC,GAA6CzP,QAAQ,CAAC0P,eAAT,CAAyBC,YAAtE,GACG,KAAK9E,IAAL,EADH,GAEG,KAAKtJ,IAAL,EAFH;CAGA;;;oCAGD;CAAA;;CACC,UAAG,CAAC,KAAK1C,UAAT,EACA;CACC,aAAKA,UAAL,GAAkBO,aAAG,CAACC,MAAtB,kaAKM,KAAK+P,YAAL,GACC,KAAKA,YADN,GAEC5N,aAAG,CAACC,UAAJ,CAAe,kCAAf,CAPP;CAaA1B,QAAAA,eAAK,CAACb,IAAN,CAAW,KAAKL,UAAhB,EAA4B,OAA5B,EAAqC,YAAK;CACzC,cAAI+Q,OAAO,GAAG3K,MAAM,CAAC4K,WAArB;CACA,cAAIC,KAAK,GAAGC,WAAW,CAAC,YAAK;CAC5B,gBACE9K,MAAM,CAAC4K,WAAP,GAAqB,EAAtB,IAA6B,KAAI,CAACR,SAAL,CAAezG,qBAAf,GAAuC6G,GAAvC,GAA6CxK,MAAM,CAAC4K,WAApD,GAAkE7P,QAAQ,CAACC,IAAT,CAAc+P,SAA7G,IACG/K,MAAM,CAAC4K,WAAP,GAAqB5K,MAAM,CAACgL,WAA5B,IAA2CjQ,QAAQ,CAACC,IAAT,CAAciQ,YAF7D,EAIA;CACCC,cAAAA,aAAa,CAACL,KAAD,CAAb;CACA;;CACDF,YAAAA,OAAO,GAAGA,OAAO,GAAG,EAApB;CACA3K,YAAAA,MAAM,CAACmL,QAAP,CAAgB,CAAhB,EAAkBR,OAAlB;CACA,WAVsB,EAUpB,EAVoB,CAAvB;CAWA,SAbD;CAcA;;CAED,aAAO,KAAK/Q,UAAZ;CACA;;;4BAGD;CACCmB,MAAAA,QAAQ,CAACC,IAAT,CAAc4B,WAAd,CAA0B,KAAKrC,YAAL,EAA1B;CACA,WAAK+P,cAAL;CACA;;;;;;KCjFWc,QAAb;CAEC,oBAAYhS,OAAZ,EACA;CAAA;CACC,SAAKiS,QAAL,GAAgBjS,OAAO,CAACiS,QAAR,IAAoB,IAApC;CACA,SAAK3G,KAAL,GAAatL,OAAO,CAACsL,KAAR,IAAiB,EAA9B;CACA,SAAKyF,YAAL,GAAoB/Q,OAAO,CAAC+Q,YAAR,IAAwB,IAA5C;CACA,SAAK9M,gBAAL,GAAwBjE,OAAO,CAACiE,gBAAR,IAA4B,IAApD;CACA,SAAKiO,aAAL,GAAqB,EAArB;CACA,SAAK1R,UAAL,GAAkB,IAAlB;CACA,SAAK2R,QAAL,GAAgB,IAAhB;CACA,SAAKC,OAAL,CAAa,KAAK9G,KAAlB;CACA,SAAK2F,IAAL;CACA;;CAbF;CAAA;CAAA,+BAgBC;CACC,aAAO,KAAKiB,aAAZ;CACA;CAlBF;CAAA;CAAA,4BAoBStI,IApBT,EAqBC;CAAA;;CACC,WAAKsI,aAAL,GAAqBtI,IAAI,CAAC8C,GAAL,CAAS,UAACtM,IAAD,EAAU;CACvC,YAAIA,IAAI,CAACD,IAAL,KAAc,eAAlB,EACA;CACC,iBAAO,IAAIsQ,aAAJ,CAAkB;CACxB5N,YAAAA,EAAE,EAAEzC,IAAI,CAACyC,EAAL,IAAW,IADS;CAExB5C,YAAAA,KAAK,EAAEG,IAAI,CAACH,KAAL,IAAc,IAFG;CAGxByD,YAAAA,IAAI,EAAEtD,IAAI,CAACsD,IAAL,IAAa,IAHK;CAIxBgN,YAAAA,UAAU,EAAEtQ,IAAI,CAACsQ,UAAL,IAAmB,IAJP;CAKxBC,YAAAA,OAAO,EAAEvQ,IAAI,CAACuQ,OAAL,IAAgB;CALD,WAAlB,CAAP;CAOA;;CAED,eAAO,IAAI3J,IAAJ,CAAS;CACfnE,UAAAA,EAAE,EAAEzC,IAAI,CAACyC,EAAL,IAAW,IADA;CAEf5C,UAAAA,KAAK,EAAEG,IAAI,CAACH,KAAL,IAAc,IAFN;CAGfI,UAAAA,GAAG,EAAED,IAAI,CAACC,GAAL,IAAY,IAHF;CAIfyD,UAAAA,OAAO,EAAE1D,IAAI,CAAC0D,OAAL,IAAgB,IAJV;CAKfoD,UAAAA,cAAc,EAAE9G,IAAI,CAAC8G,cAAL,IAAuB,IALxB;CAMfC,UAAAA,QAAQ,EAAE/G,IAAI,CAAC+G,QAAL,IAAiB,IANZ;CAOfpD,UAAAA,SAAS,EAAE3D,IAAI,CAAC2D,SAAL,IAAkB,IAPd;CAQfqD,UAAAA,SAAS,EAAEhH,IAAI,CAACgH,SAAL,IAAkB,IARd;CASfC,UAAAA,WAAW,EAAEjH,IAAI,CAACiH,WAAL,IAAoB,IATlB;CAUfrD,UAAAA,YAAY,EAAE5D,IAAI,CAAC4D,YAAL,IAAqB,IAVpB;CAWfsD,UAAAA,WAAW,EAAE+K,QAAQ,CAACjS,IAAI,CAACkH,WAAN,CAAR,IAA8B,IAX5B;CAYfpH,UAAAA,KAAK,EAAEE,IAAI,CAACF,KAAL,IAAc,IAZN;CAafqH,UAAAA,OAAO,EAAEnH,IAAI,CAACmH,OAAL,IAAgB,IAbV;CAcfC,UAAAA,YAAY,EAAEpH,IAAI,CAACoH,YAAL,IAAqB,IAdpB;CAefC,UAAAA,SAAS,EAAErH,IAAI,CAACqH,SAAL,IAAkB,IAfd;CAgBfC,UAAAA,OAAO,EAAEtH,IAAI,CAACsH,OAAL,IAAgB,IAhBV;CAiBfC,UAAAA,YAAY,EAAEvH,IAAI,CAACuH,YAAL,IAAqB,IAjBpB;CAkBfC,UAAAA,mBAAmB,EAAExH,IAAI,CAACwH,mBAAL,IAA4B,IAlBlC;CAmBfC,UAAAA,SAAS,EAAEzH,IAAI,CAACyH,SAAL,IAAkB,IAnBd;CAoBfC,UAAAA,eAAe,EAAE1H,IAAI,CAAC0H,eAAL,IAAwB,IApB1B;CAqBf7D,UAAAA,gBAAgB,EAAE,KAAI,CAACA,gBAAL,IAAyB,IArB5B;CAsBf8D,UAAAA,MAAM,EAAE3H,IAAI,CAAC2H,MAAL,IAAe,EAtBR;CAuBfjF,UAAAA,QAAQ,EAAE1C,IAAI,CAAC0C,QAAL,IAAiB,IAvBZ;CAwBfmE,UAAAA,IAAI,EAAE;CAxBS,SAAT,CAAP;CA0BA,OAtCoB,CAArB;CAwCA,aAAO,KAAKiL,aAAZ;CACA;CA/DF;CAAA;CAAA,mCAkEC;CACC,UAAI,CAAC,KAAK1R,UAAV,EACA;CACC,aAAKA,UAAL,GAAkBO,aAAG,CAACC,MAAtB;;CAEA,aAAK,IAAIsC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK4O,aAAL,CAAmB3O,MAAvC,EAA+CD,CAAC,EAAhD,EACA;CACC,eAAK9C,UAAL,CAAgBgD,WAAhB,CAA4B,KAAK0O,aAAL,CAAmB5O,CAAnB,EAAsBnC,YAAtB,EAA5B;CACA;CACD;;CAED,aAAO,KAAKX,UAAZ;CACA;CA9EF;CAAA;CAAA,2BAiFC;CACC,UAAI,KAAKyR,QAAT,EACA;CACC,aAAKA,QAAL,CAAczO,WAAd,CAA0B,KAAKrC,YAAL,EAA1B;CACA;;CAED,WAAKmR,SAAL;CACA;CAxFF;CAAA;CAAA,gCA2FC;CACC,UAAI,KAAKvC,QAAL,GAAgBxM,MAAhB,GAAyB,CAA7B,EACA;CACC,YAAI,CAAC,KAAK4O,QAAV,EACA;CACC,eAAKA,QAAL,GAAgB,IAAIrB,QAAJ,CAAa;CAC5B7J,YAAAA,IAAI,EAAE,IADsB;CAE5B8J,YAAAA,YAAY,EAAE,KAAKA;CAFS,WAAb,CAAhB;CAIA;CACD;CACD;CAtGF;CAAA;CAAA,2BAyGC;CACC,WAAKwB,IAAL;CACA;CA3GF;CAAA;CAAA;;;;;;;;"}