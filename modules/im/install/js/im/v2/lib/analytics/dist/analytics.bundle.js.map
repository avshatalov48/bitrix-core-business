{"version":3,"file":"analytics.bundle.js","sources":["../src/const.js","../src/helpers/get-collab-id.js","../src/helpers/get-user-type.js","../src/helpers/get-category-by-chat-type.js","../src/helpers/get-chat-type.js","../src/classes/collab-entities.js","../src/classes/chat-entities.js","../src/classes/chat-delete.js","../src/classes/message-delete.js","../src/classes/history-limit.js","../src/classes/user-add.js","../src/classes/chat-edit.js","../src/classes/chat-create.js","../src/classes/supervisor.js","../src/classes/check-in.js","../src/classes/copilot.js","../src/classes/attach-menu.js","../src/analytics.js"],"sourcesContent":["export const CopilotChatType = Object.freeze({\n\tprivate: 'chatType_private',\n\tmultiuser: 'chatType_multiuser',\n});\n\nexport const AnalyticsEvent = Object.freeze({\n\topenMessenger: 'open_messenger',\n\topenChat: 'open_chat',\n\tcreateNewChat: 'create_new_chat',\n\taudioUse: 'audio_use',\n\topenTab: 'open_tab',\n\tpopupOpen: 'popup_open',\n\topenPrices: 'open_prices',\n\topenSettings: 'open_settings',\n\tclickCreateNew: 'click_create_new',\n\topenExisting: 'open_existing',\n\tclickDelete: 'click_delete',\n\tcancelDelete: 'cancel_delete',\n\tdelete: 'delete',\n\tview: 'view',\n\tclick: 'click',\n\tclickEdit: 'click_edit',\n\tsubmitEdit: 'submit_edit',\n\tclickCallButton: 'click_call_button',\n\tclickStartConf: 'click_start_conf',\n\tclickJoin: 'click_join',\n\tclickAddUser: 'click_add_user',\n\topenCalendar: 'open_calendar',\n\topenTasks: 'open_tasks',\n\topenFiles: 'open_files',\n\tclickCreateTask: 'click_create_task',\n\tclickCreateEvent: 'click_create_event',\n\tclickAttach: 'click_attach',\n});\n\nexport const AnalyticsTool = Object.freeze({\n\tai: 'ai',\n\tcheckin: 'checkin',\n\tim: 'im',\n\tinfoHelper: 'InfoHelper',\n});\n\nexport const AnalyticsCategory = Object.freeze({\n\tchatOperations: 'chat_operations',\n\tshift: 'shift',\n\tmessenger: 'messenger',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tlimit: 'limit',\n\tlimitBanner: 'limit_banner',\n\ttoolOff: 'tool_off',\n\tmessage: 'message',\n\tchatPopup: 'chat_popup',\n\tcall: 'call',\n\tcollab: 'collab',\n});\n\nexport const AnalyticsType = Object.freeze({\n\tai: 'ai',\n\tchat: 'chat',\n\tchannel: 'channel',\n\tvideoconf: 'videoconf',\n\tcopilot: 'copilot',\n\tdeletedMessage: 'deleted_message',\n\tlimitOfficeChatingHistory: 'limit_office_chating_history',\n\tprivateCall: 'private',\n\tgroupCall: 'group',\n});\n\nexport const AnalyticsSection = Object.freeze({\n\tcopilotTab: 'copilot_tab',\n\tchat: 'chat',\n\tchatStart: 'chat_start',\n\tchatHistory: 'chat_history',\n\tsidebar: 'sidebar',\n\tpopup: 'popup',\n\tactiveChat: 'active_chat',\n\tcomments: 'comments',\n\tchatHeader: 'chat_header',\n\tchatSidebar: 'chat_sidebar',\n\tchatTextarea: 'chat_textarea',\n\teditor: 'editor',\n});\n\nexport const AnalyticsSubSection = Object.freeze({\n\tcontextMenu: 'context_menu',\n\tsidebar: 'sidebar',\n\tchatWindow: 'chat_window',\n\tmessageLink: 'message_link',\n\tchatSidebar: 'chat_sidebar',\n\tchatList: 'chat_list',\n\twindow: 'window',\n});\n\nexport const AnalyticsElement = Object.freeze({\n\tinitialBanner: 'initial_banner',\n\tvideocall: 'videocall',\n\taudiocall: 'audiocall',\n\tstartButton: 'start_button',\n});\n\nexport const AnalyticsStatus = Object.freeze({\n\tsuccess: 'success',\n\terrorTurnedOff: 'error_turnedoff',\n});\n\nexport const CreateChatContext = Object.freeze({\n\tcollabEmptyState: 'collab_empty_state',\n});\n","import { Core } from 'im.v2.application.core';\n\nimport type { ImModelCollabInfo } from 'im.v2.model';\n\nexport function getCollabId(chatId: number): ?string\n{\n\tconst collabInfo: ImModelCollabInfo = Core.getStore().getters['chats/collabs/getByChatId'](chatId);\n\tif (!collabInfo)\n\t{\n\t\treturn null;\n\t}\n\n\treturn `collabId_${collabInfo.collabId}`;\n}\n","import { Core } from 'im.v2.application.core';\nimport { UserType } from 'im.v2.const';\n\nimport type { ImModelUser } from 'im.v2.model';\n\nconst AnalyticUserType = Object.freeze({\n\tuserIntranet: 'user_intranet',\n\tuserExtranet: 'user_extranet',\n\tuserCollaber: 'user_collaber',\n});\n\nexport function getUserType(): $Values<typeof AnalyticUserType>\n{\n\tconst user: ImModelUser = Core.getStore().getters['users/get'](Core.getUserId(), true);\n\n\tswitch (user.type)\n\t{\n\t\tcase UserType.user:\n\t\t\treturn AnalyticUserType.userIntranet;\n\t\tcase UserType.extranet:\n\t\t\treturn AnalyticUserType.userExtranet;\n\t\tcase UserType.collaber:\n\t\t\treturn AnalyticUserType.userCollaber;\n\t\tdefault:\n\t\t\treturn AnalyticUserType.userIntranet;\n\t}\n}\n","import { ChatType } from 'im.v2.const';\n\nimport { AnalyticsCategory } from '../const';\n\nexport function getCategoryByChatType(type: $Values<typeof ChatType>): $Values<typeof AnalyticsCategory>\n{\n\tswitch (type)\n\t{\n\t\tcase ChatType.channel:\n\t\tcase ChatType.openChannel:\n\t\tcase ChatType.comment:\n\t\tcase ChatType.generalChannel:\n\t\t\treturn AnalyticsCategory.channel;\n\t\tcase ChatType.copilot:\n\t\t\treturn AnalyticsCategory.copilot;\n\t\tcase ChatType.videoconf:\n\t\t\treturn AnalyticsCategory.videoconf;\n\t\tcase ChatType.collab:\n\t\t\treturn AnalyticsCategory.collab;\n\t\tdefault:\n\t\t\treturn AnalyticsCategory.chat;\n\t}\n}\n","import { ChatType } from 'im.v2.const';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst CUSTOM_CHAT_TYPE = 'custom';\n\nexport function getChatType(chat: ImModelChat): $Values<typeof ChatType>\n{\n\treturn ChatType[chat.type] ?? CUSTOM_CHAT_TYPE;\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType, CollabEntityType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection, AnalyticsCategory } from '../const';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nconst EntityToEventMap = {\n\t[CollabEntityType.tasks]: AnalyticsEvent.openTasks,\n\t[CollabEntityType.calendar]: AnalyticsEvent.openCalendar,\n\t[CollabEntityType.files]: AnalyticsEvent.openFiles,\n};\n\nexport class CollabEntities\n{\n\tonClick(dialogId: string, type: $Values<typeof CollabEntityType>)\n\t{\n\t\tconst event = EntityToEventMap[type];\n\t\tif (!event)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.collab,\n\t\t\tevent,\n\t\t\tc_section: AnalyticsSection.chatHeader,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatEntities\n{\n\tonCreateTaskFromSidebarClick(dialogId: string)\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateTask,\n\t\t\tsection: AnalyticsSection.chatSidebar,\n\t\t});\n\t}\n\n\tonCreateTaskFromTextareaClick(dialogId: string)\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateTask,\n\t\t\tsection: AnalyticsSection.chatTextarea,\n\t\t});\n\t}\n\n\tonCreateEventFromSidebarClick(dialogId: string)\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateEvent,\n\t\t\tsection: AnalyticsSection.chatSidebar,\n\t\t});\n\t}\n\n\tonCreateEventFromTextareaClick(dialogId: string)\n\t{\n\t\tthis.#onClick({\n\t\t\tdialogId,\n\t\t\tevent: AnalyticsEvent.clickCreateEvent,\n\t\t\tsection: AnalyticsSection.chatTextarea,\n\t\t});\n\t}\n\n\t#onClick({ dialogId, event, section })\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent,\n\t\t\tc_section: section,\n\t\t\tp1: `chatType_${getChatType(chat)}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection, AnalyticsSubSection,\n\tAnalyticsTool,\n} from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatDelete\n{\n\tonClick(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickDelete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonCancel(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.cancelDelete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonConfirm(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.delete,\n\t\t\ttype: getChatType(chat),\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonChatDeletedNotification(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst category = getCategoryByChatType(chat);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: `deleted_${category}`,\n\t\t\tc_section: AnalyticsSection.activeChat,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { MessageComponentManager } from 'im.v2.lib.message-component-manager';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection,\n\tAnalyticsSubSection,\n\tAnalyticsTool,\n\tAnalyticsType,\n} from '../const';\n\nimport type { ImModelMessage, ImModelChat, ImModelCommentInfo } from 'im.v2.model';\n\nexport class MessageDelete\n{\n\tonClickDelete({ messageId, dialogId }: {messageId: string | number, dialogId: string})\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.message,\n\t\t\tevent: AnalyticsEvent.clickDelete,\n\t\t\ttype,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonCancel({ messageId, dialogId }: {messageId: string | number, dialogId: string})\n\t{\n\t\tconst message: ImModelMessage = Core.getStore().getters['messages/getById'](messageId);\n\t\tconst type = new MessageComponentManager(message).getName();\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.message,\n\t\t\tevent: AnalyticsEvent.cancelDelete,\n\t\t\ttype,\n\t\t\tc_section: AnalyticsSection.popup,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonNotFoundNotification({ dialogId }: {dialogId: string})\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.deletedMessage,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t});\n\t}\n\n\tonDeletedPostNotification({ messageId, dialogId }: {messageId: string | number, dialogId: string})\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst commentInfo: ImModelCommentInfo = Core.getStore().getters['messages/comments/getByMessageId'](messageId);\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.chatPopup,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.deletedMessage,\n\t\t\tc_section: AnalyticsSection.comments,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp4: `parentChatId_${chat.chatId}`,\n\t\t\tp5: `chatId_${commentInfo.chatId}`,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { SidebarDetailBlock } from 'im.v2.const';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsSection, AnalyticsTool, AnalyticsType } from '../const';\nimport { getChatType } from '../helpers/get-chat-type';\n\nexport class HistoryLimit\n{\n\tonDialogLimitExceeded({ dialogId, noMessages }: { dialogId: string, noMessages: boolean })\n\t{\n\t\tconst sectionValue = noMessages ? AnalyticsSection.chatStart : AnalyticsSection.chatHistory;\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: sectionValue,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonSidebarLimitExceeded({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> })\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.view,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_element: this.#getSidebarPanelNameForAnalytics(panel),\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tsendData(params);\n\t}\n\n\tonDialogBannerClick({ dialogId }: {dialogId: string})\n\t{\n\t\tconst section = AnalyticsSection.chatWindow;\n\t\tthis.#onBannerClick({ dialogId, section });\n\t}\n\n\tonSidebarBannerClick({ dialogId, panel }: { dialogId: string, panel: $Values<typeof SidebarDetailBlock> })\n\t{\n\t\tconst section = AnalyticsSection.sidebar;\n\t\tconst element = this.#getSidebarPanelNameForAnalytics(panel);\n\t\tthis.#onBannerClick({ dialogId, section, element });\n\t}\n\n\tonGoToContextLimitExceeded({ dialogId }: { dialogId: string })\n\t{\n\t\tconst section = AnalyticsSection.messageLink;\n\t\tthis.#onBannerClick({ dialogId, section });\n\t}\n\n\t#onBannerClick({ dialogId, section, element }: { dialogId: string, section: string, element?: string })\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType = getChatType(dialog);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.limitBanner,\n\t\t\tevent: AnalyticsEvent.click,\n\t\t\ttype: AnalyticsType.limitOfficeChatingHistory,\n\t\t\tc_section: section,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t};\n\n\t\tif (element)\n\t\t{\n\t\t\tparams.c_element = element;\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\t#getSidebarPanelNameForAnalytics(panel: $Values<typeof SidebarDetailBlock>): string\n\t{\n\t\tswitch (panel)\n\t\t{\n\t\t\tcase SidebarDetailBlock.main:\n\t\t\t\treturn 'main';\n\t\t\tcase SidebarDetailBlock.file:\n\t\t\tcase SidebarDetailBlock.fileUnsorted:\n\t\t\tcase SidebarDetailBlock.audio:\n\t\t\tcase SidebarDetailBlock.brief:\n\t\t\tcase SidebarDetailBlock.document:\n\t\t\tcase SidebarDetailBlock.media:\n\t\t\tcase SidebarDetailBlock.other:\n\t\t\t\treturn 'docs';\n\t\t\tcase SidebarDetailBlock.messageSearch:\n\t\t\t\treturn 'message_search';\n\t\t\tcase SidebarDetailBlock.favorite:\n\t\t\t\treturn 'favs';\n\t\t\tcase SidebarDetailBlock.link:\n\t\t\t\treturn 'links';\n\t\t\tcase SidebarDetailBlock.task:\n\t\t\t\treturn 'task';\n\t\t\tcase SidebarDetailBlock.meeting:\n\t\t\t\treturn 'event';\n\t\t\tdefault:\n\t\t\t\treturn 'unknown';\n\t\t}\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class UserAdd\n{\n\tonChatSidebarClick(dialogId: string)\n\t{\n\t\tthis.#onAddUserClick(dialogId, AnalyticsSection.chatSidebar);\n\t}\n\n\tonChatHeaderClick(dialogId: string)\n\t{\n\t\tthis.#onAddUserClick(dialogId, AnalyticsSection.chatHeader);\n\t}\n\n\t#onAddUserClick(dialogId: string, element: AnalyticsSection.chatSidebar | AnalyticsSection.chatHeader)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId, true);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickAddUser,\n\t\t\tc_section: element,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, AnalyticsSubSection, AnalyticsSection } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class ChatEdit\n{\n\tonOpenForm(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickEdit,\n\t\t\tc_section: AnalyticsSection.sidebar,\n\t\t\tc_sub_section: AnalyticsSubSection.contextMenu,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n\n\tonSubmitForm(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tc_section: AnalyticsSection.editor,\n\t\t\tevent: AnalyticsEvent.submitEdit,\n\t\t\tp1: `chatType_${chat.type}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\n\nimport { AnalyticsEvent, AnalyticsTool, CreateChatContext } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getUserType } from '../helpers/get-user-type';\n\nexport class ChatCreate\n{\n\tonStartClick(type: $Values<typeof ChatType>)\n\t{\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(type),\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttype,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonCollabEmptyStateCreateClick()\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(ChatType.collab),\n\t\t\tevent: AnalyticsEvent.clickCreateNew,\n\t\t\ttype: ChatType.collab,\n\t\t\tc_section: CreateChatContext.collabEmptyState,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsTool, AnalyticsSection } from '../const';\n\nexport class Supervisor\n{\n\tonOpenPriceTable(featureId: string)\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.limit,\n\t\t\tevent: AnalyticsEvent.openPrices,\n\t\t\ttype: featureId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n\n\tonOpenToolsSettings(toolId: string)\n\t{\n\t\tsendData({\n\t\t\ttool: AnalyticsTool.infoHelper,\n\t\t\tcategory: AnalyticsCategory.toolOff,\n\t\t\tevent: AnalyticsEvent.openSettings,\n\t\t\ttype: toolId,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { AnalyticsCategory, AnalyticsEvent, AnalyticsSection, AnalyticsTool } from '../const';\n\nexport class CheckIn\n{\n\tonOpenCheckInPopup()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.popupOpen,\n\t\t\ttool: AnalyticsTool.checkin,\n\t\t\tcategory: AnalyticsCategory.shift,\n\t\t\tc_section: AnalyticsSection.chat,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { Core } from 'im.v2.application.core';\n\nimport {\n\tAnalyticsCategory,\n\tAnalyticsEvent,\n\tAnalyticsSection,\n\tAnalyticsStatus,\n\tAnalyticsTool,\n\tCopilotChatType,\n\tAnalyticsType,\n} from '../const';\n\nexport class Copilot\n{\n\tonCreateChat(chatId: number)\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.createNewChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: CopilotChatType.private,\n\t\t\tp5: `chatId_${chatId}`,\n\t\t});\n\t}\n\n\tonOpenChat(dialogId: string)\n\t{\n\t\tconst dialog = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst copilotChatType = dialog.userCounter <= 2 ? CopilotChatType.private : CopilotChatType.multiuser;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openChat,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\ttype: AnalyticsType.ai,\n\t\t\tp3: copilotChatType,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t});\n\t}\n\n\tonOpenTab({ isAvailable = true } = {})\n\t{\n\t\tconst payload = {\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t\tstatus: isAvailable ? AnalyticsStatus.success : AnalyticsStatus.errorTurnedOff,\n\t\t};\n\n\t\tsendData(payload);\n\t}\n\n\tonUseAudioInput()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.audioUse,\n\t\t\ttool: AnalyticsTool.ai,\n\t\t\tcategory: AnalyticsCategory.chatOperations,\n\t\t\tc_section: AnalyticsSection.copilotTab,\n\t\t});\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { ChatType } from 'im.v2.const';\nimport { Core } from 'im.v2.application.core';\n\nimport { AnalyticsEvent, AnalyticsSection, AnalyticsTool } from '../const';\nimport { getCategoryByChatType } from '../helpers/get-category-by-chat-type';\nimport { getChatType } from '../helpers/get-chat-type';\nimport { getCollabId } from '../helpers/get-collab-id';\nimport { getUserType } from '../helpers/get-user-type';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport class AttachMenu\n{\n\tonOpenUploadMenu(dialogId: string)\n\t{\n\t\tconst chat: ImModelChat = Core.getStore().getters['chats/get'](dialogId);\n\t\tconst chatType: $Values<ChatType> = getChatType(chat);\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chat.type),\n\t\t\tevent: AnalyticsEvent.clickAttach,\n\t\t\tc_section: AnalyticsSection.chatTextarea,\n\t\t\tp1: `chatType_${chatType}`,\n\t\t\tp2: getUserType(),\n\t\t\tp5: `chatId_${chat.chatId}`,\n\t\t};\n\n\t\tif (chat.type === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(chat.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n","import { sendData } from 'ui.analytics';\n\nimport { ChatType, Layout, UserRole } from 'im.v2.const';\nimport { Core } from 'im.v2.application.core';\n\nimport {\n\tAnalyticsEvent,\n\tAnalyticsTool,\n\tAnalyticsCategory,\n\tAnalyticsType,\n\tAnalyticsSection,\n\tAnalyticsSubSection,\n\tAnalyticsElement,\n} from './const';\n\nimport { getCollabId } from './helpers/get-collab-id';\nimport { getUserType } from './helpers/get-user-type';\nimport { getCategoryByChatType } from './helpers/get-category-by-chat-type';\nimport { getChatType } from './helpers/get-chat-type';\n\nimport { CollabEntities } from './classes/collab-entities';\nimport { ChatEntities } from './classes/chat-entities';\nimport { ChatDelete } from './classes/chat-delete';\nimport { MessageDelete } from './classes/message-delete';\nimport { HistoryLimit } from './classes/history-limit';\nimport { UserAdd } from './classes/user-add';\nimport { ChatEdit } from './classes/chat-edit';\nimport { ChatCreate } from './classes/chat-create';\nimport { Supervisor } from './classes/supervisor';\nimport { CheckIn } from './classes/check-in';\nimport { Copilot } from './classes/copilot';\nimport { AttachMenu } from './classes/attach-menu';\n\nimport type { ImModelChat } from 'im.v2.model';\n\ntype DialogId = string;\n\nexport { CreateChatContext } from './const';\nexport { getCollabId } from './helpers/get-collab-id';\nexport { getUserType } from './helpers/get-user-type';\n\nexport class Analytics\n{\n\t#excludedChats: Set<DialogId> = new Set();\n\t#currentTab: string = Layout.chat.name;\n\n\tchatCreate: ChatCreate = new ChatCreate();\n\tchatEdit: ChatEdit = new ChatEdit();\n\tchatDelete: ChatDelete = new ChatDelete();\n\tmessageDelete: MessageDelete = new MessageDelete();\n\thistoryLimit: HistoryLimit = new HistoryLimit();\n\tuserAdd: UserAdd = new UserAdd();\n\tcollabEntities: CollabEntities = new CollabEntities();\n\tchatEntities: ChatEntities = new ChatEntities();\n\tsupervisor: Supervisor = new Supervisor();\n\tcheckIn: CheckIn = new CheckIn();\n\tcopilot: Copilot = new Copilot();\n\tattachMenu: AttachMenu = new AttachMenu();\n\n\tstatic #instance: Analytics;\n\n\tstatic getInstance(): Analytics\n\t{\n\t\tif (!this.#instance)\n\t\t{\n\t\t\tthis.#instance = new this();\n\t\t}\n\n\t\treturn this.#instance;\n\t}\n\n\tignoreNextChatOpen(dialogId: string): void\n\t{\n\t\tthis.#excludedChats.add(dialogId);\n\t}\n\n\tonOpenMessenger()\n\t{\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openMessenger,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t});\n\t}\n\n\tonOpenTab(tabName: string)\n\t{\n\t\tconst existingTabs = [\n\t\t\tLayout.chat.name,\n\t\t\tLayout.copilot.name,\n\t\t\tLayout.collab.name,\n\t\t\tLayout.channel.name,\n\t\t\tLayout.notification.name,\n\t\t\tLayout.settings.name,\n\t\t\tLayout.openlines.name,\n\t\t];\n\n\t\tif (!existingTabs.includes(tabName))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#currentTab === tabName)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#currentTab = tabName;\n\n\t\tsendData({\n\t\t\tevent: AnalyticsEvent.openTab,\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: AnalyticsCategory.messenger,\n\t\t\ttype: tabName,\n\t\t\tp2: getUserType(),\n\t\t});\n\t}\n\n\tonOpenChat(dialog: ImModelChat)\n\t{\n\t\tif (this.#excludedChats.has(dialog.dialogId))\n\t\t{\n\t\t\tthis.#excludedChats.delete(dialog.dialogId);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst chatType = getChatType(dialog);\n\n\t\tif (chatType === ChatType.copilot)\n\t\t{\n\t\t\tthis.copilot.onOpenChat(dialog.dialogId);\n\t\t}\n\n\t\tconst currentLayout = Core.getStore().getters['application/getLayout'].name;\n\t\tconst isMember = dialog.role === UserRole.guest ? 'N' : 'Y';\n\n\t\tconst params = {\n\t\t\ttool: AnalyticsTool.im,\n\t\t\tcategory: getCategoryByChatType(chatType),\n\t\t\tevent: AnalyticsEvent.openExisting,\n\t\t\ttype: chatType,\n\t\t\tc_section: `${currentLayout}_tab`,\n\t\t\tp2: getUserType(),\n\t\t\tp3: `isMember_${isMember}`,\n\t\t\tp5: `chatId_${dialog.chatId}`,\n\t\t};\n\n\t\tif (chatType === ChatType.comment)\n\t\t{\n\t\t\tconst parentChat = Core.getStore().getters['chats/getByChatId'](dialog.parentChatId);\n\t\t\tparams.p1 = `chatType_${parentChat.type}`;\n\t\t\tparams.p4 = `parentChatId_${dialog.parentChatId}`;\n\t\t}\n\n\t\tif (chatType === ChatType.collab)\n\t\t{\n\t\t\tparams.p4 = getCollabId(dialog.chatId);\n\t\t}\n\n\t\tsendData(params);\n\t}\n}\n"],"names":["CopilotChatType","Object","freeze","private","multiuser","AnalyticsEvent","openMessenger","openChat","createNewChat","audioUse","openTab","popupOpen","openPrices","openSettings","clickCreateNew","openExisting","clickDelete","cancelDelete","delete","view","click","clickEdit","submitEdit","clickCallButton","clickStartConf","clickJoin","clickAddUser","openCalendar","openTasks","openFiles","clickCreateTask","clickCreateEvent","clickAttach","AnalyticsTool","ai","checkin","im","infoHelper","AnalyticsCategory","chatOperations","shift","messenger","chat","channel","videoconf","copilot","limit","limitBanner","toolOff","message","chatPopup","call","collab","AnalyticsType","deletedMessage","limitOfficeChatingHistory","privateCall","groupCall","AnalyticsSection","copilotTab","chatStart","chatHistory","sidebar","popup","activeChat","comments","chatHeader","chatSidebar","chatTextarea","editor","AnalyticsSubSection","contextMenu","chatWindow","messageLink","chatList","window","AnalyticsElement","initialBanner","videocall","audiocall","startButton","AnalyticsStatus","success","errorTurnedOff","CreateChatContext","collabEmptyState","getCollabId","chatId","collabInfo","Core","getStore","getters","collabId","AnalyticUserType","userIntranet","userExtranet","userCollaber","getUserType","user","getUserId","type","UserType","extranet","collaber","getCategoryByChatType","ChatType","openChannel","comment","generalChannel","CUSTOM_CHAT_TYPE","getChatType","EntityToEventMap","CollabEntityType","tasks","calendar","files","CollabEntities","onClick","dialogId","event","params","tool","category","c_section","p2","p5","p4","sendData","ChatEntities","onCreateTaskFromSidebarClick","section","onCreateTaskFromTextareaClick","onCreateEventFromSidebarClick","onCreateEventFromTextareaClick","p1","ChatDelete","c_sub_section","onCancel","onConfirm","onChatDeletedNotification","MessageDelete","onClickDelete","messageId","MessageComponentManager","getName","onNotFoundNotification","onDeletedPostNotification","commentInfo","HistoryLimit","onDialogLimitExceeded","noMessages","sectionValue","dialog","chatType","onSidebarLimitExceeded","panel","c_element","onDialogBannerClick","onSidebarBannerClick","element","onGoToContextLimitExceeded","SidebarDetailBlock","main","file","fileUnsorted","audio","brief","document","media","other","messageSearch","favorite","link","task","meeting","UserAdd","onChatSidebarClick","onChatHeaderClick","ChatEdit","onOpenForm","onSubmitForm","ChatCreate","onStartClick","currentLayout","name","onCollabEmptyStateCreateClick","Supervisor","onOpenPriceTable","featureId","onOpenToolsSettings","toolId","CheckIn","onOpenCheckInPopup","Copilot","onCreateChat","p3","onOpenChat","copilotChatType","userCounter","onOpenTab","isAvailable","payload","status","onUseAudioInput","AttachMenu","onOpenUploadMenu","Analytics","Set","Layout","chatCreate","chatEdit","chatDelete","messageDelete","historyLimit","userAdd","collabEntities","chatEntities","supervisor","checkIn","attachMenu","getInstance","ignoreNextChatOpen","add","onOpenMessenger","tabName","existingTabs","notification","settings","openlines","includes","has","isMember","role","UserRole","guest","parentChat","parentChatId"],"mappings":"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"}