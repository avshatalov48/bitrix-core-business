this.BX=this.BX||{};(function(t,e){"use strict";class s{}s.NONE="ui-progressbar-none";s.DANGER="ui-progressbar-danger";s.SUCCESS="ui-progressbar-success";s.PRIMARY="ui-progressbar-primary";s.WARNING="ui-progressbar-warning";class i{}i.MEDIUM="ui-progressbar-md";i.LARGE="ui-progressbar-lg";class r{}r.COUNTER="COUNTER";r.PERCENT="PERCENT";r.NONE="NONE";let a=t=>t,n,o,l,h;var u=babelHelpers.classPrivateFieldLooseKey("setCustomColors");class c{constructor(t=ProgressBarOptions){Object.defineProperty(this,u,{value:f});this.options=e.Type.isPlainObject(t)?t:{};this.value=e.Type.isNumber(this.options.value)?this.options.value:0;this.maxValue=e.Type.isNumber(this.options.maxValue)?this.options.maxValue:100;this.bar=null;this.container=null;this.status=null;this.finished=false;this.fill=e.Type.isBoolean(this.options.fill)?this.options.fill:false;this.column=e.Type.isBoolean(this.options.column)?this.options.column:false;this.statusPercent="0%";this.statusCounter="0 / 0";this.textBefore=e.Type.isString(this.options.textBefore)?this.options.textBefore:null;this.textBeforeContainer=null;this.textAfter=e.Type.isString(this.options.textAfter)?this.options.textAfter:null;this.clickAfterCallback=e.Type.isFunction(this.options.clickAfterCallback)?this.options.clickAfterCallback:null;this.textAfterContainer=null;this.statusType=e.Type.isString(this.options.statusType)?this.options.statusType:BX.UI.ProgressBar.Status.NONE;this.size=e.Type.isStringFilled(this.options.size)||e.Type.isNumber(this.options.size)?this.options.size:BX.UI.ProgressBar.Size.MEDIUM;this.colorTrack=e.Type.isString(this.options.colorTrack)?this.options.colorTrack:null;this.colorBar=e.Type.isString(this.options.colorBar)?this.options.colorBar:null;this.color=e.Type.isString(this.options.color)?this.options.color:BX.UI.ProgressBar.Color.PRIMARY;this.infiniteLoading=e.Type.isBoolean(this.options.infiniteLoading)?this.options.infiniteLoading:false}setValue(t){if(e.Type.isNumber(t)){this.value=t>this.maxValue?this.maxValue:t}return this}getValue(){return this.value}setMaxValue(t){if(e.Type.isNumber(t)){this.maxValue=t}return this}getMaxValue(){return this.maxValue}finish(){this.update(this.maxValue)}isFinish(){return this.finished}setColor(t){if(e.Type.isStringFilled(t)){if(this.container===null){this.createContainer()}e.Dom.removeClass(this.container,this.color);this.color=t;e.Dom.addClass(this.container,this.color)}return this}setColorBar(t){if(e.Type.isStringFilled(t)){this.colorBar=t;t="--ui-current-bar-color:"+t+";";babelHelpers.classPrivateFieldLooseBase(this,u)[u](t)}return this}setColorTrack(t){if(e.Type.isStringFilled(t)){this.colorTrack=t;this.setFill(true);t="--ui-current-bar-bg-track-color:"+t+";";babelHelpers.classPrivateFieldLooseBase(this,u)[u](t)}return this}setSize(t){if(this.container===null){this.createContainer()}if(e.Type.isStringFilled(t)){e.Dom.removeClass(this.container,this.size);this.size=t;e.Dom.addClass(this.container,this.size)}else if(e.Type.isNumber(t)){this.container.setAttribute("style","--ui-current-bar-size:"+t+"px;");this.size=t}return this}setFill(t){if(this.container===null){this.createContainer()}if(t){e.Dom.addClass(this.container,"ui-progressbar-bg")}else{e.Dom.removeClass(this.container,"ui-progressbar-bg")}return this}setColumn(t){if(this.container===null){this.createContainer()}if(t===true){e.Dom.addClass(this.container,"ui-progressbar-column")}else{e.Dom.removeClass(this.container,"ui-progressbar-column")}return this}setTextBefore(t){if(e.Type.isStringFilled(t)){this.textBefore=t;if(this.textBeforeContainer){e.Dom.adjust(this.textBeforeContainer,{html:t})}else{this.createTextBefore(t)}}return this}createTextBefore(t){if(!this.textBeforeContainer&&e.Type.isStringFilled(t)){this.textBeforeContainer=e.Tag.render(n||(n=a`
				<div class="ui-progressbar-text-before">${0}</div>
			`),t)}}getTextBefore(){if(!this.textBeforeContainer){this.createTextBefore(this.textBefore)}return this.textBeforeContainer}setClickAfterCallback(t){if(e.Type.isFunction(this.clickAfterCallback)){e.Event.unbind(this.textAfterContainer,"click",this.clickAfterCallback)}this.clickAfterCallback=t;return this}setTextAfter(t){if(e.Type.isStringFilled(t)){this.textAfter=t;if(this.textAfterContainer){e.Dom.adjust(this.textAfterContainer,{text:t})}else{this.createTextAfter(t)}if(this.clickAfterCallback){e.Event.unbind(this.textAfterContainer,"click",this.clickAfterCallback);e.Event.bind(this.textAfterContainer,"click",this.clickAfterCallback)}}}clearTextAfter(){e.Dom.remove(this.textAfterContainer);this.textAfterContainer=null;return this}createTextAfter(t){if(this.textAfterContainer||!e.Type.isStringFilled(t)){return}this.textAfterContainer=e.Tag.render(o||(o=a`
			<div class="ui-progressbar-text-after">${0}</div>
		`),t)}getTextAfter(){if(!this.textAfterContainer){this.createTextAfter(this.textAfter)}return this.textAfterContainer}setStatus(){if(this.getStatusType()===BX.UI.ProgressBar.Status.COUNTER){e.Dom.adjust(this.status,{text:this.getStatusCounter()})}else if(this.getStatusType()===BX.UI.ProgressBar.Status.PERCENT){e.Dom.adjust(this.status.firstChild,{text:this.getStatusPercent()})}}getStatus(){if(!this.status){if(this.getStatusType()===BX.UI.ProgressBar.Status.COUNTER){this.status=e.Tag.render(l||(l=a`
					<div class="ui-progressbar-status">${0}</div>
				`),this.getStatusCounter())}else if(this.getStatusType()===BX.UI.ProgressBar.Status.PERCENT){this.status=e.Tag.render(h||(h=a`
					<div class="ui-progressbar-status-percent">
						<span class="ui-progressbar-status-percent-value">${0}</span>
						<span class="ui-progressbar-status-percent-sign">%</span>
					</div>
				`),this.getStatusPercent())}else{this.status=e.Dom.create("span",{})}}return this.status}getStatusPercent(){if(this.maxValue===0){return"0%"}this.statusPercent=Math.round(this.getValue()/(this.getMaxValue()/100));if(this.statusPercent>100){this.statusPercent=100}return this.statusPercent}getStatusCounter(){if(Math.round(this.getValue())>Math.round(this.getMaxValue())){this.statusCounter=Math.round(this.getMaxValue())+" / "+Math.round(this.getMaxValue())}else{this.statusCounter=Math.round(this.getValue())+" / "+Math.round(this.getMaxValue())}return this.statusCounter}getStatusType(){return this.statusType}setStatusType(t){if(e.Type.isStringFilled(t)){this.statusType=t}}createContainer(){if(this.container===null){this.container=e.Dom.create("div",{props:{className:"ui-progressbar"},children:[this.getTextAfter(),this.getTextBefore(),this.getStatus(),BX.create("div",{props:{className:"ui-progressbar-track"},children:[this.getBar()]})]});this.setColor(this.color);this.setColumn(this.column);this.setSize(this.size);this.setFill(this.fill);this.setColorTrack(this.colorTrack);this.setColorBar(this.colorBar);this.setTextAfter(this.textAfter)}}getBar(){if(this.bar===null){this.bar=e.Dom.create("div",{props:{className:`${this.infiniteLoading?"ui-progressbar-bar infinite-loading":"ui-progressbar-bar"}`},style:{width:`${this.getStatusPercent()}%`}})}return this.bar}update(t){if(this.container===null){this.createContainer()}this.setValue(t);if(t>=this.maxValue){setTimeout(function(){e.Dom.addClass(this.container,"ui-progressbar-finished")}.bind(this),300);this.finished=true}else{e.Dom.removeClass(this.container,"ui-progressbar-finished");this.finished=false}this.setStatus();if(this.bar===null){this.getBar()}e.Dom.adjust(this.bar,{style:{width:`${this.getStatusPercent()}%`}})}getContainer(){if(this.container===null){this.createContainer()}return this.container}renderTo(t){if(e.Type.isDomNode(t)){return t.appendChild(this.getContainer())}return null}destroy(){e.Dom.remove(this.container);this.container=null;this.finished=false;this.textAfterContainer=null;this.textBeforeContainer=null;this.bar=null;for(const t in this){if(this.hasOwnProperty(t)){delete this[t]}}Object.setPrototypeOf(this,null)}}function f(t){if(this.container===null){this.createContainer()}this.setFill(false);this.setColor(BX.UI.ProgressBar.Color.NONE);let e=this.container.getAttribute("style"),s=!e?t:e+t;this.container.setAttribute("style",s)}c.Color=s;c.Size=i;c.Status=r;t.ProgressBar=c})(this.BX.UI=this.BX.UI||{},BX);
//# sourceMappingURL=progressbar.bundle.map.js