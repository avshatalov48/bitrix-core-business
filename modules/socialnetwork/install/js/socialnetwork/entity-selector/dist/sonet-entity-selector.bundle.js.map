{"version":3,"file":"sonet-entity-selector.bundle.js","sources":["../src/footer.js","../src/text-footer.js"],"sourcesContent":["import { Type, Tag, Loc, Runtime, Dom, Validation } from 'main.core';\nimport { EventEmitter, BaseEvent } from 'main.core.events';\nimport { DefaultFooter } from 'ui.entity-selector';\nimport type { Dialog, TabOptions } from 'ui.entity-selector';\n\nexport default class Footer extends DefaultFooter\n{\n\tconstructor(dialog: Dialog, options: { [option: string]: any })\n\t{\n\t\tsuper(dialog, options);\n\n\t\tthis.handleDialogDestroy = this.handleDialogDestroy.bind(this);\n\t\tthis.handleSliderMessage = this.handleSliderMessage.bind(this);\n\n\t\tthis.bindEvents();\n\t}\n\n\tgetContent(): HTMLElement | HTMLElement[] | string | null\n\t{\n\t\treturn this.cache.remember('content', () => {\n\t\t\tif (this.getOption('tagCreationLabel', false))\n\t\t\t{\n\t\t\t\treturn this.createTagCreationLabel();\n\t\t\t}\n\n\t\t\tconst inviteEmployeeLink = this.getOption('inviteEmployeeLink');\n\t\t\tconst inviteGuestLink = this.getOption('inviteGuestLink');\n\t\t\tconst lockGuestLink = this.getOption('lockGuestLink', false);\n\t\t\tconst lockGuestLinkFeatureId = this.getOption('lockGuestLinkFeatureId', '');\n\t\t\tconst inviteEmployeeScope = this.getOption('inviteEmployeeScope');\n\t\t\tconst createProjectLink = this.getOption('createProjectLink');\n\t\t\tconst lockProjectLink = this.getOption('lockProjectLink', false);\n\t\t\tconst lockProjectLinkFeatureId = this.getOption('lockProjectLinkFeatureId', '');\n\t\t\tconst isProject = this.getOption('isProject', false);\n\n\t\t\tconst complexPhrases = {\n\t\t\t\t'111': 'SOCNET_ENTITY_SELECTOR_EMPLOYEE_OR_PROJECT_OR_GUEST',\n\t\t\t\t'110': 'SOCNET_ENTITY_SELECTOR_INVITE_EMPLOYEE_OR_GUEST',\n\t\t\t\t'101': 'SOCNET_ENTITY_SELECTOR_EMPLOYEE_OR_PROJECT',\n\t\t\t\t'011': 'SOCNET_ENTITY_SELECTOR_PROJECT_OR_GUEST',\n\t\t\t};\n\n\t\t\tconst complexCode =\n\t\t\t\tNumber(Boolean(inviteEmployeeLink)).toString() +\n\t\t\t\tNumber(Boolean(inviteGuestLink)).toString() +\n\t\t\t\tNumber(Boolean(createProjectLink)).toString()\n\t\t\t;\n\n\t\t\tconst complexPhrase = complexPhrases[complexCode] ? complexPhrases[complexCode] : null;\n\t\t\tif (complexPhrase)\n\t\t\t{\n\t\t\t\tconst phrase = Tag.render`<div>${Loc.getMessage(complexPhrase)}</div>`;\n\t\t\t\tconst employee = phrase.querySelector('employee');\n\t\t\t\tconst guest = phrase.querySelector('guest');\n\t\t\t\tconst project = phrase.querySelector('project');\n\t\t\t\tconst spans = Array.from(phrase.querySelectorAll('span'));\n\n\t\t\t\tconst firstTag = Array.from(phrase.children).find(element => {\n\t\t\t\t\treturn [employee, guest, project].includes(element);\n\t\t\t\t});\n\n\t\t\t\tconst hideIcon = employee && guest && project;\n\n\t\t\t\tif (employee)\n\t\t\t\t{\n\t\t\t\t\tconst showIcon = !hideIcon && firstTag === employee;\n\t\t\t\t\tphrase.replaceChild(\n\t\t\t\t\t\tthis.createInviteEmployeeLink(employee.innerHTML, showIcon),\n\t\t\t\t\t\temployee\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (guest)\n\t\t\t\t{\n\t\t\t\t\tconst showIcon = !hideIcon && firstTag === guest;\n\t\t\t\t\tlet guestLink;\n\n\t\t\t\t\tif (lockGuestLink)\n\t\t\t\t\t{\n\t\t\t\t\t\tguestLink = this.createLockedGuestLink(\n\t\t\t\t\t\t\tguest.innerHTML,\n\t\t\t\t\t\t\tshowIcon,\n\t\t\t\t\t\t\tlockGuestLinkFeatureId,\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tthis.createLock(guestLink, lockGuestLinkFeatureId);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tguestLink = this.createInviteGuestLink(guest.innerHTML, showIcon);\n\n\t\t\t\t\t\tthis.createHint(guestLink);\n\t\t\t\t\t}\n\n\t\t\t\t\tphrase.replaceChild(guestLink, guest);\n\t\t\t\t}\n\n\t\t\t\tif (project)\n\t\t\t\t{\n\t\t\t\t\tconst showIcon = !hideIcon && firstTag === project;\n\t\t\t\t\tphrase.replaceChild(\n\t\t\t\t\t\tthis.createProjectLink(project.innerHTML, showIcon),\n\t\t\t\t\t\tproject\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tspans.forEach(span => {\n\t\t\t\t\tphrase.replaceChild(\n\t\t\t\t\t\tTag.render`<span class=\"ui-selector-footer-conjunction\">${span.innerHTML}</span>`,\n\t\t\t\t\t\tspan\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\t// Get rid of the outer <div>\n\t\t\t\tconst fragment = document.createDocumentFragment();\n\t\t\t\tArray.from(phrase.childNodes).forEach(element => {\n\t\t\t\t\tfragment.appendChild(element);\n\t\t\t\t});\n\n\t\t\t\treturn fragment;\n\t\t\t}\n\t\t\telse if (inviteEmployeeLink)\n\t\t\t{\n\t\t\t\tlet phrase = '';\n\t\t\t\tswitch (inviteEmployeeScope)\n\t\t\t\t{\n\t\t\t\t\tcase 'I':\n\t\t\t\t\t\tphrase = Loc.getMessage('SOCNET_ENTITY_SELECTOR_INVITE_EMPLOYEE');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'E':\n\t\t\t\t\t\tphrase = Loc.getMessage('SOCNET_ENTITY_SELECTOR_INVITE_EXTRANET');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'IE':\n\t\t\t\t\t\tphrase = Loc.getMessage('SOCNET_ENTITY_SELECTOR_INVITE_EMPLOYEE_OR_EXTRANET');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t}\n\n\t\t\t\treturn this.createInviteEmployeeLink(phrase, true);\n\t\t\t}\n\t\t\telse if (inviteGuestLink)\n\t\t\t{\n\t\t\t\tlet guestLink;\n\n\t\t\t\tif (lockGuestLink)\n\t\t\t\t{\n\t\t\t\t\tguestLink = this.createLockedGuestLink(\n\t\t\t\t\t\tLoc.getMessage('SOCNET_ENTITY_SELECTOR_INVITE_GUEST'),\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tlockGuestLinkFeatureId,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.createLock(guestLink, lockGuestLinkFeatureId);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tguestLink = this.createInviteGuestLink(\n\t\t\t\t\t\tLoc.getMessage('SOCNET_ENTITY_SELECTOR_INVITE_GUEST'),\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.createHint(guestLink);\n\t\t\t\t}\n\n\t\t\t\treturn guestLink;\n\t\t\t}\n\t\t\telse if (createProjectLink)\n\t\t\t{\n\t\t\t\tif (lockProjectLink)\n\t\t\t\t{\n\t\t\t\t\tconst projectLink = this.createLockedProjectLink(\n\t\t\t\t\t\tisProject ? Loc.getMessage('SOCNET_ENTITY_SELECTOR_CREATE_PROJECT_1') : Loc.getMessage('SOCNET_ENTITY_SELECTOR_CREATE_PROJECT'),\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tlockProjectLinkFeatureId,\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.createLock(projectLink, lockProjectLinkFeatureId);\n\n\t\t\t\t\treturn projectLink;\n\t\t\t\t}\n\n\t\t\t\treturn this.createProjectLink(\n\t\t\t\t\tisProject ? Loc.getMessage('SOCNET_ENTITY_SELECTOR_CREATE_PROJECT_1') : Loc.getMessage('SOCNET_ENTITY_SELECTOR_CREATE_PROJECT'),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t});\n\t}\n\n\tcreateTagCreationLabel()\n\t{\n\t\treturn Loc.getMessage('SOCNET_ENTITY_SELECTOR_TAG_FOOTER_LABEL');\n\t}\n\n\tcreateInviteEmployeeLink(text: string, icon: boolean): string\n\t{\n\t\tconst className = `ui-selector-footer-link${icon ? ' ui-selector-footer-link-add' : ''}`;\n\n\t\treturn Tag.render`\n\t\t\t<span class=\"${className}\" onclick=\"${this.handleInviteEmployeeClick.bind(this)}\">${text}</span>\n\t\t`;\n\t}\n\n\tcreateInviteGuestLink(text: string, icon: boolean): string\n\t{\n\t\tconst className = `ui-selector-footer-link${icon ? ' ui-selector-footer-link-add' : ''}`;\n\n\t\treturn Tag.render`\n\t\t\t<span class=\"${className}\" onclick=\"${this.handleInviteGuestClick.bind(this)}\">${text}</span>\n\t\t`;\n\t}\n\n\tcreateLockedGuestLink(text: string, icon: boolean, featureId: string): string\n\t{\n\t\tconst className = `ui-selector-footer-link${icon ? ' ui-selector-footer-link-add' : ''}`;\n\n\t\treturn Tag.render`\n\t\t\t<span\n\t\t\t\tclass=\"${className}\"\n\t\t\t\tonclick=\"${(event) => this.handleLockedClick(event, featureId)}\"\n\t\t\t>${text}</span>\n\t\t`;\n\t}\n\n\tcreateProjectLink(text: string, icon: boolean): string\n\t{\n\t\tconst className = `ui-selector-footer-link${icon ? ' ui-selector-footer-link-add' : ''}`;\n\n\t\treturn Tag.render`\n\t\t\t<span class=\"${className}\" onclick=\"${this.handleCreateProjectClick.bind(this)}\">${text}</span>\n\t\t`;\n\t}\n\n\tcreateLockedProjectLink(text: string, icon: boolean, featureId: string): string\n\t{\n\t\tconst className = `ui-selector-footer-link${icon ? ' ui-selector-footer-link-add' : ''}`;\n\n\t\treturn Tag.render`\n\t\t\t<span\n\t\t\t\tclass=\"${className}\"\n\t\t\t\tonclick=\"${(event) => this.handleLockedClick(event, featureId)}\"\n\t\t\t>${text}</span>\n\t\t`;\n\t}\n\n\tcreateHint(link: HTMLElement): void\n\t{\n\t\tRuntime.loadExtension('ui.hint').then(() => {\n\t\t\tconst hint = BX.UI.Hint.createInstance();\n\t\t\tconst node = hint.createNode(Loc.getMessage('SOCNET_ENTITY_SELECTOR_INVITED_GUEST_HINT'));\n\t\t\tDom.insertAfter(node, link);\n\t\t});\n\t}\n\n\tcreateLock(link: HTMLElement, featureId: string): void\n\t{\n\t\tRuntime.loadExtension('ui.info-helper').then(() => {\n\t\t\tconst node = Tag.render`\n\t\t\t\t<span\n\t\t\t\t\tclass=\"ui-selector-footer-lock tariff-lock\"\n\t\t\t\t\tonclick=\"${(event) => this.handleLockedClick(event, featureId)}\"\n\t\t\t\t></span>\n\t\t\t`;\n\t\t\tDom.insertAfter(node, link);\n\t\t});\n\t}\n\n\thandleInviteEmployeeClick(): void\n\t{\n\t\tconst inviteEmployeeLink = this.getOption('inviteEmployeeLink');\n\n\t\tif (Type.isStringFilled(inviteEmployeeLink))\n\t\t{\n\t\t\tconst entity = this.getDialog().getEntity('user');\n\t\t\tconst userOptions = entity.getOptions() || {};\n\n\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\tinviteEmployeeLink,\n\t\t\t\t{\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\trequestMethod: 'post',\n\t\t\t\t\trequestParams: {\n\t\t\t\t\t\tcomponentParams: JSON.stringify({\n\t\t\t\t\t\t\t'USER_OPTIONS': userOptions\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tentitySelectorId: this.getDialog().getId()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\thandleInviteGuestClick(): void\n\t{\n\t\tconst inviteGuestLink = this.getOption('inviteGuestLink');\n\n\t\tif (Type.isStringFilled(inviteGuestLink))\n\t\t{\n\t\t\tconst entity = this.getDialog().getEntity('user');\n\t\t\tconst userOptions = entity.getOptions() || {};\n\n\t\t\tconst rows = [];\n\t\t\tconst searchQuery = this.getDialog().getTagSelectorQuery();\n\t\t\tif (Validation.isEmail(searchQuery))\n\t\t\t{\n\t\t\t\trows.push({ 'email': searchQuery });\n\t\t\t}\n\n\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\tinviteGuestLink,\n\t\t\t\t{\n\t\t\t\t\twidth: 1200,\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\trequestMethod: 'post',\n\t\t\t\t\trequestParams: {\n\t\t\t\t\t\tcomponentParams: JSON.stringify({\n\t\t\t\t\t\t\t'USER_OPTIONS': userOptions,\n\t\t\t\t\t\t\t'ROWS': rows\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tentitySelectorId: this.getDialog().getId()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\thandleLockedClick(event: PointerEvent, featureId: string): void\n\t{\n\t\tRuntime.loadExtension('ui.info-helper')\n\t\t\t.then(({ FeaturePromotersRegistry }) => {\n\t\t\t\tif (FeaturePromotersRegistry)\n\t\t\t\t{\n\t\t\t\t\tFeaturePromotersRegistry.getPromoter({ featureId }).show();\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tBX.UI.InfoHelper.show(`limit_${featureId}`, { isLimit: true });\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {})\n\t\t;\n\t}\n\n\thandleCreateProjectClick(): void\n\t{\n\t\tconst createProjectLink = this.getOption('createProjectLink');\n\n\t\tif (Type.isStringFilled(createProjectLink))\n\t\t{\n\t\t\tconst entity = this.getDialog().getEntity('project');\n\t\t\tconst projectOptions = entity.getOptions() || {};\n\n\t\t\tBX.SidePanel.Instance.open(\n\t\t\t\tcreateProjectLink,\n\t\t\t\t{\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\trequestMethod: 'post',\n\t\t\t\t\trequestParams: {\n\t\t\t\t\t\tPROJECT_OPTIONS: projectOptions,\n\t\t\t\t\t\trefresh: 'N'\n\t\t\t\t\t},\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tentitySelectorId: this.getDialog().getId()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tbindEvents(): void\n\t{\n\t\tthis.getDialog().subscribe('onDestroy', this.handleDialogDestroy);\n\t\tEventEmitter.subscribe('SidePanel.Slider:onMessage', this.handleSliderMessage);\n\t}\n\n\tunbindEvents(): void\n\t{\n\t\tthis.getDialog().unsubscribe('onDestroy', this.handleDialogDestroy);\n\t\tEventEmitter.unsubscribe('SidePanel.Slider:onMessage', this.handleSliderMessage);\n\t}\n\n\thandleDialogDestroy(): void\n\t{\n\t\tthis.unbindEvents();\n\t}\n\n\thandleSliderMessage(event: BaseEvent): void\n\t{\n\t\tconst [messageEvent] = event.getData();\n\t\tconst slider = messageEvent.getSender();\n\n\t\tif (slider.getData().get('entitySelectorId') !== this.getDialog().getId())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tmessageEvent.getEventId() === 'BX.Intranet.Invitation:onAdd' ||\n\t\t\tmessageEvent.getEventId() === 'BX.Intranet.Invitation.Guest:onAdd'\n\t\t)\n\t\t{\n\t\t\tconst { users } = messageEvent.getData();\n\t\t\tthis.addUsers(users);\n\t\t}\n\n\t\tif (messageEvent.getEventId() === 'BX.Socialnetwork.Workgroup:onAdd')\n\t\t{\n\t\t\tconst { projects } = messageEvent.getData();\n\t\t\tthis.addProjects(projects);\n\t\t}\n\t}\n\n\taddUsers(users: Array): void\n\t{\n\t\tif (!Type.isArrayFilled(users))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet tab = this.getDialog().getRecentTab() || this.getDialog().getTab('invited-users');\n\t\tif (!tab)\n\t\t{\n\t\t\ttab = this.getDialog().addTab(this.createInvitedUsersTab());\n\t\t}\n\n\t\tusers.forEach(user => {\n\t\t\tif (!Type.isPlainObject(user))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst item = this.getDialog().addItem(\n\t\t\t\tObject.assign({}, user, { tabs: tab.getId(), sort: 2 })\n\t\t\t);\n\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\titem.select();\n\t\t\t}\n\t\t});\n\n\t\tthis.getDialog().selectTab(tab.getId());\n\t}\n\n\taddProjects(projects: Array): void\n\t{\n\t\tif (!Type.isArrayFilled(projects))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst tab = this.getDialog().getRecentTab() || this.getDialog().getTab('projects');\n\t\tconst tabId = tab ? tab.getId() : null;\n\n\t\tprojects.forEach(project => {\n\t\t\tif (!Type.isPlainObject(project))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst item = this.getDialog().addItem(\n\t\t\t\tObject.assign({}, project, { tabs: tabId, sort: 2 })\n\t\t\t);\n\n\t\t\tif (item)\n\t\t\t{\n\t\t\t\titem.select();\n\t\t\t}\n\t\t});\n\n\t\tthis.getDialog().selectTab(tabId);\n\t}\n\n\tcreateInvitedUsersTab(): TabOptions\n\t{\n\t\tconst icon =\n\t\t\t'data:image/svg+xml;charset=US-ASCII,%3Csvg%20width%3D%2223%22%20height%3D%2223%22%20' +\n\t\t\t'fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20fill-rule%3D%22evenodd' +\n\t\t\t'%22%20clip-rule%3D%22evenodd%22%20d%3D%22M11.447%202.984a8.447%208.447%200%20100%2016.893%208.447%2' +\n\t\t\t'08.447%200%20000-16.893zM5.785%2016.273c-.02.018-.116.09-.234.177a7.706%207.706%200%2001-1.846-5.02' +\n\t\t\t'c0-.36.025-.717.073-1.069.442.573.927%201.347%201.094%201.579.272.379.575.75.84%201.136.444.648.91%' +\n\t\t\t'201.534.673%202.34-.102.346-.328.627-.6.857zm8.92-6.27s.402%201.575%202.122%201.444c.544-.04.509%20' +\n\t\t\t'1.414.162%202.015-.43.743-.318%201.627-.725%202.37-.256.467-.69.814-1.035%201.213-.43.501-.913.984-' +\n\t\t\t'1.631.922-.474-.04-.67-.565-.763-.939-.23-.928-.39-2.828-.39-2.828s-.668-1.443-2.177-1.003c-1.509.' +\n\t\t\t'44-1.816-.728-1.859-1.84-.102-2.742%202.204-3.032%202.472-2.984.383.069%201.507.262%201.79.418.956' +\n\t\t\t'.528%201.935-.2%201.858-.585-.077-.385-2.453-.939-3.296-.999-.843-.06-.92.24-1.151-.014-.187-.205-' +\n\t\t\t'.015-.53.116-.703.93-1.225%202.48-1.522%203.791-2.16.02-.01.051-.08.087-.184a7.72%207.72%200%20012.' +\n\t\t\t'846%201.81%207.719%207.719%200%20011.894%203.091c-.28.165.277-.057-1.185.283-1.462.34-2.926.673-2.9' +\n\t\t\t'26.673z%22%20fill%3D%22%23ABB1B8%22/%3E%3C/svg%3E'\n\t\t;\n\n\t\treturn {\n\t\t\tid: 'invited-users',\n\t\t\ttitle: Loc.getMessage('SOCNET_ENTITY_SELECTOR_INVITED_USERS_TAB_TITLE'),\n\t\t\tbgColor: {\n\t\t\t\tselected: '#f7a700',\n\t\t\t\tselectedHovered:  '#faac09',\n\t\t\t},\n\t\t\ticon: {\n\t\t\t\t//default: '/bitrix/js/socialnetwork/entity-selector/src/images/invited-users-tab-icon.svg',\n\t\t\t\t//selected: '/bitrix/js/socialnetwork/entity-selector/src/images/invited-users-tab-icon-selected.svg'\n\t\t\t\tdefault: icon,\n\t\t\t\tselected: icon.replace(/ABB1B8/g, 'fff'),\n\t\t\t}\n\t\t};\n\t}\n}","import {DefaultFooter} from \"ui.entity-selector\";\nimport {Tag} from \"main.core\";\n\nexport default class TextFooter extends DefaultFooter\n{\n\trender(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"ui-selector-footer-default ui-selector-footer-long-text\">\n\t\t\t\t${this.getContent() ? this.getContent() : '' }\n\t\t\t</div>\n\t\t`;\n\t}\n}\n"],"names":["Footer","dialog","options","handleDialogDestroy","bind","handleSliderMessage","bindEvents","cache","remember","getOption","createTagCreationLabel","inviteEmployeeLink","inviteGuestLink","lockGuestLink","lockGuestLinkFeatureId","inviteEmployeeScope","createProjectLink","lockProjectLink","lockProjectLinkFeatureId","isProject","complexPhrases","complexCode","Number","Boolean","toString","complexPhrase","phrase","Tag","render","Loc","getMessage","employee","querySelector","guest","project","spans","Array","from","querySelectorAll","firstTag","children","find","element","includes","hideIcon","showIcon","replaceChild","createInviteEmployeeLink","innerHTML","guestLink","createLockedGuestLink","createLock","createInviteGuestLink","createHint","forEach","span","fragment","document","createDocumentFragment","childNodes","appendChild","projectLink","createLockedProjectLink","text","icon","className","handleInviteEmployeeClick","handleInviteGuestClick","featureId","event","handleLockedClick","handleCreateProjectClick","link","Runtime","loadExtension","then","hint","BX","UI","Hint","createInstance","node","createNode","Dom","insertAfter","Type","isStringFilled","entity","getDialog","getEntity","userOptions","getOptions","SidePanel","Instance","open","allowChangeHistory","cacheable","requestMethod","requestParams","componentParams","JSON","stringify","data","entitySelectorId","getId","rows","searchQuery","getTagSelectorQuery","Validation","isEmail","push","width","FeaturePromotersRegistry","getPromoter","show","InfoHelper","isLimit","error","projectOptions","PROJECT_OPTIONS","refresh","subscribe","EventEmitter","unsubscribe","unbindEvents","getData","messageEvent","slider","getSender","get","getEventId","users","addUsers","projects","addProjects","isArrayFilled","tab","getRecentTab","getTab","addTab","createInvitedUsersTab","user","isPlainObject","item","addItem","Object","assign","tabs","sort","select","selectTab","tabId","id","title","bgColor","selected","selectedHovered","replace","DefaultFooter","TextFooter","getContent"],"mappings":"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"}