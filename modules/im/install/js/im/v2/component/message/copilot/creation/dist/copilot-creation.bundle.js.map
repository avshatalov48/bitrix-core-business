{"version":3,"file":"copilot-creation.bundle.js","sources":["../src/copilot-creation.js"],"sourcesContent":["import { BaseMessage } from 'im.v2.component.message.base';\nimport { SendingService } from 'im.v2.provider.service';\n\nimport './css/copilot-creation-message.css';\n\nimport type { ImModelMessage } from 'im.v2.model';\n\nconst SAMPLE_MESSAGES = {\n\tIM_MESSAGE_COPILOT_CREATION_ACTION_1: 'plan',\n\tIM_MESSAGE_COPILOT_CREATION_ACTION_2: 'vacancy',\n\tIM_MESSAGE_COPILOT_CREATION_ACTION_3: 'ideas',\n\tIM_MESSAGE_COPILOT_CREATION_ACTION_4: 'letter',\n};\n\n// @vue/component\nexport const ChatCopilotCreationMessage = {\n\tname: 'ChatCopilotCreationMessage',\n\tcomponents: { BaseMessage },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tsampleMessages(): string[]\n\t\t{\n\t\t\treturn Object.keys(SAMPLE_MESSAGES);\n\t\t},\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tchatId(): number\n\t\t{\n\t\t\treturn this.message.chatId;\n\t\t},\n\t\tpreparedText(): string\n\t\t{\n\t\t\treturn this.loc('IM_MESSAGE_COPILOT_CREATION_TEXT', {\n\t\t\t\t'#BR#': '\\n',\n\t\t\t});\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonMessageClick(promptLangCode: string)\n\t\t{\n\t\t\tvoid this.getSendingService().sendCopilotPrompt({\n\t\t\t\ttext: this.loc(promptLangCode),\n\t\t\t\tdialogId: this.dialogId,\n\t\t\t\tcopilot: {\n\t\t\t\t\tpromptCode: SAMPLE_MESSAGES[promptLangCode],\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tgetSendingService(): SendingService\n\t\t{\n\t\t\tif (!this.sendingService)\n\t\t\t{\n\t\t\t\tthis.sendingService = SendingService.getInstance();\n\t\t\t}\n\n\t\t\treturn this.sendingService;\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseMessage\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:item=\"item\"\n\t\t\t:withDefaultContextMenu=\"false\"\n\t\t\t:withBackground=\"false\"\n\t\t>\n\t\t\t<div class=\"bx-im-message-copilot-creation__container\">\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__title\">CoPilot</div>\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__text\">{{ preparedText }}</div>\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"message in sampleMessages\"\n\t\t\t\t\t\t:key=\"message\"\n\t\t\t\t\t\t@click=\"onMessageClick(message)\"\n\t\t\t\t\t\tclass=\"bx-im-message-copilot-creation__action\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ loc(message) }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`,\n};\n"],"names":["SAMPLE_MESSAGES","IM_MESSAGE_COPILOT_CREATION_ACTION_1","IM_MESSAGE_COPILOT_CREATION_ACTION_2","IM_MESSAGE_COPILOT_CREATION_ACTION_3","IM_MESSAGE_COPILOT_CREATION_ACTION_4","ChatCopilotCreationMessage","name","components","BaseMessage","props","item","type","Object","required","dialogId","String","computed","sampleMessages","keys","message","chatId","preparedText","loc","methods","onMessageClick","promptLangCode","getSendingService","sendCopilotPrompt","text","copilot","promptCode","sendingService","SendingService","getInstance","phraseCode","replacements","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAOA,MAAMA,eAAe,GAAG;GACvBC,oCAAoC,EAAE,MAAM;GAC5CC,oCAAoC,EAAE,SAAS;GAC/CC,oCAAoC,EAAE,OAAO;GAC7CC,oCAAoC,EAAE;CACvC,CAAC;;CAED;AACA,OAAaC,0BAA0B,GAAG;GACzCC,IAAI,EAAE,4BAA4B;GAClCC,UAAU,EAAE;kBAAEC;IAAa;GAC3BC,KAAK,EAAE;KACNC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,QAAQ,EACR;KACCC,cAAc,GACd;OACC,OAAOL,MAAM,CAACM,IAAI,CAAClB,eAAe,CAAC;MACnC;KACDmB,OAAO,GACP;OACC,OAAO,IAAI,CAACT,IAAI;MAChB;KACDU,MAAM,GACN;OACC,OAAO,IAAI,CAACD,OAAO,CAACC,MAAM;MAC1B;KACDC,YAAY,GACZ;OACC,OAAO,IAAI,CAACC,GAAG,CAAC,kCAAkC,EAAE;SACnD,MAAM,EAAE;QACR,CAAC;;IAEH;GACDC,OAAO,EACP;KACCC,cAAc,CAACC,cAAsB,EACrC;OACC,KAAK,IAAI,CAACC,iBAAiB,EAAE,CAACC,iBAAiB,CAAC;SAC/CC,IAAI,EAAE,IAAI,CAACN,GAAG,CAACG,cAAc,CAAC;SAC9BX,QAAQ,EAAE,IAAI,CAACA,QAAQ;SACvBe,OAAO,EAAE;WACRC,UAAU,EAAE9B,eAAe,CAACyB,cAAc;;QAE3C,CAAC;MACF;KACDC,iBAAiB,GACjB;OACC,IAAI,CAAC,IAAI,CAACK,cAAc,EACxB;SACC,IAAI,CAACA,cAAc,GAAGC,qCAAc,CAACC,WAAW,EAAE;;OAGnD,OAAO,IAAI,CAACF,cAAc;MAC1B;KACDT,GAAG,CAACY,UAAkB,EAAEC,YAAmC,GAAG,EAAE,EAChE;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACJ,UAAU,EAAEC,YAAY,CAAC;;IAE7D;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;CAuBZ,CAAC;;;;;;;;"}