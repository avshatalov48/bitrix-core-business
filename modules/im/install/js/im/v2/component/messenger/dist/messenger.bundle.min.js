this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(t,e,n,s,o,i,a,r,g,l,C,m,c,u,v,M,p,d,y,L,h,B,X){"use strict";const _={name:"MessengerRoot",components:{MessengerNavigation:i.MessengerNavigation,RecentListContainer:a.RecentListContainer,OpenlineListContainer:r.OpenlineListContainer,ChatContent:g.ChatContent,CreateChatContent:l.CreateChatContent,OpenlinesContent:C.OpenlinesContent,NotificationContent:m.NotificationContent,MarketContent:c.MarketContent,SettingsContent:u.SettingsContent,CopilotListContainer:v.CopilotListContainer,CopilotContent:M.CopilotContent},data(){return{contextMessageId:0,openlinesContentOpened:false}},computed:{layout(){return this.$store.getters["application/getLayout"]},layoutName(){var t;return(t=this.layout)==null?void 0:t.name},currentLayout(){return y.Layout[this.layout.name]},entityId(){return this.layout.entityId},isOpenline(){return this.layout.name===y.Layout.openlines.name},containerClasses(){return{"--dark-theme":h.ThemeManager.isDarkTheme(),"--light-theme":h.ThemeManager.isLightTheme(),"--desktop":B.DesktopManager.isDesktop()}},callContainerClass(){return[L.CallManager.viewContainerClass]}},watch:{layoutName:{handler(t){if(t!==y.Layout.openlines.name){return}this.openlinesContentOpened=true},immediate:true}},created(){d.InitManager.start();X.LayoutManager.init();p.Logger.warn("MessengerRoot created");this.getLayoutManager().restoreLastLayout()},beforeUnmount(){this.getLayoutManager().destroy()},methods:{onNavigationClick({layoutName:t,layoutEntityId:e}){let n=e;const s=this.getLayoutManager().getLastOpenedElement(t);if(s){n=s}this.getLayoutManager().setLayout({name:t,entityId:n})},onEntitySelect({layoutName:t,entityId:e}){this.getLayoutManager().setLayout({name:t,entityId:e})},getLayoutManager(){return X.LayoutManager.getInstance()}},template:`\n\t\t<div class="bx-im-messenger__scope bx-im-messenger__container" :class="containerClasses">\n\t\t\t<div class="bx-im-messenger__navigation_container">\n\t\t\t\t<MessengerNavigation :currentLayoutName="currentLayout.name" @navigationClick="onNavigationClick" />\n\t\t\t</div>\n\t\t\t<div class="bx-im-messenger__layout_container">\n\t\t\t\t<div class="bx-im-messenger__layout_content">\n\t\t\t\t\t<div v-if="currentLayout.list" class="bx-im-messenger__list_container">\n\t\t\t\t\t\t<KeepAlive>\n\t\t\t\t\t\t\t<component :is="currentLayout.list" @selectEntity="onEntitySelect" />\n\t\t\t\t\t\t</KeepAlive>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-im-messenger__content_container">\n\t\t\t\t\t\t<div v-if="openlinesContentOpened" class="bx-im-messenger__openlines_container" :class="{'--hidden': !isOpenline}">\n\t\t\t\t\t\t\t<OpenlinesContent v-show="isOpenline" :entityId="entityId" :contextMessageId="contextMessageId" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<component v-if="!isOpenline" :is="currentLayout.content" :entityId="entityId" :contextMessageId="contextMessageId" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :class="callContainerClass"></div>\n\t`};t.Messenger=_})(this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{},BX,BX,BX.Messenger.v2.Css,BX.Messenger.v2.Css,BX.Messenger.v2.Component,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Component.List,BX.Messenger.v2.Component.Content,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Const,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=messenger.bundle.map.js