{"version":3,"file":"chat-search-input.bundle.js","sources":["../src/chat-search-input.js"],"sourcesContent":["import { EventEmitter } from 'main.core.events';\n\nimport { EventType } from 'im.v2.const';\nimport { SearchInput } from 'im.v2.component.elements';\n\n// @vue/component\nexport const ChatSearchInput = {\n\tname: 'ChatSearchInput',\n\tcomponents: { SearchInput },\n\tprops: {\n\t\tsearchMode: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tisLoading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t},\n\t\tdelayForFocusOnStart: {\n\t\t\ttype: [Number, null],\n\t\t\tdefault: null,\n\t\t},\n\t\twithIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\temits: ['closeSearch', 'openSearch', 'updateSearch'],\n\tcreated()\n\t{\n\t\tEventEmitter.subscribe(EventType.search.close, this.onClose);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tEventEmitter.unsubscribe(EventType.search.close, this.onClose);\n\t},\n\tmethods:\n\t{\n\t\tonInputFocus()\n\t\t{\n\t\t\tthis.$emit('openSearch');\n\t\t},\n\t\tonClose()\n\t\t{\n\t\t\tthis.$emit('closeSearch');\n\t\t},\n\t\tonInputUpdate(query: string)\n\t\t{\n\t\t\tthis.$emit('updateSearch', query);\n\t\t},\n\t\tonKeyPressed(event: KeyboardEvent)\n\t\t{\n\t\t\tEventEmitter.emit(EventType.search.keyPressed, { keyboardEvent: event });\n\t\t},\n\t},\n\ttemplate: `\n\t\t<SearchInput\n\t\t\t:placeholder=\"$Bitrix.Loc.getMessage('IM_SEARCH_INPUT_PLACEHOLDER_V2')\"\n\t\t\t:searchMode=\"searchMode\"\n\t\t\t:isLoading=\"isLoading\"\n\t\t\t:withLoader=\"true\"\n\t\t\t:delayForFocusOnStart=\"delayForFocusOnStart\"\n\t\t\t:withIcon=\"withIcon\"\n\t\t\t@inputFocus=\"onInputFocus\"\n\t\t\t@inputBlur=\"onClose\"\n\t\t\t@queryChange=\"onInputUpdate\"\n\t\t\t@keyPressed=\"onKeyPressed\"\n\t\t\t@close=\"onClose\"\n\t\t/>\n\t`,\n};\n"],"names":["ChatSearchInput","name","components","SearchInput","props","searchMode","type","Boolean","required","isLoading","delayForFocusOnStart","Number","default","withIcon","emits","created","EventEmitter","subscribe","EventType","search","close","onClose","beforeUnmount","unsubscribe","methods","onInputFocus","$emit","onInputUpdate","query","onKeyPressed","event","emit","keyPressed","keyboardEvent","template"],"mappings":";;;;;;;CAKA;AACA,OAAaA,eAAe,GAAG;GAC9BC,IAAI,EAAE,iBAAiB;GACvBC,UAAU,EAAE;kBAAEC;IAAa;GAC3BC,KAAK,EAAE;KACNC,UAAU,EAAE;OACXC,IAAI,EAAEC,OAAO;OACbC,QAAQ,EAAE;MACV;KACDC,SAAS,EAAE;OACVH,IAAI,EAAEC,OAAO;OACbC,QAAQ,EAAE;MACV;KACDE,oBAAoB,EAAE;OACrBJ,IAAI,EAAE,CAACK,MAAM,EAAE,IAAI,CAAC;OACpBC,OAAO,EAAE;MACT;KACDC,QAAQ,EAAE;OACTP,IAAI,EAAEC,OAAO;OACbK,OAAO,EAAE;;IAEV;GACDE,KAAK,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,cAAc,CAAC;GACpDC,OAAO,GACP;KACCC,6BAAY,CAACC,SAAS,CAACC,qBAAS,CAACC,MAAM,CAACC,KAAK,EAAE,IAAI,CAACC,OAAO,CAAC;IAC5D;GACDC,aAAa,GACb;KACCN,6BAAY,CAACO,WAAW,CAACL,qBAAS,CAACC,MAAM,CAACC,KAAK,EAAE,IAAI,CAACC,OAAO,CAAC;IAC9D;GACDG,OAAO,EACP;KACCC,YAAY,GACZ;OACC,IAAI,CAACC,KAAK,CAAC,YAAY,CAAC;MACxB;KACDL,OAAO,GACP;OACC,IAAI,CAACK,KAAK,CAAC,aAAa,CAAC;MACzB;KACDC,aAAa,CAACC,KAAa,EAC3B;OACC,IAAI,CAACF,KAAK,CAAC,cAAc,EAAEE,KAAK,CAAC;MACjC;KACDC,YAAY,CAACC,KAAoB,EACjC;OACCd,6BAAY,CAACe,IAAI,CAACb,qBAAS,CAACC,MAAM,CAACa,UAAU,EAAE;SAAEC,aAAa,EAAEH;QAAO,CAAC;;IAEzE;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;CAeZ,CAAC;;;;;;;;"}