{"version":3,"sources":["spotlight.js"],"names":["BX","SpotLight","options","this","container","popup","id","util","getRandomString","toLowerCase","targetElement","targetElementRect","targetVertex","content","top","left","lightMode","autoSave","zIndex","observerTimeoutId","observerTimeout","setOptions","Error","handlePageResize","bind","prototype","type","isPlainObject","setTargetElement","renderTo","setTargetVertex","setZindex","setLightMode","setContent","setOffsetLeft","setOffsetTop","setAutoSave","setObserverTimeout","setId","bindEvents","events","eventName","cb","isFunction","getClass","addCustomEvent","getFullEventName","unbindEvents","removeCustomEvent","getOptions","getId","isNotEmptyString","getZindex","getGlobalIndex","getTargetElement","element","index","propertyValue","style","stringToInt","parentNode","tagName","isNumber","getContent","isDomNode","document","querySelector","getOffsetLeft","offset","getOffsetTop","getLightMode","mode","isBoolean","getAutoSave","getObserverTimeout","timeout","getTargetVertex","vertex","getPopup","PopupWindow","className","angle","position","closeByEsc","overlay","onPopupShow","fireEvent","onPopupClose","close","buttons","PopupWindowCustomButton","text","message","click","onCustomEvent","getTargetContainer","create","attrs","mouseenter","handleTargetMouseEnter","mouseleave","handleTargetMouseLeave","adjustPosition","pos","isVisible","Boolean","offsetWidth","offsetHeight","getClientRects","length","hidden","width","right","height","bottom","show","save","handleTargetElementResize","currentRect","window","body","appendChild","setInterval","destroy","clearInterval","unbind","remove","optionName","userOptions","Math","floor","Date","now","send","shortName","Manager","spotlights","get","spotlight"],"mappings":"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","file":""}