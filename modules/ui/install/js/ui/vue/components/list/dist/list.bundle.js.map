{"version":3,"file":"list.bundle.js","sources":["../src/list-element.js","../src/list.js"],"sourcesContent":["/**\n * Bitrix UI\n * Base list element\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2020 Bitrix\n */\n\nimport {Vue} from 'ui.vue';\n\nVue.component('bx-list-element',\n{\n\tprops: [\n\t\t'rawListItem',\n\t\t'itemTypes'\n\t],\n\tcomputed:\n\t\t{\n\t\t\timageStyle()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\n\t\t\timageClass()\n\t\t\t{\n\t\t\t\treturn 'bx-vue-list-item-image';\n\t\t\t},\n\n\t\t\tavatarText()\n\t\t\t{\n\t\t\t\tlet words = this.listItem.title.value.split(' ');\n\t\t\t\tif (words.length > 1)\n\t\t\t\t{\n\t\t\t\t\treturn words[0].charAt(0) + words[1].charAt(0);\n\t\t\t\t}\n\t\t\t\telse if (words.length === 1)\n\t\t\t\t{\n\t\t\t\t\treturn words[0].charAt(0);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tlistItemStyle()\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t},\n\n\t\t\tlistItem()\n\t\t\t{\n\t\t\t\treturn this.rawListItem;\n\t\t\t}\n\t\t},\n\t\ttemplate: `\n\t\t<div class=\"bx-vue-list-item\" :style=\"listItemStyle\">\n\t\t\t<template v-if=\"listItem.template !== itemTypes.placeholder\">\n\t\t\t\t<div v-if=\"listItem.avatar\" class=\"bx-vue-list-item-image-wrap\">\n\t\t\t\t\t<img v-if=\"listItem.avatar.url\" :src=\"listItem.avatar.url\" :style=\"imageStyle\" :class=\"imageClass\" alt=\"\">\n\t\t\t\t\t<div v-else-if=\"!listItem.avatar.url\" :style=\"imageStyle\" class=\"bx-vue-list-item-image-text\">{{ avatarText }}</div>\t\n\t\t\t\t\t<div v-if=\"listItem.avatar.topLeftIcon\" :class=\"'bx-vue-list-icon-avatar-top-left bx-vue-list-avatar-top-left-' + listItem.avatar.topLeftIcon\"></div>\n\t\t\t\t\t<div v-if=\"listItem.avatar.bottomRightIcon\" :class=\"'bx-vue-list-icon-avatar-bottom-right bx-vue-list-avatar-bottom-right-' + listItem.avatar.bottomRightIcon\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-vue-list-item-content\">\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-header\">\n\t\t\t\t\t\t<div v-if=\"listItem.title\" class=\"bx-vue-list-item-header-title\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.title.leftIcon\" :class=\"'bx-vue-list-icon-title-left bx-vue-list-icon-title-left-' + listItem.title.leftIcon\"></div>\n\t\t\t\t\t\t\t<span class=\"bx-vue-list-item-header-title-text\">{{ listItem.title.value }}</span>\n\t\t\t\t\t\t\t<div v-if=\"listItem.title.rightIcon\" :class=\"'bx-vue-list-icon-title-right bx-vue-list-icon-title-right-' + listItem.title.rightIcon\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"listItem.date\" class=\"bx-vue-list-item-header-date\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.date.leftIcon\" :class=\"'bx-vue-list-icon-date-left bx-vue-list-icon-date-left-' + listItem.date.leftIcon\"></div>\n\t\t\t\t\t\t\t{{ listItem.date.value }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-bottom\">\n\t\t\t\t\t\t<div v-if=\"listItem.subtitle\" class=\"bx-vue-list-item-bottom-subtitle\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.subtitle.leftIcon\" :class=\"'bx-vue-list-icon-subtitle-left bx-vue-list-icon-subtitle-left-' + listItem.subtitle.leftIcon\"></div>\n\t\t\t\t\t\t\t<span class=\"bx-vue-list-item-bottom-subtitle-text\">{{ listItem.subtitle.value }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-bottom-counter\">\n\t\t\t\t\t\t\t<div v-if=\"listItem.counter.leftIcon\" :class=\"'bx-vue-list-icon-counter-left bx-vue-list-icon-counter-left-' + listItem.counter.leftIcon\"></div>\n\t\t\t\t\t\t\t<div v-if=\"listItem.counter.value > 0\" class=\"bx-vue-list-item-bottom-counter-value\">{{ listItem.counter.value }}</div>\n\t\t\t\t\t\t\t<div v-else-if=\"listItem.notification\" class=\"bx-vue-list-item-bottom-counter-notification\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"listItem.template === itemTypes.placeholder\">\n\t\t\t\t<div class=\"bx-vue-list-item-image-wrap\"><img src=\"https://www.ischool.berkeley.edu/sites/default/files/default_images/avatar.jpeg\" alt=\"\" class=\"bx-vue-list-item-image\"></div>\n\t\t\t\t<div class=\"bx-vue-list-item-content\">\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-header\">\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-placeholder-title\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-vue-list-item-content-bottom\">\n\t\t\t\t\t\t<div class=\"bx-vue-list-item-bottom-subtitle\">\n\t\t\t\t\t\t\t<div class=\"bx-vue-list-item-placeholder-subtitle\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n});","/**\n * Bitrix UI\n * Base list\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2020 Bitrix\n */\n\nimport \"./list.css\";\nimport \"./list-element\";\n\nimport {Vue} from 'ui.vue';\n\nVue.component('bx-list',\n{\n\tdata()\n\t{\n\t\treturn {\n\t\t\tgeneralSectionName: 'general',\n\t\t\tshowSectionNames: true,\n\t\t\tresultList: {},\n\t\t\titemTypes: {\n\t\t\t\tdefault: 'default',\n\t\t\t\tplaceholder: 'placeholder'\n\t\t\t},\n\t\t\tcssPrefix: '',\n\t\t\tobserver: null,\n\t\t\telementComponent: 'bx-list-element',\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.initObserver();\n\t},\n\tmethods:\n\t{\n\t\t/* region 01. Data validation */\n\t\tvalidateData(listData)\n\t\t{\n\t\t\tlet result = [];\n\n\t\t\tlistData.items.forEach(listItem => {\n\t\t\t\tresult.push(this.validateItem(listItem));\n\t\t\t});\n\n\t\t\tthis.list = result;\n\n\t\t\tthis.validateSections(listData.sections);\n\t\t},\n\n\t\tvalidateItem(listItem)\n\t\t{\n\t\t\tlet itemResult = {};\n\n\t\t\tif (typeof listItem.id === \"number\" || typeof listItem.id === \"string\")\n\t\t\t{\n\t\t\t\titemResult.id = listItem.id.toString();\n\t\t\t}\n\n\t\t\tif (typeof listItem.type !== \"undefined\" && this.itemTypes[listItem.type])\n\t\t\t{\n\t\t\t\titemResult.type = listItem.type;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\titemResult.type = this.itemTypes.default;\n\t\t\t}\n\n\t\t\tif (typeof listItem.title !== \"undefined\")\n\t\t\t{\n\t\t\t\titemResult.title = {};\n\n\t\t\t\tif (typeof listItem.title === 'object' && listItem.title)\n\t\t\t\t{\n\t\t\t\t\tif (typeof listItem.title.value === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.value = listItem.title.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.title.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.leftIcon = listItem.title.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.title.rightIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.title.rightIcon = listItem.title.rightIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.title === 'string')\n\t\t\t\t{\n\t\t\t\t\titemResult.title.value = listItem.title;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.subtitle !== \"undefined\")\n\t\t\t{\n\t\t\t\titemResult.subtitle = {};\n\n\t\t\t\tif (typeof listItem.subtitle === 'object' && listItem.subtitle)\n\t\t\t\t{\n\t\t\t\t\tif (typeof listItem.subtitle.value === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.subtitle.value = listItem.subtitle.value;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.subtitle.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.subtitle.leftIcon = listItem.subtitle.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.subtitle === 'string')\n\t\t\t\t{\n\t\t\t\t\titemResult.subtitle.value = listItem.subtitle;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.avatar !== 'undefined')\n\t\t\t{\n\t\t\t\titemResult.avatar = {};\n\n\t\t\t\tif (typeof listItem.avatar === 'object' && listItem.avatar)\n\t\t\t\t{\n\t\t\t\t\t//TODO: avatar processing\n\t\t\t\t\tif (typeof listItem.avatar.url === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.url = listItem.avatar.url;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.avatar.topLeftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.topLeftIcon = listItem.avatar.topLeftIcon;\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.avatar.bottomRightIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.avatar.bottomRightIcon = listItem.avatar.bottomRightIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (typeof listItem.avatar === 'string')\n\t\t\t\t{\n\t\t\t\t\t//TODO: avatar processing\n\t\t\t\t\titemResult.avatar.url = listItem.avatar;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.date !== 'undefined')\n\t\t\t{\n\t\t\t\titemResult.date = {};\n\n\t\t\t\tif (typeof listItem.date === 'object' && listItem.date && !(listItem.date instanceof Date))\n\t\t\t\t{\n\t\t\t\t\tif (listItem.date.value instanceof Date)\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.date.value = this.formatDate(listItem.date.value);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof listItem.date.leftIcon === 'string')\n\t\t\t\t\t{\n\t\t\t\t\t\titemResult.date.leftIcon = listItem.date.leftIcon;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (listItem.date instanceof Date)\n\t\t\t\t{\n\t\t\t\t\titemResult.date.value = this.formatDate(listItem.date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof listItem.sectionCode === 'string')\n\t\t\t{\n\t\t\t\titemResult.sectionCode = listItem.sectionCode;\n\t\t\t}\n\n\t\t\tif (typeof listItem.counter === 'number')\n\t\t\t{\n\t\t\t\titemResult.counter = this.formatCounter(listItem.counter);\n\t\t\t}\n\n\t\t\tif (typeof listItem.notification === 'boolean')\n\t\t\t{\n\t\t\t\titemResult.notification = listItem.notification;\n\t\t\t}\n\n\t\t\treturn itemResult;\n\t\t},\n\n\t\tvalidateSections(sections)\n\t\t{\n\t\t\tif (sections && sections.length > 0)\n\t\t\t{\n\t\t\t\tsections.forEach(element => {\n\t\t\t\t\tif (typeof element === 'string' && element.length > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.sections.push(element)\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.sections.length === 0)\n\t\t\t{\n\t\t\t\tthis.sections = [this.generalSectionName];\n\t\t\t\tthis.list.map(element => {\n\t\t\t\t\telement.sectionCode = this.generalSectionName;\n\t\t\t\t\treturn element;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tformatCounter(counter)\n\t\t{\n\t\t\tif (counter > 999)\n\t\t\t{\n\t\t\t\tcounter = 999;\n\t\t\t}\n\t\t\telse if (counter < 0)\n\t\t\t{\n\t\t\t\tcounter = 0\n\t\t\t}\n\n\t\t\treturn counter;\n\t\t},\n\n\t\tinitObserver()\n\t\t{\n\t\t\tthis.observer = new IntersectionObserver(function(entries){\n\t\t\t\tentries.forEach(entry => {\n\t\t\t\t\tif (entry.isIntersecting && entry.intersectionRatio === 1)\n\t\t\t\t\t{\n\t\t\t\t\t\t// console.warn('I SEE ', entry);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, {threshold: [0, 1]});\n\t\t},\n\t\t/* endregion 01. Data validation */\n\n\t\t/* region 02. Events handling */\n\t\tonScroll(event)\n\t\t{\n\n\t\t},\n\n\t\tonClick(event, id)\n\t\t{\n\n\t\t}\n\t\t/* endregion 02. Events handling */\n\t},\n\tcomputed:\n\t{\n\t\twrapperStyle()\n\t\t{\n\t\t\treturn this.cssPrefix + ' bx-vue-list-wrap'\n\t\t},\n\n\t\tlist()\n\t\t{\n\t\t\treturn [];\n\t\t},\n\n\t\tsections()\n\t\t{\n\t\t\treturn [];\n\t\t},\n\n\t\tsectionedList()\n\t\t{\n\t\t\tthis.sections.forEach(section => {\n\t\t\t\tVue.set(this.resultList, section, []);\n\n\t\t\t\tlet listForSection = this.list.filter(item => {\n\t\t\t\t\treturn item.sectionCode === section;\n\t\t\t\t});\n\n\t\t\t\tthis.resultList[section] = [...listForSection];\n\t\t\t});\n\n\t\t\treturn this.resultList;\n\t\t}\n\t},\n\tdirectives:\n\t{\n\t\t'bx-list-observer':\n\t\t{\n\t\t\tinserted(element, bindings, vnode)\n\t\t\t{\n\t\t\t\tvnode.context.observer.observe(element);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div :class=\"wrapperStyle\" @scroll=\"onScroll\">\n\t\t\t<template v-for=\"section in sections\">\n\t\t\t\t<div v-if=\"sections.length > 1 && sectionedList[section].length > 0 && showSectionNames\" class=\"bx-vue-list-section\">{{ section }}</div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"listItem in sectionedList[section]\"\n\t\t\t\t\t:key=\"listItem.id\"\n\t\t\t\t\t@click=\"onClick($event, listItem.id)\"\n\t\t\t\t\t@click.right=\"onRightClick($event, listItem.id)\"\n\t\t\t\t\tv-bx-list-observer :data-id=\"listItem.id\"\n\t\t\t\t>\n\t\t\t\t\t<component :is=\"elementComponent\" :rawListItem=\"listItem\" :itemTypes=\"itemTypes\" />\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`\n});"],"names":["Vue","component","props","computed","imageStyle","imageClass","avatarText","words","listItem","title","value","split","length","charAt","listItemStyle","rawListItem","template","data","generalSectionName","showSectionNames","resultList","itemTypes","default","placeholder","cssPrefix","observer","elementComponent","created","initObserver","methods","validateData","listData","result","items","forEach","push","validateItem","list","validateSections","sections","itemResult","id","toString","type","leftIcon","rightIcon","subtitle","avatar","url","topLeftIcon","bottomRightIcon","date","Date","formatDate","sectionCode","counter","formatCounter","notification","element","map","IntersectionObserver","entries","entry","isIntersecting","intersectionRatio","threshold","onScroll","event","onClick","wrapperStyle","sectionedList","section","set","listForSection","filter","item","directives","inserted","bindings","vnode","context","observe"],"mappings":"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"}