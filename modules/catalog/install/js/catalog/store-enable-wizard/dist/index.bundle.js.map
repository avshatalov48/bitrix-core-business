{"version":3,"file":"index.bundle.js","sources":["../src/enable-wizard-opener.js","../src/analytics-context-list.js","../src/action-hint.js","../src/card-box-help.js","../src/card-box-trait.js","../src/replace-lang-phrase-tait.js","../src/card-box-b24.js","../src/card-box-b24-solo.js","../src/card-box-onec.js","../src/icon-hint.js","../src/enable-warning.js","../src/popup.js","../src/popup-field.js","../src/service.js","../src/enable-trait.js","../src/mode-list.js","../src/enable-b24.js","../src/enable-onec.js","../src/title-box.js","../src/card-box.js","../src/enable-wizard.js","../src/disabler.js"],"sourcesContent":["import { Type, Loc } from 'main.core';\n\nconst ENABLED_SESSION_KEY = 'b24:catalog:inventory-management:enabled';\n\nexport class EnableWizardOpener\n{\n\topen(url, params = {}): Promise\n\t{\n\t\tconst sliderParams = Type.isPlainObject(params) ? params : {};\n\n\t\treturn new Promise((resolve) => {\n\t\t\tconst data = sliderParams.data ?? {};\n\t\t\tconst events = sliderParams.events ?? {};\n\t\t\tevents.onClose = events.onClose ?? ((event) => resolve(event.getSlider()));\n\n\t\t\tconst urlParams = params.urlParams || {};\n\t\t\tconst sliderUrl = BX.util.add_url_param(\n\t\t\t\turl,\n\t\t\t\t{\n\t\t\t\t\tanalyticsLabel: 'inventoryManagementEnabled_openSlider',\n\t\t\t\t\t...urlParams,\n\t\t\t\t},\n\t\t\t);\n\n\t\t\tif (Type.isString(sliderUrl) && sliderUrl.length > 1)\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.open(sliderUrl, {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\tevents,\n\t\t\t\t\tdata,\n\t\t\t\t\twidth: 930,\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t}\n\n\tstatic saveEnabledFlag(): void\n\t{\n\t\tif (!window.sessionStorage)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tsessionStorage.setItem(ENABLED_SESSION_KEY, 'y');\n\t}\n\n\tstatic showEnabledNotificationIfNeeded(): void\n\t{\n\t\tif (!window.sessionStorage)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (sessionStorage.getItem(ENABLED_SESSION_KEY) === 'y')\n\t\t{\n\t\t\tsessionStorage.removeItem(ENABLED_SESSION_KEY);\n\n\t\t\twindow.top.BX.UI.Notification.Center.notify({\n\t\t\t\tcontent: Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ENABLED'),\n\t\t\t\tautoHide: true,\n\t\t\t\tautoHideDelay: 4000,\n\t\t\t\twidth: 'auto',\n\t\t\t});\n\t\t}\n\t}\n}\n","export class AnalyticsContextList\n{\n\tstatic SECTION = 'section';\n\tstatic ANALYTICS_MENU_ITEM = 'analytics_menu_item';\n\tstatic LANDING = 'landing';\n\tstatic PRODUCT_CARD = 'product_card';\n\tstatic DOCUMENT_LIST = 'document_list';\n\tstatic DOCUMENT_CARD = 'document_card';\n\tstatic SETTINGS = 'settings';\n\tstatic OLD_SETTINGS = 'old_settings';\n}\n","import { Popup } from 'main.popup';\n\nconst ActionHint = {\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\ttimer: null,\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.popup = new Popup({\n\t\t\tbindElement: null,\n\t\t\tdarkMode: true,\n\t\t\tangle: {\n\t\t\t\toffset: 82,\n\t\t\t},\n\t\t\tcontent: this.title,\n\t\t\tmaxWidth: 220,\n\t\t\toffsetLeft: 115 / 2 - 57.5,\n\t\t\tanimation: 'fading-slide',\n\t\t});\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.closePopup();\n\t},\n\tmethods: {\n\t\tmouseenter(ev)\n\t\t{\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tthis.popup.setBindElement(ev.target);\n\t\t\t\tthis.popup.show();\n\t\t\t}, 400);\n\t\t},\n\t\tmouseleave()\n\t\t{\n\t\t\tthis.closePopup();\n\t\t},\n\t\tclosePopup()\n\t\t{\n\t\t\tclearTimeout(this.timer);\n\t\t\tthis.popup.close();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\t@mouseenter=\"mouseenter\"\n\t\t\t@mouseleave=\"mouseleave\"\n\t\t\tclass=\"inventory-management__action-hint\">\n\t\t</div>\n\t`,\n};\n\nexport {\n\tActionHint,\n};\n","import { BIcon, Set } from 'ui.icon-set.api.vue';\n\nconst CardBoxHelp = {\n\tcomponents: {\n\t\tBIcon,\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t\tlink: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t},\n\t},\n\tcomputed: {\n\t\tset()\n\t\t{\n\t\t\treturn Set;\n\t\t},\n\t},\n\tmethods: {\n\t\tonClick()\n\t\t{\n\t\t\tif (top.BX && top.BX.Helper)\n\t\t\t{\n\t\t\t\ttop.BX.Helper.show(this.link || 'redirect=detail&code=20233688');\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\t@click.stop=\"onClick\"\n\t\t\tclass=\"inventory-management__card-help\">\n\t\t\t<BIcon :name=\"set.HELP\" :size=\"23\" color=\"var(--ui-color-base-40)\"></BIcon>\n\t\t\t<div class=\"inventory-management__card-help-text\">\n\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DETAILS')}}\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n\nexport {\n\tCardBoxHelp,\n};\n","import { ActionHint } from './action-hint';\nimport { CardBoxHelp } from './card-box-help';\n\nimport 'ui.buttons';\n\nexport const CardBoxTrait = {\n\tprops: {\n\t\tisActive: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tisHovered: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomponents: {\n\t\tCardBoxHelp,\n\t\tActionHint,\n\t},\n\tcomputed: {\n\t\tcardItemClass(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'--active': this.isHovered,\n\t\t\t};\n\t\t},\n\t\tcardItemStyle(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\tcursor: this.isActive ? 'default' : 'pointer',\n\t\t\t};\n\t\t},\n\t\tlangClass(): string\n\t\t{\n\t\t\treturn `--${this.$Bitrix.Loc.getMessage('LANGUAGE_ID') || 'en'}`;\n\t\t},\n\t},\n\tmethods: {\n\t\tonClick()\n\t\t{\n\t\t\tthis.$emit('pick');\n\t\t},\n\t\tmouseenter()\n\t\t{\n\t\t\tthis.$emit('enter');\n\t\t},\n\t\tmouseleave()\n\t\t{\n\t\t\tthis.$emit('leave');\n\t\t},\n\t},\n};\n","export const ReplaceLangPhraseTrait = {\n\tmethods: {\n\t\treplaceLangPhrase(phrase: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phrase)\n\t\t\t\t.replaceAll('[break]', '<br>')\n\t\t\t\t.replaceAll('[bold]', '<span>')\n\t\t\t\t.replaceAll('[/bold]', '</span>')\n\t\t\t;\n\t\t},\n\t},\n};\n","import { CardBoxTrait } from './card-box-trait';\nimport { ReplaceLangPhraseTrait } from './replace-lang-phrase-tait';\n\nexport const CardBoxB24 = {\n\tmixins: [\n\t\tCardBoxTrait,\n\t\tReplaceLangPhraseTrait,\n\t],\n\ttemplate: `\n\t\t<div\n\t\t\t@mouseenter=\"mouseenter\"\n\t\t\t@mouseleave=\"mouseleave\"\n\t\t\t@click=\"onClick\"\n\t\t\tclass=\"inventory-management__card-item\"\n\t\t\t:class=\"cardItemClass\"\n\t\t\t:style=\"cardItemStyle\"\n\t\t>\n\t\t\t<div class=\"inventory-management__card-logo\" :class=\"langClass\"></div>\n\t\t\t<div\n\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_TITLE_B24')\"\n\t\t\t\tclass=\"inventory-management__card-title\"\n\t\t\t></div>\n\t\t\t<ul class=\"inventory-management__card-list\">\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_1')}}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_2')}}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_3')}}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"inventory-management__card-action-box\">\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --play\"></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_1')\"\n\t\t\t\t\t\tclass=\"inventory-management__card-action-text\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_1_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --refresh-6\"></div>\n\t\t\t\t\t<div class=\"inventory-management__card-action-text\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_2')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_2_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --mobile-2\"></div>\n\t\t\t\t\t<div class=\"inventory-management__card-action-text\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_3')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_3_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"inventory-management__card-select-box\">\n\t\t\t\t<div\n\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_SELECT_TEXT_B24')\"\n\t\t\t\t\tclass=\"inventory-management__card-select-text\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-select-icon\">\n\t\t\t\t\t<div class=\"ui-icon-set --check\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"inventory-management__card-control-box\">\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"!isActive\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-round ui-btn-lg\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON')}}\n\t\t\t\t</button>\n\t\t\t\t<card-box-help></card-box-help>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Dom } from 'main.core';\nimport { CardBoxTrait } from './card-box-trait';\nimport { ReplaceLangPhraseTrait } from './replace-lang-phrase-tait';\n\nexport const CardBoxB24Solo = {\n\tmixins: [\n\t\tCardBoxTrait,\n\t\tReplaceLangPhraseTrait,\n\t],\n\tcreated()\n\t{\n\t\tthis.setBodyClass();\n\t},\n\tmethods: {\n\t\tgetHelpLink(): string\n\t\t{\n\t\t\treturn 'redirect=detail&code=15992592';\n\t\t},\n\t\tsetBodyClass(): void\n\t\t{\n\t\t\tDom.addClass(document.body, 'inventory-management__solo');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"inventory-management__card-box-solo\">\n\t\t\t<div class=\"inventory-management__card-solo-icon\" :class=\"langClass\"></div>\n\t\t\t<div\n\t\t\t\t@click=\"onClick\"\n\t\t\t\t@mouseenter=\"mouseenter\"\n\t\t\t\t@mouseleave=\"mouseleave\"\n\t\t\t\tclass=\"inventory-management__card-item\"\n\t\t\t\t:class=\"cardItemClass\"\n\t\t\t\t:style=\"cardItemStyle\"\n\t\t\t>\n\t\t\t\t<div class=\"inventory-management__card-logo\" :class=\"langClass\"></div>\n\t\t\t\t<div class=\"inventory-management__card-title\">\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_TITLE_B24_SOLO')}}\n\t\t\t\t</div>\n\t\t\t\t<ul class=\"inventory-management__card-list\">\n\t\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_1_SOLO')}}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_2_SOLO')}}\n\t\t\t\t\t</li>\n\t\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_B24_3_SOLO')}}\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<div class=\"inventory-management__card-action-box\">\n\t\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t\t<div class=\"ui-icon-set --play\"></div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_1')\"\n\t\t\t\t\t\t\tclass=\"inventory-management__card-action-text\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<action-hint\n\t\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_1_HINT')\"\n\t\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --refresh-6\"></div>\n\t\t\t\t\t<div class=\"inventory-management__card-action-text\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_2')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_2_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --mobile-2\"></div>\n\t\t\t\t\t<div class=\"inventory-management__card-action-text\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_3')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_B24_3_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-select-box\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_SELECT_TEXT_B24_SOLO')\"\n\t\t\t\t\t\tclass=\"inventory-management__card-select-text\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"inventory-management__card-select-icon\">\n\t\t\t\t\t\t<div class=\"ui-icon-set --check\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-control-box\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-if=\"!isActive\"\n\t\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-round ui-btn-lg\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON_ENABLE_SOLO')}}\n\t\t\t\t\t</button>\n\t\t\t\t\t<card-box-help\n\t\t\t\t\t\t:link=\"getHelpLink()\"\n\t\t\t\t\t>\n\t\t\t\t\t</card-box-help>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { CardBoxTrait } from './card-box-trait';\nimport { ReplaceLangPhraseTrait } from './replace-lang-phrase-tait';\n\nexport const CardBoxOnec = {\n\tmixins: [\n\t\tCardBoxTrait,\n\t\tReplaceLangPhraseTrait,\n\t],\n\ttemplate: `\n\t\t<div\n\t\t\t@mouseenter=\"mouseenter\"\n\t\t\t@mouseleave=\"mouseleave\"\n\t\t\t@click=\"onClick\"\n\t\t\tclass=\"inventory-management__card-item --1c\"\n\t\t\t:class=\"cardItemClass\"\n\t\t\t:style=\"cardItemStyle\"\n\t\t>\n\t\t\t<div class=\"inventory-management__card-logo\"></div>\n\t\t\t<div\n\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_TITLE_1C')\"\n\t\t\t\tclass=\"inventory-management__card-title\"\n\t\t\t>\n\t\t\t</div>\n\t\t\t<ul class=\"inventory-management__card-list\">\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_1C_1')}}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_1C_2')}}\n\t\t\t\t</li>\n\t\t\t\t<li class=\"inventory-management__card-list-item\">\n\t\t\t\t\t<span class=\"ui-icon-set --check\"></span>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LIST_ITEM_1C_3')}}\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class=\"inventory-management__card-action-box\">\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --cubes-3\"></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_1')\"\n\t\t\t\t\t\tclass=\"inventory-management__card-action-text\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_1_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --shop-list\"></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_2')\"\n\t\t\t\t\t\tclass=\"inventory-management__card-action-text\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_2_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-action-item\">\n\t\t\t\t\t<div class=\"ui-icon-set --persons-3\"></div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_3')\"\n\t\t\t\t\t\tclass=\"inventory-management__card-action-text\"\n\t\t\t\t\t>\n\t\t\t\t\t</div>\n\t\t\t\t\t<action-hint\n\t\t\t\t\t\t:title=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_ACTION_ITEM_1C_3_HINT')\"\n\t\t\t\t\t></action-hint>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"inventory-management__card-select-box\">\n\t\t\t\t<div\n\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_SELECT_TEXT_1C')\"\n\t\t\t\t\tclass=\"inventory-management__card-select-text\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-select-icon\">\n\t\t\t\t\t<div class=\"ui-icon-set --check\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"inventory-management__card-control-box\">\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"!isActive\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-round ui-btn-lg\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON')}}\n\t\t\t\t</button>\n\t\t\t\t<card-box-help></card-box-help>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { BIcon, Set } from 'ui.icon-set.api.vue';\nimport { Tag } from 'main.core';\nimport 'ui.hint';\n\nconst IconHint = {\n\tcomponents: {\n\t\tBIcon,\n\t},\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t\thelpLink: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\ttimer: null,\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.hint = BX.UI.Hint.createInstance({\n\t\t\tpopupParameters: {\n\t\t\t\tmaxWidth: 430,\n\t\t\t\tclassName: 'inventory-management__popup-hint',\n\t\t\t\tborderRadius: '10px',\n\t\t\t\tautoHide: true,\n\t\t\t},\n\t\t});\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.hint.hide();\n\t},\n\tcomputed: {\n\t\tset()\n\t\t{\n\t\t\treturn Set;\n\t\t},\n\t\tgetContent()\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div>\n\t\t\t\t\t${this.title\n\t\t\t\t\t.replace(\n\t\t\t\t\t\t'[link]',\n\t\t\t\t\t\t`<a class=\"inventory-management__popup-link --hint-link\" onclick=\"if(top.BX.Helper) { top.BX.Helper.show('${this.helpLink}'); event.preventDefault(); }\" href=\"#\">`,\n\t\t\t\t\t)\n\t\t\t\t\t.replace('[/link]', '</a>')}\n\t\t\t\t</div>\t\t\n\t\t\t`;\n\t\t},\n\t},\n\tmethods: {\n\t\tmouseenter(ev)\n\t\t{\n\t\t\tthis.hint.show(ev.target, this.getContent.outerHTML);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\t@mouseenter=\"mouseenter\"\n\t\t\tclass=\"inventory-management__icon-hint\"\n\t\t\tref=\"hintNode\"\n\t\t\t>\n\t\t\t<BIcon :name=\"set.HELP\" :size=\"23\" color=\"var(--ui-color-base-40)\"></BIcon>\n\t\t</div>\n\t`,\n};\n\nexport {\n\tIconHint,\n};\n","import { IconHint } from './icon-hint';\n\nimport 'ui.forms';\n\nexport const EnableWarning = {\n\tprops: {\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thint: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tdefault: '',\n\t\t},\n\t\thelpLink: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomponents: {\n\t\tIconHint,\n\t},\n\ttemplate: `\n\t\t<div class=\"inventory-management__card-limit\">\n\t\t\t<div v-html=\"text\" class=\"inventory-management__card-limit-text\"></div>\n\t\t\t<icon-hint\n\t\t\t\tv-if=\"hint\"\n\t\t\t\t:title=\"hint\"\n\t\t\t\t:helpLink=\"helpLink\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { Dom, Event, Tag, Loc } from 'main.core';\nimport { Popup as MainPopup } from 'main.popup';\n\nimport 'ui.hint';\n\ntype PopupOptions = {\n\twidth: ?any,\n\ttitle: ?string,\n\ttexts: string[],\n\tprimaryButtonText: string,\n\tprimaryButtonClass: ?string,\n\tsecondaryButtonText: string,\n\thideHelp: ?boolean,\n\thideIcon: ?boolean,\n\tevents: {\n\t\tonPrimaryClick: () => void,\n\t\tonSecondaryClick: () => void,\n\t\tonClose: () => void,\n\t},\n}\n\nclass Popup\n{\n\t#options: PopupOptions;\n\t#popup: MainPopup;\n\t#iconNode: ?HTMLElement;\n\t#titleNode: ?HTMLElement;\n\t#primaryButton: HTMLElement;\n\t#secondaryButton: HTMLElement;\n\t#helpLink: ?HTMLElement;\n\n\tconstructor(options = {})\n\t{\n\t\tthis.#options = options;\n\n\t\tconst contentNode = this.#getContent();\n\t\tthis.#popup = new MainPopup({\n\t\t\tcontent: contentNode,\n\t\t\twidth: this.#options.width ?? 527,\n\t\t\toverlay: true,\n\t\t\tevents: {\n\t\t\t\tonClose: this.#options.events.onClose.bind(this),\n\t\t\t},\n\t\t});\n\n\t\tEvent.bind(this.#primaryButton, 'click', this.#options.events.onPrimaryClick.bind(this));\n\t\tEvent.bind(this.#secondaryButton, 'click', this.#options.events.onSecondaryClick.bind(this));\n\n\t\tBX.UI.Hint.init(contentNode);\n\t}\n\n\tshow(value: boolean): void\n\t{\n\t\tif (value === true)\n\t\t{\n\t\t\tif (this.#popup.isShown())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.#popup.show();\n\t\t\tthis.#popup.resizeOverlay();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!this.#popup.isShown())\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.#popup.close();\n\t\t}\n\t}\n\n\tload(value: boolean)\n\t{\n\t\tconst clockClass = 'ui-btn-clock';\n\n\t\tif (value && !Dom.hasClass(this.#primaryButton, clockClass))\n\t\t{\n\t\t\tDom.addClass(this.#primaryButton, clockClass);\n\t\t}\n\t\telse if (value === false && Dom.hasClass(this.#primaryButton, clockClass))\n\t\t{\n\t\t\tDom.removeClass(this.#primaryButton, clockClass);\n\t\t}\n\t}\n\n\t#getContent(): HTMLElement\n\t{\n\t\tconst primaryButtonClass = this.#options.primaryButtonClass ?? 'ui-btn-primary';\n\n\t\tthis.#iconNode = this.#options.hideIcon ? '' : Tag.render`<div class=\"inventory-management__popup-icon\"></div>`;\n\n\t\tthis.#primaryButton = Tag.render`\n\t\t\t<button class=\"ui-btn ${primaryButtonClass}\">\n\t\t\t\t${this.#options.primaryButtonText}\n\t\t\t</button>\n\t\t`;\n\n\t\tthis.#secondaryButton = Tag.render`\n\t\t\t<button\tclass=\"ui-btn ui-btn-light-border inventory-management__popup-cancel\">\n\t\t\t\t${this.#options.secondaryButtonText}\n\t\t\t</button>\n\t\t`;\n\n\t\tthis.#titleNode = this.#options.title\n\t\t\t? Tag.render`\n\t\t\t\t<div class=\"inventory-management__popup-title\">\n\t\t\t\t\t${this.#options.title}\n\t\t\t\t</div>\n\t\t\t`\n\t\t\t: null\n\t\t;\n\n\t\tthis.#helpLink = this.#options.hideHelp\n\t\t\t? ''\n\t\t\t: Tag.render`\n\t\t\t\t<a href=\"#\" class=\"inventory-management__popup-link\">\n\t\t\t\t\t${Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DETAILS')}\n\t\t\t\t</a>\n\t\t\t`\n\t\t;\n\t\tif (this.#helpLink && this.#options.helpCode)\n\t\t{\n\t\t\tEvent.bind(this.#helpLink, 'click', (event) => {\n\t\t\t\tif (top.BX && top.BX.Helper)\n\t\t\t\t{\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\ttop.BX.Helper.show(`redirect=detail&code=${this.#options.helpCode}`);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tconst isSimplePopup = this.#options.texts.length === 1 && !this.#options.title;\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"inventory-management__popup\">\n\t\t\t\t${this.#iconNode}\n\t\t\t\t${this.#titleNode}\n\t\t\t\t${this.#options.texts.map((text) => `\n\t\t\t\t\t<div class=\"inventory-management__popup-text${isSimplePopup ? ' --no-margin' : ''}\">\n\t\t\t\t\t\t${text.text}\n\t\t\t\t\t\t${text.hint ? `<span data-hint=\"${text.hint}\"></span>` : ''}\n\t\t\t\t\t</div>\n\t\t\t\t`).join('')}\n\t\t\t\t${this.#helpLink}\n\t\t\t\t<div class=\"ui-btn-container ui-btn-container-center\">\n\t\t\t\t\t${this.#primaryButton}\n\t\t\t\t\t${this.#secondaryButton}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n}\n\nexport {\n\tPopup,\n};\n","import { Extension } from 'main.core';\nimport { Popup } from './popup';\n\nimport 'ui.buttons';\n\nconst PopupField = {\n\tprops: {\n\t\tisLoading: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tisShown: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tprimaryButtonText: {\n\t\t\ttype: String,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t},\n\t\ttexts: {\n\t\t\ttype: Array,\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.popup = new Popup({\n\t\t\thelpCode: this.getSetting('availableModes').length > 1 ? '20233748' : '15992592',\n\t\t\ttitle: this.title,\n\t\t\ttexts: this.texts,\n\t\t\tprimaryButtonText: this.primaryButtonText,\n\t\t\tsecondaryButtonText: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_CANCEL'),\n\t\t\tevents: {\n\t\t\t\tonPrimaryClick: () => this.$emit('enable'),\n\t\t\t\tonSecondaryClick: () => this.popup.show(false),\n\t\t\t\tonClose: () => this.$emit('cancel'),\n\t\t\t},\n\t\t});\n\t},\n\tmethods: {\n\t\tgetSetting(name)\n\t\t{\n\t\t\treturn Extension.getSettings('catalog.store-enable-wizard').get(name);\n\t\t},\n\t},\n\twatch: {\n\t\tisLoading(newValue)\n\t\t{\n\t\t\tthis.popup.load(newValue);\n\t\t},\n\t\tisShown(newValue)\n\t\t{\n\t\t\tthis.popup.show(newValue);\n\t\t},\n\t},\n\ttemplate: '',\n};\n\nexport {\n\tPopupField,\n};\n","import { ajax } from 'main.core';\n\nclass Service\n{\n\tstatic enable(config: Object): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction('catalog.config.inventoryManagementEnable', config)\n\t\t\t\t.then((response) => resolve(response))\n\t\t\t\t.catch((response) => reject(response.errors[0]));\n\t\t});\n\t}\n\n\tstatic disable(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runAction('catalog.config.inventoryManagementDisable')\n\t\t\t\t.then((response) => resolve())\n\t\t\t\t.catch((response) => reject(response.errors[0]));\n\t\t});\n\t}\n\n\tstatic isOnecAppInstalled(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tajax.runComponentAction('bitrix:catalog.store.enablewizard', 'getOnecApp', {\n\t\t\t\tmode: 'class',\n\t\t\t})\n\t\t\t\t.then((response) => resolve(Boolean(response?.data?.isInstalled)))\n\t\t\t\t.catch((e) => reject(e))\n\t\t\t;\n\t\t});\n\t}\n}\n\nexport {\n\tService,\n};\n","import { Text } from 'main.core';\nimport { EnableWarning } from './enable-warning';\nimport { IconHint } from './icon-hint';\nimport { PopupField } from './popup-field';\nimport { Service } from './service';\n\nimport 'ui.forms';\nimport 'ui.buttons';\n\nexport const EnableTrait = {\n\tdata() {\n\t\treturn {\n\t\t\tisShownPopup: false,\n\t\t\tisEnabling: false,\n\t\t};\n\t},\n\tprops: {\n\t\toptions: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomponents: {\n\t\tIconHint,\n\t\tEnableWarning,\n\t\tPopupField,\n\t},\n\tmethods: {\n\t\tonBack()\n\t\t{\n\t\t\tthis.$emit('back');\n\t\t},\n\t\t/**\n\t\t * @abstract\n\t\t */\n\t\tgetMode(): string\n\t\t{\n\t\t\tthrow new Error('Abstract method \"getMode\" must be implemented');\n\t\t},\n\t\tgetEnableOptions(): Object\n\t\t{\n\t\t\treturn {};\n\t\t},\n\t\tonEnableSuccess(): void\n\t\t{\n\t\t\tthis.$Bitrix.Application.instance.sendEnableDoneEvent(this.getMode(), 'success');\n\n\t\t\tconst slider = BX.SidePanel.Instance.getTopSlider();\n\t\t\tif (slider)\n\t\t\t{\n\t\t\t\tslider.getData().set('isInventoryManagementEnabled', true);\n\t\t\t\tslider.getData().set('inventoryManagementMode', this.getMode());\n\t\t\t\tslider.close();\n\t\t\t}\n\t\t},\n\t\tonEnableError(error): void\n\t\t{\n\t\t\tthis.$Bitrix.Application.instance.sendEnableDoneEvent(\n\t\t\t\tthis.getMode(),\n\t\t\t\t`error_${error?.customData?.analyticsCode ?? 'unknown'}`,\n\t\t\t);\n\n\t\t\ttop.BX.UI.Notification.Center.notify({ content: Text.encode(error.message) });\n\t\t},\n\t\tenable(): void\n\t\t{\n\t\t\tif (this.isEnabling)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isEnabling = true;\n\n\t\t\tthis.$Bitrix.Application.instance.sendEnableProceededEvent(this.getMode());\n\n\t\t\tService.enable({\n\t\t\t\tanalyticsLabel: this.makeAnalyticsData(),\n\t\t\t\tdata: {\n\t\t\t\t\tmode: this.getMode(),\n\t\t\t\t\toptions: this.getEnableOptions(),\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then(() => this.onEnableSuccess())\n\t\t\t\t.catch((error) => this.onEnableError(error))\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.isEnabling = false;\n\t\t\t\t\tthis.isShownPopup = false;\n\t\t\t\t});\n\t\t},\n\t\tmakeAnalyticsData(): Object\n\t\t{\n\t\t\tconst result = {\n\t\t\t\tiME: 'inventoryManagementEnabled',\n\t\t\t};\n\t\t\tif (this.options.inventoryManagementSource)\n\t\t\t{\n\t\t\t\tresult.inventoryManagementSource = this.options.inventoryManagementSource;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\topenHelp(): void\n\t\t{\n\t\t\tif (top.BX && top.BX.Helper)\n\t\t\t{\n\t\t\t\ttop.BX.Helper.show(this.getHelpLink());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * @abstract\n\t\t */\n\t\tgetHelpLink(): string\n\t\t{\n\t\t\tthrow new Error('Abstract method \"getHelpLink\" must be implemented');\n\t\t},\n\t},\n};\n","export class ModeList\n{\n\tstatic MODE_B24 = 'B24';\n\tstatic MODE_1C = '1C';\n}\n","import { EnableTrait } from './enable-trait';\nimport { ModeList } from './mode-list';\nimport { Type } from 'main.core';\nimport { ReplaceLangPhraseTrait } from './replace-lang-phrase-tait';\n\nexport const EnableB24 = {\n\tdata() {\n\t\treturn {\n\t\t\tcostPriceMethod: '',\n\t\t};\n\t},\n\tmixins: [\n\t\tEnableTrait,\n\t\tReplaceLangPhraseTrait,\n\t],\n\tcomputed: {\n\t\tpopupTitle(): ?String\n\t\t{\n\t\t\tif (this.options.hasConductedDocumentsOrQuantities)\n\t\t\t{\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DATA_WILL_BE_DELETED_MSGVER_1');\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\tpopupTexts(): Array\n\t\t{\n\t\t\tconst result = [];\n\n\t\t\tif (this.options.hasConductedDocumentsOrQuantities)\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage(\n\t\t\t\t\t\t'CATALOG_INVENTORY_MANAGEMENT_DELETE_DOCUMENTS_AND_QUANTITY_TEXT_ON_ENABLE_B24_MSGVER_1',\n\t\t\t\t\t),\n\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DISABLE_CONFIRMATION_TEXT_2'),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tstartEnablingButtonClass(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'ui-btn-clock': this.isEnabling && !this.isShownPopup,\n\t\t\t\t'ui-btn-disabled': !this.isFormValid,\n\t\t\t};\n\t\t},\n\t\tstartEnablingButtonTitle(): ?string\n\t\t{\n\t\t\tif (this.isFormValid)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_B24_ENABLE_COST_PRICE_METHOD_REQUIRED');\n\t\t},\n\t\tisFormValid(): boolean\n\t\t{\n\t\t\treturn Type.isStringFilled(this.costPriceMethod);\n\t\t},\n\t},\n\tmethods: {\n\t\tstartEnabling(): void\n\t\t{\n\t\t\tif (!this.isFormValid)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.options.isPlanRestricted)\n\t\t\t{\n\t\t\t\ttop.BX.UI.InfoHelper.show('limit_store_inventory_management');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// enabling right away because we have nothing to warn about\n\t\t\tif (this.popupTexts.length === 0)\n\t\t\t{\n\t\t\t\tthis.enable();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isShownPopup = true;\n\t\t},\n\t\tgetMode(): string\n\t\t{\n\t\t\treturn ModeList.MODE_B24;\n\t\t},\n\t\tgetEnableOptions(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\tcostPriceCalculationMethod: this.costPriceMethod,\n\t\t\t};\n\t\t},\n\t\tgetHelpLink(): string\n\t\t{\n\t\t\treturn 'redirect=detail&code=17858278';\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"inventory-management__card-item --active --inner-field\">\n\t\t\t<div class=\"inventory-management__card-item-inner\">\n\t\t\t\t<div class=\"inventory-management__card-logo\"></div>\n\t\t\t\t<div class=\"inventory-management__card-title\">\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_TITLE')}}\n\t\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tclass=\"inventory-management__card-desc\" \n\t\t\t\t\tv-html=\"this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_DESC_1')\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"inventory-management__card-desc\"\n\t\t\t\t\tv-html=\"replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_INNER_DESC_2')\"\n\t\t\t\t>\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\t@click=\"openHelp\"\n\t\t\t\t\thref=\"#\" class=\"inventory-management__card-link\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DETAILS')}}\n\t\t\t\t</a>\n\t\t\t\t<div class=\"inventory-management__card-select-field\">\n\t\t\t\t\t<div class=\"inventory-management__card-select-title\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_SELECT_TITLE')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-after-icon ui-ctl-dropdown ui-ctl-w100\">\n\t\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tv-model=\"costPriceMethod\"\n\t\t\t\t\t\t\tclass=\"ui-ctl-element\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"\">\n\t\t\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_COST_PRICE_METHOD_NOT_SELECTED')}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tv-for=\"(name, value) in options.costPriceMethodList\"\n\t\t\t\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t\t\t\t:key=\"value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{name}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"ui-btn-container inventory-management__card-footer\">\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"!options.isBlocked\"\n\t\t\t\t\t@click=\"onBack\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-light-border ui-btn-round ui-btn-lg\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON_BACK')}}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\t@click=\"startEnabling\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-round ui-btn-lg\"\n\t\t\t\t\t:class=\"startEnablingButtonClass\"\n\t\t\t\t\t:title=\"startEnablingButtonTitle\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON_START')}}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<popup-field\n\t\t\t@enable=\"enable\"\n\t\t\t@cancel=\"isShownPopup = false\"\n\t\t\t:isShown=\"isShownPopup\"\n\t\t\t:isLoading=\"isEnabling\"\n\t\t\t:title=\"popupTitle\"\n\t\t\t:texts=\"popupTexts\"\n\t\t\t:primaryButtonText=\"$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_NEXT')\"\n\t\t/>\n\t`,\n};\n","import { Extension, Runtime } from 'main.core';\nimport { EnableTrait } from './enable-trait';\nimport { ModeList } from './mode-list';\nimport { Service } from './service';\nimport { ReplaceLangPhraseTrait } from './replace-lang-phrase-tait';\nimport { OneCPlanRestrictionSlider } from 'catalog.tool-availability-manager';\n\nconst OTHER_VERSION = 'OTHER';\n\nexport const EnableOnec = {\n\tmixins: [\n\t\tEnableTrait,\n\t\tReplaceLangPhraseTrait,\n\t],\n\tdata() {\n\t\treturn {\n\t\t\tisAppInstalled: false,\n\t\t\tisAppStatusChecking: false,\n\t\t\tversion: Object.keys(this.options.versionList)[0],\n\t\t\tisDemoEnabledFromSlider: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tisLoading(): boolean\n\t\t{\n\t\t\treturn this.isEnabling || this.isAppStatusChecking;\n\t\t},\n\t\tpopupPrimaryButtonText(): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(\n\t\t\t\tthis.popupTexts > 0\n\t\t\t\t\t? 'CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_NEXT'\n\t\t\t\t\t: 'CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_NEXT_2',\n\t\t\t);\n\t\t},\n\t\tpopupTitle(): string\n\t\t{\n\t\t\tif (this.options.hasConductedDocumentsOrQuantities)\n\t\t\t{\n\t\t\t\tif (this.options.areTherePublishedShops)\n\t\t\t\t{\n\t\t\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TITLE_1');\n\t\t\t\t}\n\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TITLE_2');\n\t\t\t}\n\n\t\t\tif (this.options.areTherePublishedShops)\n\t\t\t{\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TITLE_3');\n\t\t\t}\n\n\t\t\tif (this.options.areThereActiveProducts)\n\t\t\t{\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TITLE_4');\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tpopupTexts(): Array\n\t\t{\n\t\t\tconst result = [];\n\n\t\t\tif (this.options.hasConductedDocumentsOrQuantities)\n\t\t\t{\n\t\t\t\tif (this.options.currentMode === ModeList.MODE_B24)\n\t\t\t\t{\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.options.areTherePublishedShops\n\t\t\t\t\t\t&& this.options.areThereActiveProducts\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_1'),\n\t\t\t\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DISABLE_CONFIRMATION_TEXT_2'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_1'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_11'),\n\t\t\t\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DISABLE_CONFIRMATION_TEXT_2'),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult.push({\n\t\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_2'),\n\t\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DISABLE_CONFIRMATION_TEXT_2'),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.options.areTherePublishedShops)\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_3'),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.options.areThereActiveProducts)\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\ttext: this.replaceLangPhrase('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_4'),\n\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_1C_POPUP_WARNING_TEXT_4_HINT'),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tstartEnablingButtonClass(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\t'ui-btn-clock': (this.isLoading && !this.isShownPopup),\n\t\t\t\t'ui-btn-disabled': !this.isFormValid,\n\t\t\t};\n\t\t},\n\t\tisFormValid(): boolean\n\t\t{\n\t\t\treturn true;\n\t\t},\n\t},\n\tmethods: {\n\t\tstartEnabling(): void\n\t\t{\n\t\t\tif (!this.isFormValid)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.options.isPlanRestricted && !this.isDemoEnabledFromSlider)\n\t\t\t{\n\t\t\t\tOneCPlanRestrictionSlider.show({\n\t\t\t\t\tonActivateSuccessHandler: () => {\n\t\t\t\t\t\tthis.isDemoEnabledFromSlider = true;\n\t\t\t\t\t\tthis.startEnabling();\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// enabling right away because we have nothing to warn about\n\t\t\tif (this.popupTexts.length === 0)\n\t\t\t{\n\t\t\t\tthis.onecEnable();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isShownPopup = true;\n\t\t},\n\t\tonecEnable(): void\n\t\t{\n\t\t\tthis.checkIfOnecAppInstalled()\n\t\t\t\t.then(() => this.enableOrInstall())\n\t\t\t\t.catch((error) => console.error(error));\n\t\t},\n\t\tcheckIfOnecAppInstalled(): Promise\n\t\t{\n\t\t\tthis.isAppStatusChecking = true;\n\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\tService.isOnecAppInstalled()\n\t\t\t\t\t.then((isInstalled) => {\n\t\t\t\t\t\tthis.isAppInstalled = isInstalled;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => console.error(error))\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.isAppStatusChecking = false;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tenableOrInstall(): void\n\t\t{\n\t\t\tif (this.isAppInstalled)\n\t\t\t{\n\t\t\t\tthis.enable();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.isShownPopup = false;\n\n\t\t\t\tBX.SidePanel.Instance.open(this.options.installUrl, {\n\t\t\t\t\tcacheable: false,\n\t\t\t\t\tallowChangeHistory: false,\n\t\t\t\t\twidth: 1000,\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tonCloseComplete: () => {\n\t\t\t\t\t\t\tif (!this.isAppInstalled)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.enable();\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\ttop.BX.addCustomEvent(top, 'Rest:AppLayout:ApplicationInstall', (installed, eventResult) => {\n\t\t\t\t\tthis.isAppInstalled = Boolean(installed);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetModeLimitationTexts(): Array\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\ttext: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LANDING_SHOP_PUBLICATION_WARNING'),\n\t\t\t\t\thint: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_LANDING_SHOP_PUBLICATION_WARNING_HINT'),\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\tgetMode(): string\n\t\t{\n\t\t\treturn ModeList.MODE_1C;\n\t\t},\n\t\tgetEnableOptions(): Object\n\t\t{\n\t\t\treturn {\n\t\t\t\tversion: this.version,\n\t\t\t};\n\t\t},\n\t\tgetHelpLink(): string\n\t\t{\n\t\t\treturn 'redirect=detail&code=20233716';\n\t\t},\n\t\topenHelp(): void\n\t\t{\n\t\t\tif (top.BX && top.BX.Helper)\n\t\t\t{\n\t\t\t\ttop.BX.Helper.show(this.getHelpLink());\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tversion(newValue)\n\t\t{\n\t\t\tif (newValue === OTHER_VERSION)\n\t\t\t{\n\t\t\t\tRuntime.loadExtension(['ui.feedback.form'])\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tBX.UI.Feedback.Form.open(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'catalog-enable-wizard-1c-other-version',\n\t\t\t\t\t\t\t\tforms: [\n\t\t\t\t\t\t\t\t\t{ zones: ['ru', 'by', 'kz'], title: '', id: 704, lang: 'ru', sec: 'phfehj' },\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tpresets: Extension.getSettings('catalog.store-enable-wizard')\n\t\t\t\t\t\t\t\t\t.get('feedbackFormOtherVersion1CPresets')\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => console.error(error));\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"inventory-management__card-item --1c --active --inner-field\">\n\t\t\t<div class=\"inventory-management__card-item-inner\">\n\t\t\t\t<div class=\"inventory-management__card-logo\"></div>\n\t\t\t\t<div class=\"inventory-management__card-title\">\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_TITLE_1C')}}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"inventory-management__card-desc\">\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_DESC_1C')}}\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\t@click=\"openHelp\"\n\t\t\t\t\thref=\"#\" class=\"inventory-management__card-link\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DETAILS')}}\n\t\t\t\t</a>\n\t\t\t\t<div class=\"inventory-management__card-select-field\">\n\t\t\t\t\t<div class=\"inventory-management__card-select-title-wo-star\">\n\t\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_INNER_SELECT_TITLE_1C')}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui-ctl ui-ctl-after-icon ui-ctl-dropdown ui-ctl-w100\">\n\t\t\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tv-model=\"version\"\n\t\t\t\t\t\t\tclass=\"ui-ctl-element\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tv-for=\"(name, value) in options.versionList\"\n\t\t\t\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t\t\t\t:key=\"value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{name}}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<enable-warning\n\t\t\t\t\tv-for=\"warning in getModeLimitationTexts()\"\n\t\t\t\t\t:text=\"warning.text\"\n\t\t\t\t\t:hint=\"warning.hint\"\n\t\t\t\t\t:help-link=\"getHelpLink()\"\n\t\t\t\t>\n\t\t\t\t</enable-warning>\n\t\t\t</div>\n\t\t\t<div class=\"ui-btn-container inventory-management__card-footer\">\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"!options.isBlocked\"\n\t\t\t\t\t@click=\"onBack\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-light-border ui-btn-round ui-btn-lg\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_BUTTON_BACK')}}\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\t@click=\"startEnabling\"\n\t\t\t\t\tclass=\"ui-btn ui-btn-primary ui-btn-round ui-btn-lg\"\n\t\t\t\t\t:class=\"startEnablingButtonClass\"\n\t\t\t\t>\n\t\t\t\t\t{{$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_NEXT')}}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<popup-field\n\t\t\t@enable=\"onecEnable\"\n\t\t\t@cancel=\"isShownPopup = false\"\n\t\t\t:isShown=\"isShownPopup\"\n\t\t\t:isLoading=\"isLoading\"\n\t\t\t:title=\"popupTitle\"\n\t\t\t:texts=\"popupTexts\"\n\t\t\t:primaryButtonText=\"popupPrimaryButtonText\"\n\t\t/>\n\t`,\n};\n","export const TitleBox = {\n\tprops: {\n\t\toptions: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div v-if=\"options !== null\" class=\"inventory-management-card-title-box\">\n\t\t\t<div v-html=\"options.title\" class=\"inventory-management-card-title\"></div>\n\t\t\t<div\n\t\t\t\tv-if=\"options.subTitle\"\n\t\t\t\tv-html=\"options.subTitle\" class=\"inventory-management-card-subtitle\">\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { CardBoxB24 } from './card-box-b24';\nimport { CardBoxB24Solo } from './card-box-b24-solo';\nimport { CardBoxOnec } from './card-box-onec';\nimport { EnableB24 } from './enable-b24';\nimport { EnableOnec } from './enable-onec';\nimport { TitleBox } from './title-box';\nimport { ModeList } from './mode-list';\n\nimport 'ui.icon-set.main';\nimport 'ui.icon-set.crm';\nimport 'ui.icon-set.actions';\n\nimport { Type } from 'main.core';\n\nexport const InventoryCardBox = {\n\tcreated()\n\t{\n\t\tif (this.initEnableMode)\n\t\t{\n\t\t\tthis.startEnable(this.initEnableMode);\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tif (this.enableMode === null)\n\t\t{\n\t\t\tthis.$Bitrix.Application.instance.sendOpenedEvent();\n\t\t}\n\t},\n\tprops: {\n\t\tinitEnableMode: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\tavailableModes: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcurrentMode: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thasConductedDocumentsOrQuantities: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tareTherePublishedShops: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tareThereActiveProducts: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tinventoryManagementSource: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tenableMode: null,\n\t\t\thoveredMode: null,\n\t\t};\n\t},\n\tcomponents: {\n\t\tCardBoxB24,\n\t\tCardBoxB24Solo,\n\t\tCardBoxOnec,\n\t\tEnableB24,\n\t\tEnableOnec,\n\t\tTitleBox,\n\t},\n\tcomputed: {\n\t\tb24Mode(): string\n\t\t{\n\t\t\treturn ModeList.MODE_B24;\n\t\t},\n\t\tonecMode(): string\n\t\t{\n\t\t\treturn ModeList.MODE_1C;\n\t\t},\n\t\ttitleBoxOptions(): ?Object\n\t\t{\n\t\t\tif (this.enableMode)\n\t\t\t{\n\t\t\t\tif (this.enableMode === ModeList.MODE_1C)\n\t\t\t\t{\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttitle: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_SLIDER_TITLE_ENABLE_1C'),\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttitle: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_SLIDER_TITLE_ENABLE_B24'),\n\t\t\t\t\tsubTitle: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_SLIDER_SUBTITLE_ENABLE_B24'),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (!this.isAvailable(ModeList.MODE_1C))\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\ttitle: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_SLIDER_TITLE'),\n\t\t\t\tsubTitle: this.$Bitrix.Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_SLIDER_SUBTITLE'),\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\tisHovered(mode: string): boolean\n\t\t{\n\t\t\tif (mode === this.b24Mode)\n\t\t\t{\n\t\t\t\treturn (\n\t\t\t\t\tthis.hoveredMode === mode\n\t\t\t\t\t|| (\n\t\t\t\t\t\t!this.hoveredMode\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tthis.currentMode === mode\n\t\t\t\t\t\t\t|| !this.currentMode\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\tthis.hoveredMode === mode\n\t\t\t\t|| (\n\t\t\t\t\t!this.hoveredMode\n\t\t\t\t\t&& this.currentMode === mode\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tisAvailable(mode: string): boolean\n\t\t{\n\t\t\treturn Boolean(this.availableModes[mode]);\n\t\t},\n\t\tisActive(mode: string): boolean\n\t\t{\n\t\t\treturn this.currentMode === mode;\n\t\t},\n\t\tisEnabling(mode: string): boolean\n\t\t{\n\t\t\treturn this.enableMode === mode;\n\t\t},\n\t\tgetEnableOptions(mode: string): Object\n\t\t{\n\t\t\tconst result = this.availableModes[mode] ?? {};\n\n\t\t\tresult.currentMode = this.currentMode;\n\t\t\tresult.isBlocked = Type.isStringFilled(this.initEnableMode);\n\t\t\tresult.inventoryManagementSource = this.inventoryManagementSource;\n\t\t\tresult.hasConductedDocumentsOrQuantities = this.hasConductedDocumentsOrQuantities;\n\t\t\tresult.areTherePublishedShops = this.areTherePublishedShops;\n\t\t\tresult.areThereActiveProducts = this.areThereActiveProducts;\n\n\t\t\treturn result;\n\t\t},\n\t\tdiscardEnable(): void\n\t\t{\n\t\t\tif (this.initEnableMode)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.enableMode = null;\n\t\t},\n\t\tenableB24(): void\n\t\t{\n\t\t\tthis.startEnable(ModeList.MODE_B24);\n\t\t},\n\t\tenableOnec()\n\t\t{\n\t\t\tthis.startEnable(ModeList.MODE_1C);\n\t\t},\n\t\tstartEnable(mode: string): void\n\t\t{\n\t\t\tif (this.currentMode === mode)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$Bitrix.Application.instance.sendStep2ProceededEvent(mode);\n\n\t\t\tthis.enableMode = mode;\n\t\t},\n\t\tonCardBoxEnter(mode: string)\n\t\t{\n\t\t\tthis.hoveredMode = mode;\n\t\t},\n\t\tonCardBoxLeave()\n\t\t{\n\t\t\tthis.hoveredMode = null;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<title-box :options=\"titleBoxOptions\"></title-box>\n\t\t<div v-if=\"enableMode\" class=\"inventory-management__inner\">\n\t\t\t<enable-b24\n\t\t\t\tv-if=\"isEnabling(b24Mode)\"\n\t\t\t\t:options=\"getEnableOptions(b24Mode)\"\n\t\t\t\t@back=\"discardEnable\"\n\t\t\t>\n\t\t\t</enable-b24>\n\t\t\t<enable-onec\n\t\t\t\tv-if=\"isEnabling(onecMode)\"\n\t\t\t\t:options=\"getEnableOptions(onecMode)\"\n\t\t\t\t@back=\"discardEnable\"\n\t\t\t>\n\t\t\t</enable-onec>\n\t\t</div>\n\t\t<template v-else>\n\t\t\t<div\n\t\t\t\tv-if=\"isAvailable(onecMode)\"\n\t\t\t\tclass=\"inventory-management__card-box\"\n\t\t\t>\n\t\t\t\t<card-box-b24\n\t\t\t\t\t:isActive=\"isActive(b24Mode)\"\n\t\t\t\t\t:isHovered=\"isHovered(b24Mode)\"\n\t\t\t\t\t@pick=\"enableB24\"\n\t\t\t\t\t@enter=\"onCardBoxEnter(b24Mode)\"\n\t\t\t\t\t@leave=\"onCardBoxLeave()\"\n\t\t\t\t>\n\t\t\t\t</card-box-b24>\n\t\t\t\t<card-box-onec\n\t\t\t\t\t:isActive=\"isActive(onecMode)\"\n\t\t\t\t\t:isHovered=\"isHovered(onecMode)\"\n\t\t\t\t\t@pick=\"enableOnec\"\n\t\t\t\t\t@enter=\"onCardBoxEnter(onecMode)\"\n\t\t\t\t\t@leave=\"onCardBoxLeave()\"\n\t\t\t\t>\n\t\t\t\t</card-box-onec>\n\t\t\t</div>\n\t\t\t<card-box-b24-solo\n\t\t\t\tv-else\n\t\t\t\t:isActive=\"isActive(b24Mode)\"\n\t\t\t\t:isHovered=\"isHovered(b24Mode)\"\n\t\t\t\t@pick=\"enableB24\"\n\t\t\t>\n\t\t\t</card-box-b24-solo>\n\t\t</template>\n\t`,\n};\n","import { Dom, Runtime, Tag } from 'main.core';\nimport { InventoryCardBox } from './card-box';\nimport { BitrixVue } from 'ui.vue3';\n\nimport './style.css';\n\nexport class EnableWizard\n{\n\t#params: Object;\n\t#analytics: Object;\n\n\t#template: HTMLElement;\n\n\tconstructor(params, analytics)\n\t{\n\t\tthis.#params = params;\n\t\tthis.#analytics = analytics;\n\t}\n\n\tgetCardTemplate(): HTMLElement\n\t{\n\t\tconst app = this;\n\n\t\tif (!this.#template)\n\t\t{\n\t\t\tthis.#template = Tag.render`<div id=\"inventory-management-card-wrap\"></div>`;\n\n\t\t\tBitrixVue.createApp(\n\t\t\t\t{\n\t\t\t\t\t...InventoryCardBox,\n\t\t\t\t\tbeforeCreate()\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.$bitrix.Application.set(app);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tthis.#params,\n\t\t\t).mount(this.#template);\n\t\t}\n\n\t\treturn this.#template;\n\t}\n\n\trender(node: HTMLElement): void\n\t{\n\t\tDom.append(this.getCardTemplate(), node);\n\t}\n\n\tsendOpenedEvent()\n\t{\n\t\tthis.#sendEvent({\n\t\t\t...this.#analytics,\n\t\t\tevent: 'opened',\n\t\t});\n\t}\n\n\tsendStep2ProceededEvent(mode: string)\n\t{\n\t\tthis.#sendEvent({\n\t\t\t...this.#analytics,\n\t\t\tevent: 'step2_proceeded',\n\t\t\tp2: `choose_${mode}`,\n\t\t});\n\t}\n\n\tsendEnableProceededEvent(mode: string)\n\t{\n\t\tthis.#sendEvent({\n\t\t\t...this.#analytics,\n\t\t\tevent: 'enable_proceeded',\n\t\t\tp2: `choose_${mode}`,\n\t\t});\n\t}\n\n\tsendEnableDoneEvent(mode: string, status: string)\n\t{\n\t\tthis.#sendEvent({\n\t\t\t...this.#analytics,\n\t\t\tevent: 'enable_done',\n\t\t\tstatus,\n\t\t\tp2: `choose_${mode}`,\n\t\t});\n\t}\n\n\t#sendEvent(data: Object)\n\t{\n\t\tRuntime.loadExtension('ui.analytics')\n\t\t\t.then((exports) => {\n\t\t\t\tconst { sendData } = exports;\n\n\t\t\t\tsendData(data);\n\t\t\t});\n\t}\n}\n","import { Text, Loc, Extension, Runtime, Type } from 'main.core';\nimport { ModeList } from './mode-list';\nimport { Popup } from './popup';\nimport { Service } from './service';\n\ntype DisablerOptions = {\n\tevents: {\n\t\tonDisabled: ?() => void,\n\t}\n}\n\nclass Disabler\n{\n\t#popup: Popup;\n\t#options: DisablerOptions;\n\n\tconstructor(options: DisablerOptions = {})\n\t{\n\t\tthis.#options = options;\n\n\t\tconst hasCriticalErrors = this.#getPopupTexts().some((text) => text.critical === true);\n\n\t\tthis.#popup = new Popup({\n\t\t\thelpCode: this.#getSetting('availableModes').length > 1 ? '20233748' : '15992592',\n\t\t\twidth: hasCriticalErrors ? null : 'auto',\n\t\t\ttitle: this.#getPopupTitle(),\n\t\t\ttexts: this.#getPopupTexts(),\n\t\t\thideHelp: !hasCriticalErrors,\n\t\t\thideIcon: !hasCriticalErrors,\n\t\t\tprimaryButtonText: hasCriticalErrors\n\t\t\t\t? Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_TURN_OFF_ANYWAY')\n\t\t\t\t: Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_TURN_OFF'),\n\t\t\tprimaryButtonClass: hasCriticalErrors ? 'ui-btn-danger' : 'ui-btn-primary',\n\t\t\tsecondaryButtonText: Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_POPUP_BUTTON_CANCEL'),\n\t\t\tevents: {\n\t\t\t\tonPrimaryClick: () => this.#disable(),\n\t\t\t\tonSecondaryClick: () => this.#popup.show(false),\n\t\t\t\tonClose: () => {},\n\t\t\t},\n\t\t});\n\t}\n\n\topen()\n\t{\n\t\tthis.#popup.show(true);\n\t}\n\n\tsendDisableDoneEvent(status: string)\n\t{\n\t\tthis.#sendEvent({\n\t\t\ttool: 'inventory',\n\t\t\tcategory: 'settings',\n\t\t\tevent: 'disable_done',\n\t\t\tc_section: 'settings',\n\t\t\tp1: `mode_${this.#getSetting('currentMode')}`,\n\t\t\tstatus,\n\t\t});\n\t}\n\n\t#getPopupTitle(): String\n\t{\n\t\tif (this.#getSetting('currentMode') === ModeList.MODE_B24)\n\t\t{\n\t\t\tif (this.#getSetting('isWithOrdersMode') === true)\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_NOT_ABLE_TO_TURN_BACK_TITLE')\n\t\t\t\t\t.replace('[break]', '<br>');\n\t\t\t}\n\n\t\t\tif (this.#hasConductedDocumentsOrQuantities())\n\t\t\t{\n\t\t\t\treturn Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_DATA_WILL_BE_DELETED_2')\n\t\t\t\t\t.replace('[break]', '<br>');\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t}\n\n\t#getPopupTexts(): Array\n\t{\n\t\tconst result = [];\n\n\t\tif (this.#getSetting('currentMode') === ModeList.MODE_B24)\n\t\t{\n\t\t\tif (this.#hasConductedDocumentsOrQuantities())\n\t\t\t{\n\t\t\t\tresult.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tcritical: true,\n\t\t\t\t\t\ttext: Loc.getMessage(\n\t\t\t\t\t\t\t'CATALOG_INVENTORY_MANAGEMENT_DELETE_DOCUMENTS_AND_QUANTITY_TEXT_ON_DISABLE_B24_TEXT_1',\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcritical: true,\n\t\t\t\t\t\ttext: Loc.getMessage(\n\t\t\t\t\t\t\t'CATALOG_INVENTORY_MANAGEMENT_DELETE_DOCUMENTS_AND_QUANTITY_TEXT_ON_DISABLE_B24_TEXT_2',\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (this.#getSetting('isWithOrdersMode') === true)\n\t\t\t{\n\t\t\t\tresult.push({\n\t\t\t\t\tcritical: true,\n\t\t\t\t\ttext: Loc.getMessage('CATALOG_INVENTORY_MANAGEMENT_NOT_ABLE_TO_TURN_BACK_TEXT')\n\t\t\t\t\t\t.replace('[break]', '<br>'),\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (result.length === 0)\n\t\t{\n\t\t\tresult.push({\n\t\t\t\ttext: Loc.getMessage(\n\t\t\t\t\t'CATALOG_INVENTORY_MANAGEMENT_DISABLE_CONFIRMATION_TEXT',\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t#disable()\n\t{\n\t\tthis.#popup.load(true);\n\n\t\tService.disable()\n\t\t\t.then(() => {\n\t\t\t\tthis.sendDisableDoneEvent('success');\n\t\t\t\tthis.#options.events?.onDisabled?.();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.sendDisableDoneEvent(\n\t\t\t\t\t`error_${error?.customData?.analyticsCode ?? 'unknown'}`,\n\t\t\t\t);\n\t\t\t\ttop.BX.UI.Notification.Center.notify({ content: Text.encode(error.message) });\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.#popup.load(false);\n\t\t\t\tthis.#popup.show(false);\n\t\t\t});\n\t}\n\n\t#getSetting(name: string)\n\t{\n\t\treturn Extension.getSettings('catalog.store-enable-wizard').get(name);\n\t}\n\n\t#sendEvent(data: Object)\n\t{\n\t\tRuntime.loadExtension('ui.analytics')\n\t\t\t.then((exports) => {\n\t\t\t\tconst { sendData } = exports;\n\n\t\t\t\tsendData(data);\n\t\t\t});\n\t}\n\n\t#hasConductedDocumentsOrQuantities(): boolean\n\t{\n\t\tif (Type.isBoolean(this.#options.hasConductedDocumentsOrQuantities))\n\t\t{\n\t\t\treturn this.#options.hasConductedDocumentsOrQuantities;\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\nexport {\n\tDisabler,\n};\n"],"names":["ENABLED_SESSION_KEY","EnableWizardOpener","open","url","params","sliderParams","Type","isPlainObject","Promise","resolve","data","events","onClose","event","getSlider","urlParams","sliderUrl","BX","util","add_url_param","analyticsLabel","isString","length","SidePanel","Instance","cacheable","allowChangeHistory","width","saveEnabledFlag","window","sessionStorage","setItem","showEnabledNotificationIfNeeded","getItem","removeItem","top","UI","Notification","Center","notify","content","Loc","getMessage","autoHide","autoHideDelay","AnalyticsContextList","SECTION","ANALYTICS_MENU_ITEM","LANDING","PRODUCT_CARD","DOCUMENT_LIST","DOCUMENT_CARD","SETTINGS","OLD_SETTINGS","ActionHint","props","title","type","String","timer","created","popup","Popup","bindElement","darkMode","angle","offset","maxWidth","offsetLeft","animation","beforeUnmount","closePopup","methods","mouseenter","ev","setTimeout","setBindElement","target","show","mouseleave","clearTimeout","close","template","CardBoxHelp","components","BIcon","link","required","computed","set","Set","onClick","Helper","CardBoxTrait","isActive","Boolean","isHovered","default","cardItemClass","cardItemStyle","cursor","langClass","$Bitrix","$emit","ReplaceLangPhraseTrait","replaceLangPhrase","phrase","replaceAll","CardBoxB24","mixins","CardBoxB24Solo","setBodyClass","getHelpLink","Dom","addClass","document","body","CardBoxOnec","IconHint","helpLink","hint","Hint","createInstance","popupParameters","className","borderRadius","hide","getContent","Tag","render","replace","outerHTML","EnableWarning","text","constructor","options","contentNode","MainPopup","overlay","bind","Event","onPrimaryClick","onSecondaryClick","init","value","isShown","resizeOverlay","load","clockClass","hasClass","removeClass","primaryButtonClass","hideIcon","primaryButtonText","secondaryButtonText","hideHelp","helpCode","preventDefault","isSimplePopup","texts","map","join","PopupField","isLoading","Array","getSetting","name","Extension","getSettings","get","watch","newValue","Service","enable","config","reject","ajax","runAction","then","response","catch","errors","disable","isOnecAppInstalled","runComponentAction","mode","isInstalled","e","EnableTrait","isShownPopup","isEnabling","Object","onBack","getMode","Error","getEnableOptions","onEnableSuccess","Application","instance","sendEnableDoneEvent","slider","getTopSlider","getData","onEnableError","error","customData","analyticsCode","Text","encode","message","sendEnableProceededEvent","makeAnalyticsData","finally","result","iME","inventoryManagementSource","openHelp","ModeList","MODE_B24","MODE_1C","EnableB24","costPriceMethod","popupTitle","hasConductedDocumentsOrQuantities","popupTexts","push","startEnablingButtonClass","isFormValid","startEnablingButtonTitle","isStringFilled","startEnabling","isPlanRestricted","InfoHelper","costPriceCalculationMethod","OTHER_VERSION","EnableOnec","isAppInstalled","isAppStatusChecking","version","keys","versionList","isDemoEnabledFromSlider","popupPrimaryButtonText","areTherePublishedShops","areThereActiveProducts","currentMode","OneCPlanRestrictionSlider","onActivateSuccessHandler","onecEnable","checkIfOnecAppInstalled","enableOrInstall","console","installUrl","onCloseComplete","addCustomEvent","installed","eventResult","getModeLimitationTexts","Runtime","loadExtension","Feedback","Form","id","forms","zones","lang","sec","presets","TitleBox","InventoryCardBox","initEnableMode","startEnable","mounted","enableMode","sendOpenedEvent","availableModes","hoveredMode","b24Mode","onecMode","titleBoxOptions","subTitle","isAvailable","isBlocked","discardEnable","enableB24","enableOnec","sendStep2ProceededEvent","onCardBoxEnter","onCardBoxLeave","EnableWizard","analytics","getCardTemplate","app","BitrixVue","createApp","beforeCreate","$bitrix","mount","node","append","p2","status","exports","sendData","Disabler","hasCriticalErrors","some","critical","sendDisableDoneEvent","tool","category","c_section","p1","onDisabled","isBoolean"],"mappings":"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"}