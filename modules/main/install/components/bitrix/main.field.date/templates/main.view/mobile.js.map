{"version":3,"file":"mobile.js","sources":["src/mobile.js"],"sourcesContent":["import {Loc} from 'main.core';\n\nlet\n\tBX = window.BX,\n\tBXMobileApp = window.BXMobileApp;\n\nlet nodeDate = (function ()\n{\n\tlet nodeDate = function (node, type, container, formats)\n\t{\n\t\tthis.type = type;\n\t\tthis.node = node;\n\t\tthis.container = container;\n\t\tthis.click = BX.delegate(this.click, this);\n\t\tthis.callback = BX.delegate(this.callback, this);\n\t\tBX.bind(this.container, 'click', this.click);\n\t\tBX.bind(this.container.parentNode, 'click', this.click);\n\t\t//this.type = 'datetime'; // 'datetime', 'date', 'time'\n\t\tthis.format = {\n\t\t\tinner: {\n\t\t\t\tdatetime: 'dd.MM.yyyy H:mm',\n\t\t\t\ttime: 'H:mm',\n\t\t\t\tdate: 'dd.MM.yyyy'\n\t\t\t},\n\t\t\tbitrix: {\n\t\t\t\tdatetime: null,\n\t\t\t\ttime: null,\n\t\t\t\tdate: null\n\t\t\t},\n\t\t\tvisible: {\n\t\t\t\tdatetime: null,\n\t\t\t\ttime: null,\n\t\t\t\tdate: null\n\t\t\t}\n\t\t};\n\t\tthis.init(formats);\n\t};\n\tnodeDate.prototype = {\n\t\tclick: function (e)\n\t\t{\n\t\t\tBX.eventCancelBubble(e);\n\t\t\tthis.show();\n\t\t\treturn BX.PreventDefault(e);\n\t\t},\n\t\tshow: function ()\n\t\t{\n\t\t\tlet res = {\n\t\t\t\ttype: this.type,\n\t\t\t\tstart_date: this.getStrDate(this.node.value),\n\t\t\t\tformat: this.format.inner[this.type],\n\t\t\t\tcallback: this.callback\n\t\t\t};\n\t\t\tif (res['start_date'] == '')\n\t\t\t{\n\t\t\t\tdelete res['start_date'];\n\t\t\t}\n\t\t\tBXMobileApp.UI.DatePicker.setParams(res);\n\t\t\tBXMobileApp.UI.DatePicker.show();\n\t\t},\n\t\tcallback: function (data)\n\t\t{\n\t\t\tlet d = this.makeDate(data);\n\t\t\tthis.node.value = BX.date.format(this.format.bitrix[this.type], d);\n\n\t\t\tlet text = BX.date.format(BX.clone(this.format.visible[this.type]), d);\n\t\t\tif (!BX.type.isNotEmptyString(text))\n\t\t\t{\n\t\t\t\ttext = this.container.getAttribute('placeholder') || ' ';\n\t\t\t}\n\n\t\t\tthis.container.innerHTML = text;\n\n\t\t\tif (this.delButton)\n\t\t\t{\n\t\t\t\tthis.delButton.style.display = 'inline-block';\n\t\t\t}\n\t\t\tBX.onCustomEvent(this, 'onChange', [this, this.node]);\n\t\t},\n\t\tmakeDate: function (str)\n\t\t{\n\n\t\t\t//Format: 'day.month.year hour:minute'\n\t\t\tlet d = new Date();\n\t\t\tif (BX.type.isNotEmptyString(str))\n\t\t\t{\n\t\t\t\tlet dateR = new RegExp('(\\\\d{2}).(\\\\d{2}).(\\\\d{4})'),\n\t\t\t\t\ttimeR = new RegExp('(\\\\d{1,2}):(\\\\d{1,2})'),\n\t\t\t\t\tm;\n\t\t\t\tif (dateR.test(str) && (m = dateR.exec(str)) && m)\n\t\t\t\t{\n\t\t\t\t\td.setDate(m[1]);\n\t\t\t\t\td.setMonth((m[2] - 1));\n\t\t\t\t\td.setFullYear(m[3])\n\t\t\t\t}\n\t\t\t\tif (timeR.test(str) && (m = timeR.exec(str)) && m)\n\t\t\t\t{\n\t\t\t\t\td.setHours(m[1]);\n\t\t\t\t\td.setMinutes(m[2]);\n\t\t\t\t\td.setSeconds(0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn d;\n\t\t},\n\t\tgetStrDate: function (value)\n\t\t{\n\t\t\tlet d = BX.parseDate(value), res = '';\n\t\t\tif (d !== null)\n\t\t\t{\n\t\t\t\tif (this.type == 'date' || this.type == 'datetime')\n\t\t\t\t{\n\t\t\t\t\tres = BX.util.str_pad_left(d.getDate().toString(), 2, '0') + '.' +\n\t\t\t\t\t\tBX.util.str_pad_left((d.getMonth() + 1).toString(), 2, '0') + '.' +\n\t\t\t\t\t\td.getFullYear().toString();\n\t\t\t\t}\n\t\t\t\tif (this.type == 'datetime')\n\t\t\t\t{\n\t\t\t\t\tres += ' ';\n\t\t\t\t}\n\t\t\t\tif (this.type == 'time' || this.type == 'datetime')\n\t\t\t\t{\n\t\t\t\t\tres += BX.util.str_pad_left(d.getHours().toString(), 2, '0') + ':' + d.getMinutes().toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\tinit: function (formats)\n\t\t{\n\t\t\tlet DATETIME_FORMAT = BX.date.convertBitrixFormat(Loc.getMessage('FORMAT_DATETIME')),\n\t\t\t\tDATE_FORMAT = BX.date.convertBitrixFormat(Loc.getMessage('FORMAT_DATE')),\n\t\t\t\tTIME_FORMAT;\n\t\t\tif ((DATETIME_FORMAT.substr(0, DATE_FORMAT.length) == DATE_FORMAT))\n\t\t\t{\n\t\t\t\tTIME_FORMAT = BX.util.trim(DATETIME_FORMAT.substr(DATE_FORMAT.length));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tTIME_FORMAT = BX.date.convertBitrixFormat(DATETIME_FORMAT.indexOf('T') >= 0 ? 'H:MI:SS T' : 'HH:MI:SS');\n\t\t\t}\n\t\t\tthis.format.bitrix.datetime = DATETIME_FORMAT;\n\n\t\t\tthis.format.bitrix.date = DATE_FORMAT;\n\t\t\tthis.format.bitrix.time = TIME_FORMAT;\n\n\t\t\tformats = (formats || {});\n\n\t\t\tthis.format.visible.datetime = (formats['datetime'] || DATETIME_FORMAT.replace(':s', ''));\n\t\t\tthis.format.visible.date = (formats['date'] || DATE_FORMAT);\n\t\t\tthis.format.visible.time = (formats['time'] || TIME_FORMAT.replace(':s', ''));\n\t\t\tthis.format.visible.datetime = [\n\t\t\t\t['today', 'today, ' + this.format.visible.time],\n\t\t\t\t['tommorow', 'tommorow, ' + this.format.visible.time],\n\t\t\t\t['yesterday', 'yesterday, ' + this.format.visible.time],\n\t\t\t\t['', this.format.visible.datetime]\n\t\t\t];\n\t\t\tthis.format.visible.date = [\n\t\t\t\t['today', 'today'],\n\t\t\t\t['tommorow', 'tommorow'],\n\t\t\t\t['yesterday', 'yesterday'],\n\t\t\t\t['', this.format.visible.date]\n\t\t\t];\n\n\t\t\tthis.delButton = BX(`${this.node.id}_del`);\n\t\t\tif (this.delButton)\n\t\t\t{\n\t\t\t\tBX.bind(this.delButton, 'click', BX.proxy(this.drop, this));\n\t\t\t}\n\t\t},\n\t\tdrop: function (e)\n\t\t{\n\t\t\tif (e)\n\t\t\t{\n\t\t\t\tBX.eventCancelBubble(e);\n\t\t\t\tBX.PreventDefault(e);\n\t\t\t}\n\t\t\tthis.node.value = '';\n\t\t\tthis.container.innerHTML = this.container.getAttribute('placeholder');\n\t\t\tif (this.delButton)\n\t\t\t{\n\t\t\t\tthis.delButton.style.display = 'none';\n\t\t\t}\n\t\t\tBX.onCustomEvent(this, 'onChange', [this, this.node]);\n\t\t\treturn false;\n\t\t}\n\t};\n\treturn nodeDate;\n})();\n\nwindow.app.exec('enableCaptureKeyboard', true);\n\nBX.Mobile.Field.Date = function (params)\n{\n\tthis.init(params);\n};\n\nBX.Mobile.Field.Date.prototype = {\n\t__proto__: BX.Mobile.Field.prototype,\n\tbindElement: function (node)\n\t{\n\t\tlet result = null;\n\n\t\tif (BX(node))\n\t\t{\n\t\t\tlet type = (\n\t\t\t\tnode.hasAttribute('data-bx-type') ?\n\t\t\t\t\tnode.getAttribute('data-bx-type').toLowerCase() : ''\n\t\t\t);\n\t\t\tresult = new nodeDate(node, type, BX(`${node.id}_container`), this.format);\n\t\t}\n\t\treturn result;\n\t}\n};"],"names":["BX","window","BXMobileApp","nodeDate","node","type","container","formats","click","delegate","callback","bind","parentNode","format","inner","datetime","time","date","bitrix","visible","init","prototype","e","eventCancelBubble","show","PreventDefault","res","start_date","getStrDate","value","UI","DatePicker","setParams","data","d","makeDate","text","clone","isNotEmptyString","getAttribute","innerHTML","delButton","style","display","onCustomEvent","str","Date","dateR","RegExp","timeR","m","test","exec","setDate","setMonth","setFullYear","setHours","setMinutes","setSeconds","parseDate","util","str_pad_left","getDate","toString","getMonth","getFullYear","getHours","getMinutes","DATETIME_FORMAT","convertBitrixFormat","Loc","getMessage","DATE_FORMAT","TIME_FORMAT","substr","length","trim","indexOf","replace","id","proxy","drop","app","Mobile","Field","params","__proto__","bindElement","result","hasAttribute","toLowerCase"],"mappings":"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"}