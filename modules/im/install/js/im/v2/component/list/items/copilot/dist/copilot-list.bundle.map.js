{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","main_date","im_v2_lib_utils","im_v2_lib_parser","im_v2_component_elements","im_v2_lib_dateFormatter","im_v2_application_core","im_v2_const","im_v2_lib_layout","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","user","message","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","Text","encode","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","ChatAvatar","ChatTitle","data","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","getCollection","getStore","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","LayoutManager","getInstance","clearCurrentLayoutEntityId","deleteLastOpenedElementById","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getPinMessageItem","getHideItem","getLeaveItem","getOpenItem","onclick","openCopilot","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","isEmptyCollection","created","contextMenuManager","loadFirstPage","CopilotDraftManager","initDraftHistory","beforeUnmount","destroy","onScroll","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","List","Lib","Main","Elements","Application","Const","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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","ignoreList":[]}