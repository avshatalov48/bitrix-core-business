this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,s,r,n,i,o,a){"use strict";const g="-".repeat(54);const d={sendQuoteEvent(e,t,r){s.EventEmitter.emit(i.EventType.textarea.insertText,{text:this.prepareQuoteText(e,t),dialogId:r,withNewLine:true,replace:false})},prepareQuoteText(e,s){const r=n.Core.getStore().getters["chats/getByChatId"](e.chatId);let d=t.Loc.getMessage("IM_DIALOG_CHAT_QUOTE_DEFAULT_TITLE");if(e.authorId){d=h(e)}const B=o.DateFormatter.formatByTemplate(e.date,o.DateTemplate.notification);const l=a.Parser.prepareQuote(e,s);let p="";if(r&&r.type===i.ChatType.user){p=`#${r.dialogId}:${n.Core.getUserId()}/${e.id}`}else{p=`#${r.dialogId}/${e.id}`}return`${g}\n`+`${d} [${B}] ${p}\n`+`${l}\n`+`${g}\n`}};const h=e=>{let t="";const s=new r.CopilotManager;if(s.isCopilotBot(e.authorId)){t=s.getNameWithRole({dialogId:e.authorId,messageId:e.id})}else{const s=n.Core.getStore().getters["users/get"](e.authorId);t=s.name}return t};e.Quote=d})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX,BX.Event,BX.Messenger.v2.Lib,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib);
//# sourceMappingURL=quote.bundle.map.js