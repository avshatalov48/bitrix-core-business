this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(t,e,i,n,s,o,r,a,l,d,c,h,u,p,g,_,m,I,T,b){"use strict";const v=Object.freeze({chats:false,users:true});const C="user";const E=600;const L={name:"AddToChatContent",components:{ChatSearch:b.ChatSearch,MessengerButton:g.Button},props:{dialogId:{type:String,required:true},isLoading:{type:Boolean,required:false},height:{type:Number,default:E}},emits:["inviteMembers"],data(){return{searchQuery:"",showHistory:true,selectedItems:new Set}},computed:{ButtonSize:()=>g.ButtonSize,ButtonColor:()=>g.ButtonColor,searchConfig:()=>v,dialog(){return this.$store.getters["chats/get"](this.dialogId,true)},isChat(){return this.dialog.type!==I.ChatType.user},isCollab(){return this.dialog.type===I.ChatType.collab},isOpenLines(){return this.dialog.type===I.ChatType.lines},isChannel(){return n.ChannelManager.isChannel(this.dialogId)},showHistoryOption(){return!this.isCollab&&this.isChat&&!this.isChannel&&!this.isOpenLines},containerStyles(){return{height:`${this.height}px`}}},created(){this.membersSelector=this.getTagSelector()},mounted(){this.membersSelector.renderTo(this.$refs["tag-selector"]);this.membersSelector.focusTextBox()},activated(){this.membersSelector.hideAddButton();this.membersSelector.showTextBox();this.membersSelector.focusTextBox()},methods:{getTagSelector(){let t=null;return new i.TagSelector({maxHeight:111,showAddButton:false,showTextBox:true,addButtonCaption:this.loc("IM_ENTITY_SELECTOR_ADD_TO_CHAT_ADD_MSGVER_1"),addButtonCaptionMore:this.loc("IM_ENTITY_SELECTOR_ADD_TO_CHAT_ADD_MORE"),showCreateButton:false,events:{onBeforeTagAdd:()=>{clearTimeout(t)},onAfterTagAdd:t=>{const{tag:e}=t.getData();this.selectedItems.add(e.id);this.focusSelector()},onKeyUp:t=>{const{event:e}=t.getData();_.EventEmitter.emit(I.EventType.search.keyPressed,{keyboardEvent:e})},onBeforeTagRemove:()=>{clearTimeout(t)},onAfterTagRemove:t=>{const{tag:e}=t.getData();this.selectedItems.delete(e.id);this.focusSelector()},onInput:()=>{this.searchQuery=this.membersSelector.getTextBoxValue()},onBlur:()=>{const e=this.membersSelector.getTextBoxValue();if(e.length>0){return}t=setTimeout((()=>{this.membersSelector.hideTextBox();this.membersSelector.showAddButton()}),200)},onContainerClick:()=>{this.focusSelector()}}})},focusSelector(){this.membersSelector.hideAddButton();this.membersSelector.showTextBox();this.membersSelector.focusTextBox()},onSelectItem(t){const{dialogId:e,nativeEvent:i}=t;if(this.selectedItems.has(e)){const t={id:e,entityId:C};this.membersSelector.removeTag(t)}else{const t=this.getTagByDialogId(e);this.membersSelector.addTag(t)}this.membersSelector.clearTextBox();if(!i.altKey){this.searchQuery=""}},getTagByDialogId(t){const e=this.$store.getters["users/get"](t,true);const i=e.type===I.UserType.extranet;const n=i?"extranet":"employee";return{id:t,entityId:C,entityType:n,title:e.name,avatar:e.avatar.length>0?e.avatar:null}},onInviteClick(){const t=[...this.selectedItems];this.$emit("inviteMembers",{members:t,showHistory:this.showHistory})},loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<div class="bx-im-entity-selector-add-to-chat__container" :style="containerStyles">\n\t\t\t<div class="bx-im-entity-selector-add-to-chat__input" ref="tag-selector"></div>\n\t\t\t<div v-if="showHistoryOption" class="bx-im-entity-selector-add-to-chat__show-history">\n\t\t\t\t<input type="checkbox" id="bx-im-entity-selector-add-to-chat-show-history" v-model="showHistory">\n\t\t\t\t<label for="bx-im-entity-selector-add-to-chat-show-history">\n\t\t\t\t\t{{ loc('IM_ENTITY_SELECTOR_ADD_TO_CHAT_SHOW_HISTORY')}}\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class="bx-im-entity-selector-add-to-chat__search-result-container">\n\t\t\t\t<ChatSearch\n\t\t\t\t\t:searchMode="true"\n\t\t\t\t\t:searchQuery="searchQuery"\n\t\t\t\t\t:selectMode="true"\n\t\t\t\t\t:searchConfig="searchConfig"\n\t\t\t\t\t:selectedItems="[...selectedItems]"\n\t\t\t\t\t:showMyNotes="false"\n\t\t\t\t\t@clickItem="onSelectItem"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class="bx-im-entity-selector-add-to-chat__buttons">\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t:color="ButtonColor.Primary"\n\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t:isLoading="isLoading"\n\t\t\t\t\t:text="loc('IM_ENTITY_SELECTOR_ADD_TO_CHAT_INVITE_BUTTON')"\n\t\t\t\t\t:isDisabled="selectedItems.size === 0"\n\t\t\t\t\t@click="onInviteClick"\n\t\t\t\t/>\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t:color="ButtonColor.LightBorder"\n\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t:text="loc('IM_ENTITY_SELECTOR_ADD_TO_CHAT_CANCEL_BUTTON')"\n\t\t\t\t\t@click="$emit('close')"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`};const S="im-add-to-chat-popup";const y={name:"AddToChat",components:{MessengerPopup:g.MessengerPopup,AddToChatContent:L},props:{bindElement:{type:Object,required:true},dialogId:{type:String,required:true},popupConfig:{type:Object,required:true}},emits:["close"],data(){return{isLoading:false}},computed:{POPUP_ID:()=>S,config(){return{titleBar:this.$Bitrix.Loc.getMessage("IM_ENTITY_SELECTOR_ADD_TO_CHAT_ADD_MEMBERS_TITLE"),closeIcon:true,bindElement:this.bindElement,offsetTop:this.popupConfig.offsetTop,offsetLeft:this.popupConfig.offsetLeft,padding:0,contentPadding:0,contentBackground:"#fff",className:"bx-im-entity-selector-add-to-chat__scope"}},dialog(){return this.$store.getters["chats/get"](this.dialogId,true)},isChat(){return this.dialog.type!==I.ChatType.user},chatId(){return this.dialog.chatId}},created(){this.chatService=new e.ChatService},methods:{inviteMembers(t){const{members:e,showHistory:i}=t;if(this.isChat){this.extendChat(e,i)}else{e.push(this.dialogId,r.Core.getUserId());void this.createChat(e)}},extendChat(t,e){this.isLoading=true;this.chatService.addToChat({chatId:this.chatId,members:t,showHistory:e}).then((()=>{this.isLoading=false;this.$emit("close")})).catch((t=>{console.error(t);this.isLoading=false;this.$emit("close")}))},async createChat(t){this.isLoading=true;const{newDialogId:e}=await this.chatService.createChat({title:null,description:null,members:t,ownerId:r.Core.getUserId(),isPrivate:true}).catch((t=>{console.error(t);this.isLoading=false}));this.isLoading=false;this.$emit("close");void m.Messenger.openChat(e)}},template:`\n\t\t<MessengerPopup\n\t\t\t:config="config"\n\t\t\t:id="POPUP_ID"\n\t\t\t@close="$emit('close')"\n\t\t>\n\t\t\t<AddToChatContent \n\t\t\t\t:dialogId="dialogId" \n\t\t\t\t:isLoading="isLoading"\n\t\t\t\t@close="$emit('close')"\n\t\t\t\t@inviteMembers="inviteMembers"\n\t\t\t/>\n\t\t</MessengerPopup>\n\t`};class B{addEmployees({dialogId:t,members:e}){const i={data:{dialogId:t,members:u.Utils.user.prepareSelectorIds(e)}};return h.runAction(I.RestMethod.socialnetworkMemberAdd,i).catch((t=>{console.error("CollabInvitationService: add employee error",t)}))}copyLink(t){const e={data:{collabId:t}};return h.runAction(I.RestMethod.intranetInviteGetLinkByCollabId,e).catch((t=>{console.error("CollabInvitationService: getting invite link error",t);throw t}))}updateLink(t){const e={data:{collabId:t}};return h.runAction(I.RestMethod.intranetInviteRegenerateLinkByCollabId,e).catch((t=>{console.error("CollabInvitationService: updating invite link error",t);throw t}))}}const f={name:"CopyInviteLink",components:{MessengerButton:g.Button,ChatHint:g.ChatHint},directives:{hint:l.hint},props:{dialogId:{type:String,required:true},collabId:{type:Number,required:true}},data(){return{isCopyingInviteLink:false,isUpdatingLink:false}},computed:{ButtonSize:()=>g.ButtonSize,ButtonColor:()=>g.ButtonColor,isInviteLinkAvailable(){return c.FeatureManager.isFeatureAvailable(c.Feature.inviteByLinkAvailable)},updateLinkHint(){return{text:this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_LINK_UPDATE_HINT"),popupOptions:{width:278,bindOptions:{position:"top"},angle:{offset:36,position:"top"},targetContainer:document.body,offsetTop:-8}}},canUpdateLink(){return d.PermissionManager.getInstance().canPerformActionByRole(I.ActionByRole.updateInviteLink,this.dialogId)}},methods:{async copyInviteLink(){try{this.isCopyingInviteLink=true;const t=await(new B).copyLink(this.collabId);await u.Utils.text.copyToClipboard(t);this.showNotification(this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_LINK_COPIED"))}catch{this.showNotification(this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_LINK_NOT_COPIED"))}finally{this.isCopyingInviteLink=false}},async updateLink(){try{this.isUpdatingLink=true;await(new B).updateLink(this.collabId);this.showNotification(this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_LINK_UPDATED"))}catch{this.showNotification(this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_LINK_UPDATED_ERROR"))}finally{this.isUpdatingLink=false}},showNotification(t){BX.UI.Notification.Center.notify({content:t})},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<div v-if="isInviteLinkAvailable" class="bx-im-add-to-collab__invite-block --link">\n\t\t\t<span class="bx-im-add-to-collab__invite-block-title --ellipsis">\n\t\t\t\t{{ loc('IM_ENTITY_SELECTOR_ADD_TO_COLLAB_INVITE_BY_LINK') }}\n\t\t\t</span>\n\t\t\t<MessengerButton\n\t\t\t\t:size="ButtonSize.M"\n\t\t\t\t:color="ButtonColor.Primary"\n\t\t\t\t:isRounded="true"\n\t\t\t\t:isUppercase="false"\n\t\t\t\t:isLoading="isCopyingInviteLink"\n\t\t\t\t:isDisabled="isUpdatingLink"\n\t\t\t\t:text="loc('IM_ENTITY_SELECTOR_ADD_TO_COLLAB_COPY_LINK')"\n\t\t\t\t@click="copyInviteLink"\n\t\t\t/>\n\t\t\t<button\n\t\t\t\tv-if="canUpdateLink"\n\t\t\t\tv-hint="updateLinkHint"\n\t\t\t\t:class="{'--loading': isUpdatingLink}"\n\t\t\t\tclass="bx-im-add-to-collab__update-link_button"\n\t\t\t\t@click="updateLink"\n\t\t\t>\n\t\t\t\t<span class="bx-im-add-to-collab__update-link_icon"></span>\n\t\t\t</button>\n\t\t</div>\n\t`};const A="SidePanel.Slider:onClose";const M="main:helper";const O={name:"AddGuestsTab",components:{MessengerButton:g.Button,ScrollWithGradient:g.ScrollWithGradient,CopyInviteLink:f},props:{dialogId:{type:String,required:true},height:{type:Number,default:0}},emits:["close","closeHelpdeskSlider","openHelpdeskSlider"],data(){return{isAddButtonDisabled:true,isInvitingGuests:false}},computed:{ButtonSize:()=>g.ButtonSize,ButtonColor:()=>g.ButtonColor,isCurrentUserCollaber(){const t=this.$store.getters["users/get"](r.Core.getUserId(),true);return t.type===I.UserType.collaber},preparedDescription(){if(this.isCurrentUserCollaber){return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_DESCRIPTION_TEXT_GUEST")}return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_DESCRIPTION_TEXT_EMPLOYEE")},preparedDescriptionTitle(){if(this.isCurrentUserCollaber){return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_DESCRIPTION_TITLE_GUEST")}return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_DESCRIPTION_TITLE_EMPLOYEE")},chatId(){const t=this.$store.getters["chats/get"](this.dialogId,true);return t.chatId},collabId(){const t=this.$store.getters["chats/collabs/getByChatId"](this.chatId);return t.collabId},containerStyles(){return{height:`${this.height}px`}},isPhoneInviteAvailable(){return c.FeatureManager.isFeatureAvailable(c.Feature.inviteByPhoneAvailable)},preparedInvitationTitle(){if(this.isPhoneInviteAvailable){return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_INVITE_BY_PHONE_OR_EMAIL")}return this.loc("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_INVITE_BY_EMAIL")},isCollaber(){const t=this.$store.getters["users/get"](r.Core.getUserId());return t.type===I.UserType.collaber}},created(){this.initInvitationInput();_.EventEmitter.subscribe(A,this.onCloseOpenHelpdeskSlider)},mounted(){this.invitationGuests.renderTo(this.$refs["im-collab-invitation-guests-input"])},beforeUnmount(){this.invitationGuests.unsubscribe("readyState",this.onReadySaveInputHandler);this.invitationGuests.unsubscribe("onUnreadySave",this.onUnreadySaveInputHandler);_.EventEmitter.unsubscribe(A,this.onCloseOpenHelpdeskSlider)},methods:{openHelpdesk(){this.$emit("openHelpdeskSlider");const t="22706836";a.openHelpdeskArticle(t)},initInvitationInput(){this.invitationGuests=new o.InvitationInput;this.invitationGuests.subscribe("onReadySave",this.onReadySaveInputHandler);this.invitationGuests.subscribe("onUnreadySave",this.onUnreadySaveInputHandler)},onReadySaveInputHandler(){this.isAddButtonDisabled=false},onUnreadySaveInputHandler(){this.isAddButtonDisabled=true;this.isInvitingGuests=false},async addGuestToCollab(){this.isInvitingGuests=true;await this.invitationGuests.inviteToGroup(this.collabId);this.isInvitingGuests=false;this.$emit("close")},onCloseOpenHelpdeskSlider({data:t}){const[e]=t;const i=e.getSlider().getUrl().toString();if(i===M){this.$emit("closeHelpdeskSlider")}},loc(t,e={}){return this.$Bitrix.Loc.getMessage(t,e)}},template:`\n\t\t<div class="bx-im-add-to-collab__container" :style="containerStyles">\n\t\t\t<div class="bx-im-add-to-collab__invite-section">\n\t\t\t\t<ScrollWithGradient :gradientHeight="28" :withShadow="true">\n\t\t\t\t\t<div class="bx-im-add-to-collab__content">\n\t\t\t\t\t\t<div class="bx-im-add-to-collab__description">\n\t\t\t\t\t\t\t<div class="bx-im-add-to-collab__description_icon"></div>\n\t\t\t\t\t\t\t<div class="bx-im-add-to-collab__description_content">\n\t\t\t\t\t\t\t\t<div class="bx-im-add-to-collab__description_title">{{ preparedDescriptionTitle }}</div>\n\t\t\t\t\t\t\t\t<div class="bx-im-add-to-collab__description_text">{{ preparedDescription }}</div>\n\t\t\t\t\t\t\t\t<a class="bx-im-add-to-collab__helpdesk-link" @click.prevent="openHelpdesk">\n\t\t\t\t\t\t\t\t\t{{ loc('IM_ENTITY_SELECTOR_ADD_TO_COLLAB_HELPDESK_LINK') }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CopyInviteLink :collabId="collabId" :dialogId="dialogId" />\n\t\t\t\t\t\t<div class="bx-im-add-to-collab__invite-block">\n\t\t\t\t\t\t\t<span class="bx-im-add-to-collab__invite-block-title --ellipsis">\n\t\t\t\t\t\t\t\t{{ preparedInvitationTitle }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div \n\t\t\t\t\t\t\t\tref="im-collab-invitation-guests-input" \n\t\t\t\t\t\t\t\tclass="bx-im-add-to-collab__invite-block-input"\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</ScrollWithGradient>\n\t\t\t</div>\n\t\t\t<div class="bx-im-add-to-collab__buttons">\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t:color="ButtonColor.Collab"\n\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t:text="loc('IM_ENTITY_SELECTOR_ADD_TO_CHAT_INVITE_BUTTON')"\n\t\t\t\t\t:isDisabled="isAddButtonDisabled || isInvitingGuests"\n\t\t\t\t\t:isLoading="isInvitingGuests"\n\t\t\t\t\t@click="addGuestToCollab"\n\t\t\t\t/>\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t:color="ButtonColor.LightBorder"\n\t\t\t\t\t:isRounded="true"\n\t\t\t\t\t:text="loc('IM_ENTITY_SELECTOR_ADD_TO_CHAT_CANCEL_BUTTON')"\n\t\t\t\t\t@click="$emit('close')"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`};const D={name:"AddEmployeesTab",components:{AddToChatContent:L},props:{dialogId:{type:String,required:true},height:{type:Number,required:true}},emits:["close"],methods:{inviteMembers({members:t}){void(new B).addEmployees({dialogId:this.dialogId,members:t});this.$emit("close")}},template:`\n\t\t<div class="bx-im-add-to-collab__employees-tab-container">\n\t\t\t<AddToChatContent\n\t\t\t\t:dialogId="dialogId"\n\t\t\t\t:height="height"\n\t\t\t\t@inviteMembers="inviteMembers"\n\t\t\t\t@close="$emit('close')"\n\t\t\t/>\n\t\t</div>\n\t`};const k=Object.freeze({guests:"guests",employees:"employees"});const x=[{id:k.guests,title:s.Loc.getMessage("IM_ENTITY_SELECTOR_GUESTS_TAB")},{id:k.employees,title:s.Loc.getMessage("IM_ENTITY_SELECTOR_EMPLOYEES_TAB")}];const N="im-add-to-collab-popup";const R=498;const P={name:"AddToCollab",components:{MessengerPopup:g.MessengerPopup,SegmentButton:g.SegmentButton,AddGuestsTab:O,AddEmployeesTab:D},props:{bindElement:{type:Object,required:true},dialogId:{type:String,required:true},popupConfig:{type:Object,required:true}},emits:["close"],data(){return{activeTabId:k.guests}},computed:{POPUP_ID:()=>N,Tabs:()=>x,config(){return{titleBar:this.$Bitrix.Loc.getMessage("IM_ENTITY_SELECTOR_ADD_TO_COLLAB_TITLE"),closeIcon:true,bindElement:this.bindElement,offsetTop:this.popupConfig.offsetTop,offsetLeft:this.popupConfig.offsetLeft,padding:0,contentPadding:0,contentBackground:"#fff",className:"bx-im-add-to-collab__scope"}},tabComponent(){return this.activeTabId===k.guests?O:D},isCollaber(){const t=this.$store.getters["users/get"](r.Core.getUserId());return t.type===I.UserType.collaber},isInviteLinkAvailable(){return c.FeatureManager.isFeatureAvailable(c.Feature.inviteByLinkAvailable)},finalHeight(){const t=58+12;const e=38;let i=R;if(this.isCollaber){i-=e}if(!this.isInviteLinkAvailable){i-=t}return i}},methods:{onTabSwitch(t){this.activeTabId=t}},template:`\n\t\t<MessengerPopup\n\t\t\t:config="config"\n\t\t\t:id="POPUP_ID"\n\t\t\tv-slot="{ enableAutoHide, disableAutoHide }"\n\t\t\t@close="$emit('close')"\n\t\t>\n\t\t\t<div class="bx-im-add-to-collab__tabs">\n\t\t\t\t<SegmentButton :tabs="Tabs" @segmentSelected="onTabSwitch" />\n\t\t\t</div>\n\t\t\t<KeepAlive>\n\t\t\t\t<component\n\t\t\t\t\t:is="tabComponent"\n\t\t\t\t\t:dialogId="dialogId" \n\t\t\t\t\t:height="finalHeight"\n\t\t\t\t\t@close="$emit('close')"\n\t\t\t\t\t@openHelpdeskSlider="disableAutoHide"\n\t\t\t\t\t@closeHelpdeskSlider="enableAutoHide"\n\t\t\t\t/>\n\t\t\t</KeepAlive>\n\t\t</MessengerPopup>\n\t`};const w=Object.freeze({chats:true,users:true});const H={name:"ForwardContent",components:{ChatSearch:b.ChatSearch,ChatSearchInput:T.ChatSearchInput},props:{messagesIds:{type:Array,required:true}},emits:["close"],data(){return{searchQuery:"",isLoading:false}},computed:{searchConfig:()=>w},methods:{onLoading(t){this.isLoading=t},onUpdateSearch(t){this.searchQuery=t},async onSelectItem(t){const{dialogId:e}=t;_.EventEmitter.emit(I.EventType.dialog.closeBulkActionsMode);await m.Messenger.openChat(e);_.EventEmitter.emit(I.EventType.textarea.insertForward,{messagesIds:this.messagesIds,dialogId:e});this.$emit("close")}},template:`\n\t\t<div class="bx-im-entity-selector-forward__container">\n\t\t\t<div class="bx-im-entity-selector-forward__input">\n\t\t\t\t<ChatSearchInput \n\t\t\t\t\t:searchMode="true" \n\t\t\t\t\t:isLoading="isLoading" \n\t\t\t\t\t:withIcon="false" \n\t\t\t\t\t:delayForFocusOnStart="1"\n\t\t\t\t\t@updateSearch="onUpdateSearch"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class="bx-im-entity-selector-forward__search-result-container">\n\t\t\t\t<ChatSearch\n\t\t\t\t\t:searchMode="true"\n\t\t\t\t\t:searchQuery="searchQuery"\n\t\t\t\t\t:searchConfig="searchConfig"\n\t\t\t\t\t@clickItem="onSelectItem"\n\t\t\t\t\t@loading="onLoading"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`};const U="im-forward-popup";const $={name:"ForwardPopup",components:{MessengerPopup:g.MessengerPopup,ForwardContent:H},props:{messagesIds:{type:Array,required:true}},emits:["close"],computed:{POPUP_ID:()=>U,config(){return{titleBar:this.popupTitle,closeIcon:true,targetContainer:document.body,fixed:true,draggable:true,padding:0,autoHide:false,contentPadding:0,contentBackground:"#fff",className:"bx-im-entity-selector-forward__scope"}},popupTitle(){return this.messagesIds.length>1?this.loc("IM_ENTITY_SELECTOR_ADD_TO_CHAT_FORWARD_TITLE_SEVERAL_MESSAGES"):this.loc("IM_ENTITY_SELECTOR_ADD_TO_CHAT_FORWARD_TITLE")}},methods:{loc(t){return this.$Bitrix.Loc.getMessage(t)}},template:`\n\t\t<MessengerPopup\n\t\t\t:id="POPUP_ID"\n\t\t\t:config="config"\n\t\t\t@close="$emit('close')"\n\t\t>\n\t\t\t<ForwardContent :messagesIds="messagesIds" @close="$emit('close')" />\n\t\t</MessengerPopup>\n\t`};t.AddToChat=y;t.AddToCollab=P;t.ForwardPopup=$})(this.BX.Messenger.v2.Component.EntitySelector=this.BX.Messenger.v2.Component.EntitySelector||{},BX.Messenger.v2.Service,BX.UI.EntitySelector,BX.Messenger.v2.Lib,BX,BX.Intranet,BX.Messenger.v2.Application,BX.Messenger.v2.Lib,BX.Vue3.Directives,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Messenger.v2.Lib,BX.Main,BX.Messenger.v2.Component.Elements,BX.Event,BX.Messenger.v2.Lib,BX.Messenger.v2.Const,BX.Messenger.v2.Component,BX.Messenger.v2.Component);
//# sourceMappingURL=registry.bundle.map.js