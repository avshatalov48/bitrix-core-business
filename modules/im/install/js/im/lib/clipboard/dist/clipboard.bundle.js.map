{"version":3,"file":"clipboard.bundle.js","sources":["../src/clipboard.js"],"sourcesContent":["/**\n * Bitrix Messenger\n * Clipboard manager\n *\n * @package bitrix\n * @subpackage im\n * @copyright 2001-2020 Bitrix\n */\n\nexport class Clipboard\n{\n\tstatic copy(text = '')\n\t{\n\t\tconst store = Clipboard.getStore();\n\n\t\tif (text)\n\t\t{\n\t\t\tstore.focus();\n\t\t\tstore.value = text;\n\t\t\tstore.selectionStart = 0;\n\t\t\tdocument.execCommand(\"copy\");\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.execCommand(\"copy\");\n\n\t\t\tstore.focus();\n\n\t\t\tdocument.execCommand(\"paste\");\n\t\t\ttext = store.value;\n\t\t}\n\n\t\tClipboard.removeStore();\n\n\t\treturn text;\n\t}\n\n\tstatic getStore()\n\t{\n\t\tif (Clipboard.store)\n\t\t{\n\t\t\treturn Clipboard.store;\n\t\t}\n\n\t\tClipboard.store = document.createElement('textarea');\n\t\tClipboard.store.style = \"position: absolute; opacity: 0; top: -1000px; left: -1000px;\";\n\t\tdocument.body.insertBefore(Clipboard.store, document.body.firstChild);\n\n\t\treturn Clipboard.store;\n\t}\n\n\tstatic removeStore()\n\t{\n\t\tif (!Clipboard.store)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tdocument.body.removeChild(Clipboard.store);\n\n\t\tClipboard.store = null;\n\n\t\treturn true;\n\t}\n}\n\nClipboard.store = null;"],"names":["Clipboard","text","store","getStore","focus","value","selectionStart","document","execCommand","removeStore","createElement","style","body","insertBefore","firstChild","removeChild"],"mappings":";;;;;CAAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;AAEA,KAAaA,SAAS;GAAA;KAAA;;GAAA;KAAA;KAAA,uBAGrB;OAAA,IADYC,IAAI,uEAAG,EAAE;OAEpB,IAAMC,KAAK,GAAGF,SAAS,CAACG,QAAQ,EAAE;OAElC,IAAIF,IAAI,EACR;SACCC,KAAK,CAACE,KAAK,EAAE;SACbF,KAAK,CAACG,KAAK,GAAGJ,IAAI;SAClBC,KAAK,CAACI,cAAc,GAAG,CAAC;SACxBC,QAAQ,CAACC,WAAW,CAAC,MAAM,CAAC;QAC5B,MAED;SACCD,QAAQ,CAACC,WAAW,CAAC,MAAM,CAAC;SAE5BN,KAAK,CAACE,KAAK,EAAE;SAEbG,QAAQ,CAACC,WAAW,CAAC,OAAO,CAAC;SAC7BP,IAAI,GAAGC,KAAK,CAACG,KAAK;;OAGnBL,SAAS,CAACS,WAAW,EAAE;OAEvB,OAAOR,IAAI;;;KACX;KAAA,2BAGD;OACC,IAAID,SAAS,CAACE,KAAK,EACnB;SACC,OAAOF,SAAS,CAACE,KAAK;;OAGvBF,SAAS,CAACE,KAAK,GAAGK,QAAQ,CAACG,aAAa,CAAC,UAAU,CAAC;OACpDV,SAAS,CAACE,KAAK,CAACS,KAAK,GAAG,8DAA8D;OACtFJ,QAAQ,CAACK,IAAI,CAACC,YAAY,CAACb,SAAS,CAACE,KAAK,EAAEK,QAAQ,CAACK,IAAI,CAACE,UAAU,CAAC;OAErE,OAAOd,SAAS,CAACE,KAAK;;;KACtB;KAAA,8BAGD;OACC,IAAI,CAACF,SAAS,CAACE,KAAK,EACpB;SACC,OAAO,IAAI;;OAGZK,QAAQ,CAACK,IAAI,CAACG,WAAW,CAACf,SAAS,CAACE,KAAK,CAAC;OAE1CF,SAAS,CAACE,KAAK,GAAG,IAAI;OAEtB,OAAO,IAAI;;;GACX;CAAA;CAGFF,SAAS,CAACE,KAAK,GAAG,IAAI;;;;;;;;"}