this.BX=this.BX||{};(function(e,t,i,s,a,l,r){"use strict";function n(e,t){b(e,t);t.add(e)}function c(e,t,i){b(e,t);t.set(e,i)}function b(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var o=new WeakMap;var p=new WeakMap;var h=new WeakMap;var v=new WeakMap;var u=new WeakSet;var H=function(){function e(t){babelHelpers.classCallCheck(this,e);n(this,u);c(this,o,{writable:true,value:void 0});c(this,p,{writable:true,value:void 0});c(this,h,{writable:true,value:void 0});c(this,v,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,p,t.id);babelHelpers.classPrivateFieldSet(this,h,t.bindElement);babelHelpers.classPrivateFieldSet(this,v,t.message)}babelHelpers.createClass(e,[{key:"show",value:function e(){d(this,u,f).call(this).show()}},{key:"hide",value:function e(){d(this,u,f).call(this).close()}}]);return e}();function f(){if(babelHelpers.classPrivateFieldGet(this,o)){return babelHelpers.classPrivateFieldGet(this,o)}babelHelpers.classPrivateFieldSet(this,o,new a.Popup({id:babelHelpers.classPrivateFieldGet(this,p),bindElement:babelHelpers.classPrivateFieldGet(this,h),content:babelHelpers.classPrivateFieldGet(this,v),darkMode:true,autoHide:true,angle:true,offsetLeft:14,bindOptions:{position:"bottom"},closeByEsc:true}));return babelHelpers.classPrivateFieldGet(this,o)}var w,g,k;function P(e,t){m(e,t);t.add(e)}function F(e,t,i){m(e,t);t.set(e,i)}function m(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function T(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var G=new WeakMap;var S=new WeakMap;var _=new WeakMap;var y=new WeakMap;var C=new WeakMap;var M=new WeakMap;var W=new WeakMap;var E=new WeakMap;var I=new WeakMap;var N=new WeakMap;var D=new WeakMap;var z=new WeakMap;var B=new WeakMap;var X=new WeakSet;var L=function(){function e(t){var s=this;babelHelpers.classCallCheck(this,e);P(this,X);F(this,G,{writable:true,value:void 0});F(this,S,{writable:true,value:void 0});F(this,_,{writable:true,value:void 0});F(this,y,{writable:true,value:void 0});F(this,C,{writable:true,value:void 0});F(this,M,{writable:true,value:void 0});F(this,W,{writable:true,value:void 0});F(this,E,{writable:true,value:void 0});F(this,I,{writable:true,value:void 0});F(this,N,{writable:true,value:void 0});F(this,D,{writable:true,value:void 0});F(this,z,{writable:true,value:void 0});F(this,B,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(this,S,t.id);babelHelpers.classPrivateFieldSet(this,_,t.inputName);babelHelpers.classPrivateFieldSet(this,y,t.title);babelHelpers.classPrivateFieldSet(this,M,t.isChecked);babelHelpers.classPrivateFieldSet(this,W,i.Type.isString(t.settingsPath)?t.settingsPath:null);babelHelpers.classPrivateFieldSet(this,E,i.Type.isString(t.settingsTitle)?t.settingsTitle:null);babelHelpers.classPrivateFieldSet(this,I,i.Type.isString(t.infoHelperCode)?t.infoHelperCode:null);babelHelpers.classPrivateFieldSet(this,z,i.Type.isBoolean(t.isDefault)?t.isDefault:false);babelHelpers.classPrivateFieldSet(this,B,i.Type.isBoolean(t.isDisabled)?t.isDisabled:false);babelHelpers.classPrivateFieldSet(this,D,t.helpMessage);i.Event.bind(this.getSwitcher().getNode(),"click",(function(){if(babelHelpers.classPrivateFieldGet(s,B)){s.getWarningMessage().show();s.getSwitcher().check(babelHelpers.classPrivateFieldGet(s,M),false)}else if(babelHelpers.classPrivateFieldGet(s,z)&&!s.getSwitcher().isChecked()){s.getSwitcher().check(true,false);s.getWarningMessage().show()}}))}babelHelpers.createClass(e,[{key:"getId",value:function e(){return babelHelpers.classPrivateFieldGet(this,S)}},{key:"isDefault",value:function e(){return babelHelpers.classPrivateFieldGet(this,z)}},{key:"render",value:function e(){if(babelHelpers.classPrivateFieldGet(this,G)){return babelHelpers.classPrivateFieldGet(this,G)}babelHelpers.classPrivateFieldSet(this,G,i.Tag.render(w||(w=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__row-tool-selector --tool-selector','">\n\t\t\t\t<div class="ui-section__tools-subgroup_left-wrapper">\n\t\t\t\t\t<div class="ui-section__switcher-row_wrapper"/>\n\t\t\t\t\t<div class="ui-section__row-tool-selector_title">',"</div>\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),babelHelpers.classPrivateFieldGet(this,M)?" --active --checked":"",babelHelpers.classPrivateFieldGet(this,y),T(this,X,U).call(this)));return babelHelpers.classPrivateFieldGet(this,G)}},{key:"getSwitcher",value:function e(){if(babelHelpers.classPrivateFieldGet(this,C)instanceof r.Switcher){return babelHelpers.classPrivateFieldGet(this,C)}babelHelpers.classPrivateFieldSet(this,C,this.createSwitcher(this.render().querySelector(".ui-section__switcher-row_wrapper")));return babelHelpers.classPrivateFieldGet(this,C)}},{key:"createSwitcher",value:function e(t){var a=this;return new r.Switcher({inputName:babelHelpers.classPrivateFieldGet(this,_),node:t,checked:babelHelpers.classPrivateFieldGet(this,M),id:babelHelpers.classPrivateFieldGet(this,S),size:r.SwitcherSize.extraSmall,handlers:{checked:function e(){if(!babelHelpers.classPrivateFieldGet(a,B)&&!babelHelpers.classPrivateFieldGet(a,z)){i.Dom.removeClass(a.render(),"--active --checked");s.EventEmitter.emit(a.getSwitcher(),"inactive")}},unchecked:function e(){if(!babelHelpers.classPrivateFieldGet(a,B)){i.Dom.addClass(a.render(),"--active --checked");s.EventEmitter.emit(a.getSwitcher(),"active")}}}})}},{key:"renderTo",value:function e(t){if(!i.Type.isDomNode(t)){throw new Error("Target node must be HTMLElement")}return i.Dom.append(this.render(),t)}},{key:"getWarningMessage",value:function e(){if(babelHelpers.classPrivateFieldGet(this,N)){return babelHelpers.classPrivateFieldGet(this,N)}babelHelpers.classPrivateFieldSet(this,N,new H({id:this.getId(),bindElement:this.getSwitcher().getNode(),message:babelHelpers.classPrivateFieldGet(this,D)}));return babelHelpers.classPrivateFieldGet(this,N)}}]);return e}();function U(){if(i.Type.isNil(babelHelpers.classPrivateFieldGet(this,E))){return null}if(!i.Type.isNil(babelHelpers.classPrivateFieldGet(this,W))){return i.Tag.render(g||(g=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" data-slider-ignore-autobinding="true" href="','" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,W),babelHelpers.classPrivateFieldGet(this,E))}if(!i.Type.isNil(babelHelpers.classPrivateFieldGet(this,I))){return i.Tag.render(k||(k=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__tools-subgroup-description-link">',"</a>\n\t\t\t"])),babelHelpers.classPrivateFieldGet(this,I),babelHelpers.classPrivateFieldGet(this,E))}return null}var j,q,O,x,A;function R(e,t){K(e,t);t.add(e)}function J(e,t,i){K(e,t);t.set(e,i)}function K(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Q(e,t,i){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return i}var V=new WeakMap;var Y=new WeakMap;var Z=new WeakMap;var $=new WeakMap;var ee=new WeakMap;var te=new WeakMap;var ie=new WeakMap;var se=new WeakSet;var ae=new WeakSet;var le=new WeakSet;var re=new WeakSet;var ne=new WeakSet;var ce=new WeakSet;var be=function(e){babelHelpers.inherits(a,e);function a(e){var s;babelHelpers.classCallCheck(this,a);s=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).call(this,e));R(babelHelpers.assertThisInitialized(s),ce);R(babelHelpers.assertThisInitialized(s),ne);R(babelHelpers.assertThisInitialized(s),re);R(babelHelpers.assertThisInitialized(s),le);R(babelHelpers.assertThisInitialized(s),ae);R(babelHelpers.assertThisInitialized(s),se);J(babelHelpers.assertThisInitialized(s),V,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),Y,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),Z,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),$,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),ee,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),te,{writable:true,value:void 0});J(babelHelpers.assertThisInitialized(s),ie,{writable:true,value:null});s.linkTitle=i.Type.isString(e.linkTitle)?e.linkTitle:null;s.link=i.Type.isString(e.link)?e.link:null;s.isChecked=i.Type.isBoolean(e.isChecked)?e.isChecked:false;s.items=i.Type.isArray(e.items)?e.items:[];s.isNestedMenu=s.items.length>0;s.infoHelperCode=i.Type.isString(e.infoHelperCode)?e.infoHelperCode:null;babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),Z,i.Type.isBoolean(e.isDefault)?e.isDefault:false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),$,i.Type.isBoolean(e.isDisabled)?e.isDisabled:false);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),te,i.Type.isString(e.helpMessage)?e.helpMessage:null);if(e.draggable instanceof t.Draggable){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(s),ie,e.draggable)}if(!i.Type.isString(e.mainInputName)){throw new Error("Missing required parameter")}s.mainInputName=e.mainInputName;s.render();s.items.forEach((function(e){s.append(e.render())}));return s}babelHelpers.createClass(a,[{key:"getContent",value:function e(){var t,a=this;if(babelHelpers.classPrivateFieldGet(this,Y)){return babelHelpers.classPrivateFieldGet(this,Y)}babelHelpers.classPrivateFieldSet(this,Y,i.Tag.render(j||(j=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="ui-section__wrapper --tool-selector'," ",'" >\n\t\t\t\t<div class="ui-section__header">\n\t\t\t\t\t<div class="ui-section__header-left-wrapper">\n\t\t\t\t\t\t','\n\t\t\t\t\t\t<span class="ui-section__switcher-wrapper" onclick="event.stopPropagation()"/>\n\t\t\t\t\t\t<span class="ui-section__title">',"</span>\n\t\t\t\t\t\t","\n\t\t\t\t\t</div>\n\t\t\t\t\t",'\n\t\t\t\t</div>\n\t\t\t\t<div class="ui-section__content ui-section__section-body_inner">\n\t\t\t\t\t<div class="ui-section__row_box"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])),this.isChecked?" --checked":"",this.isNestedMenu?" clickable":"",(t=Q(this,re,he).call(this))!==null&&t!==void 0?t:"",this.title,Q(this,le,pe).call(this),Q(this,ne,ve).call(this)));babelHelpers.classPrivateFieldSet(this,V,Q(this,ce,ue).call(this,babelHelpers.classPrivateFieldGet(this,Y).querySelector(".ui-section__switcher-wrapper")));if(babelHelpers.classPrivateFieldGet(this,te)){babelHelpers.classPrivateFieldSet(this,ee,this.getWarningMessage(babelHelpers.classPrivateFieldGet(this,te)))}s.EventEmitter.subscribe(babelHelpers.classPrivateFieldGet(this,V),"toggled",(function(){if(babelHelpers.classPrivateFieldGet(a,$)){babelHelpers.classPrivateFieldGet(a,V).check(!babelHelpers.classPrivateFieldGet(a,V).isChecked(),false);if(babelHelpers.classPrivateFieldGet(a,ee)){babelHelpers.classPrivateFieldGet(a,ee).show()}}else if(babelHelpers.classPrivateFieldGet(a,Z)){babelHelpers.classPrivateFieldGet(a,V).check(true,false);if(babelHelpers.classPrivateFieldGet(a,ee)){babelHelpers.classPrivateFieldGet(a,ee).show()}}else{a.toggle(babelHelpers.classPrivateFieldGet(a,V).isChecked());babelHelpers.classPrivateFieldGet(a,V).inputNode.form.dispatchEvent(new Event("change"));i.Dom[babelHelpers.classPrivateFieldGet(a,V).isChecked()?"addClass":"removeClass"](babelHelpers.classPrivateFieldGet(a,Y),"--checked");a.items.forEach((function(e){return e.getSwitcher().check(babelHelpers.classPrivateFieldGet(a,V).isChecked())}))}}));this.items.forEach((function(e){if(e.isDefault()!==true){s.EventEmitter.subscribe(e.getSwitcher(),"inactive",Q(a,ae,oe).bind(a))}s.EventEmitter.subscribe(e.getSwitcher(),"active",Q(a,se,de).bind(a))}));return babelHelpers.classPrivateFieldGet(this,Y)}},{key:"getWarningMessage",value:function e(t){if(babelHelpers.classPrivateFieldGet(this,ee)){return babelHelpers.classPrivateFieldGet(this,ee)}babelHelpers.classPrivateFieldSet(this,ee,new H({id:this.id,bindElement:babelHelpers.classPrivateFieldGet(this,V).getNode(),message:t}));return babelHelpers.classPrivateFieldGet(this,ee)}},{key:"isDefault",value:function e(){return babelHelpers.classPrivateFieldGet(this,Z)}}]);return a}(l.Section);function de(){babelHelpers.classPrivateFieldGet(this,V).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,V).isChecked()){return}babelHelpers.classPrivateFieldGet(this,V).check(true,false);this.toggle(true);i.Dom.addClass(babelHelpers.classPrivateFieldGet(this,Y),"--checked");this.items.forEach((function(e){return e.isDefault()&&!e.getSwitcher().isChecked()?e.getSwitcher().check(true):null}))}function oe(){babelHelpers.classPrivateFieldGet(this,V).inputNode.form.dispatchEvent(new Event("change"));if(babelHelpers.classPrivateFieldGet(this,V).isChecked()!==true){return}if(this.items.some((function(e){return e.getSwitcher().isChecked()}))){return}babelHelpers.classPrivateFieldGet(this,V).check(false,false);i.Dom.removeClass(babelHelpers.classPrivateFieldGet(this,Y),"--checked")}function pe(){if(this.isNestedMenu){return i.Tag.render(q||(q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<span class="ui-section__collapse-icon ui-icon-set ',' --tool-selector-icon"></span>\n\t\t\t'])),this.isOpen?this.className.arrowTop:this.className.arrowDown)}return null}function he(){if(babelHelpers.classPrivateFieldGet(this,ie)){return i.Tag.render(O||(O=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<div onclick="event.stopPropagation()" class="ui-section__dragdrop-icon-wrapper">\n\t\t\t\t\t<div onclick="event.stopPropagation()" class="ui-section__dragdrop-icon"/>\n\t\t\t\t</div>\n\t\t\t'])))}return null}function ve(){if(i.Type.isNil(this.linkTitle)){return null}if(!i.Type.isNil(this.link)){return i.Tag.render(x||(x=babelHelpers.taggedTemplateLiteral(['\n\t\t\t\t<a target="_blank" href="','" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.link,this.linkTitle)}if(!i.Type.isNil(this.infoHelperCode)){return i.Tag.render(A||(A=babelHelpers.taggedTemplateLiteral(["\n\t\t\t\t<a href=\"javascript:top.BX.UI.InfoHelper.show('",'\')" class="ui-section__header-link ui-section__tools-description-link" onclick="event.stopPropagation()">',"</a>\n\t\t\t"])),this.infoHelperCode,this.linkTitle)}return null}function ue(e){return new r.Switcher({inputName:this.mainInputName,node:e,checked:this.isChecked,id:this.id})}e.SwitcherNested=be;e.SwitcherNestedItem=L;e.WarningMessage=H})(this.BX.UI=this.BX.UI||{},BX.UI.DragAndDrop,BX,BX.Event,BX.Main,BX.UI,BX.UI);
//# sourceMappingURL=switcher-nested.bundle.map.js