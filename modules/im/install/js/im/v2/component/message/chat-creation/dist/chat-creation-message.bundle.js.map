{"version":3,"file":"chat-creation-message.bundle.js","sources":["../src/chat-creation-message.js"],"sourcesContent":["import {Event} from 'main.core';\n\nimport {Button, ButtonSize, ButtonIcon} from 'im.v2.component.elements';\nimport {AddToChat} from 'im.v2.component.entity-selector';\n\nimport './css/chat-creation-message.css';\n\nimport type {CustomColorScheme} from 'im.v2.component.elements';\nimport type {ImModelMessage} from 'im.v2.model';\nimport {Messenger} from 'im.public';\n\nconst BUTTON_COLOR = '#00ace3';\n\n// @vue/component\nexport const ChatCreationMessage = {\n\tname: 'ChatCreationMessage',\n\tcomponents: {Button, AddToChat},\n\tprops:\n\t{\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\tshowAddToChatPopup: false\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tButtonSize: () => ButtonSize,\n\t\tButtonIcon: () => ButtonIcon,\n\n\t\tdescriptionPhrase()\n\t\t{\n\t\t\treturn this.loc('IM_MESSAGE_CHAT_CREATION_DESCRIPTION', {\n\t\t\t\t'#DECORATION_START#': '<span class=\"bx-im-message-chat-creation__action\">',\n\t\t\t\t'#DECORATION_END#': '</span>',\n\t\t\t});\n\t\t},\n\t\tbuttonColorScheme(): CustomColorScheme\n\t\t{\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\tborderColor: BUTTON_COLOR,\n\t\t\t\ticonColor: BUTTON_COLOR,\n\t\t\t\ttextColor: BUTTON_COLOR,\n\t\t\t\thoverColor: 'transparent'\n\t\t\t};\n\t\t},\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tchatId(): number\n\t\t{\n\t\t\treturn this.message.chatId;\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tconst actionElement = document.querySelector('.bx-im-message-chat-creation__action');\n\t\tEvent.bind(actionElement, 'click', () => {\n\t\t\tconsole.warn('ACTION CLICK');\n\t\t});\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t\tonCallButtonClick()\n\t\t{\n\t\t\tMessenger.startVideoCall(this.dialogId);\n\t\t},\n\t\tonInviteButtonClick()\n\t\t{\n\t\t\tthis.showAddToChatPopup = true;\n\t\t}\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-message-chat-creation__scope bx-im-message-chat-creation__container\">\n\t\t\t<div class=\"bx-im-message-chat-creation__image\"></div>\n\t\t\t<div class=\"bx-im-message-chat-creation__content\">\n\t\t\t\t<div class=\"bx-im-message-chat-creation__title\">{{ loc('IM_MESSAGE_CHAT_CREATION_TITLE_V2') }}</div>\n\t\t\t\t<div class=\"bx-im-message-chat-creation__description\" v-html=\"descriptionPhrase\"></div>\n\t\t\t\t<div class=\"bx-im-message-chat-creation__buttons_container\">\n\t\t\t\t\t<div class=\"bx-im-message-chat-creation__buttons_item\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t:size=\"ButtonSize.L\" \n\t\t\t\t\t\t\t:icon=\"ButtonIcon.Call\" \n\t\t\t\t\t\t\t:customColorScheme=\"buttonColorScheme\"\n\t\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t\t:text=\"loc('IM_MESSAGE_CHAT_CREATION_BUTTON_VIDEOCALL')\"\n\t\t\t\t\t\t\t@click=\"onCallButtonClick\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-message-chat-creation__buttons_item\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t:size=\"ButtonSize.L\"\n\t\t\t\t\t\t\t:icon=\"ButtonIcon.AddUser\"\n\t\t\t\t\t\t\t:customColorScheme=\"buttonColorScheme\"\n\t\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t\t:text=\"loc('IM_MESSAGE_CHAT_CREATION_BUTTON_INVITE_USERS')\"\n\t\t\t\t\t\t\t@click=\"onInviteButtonClick\"\n\t\t\t\t\t\t\tref=\"add-members-button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<AddToChat\n\t\t\t\t:bindElement=\"$refs['add-members-button'] || {}\"\n\t\t\t\t:chatId=\"chatId\"\n\t\t\t\t:dialogId=\"dialogId\"\n\t\t\t\t:showPopup=\"showAddToChatPopup\"\n\t\t\t\t:popupConfig=\"{offsetTop: 0, offsetLeft: 0}\"\n\t\t\t\t@close=\"showAddToChatPopup = false\"\n\t\t\t/>\n\t\t</div>\n\t`\n};"],"names":["BUTTON_COLOR","ChatCreationMessage","name","components","Button","AddToChat","props","item","type","Object","required","dialogId","String","data","showAddToChatPopup","computed","ButtonSize","ButtonIcon","descriptionPhrase","loc","buttonColorScheme","backgroundColor","borderColor","iconColor","textColor","hoverColor","message","chatId","mounted","actionElement","document","querySelector","Event","bind","console","warn","methods","phraseCode","replacements","$Bitrix","Loc","getMessage","onCallButtonClick","Messenger","startVideoCall","onInviteButtonClick","template"],"mappings":";;;;;;;CAWA,MAAMA,YAAY,GAAG,SAAS;;CAE9B;AACA,OAAaC,mBAAmB,GAAG;GAClCC,IAAI,EAAE,qBAAqB;GAC3BC,UAAU,EAAE;aAACC,+BAAM;gBAAEC;IAAU;GAC/BC,KAAK,EACL;KACCC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,IAAI,GACJ;KACC,OAAO;OACNC,kBAAkB,EAAE;MACpB;IACD;GACDC,QAAQ,EACR;KACCC,UAAU,EAAE,MAAMA,mCAAU;KAC5BC,UAAU,EAAE,MAAMA,mCAAU;KAE5BC,iBAAiB,GACjB;OACC,OAAO,IAAI,CAACC,GAAG,CAAC,sCAAsC,EAAE;SACvD,oBAAoB,EAAE,oDAAoD;SAC1E,kBAAkB,EAAE;QACpB,CAAC;MACF;KACDC,iBAAiB,GACjB;OACC,OAAO;SACNC,eAAe,EAAE,aAAa;SAC9BC,WAAW,EAAEtB,YAAY;SACzBuB,SAAS,EAAEvB,YAAY;SACvBwB,SAAS,EAAExB,YAAY;SACvByB,UAAU,EAAE;QACZ;MACD;KACDC,OAAO,GACP;OACC,OAAO,IAAI,CAACnB,IAAI;MAChB;KACDoB,MAAM,GACN;OACC,OAAO,IAAI,CAACD,OAAO,CAACC,MAAM;;IAE3B;GACDC,OAAO,GACP;KACC,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,sCAAsC,CAAC;KACpFC,eAAK,CAACC,IAAI,CAACJ,aAAa,EAAE,OAAO,EAAE,MAAM;OACxCK,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC;MAC5B,CAAC;IACF;GACDC,OAAO,EACP;KACCjB,GAAG,CAACkB,UAAkB,EAAEC,YAAmC,GAAG,EAAE,EAChE;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACJ,UAAU,EAAEC,YAAY,CAAC;MAC5D;KACDI,iBAAiB,GACjB;OACCC,mBAAS,CAACC,cAAc,CAAC,IAAI,CAACjC,QAAQ,CAAC;MACvC;KACDkC,mBAAmB,GACnB;OACC,IAAI,CAAC/B,kBAAkB,GAAG,IAAI;;IAE/B;GACDgC,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAwCZ,CAAC;;;;;;;;"}