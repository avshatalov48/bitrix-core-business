{"version":3,"file":"vue.portal.bundle.js","sources":["../src/vue.portal.js"],"sourcesContent":["\n/*!\n * portal-vue Â© Thorsten L?nborg, 2019\n *\n * Version: 2.1.7\n *\n * LICENCE: MIT\n *\n * https://github.com/linusborg/portal-vue\n *\n*/\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove default export and change install function to plugin variable for work in Bitrix CoreJS extensions;\n */\n\nimport {VueVendor as Vue} from \"ui.vue\";\n\nfunction _typeof(obj) {\n\tif (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n\t\t_typeof = function (obj) {\n\t\t\treturn typeof obj;\n\t\t};\n\t} else {\n\t\t_typeof = function (obj) {\n\t\t\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t\t};\n\t}\n\n\treturn _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n\treturn _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n\tif (Array.isArray(arr)) {\n\t\tfor (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n\t\treturn arr2;\n\t}\n}\n\nfunction _iterableToArray(iter) {\n\tif (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n\tthrow new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar inBrowser = typeof window !== 'undefined';\nfunction freeze(item) {\n\tif (Array.isArray(item) || _typeof(item) === 'object') {\n\t\treturn Object.freeze(item);\n\t}\n\n\treturn item;\n}\nfunction combinePassengers(transports) {\n\tvar slotProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\treturn transports.reduce(function (passengers, transport) {\n\t\tvar temp = transport.passengers[0];\n\t\tvar newPassengers = typeof temp === 'function' ? temp(slotProps) : transport.passengers;\n\t\treturn passengers.concat(newPassengers);\n\t}, []);\n}\nfunction stableSort(array, compareFn) {\n\treturn array.map(function (v, idx) {\n\t\treturn [idx, v];\n\t}).sort(function (a, b) {\n\t\treturn compareFn(a[1], b[1]) || a[0] - b[0];\n\t}).map(function (c) {\n\t\treturn c[1];\n\t});\n}\nfunction pick(obj, keys) {\n\treturn keys.reduce(function (acc, key) {\n\t\tif (obj.hasOwnProperty(key)) {\n\t\t\tacc[key] = obj[key];\n\t\t}\n\n\t\treturn acc;\n\t}, {});\n}\n\nvar transports = {};\nvar targets = {};\nvar sources = {};\nvar Wormhole = Vue.extend({\n\tdata: function data() {\n\t\treturn {\n\t\t\ttransports: transports,\n\t\t\ttargets: targets,\n\t\t\tsources: sources,\n\t\t\ttrackInstances: inBrowser\n\t\t};\n\t},\n\tmethods: {\n\t\topen: function open(transport) {\n\t\t\tif (!inBrowser) return;\n\t\t\tvar to = transport.to,\n\t\t\t\tfrom = transport.from,\n\t\t\t\tpassengers = transport.passengers,\n\t\t\t\t_transport$order = transport.order,\n\t\t\t\torder = _transport$order === void 0 ? Infinity : _transport$order;\n\t\t\tif (!to || !from || !passengers) return;\n\t\t\tvar newTransport = {\n\t\t\t\tto: to,\n\t\t\t\tfrom: from,\n\t\t\t\tpassengers: freeze(passengers),\n\t\t\t\torder: order\n\t\t\t};\n\t\t\tvar keys = Object.keys(this.transports);\n\n\t\t\tif (keys.indexOf(to) === -1) {\n\t\t\t\tVue.set(this.transports, to, []);\n\t\t\t}\n\n\t\t\tvar currentIndex = this.$_getTransportIndex(newTransport); // Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n\n\t\t\tvar newTransports = this.transports[to].slice(0);\n\n\t\t\tif (currentIndex === -1) {\n\t\t\t\tnewTransports.push(newTransport);\n\t\t\t} else {\n\t\t\t\tnewTransports[currentIndex] = newTransport;\n\t\t\t}\n\n\t\t\tthis.transports[to] = stableSort(newTransports, function (a, b) {\n\t\t\t\treturn a.order - b.order;\n\t\t\t});\n\t\t},\n\t\tclose: function close(transport) {\n\t\t\tvar force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\t\tvar to = transport.to,\n\t\t\t\tfrom = transport.from;\n\t\t\tif (!to || !from && force === false) return;\n\n\t\t\tif (!this.transports[to]) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (force) {\n\t\t\t\tthis.transports[to] = [];\n\t\t\t} else {\n\t\t\t\tvar index = this.$_getTransportIndex(transport);\n\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\t// Copying the array here so that the PortalTarget change event will actually contain two distinct arrays\n\t\t\t\t\tvar newTransports = this.transports[to].slice(0);\n\t\t\t\t\tnewTransports.splice(index, 1);\n\t\t\t\t\tthis.transports[to] = newTransports;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterTarget: function registerTarget(target, vm, force) {\n\t\t\tif (!inBrowser) return;\n\n\t\t\tif (this.trackInstances && !force && this.targets[target]) {\n\t\t\t\tconsole.warn(\"[portal-vue]: Target \".concat(target, \" already exists\"));\n\t\t\t}\n\n\t\t\tthis.$set(this.targets, target, Object.freeze([vm]));\n\t\t},\n\t\tunregisterTarget: function unregisterTarget(target) {\n\t\t\tthis.$delete(this.targets, target);\n\t\t},\n\t\tregisterSource: function registerSource(source, vm, force) {\n\t\t\tif (!inBrowser) return;\n\n\t\t\tif (this.trackInstances && !force && this.sources[source]) {\n\t\t\t\tconsole.warn(\"[portal-vue]: source \".concat(source, \" already exists\"));\n\t\t\t}\n\n\t\t\tthis.$set(this.sources, source, Object.freeze([vm]));\n\t\t},\n\t\tunregisterSource: function unregisterSource(source) {\n\t\t\tthis.$delete(this.sources, source);\n\t\t},\n\t\thasTarget: function hasTarget(to) {\n\t\t\treturn !!(this.targets[to] && this.targets[to][0]);\n\t\t},\n\t\thasSource: function hasSource(to) {\n\t\t\treturn !!(this.sources[to] && this.sources[to][0]);\n\t\t},\n\t\thasContentFor: function hasContentFor(to) {\n\t\t\treturn !!this.transports[to] && !!this.transports[to].length;\n\t\t},\n\t\t// Internal\n\t\t$_getTransportIndex: function $_getTransportIndex(_ref) {\n\t\t\tvar to = _ref.to,\n\t\t\t\tfrom = _ref.from;\n\n\t\t\tfor (var i in this.transports[to]) {\n\t\t\t\tif (this.transports[to][i].from === from) {\n\t\t\t\t\treturn +i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\t}\n});\nvar wormhole = new Wormhole(transports);\n\nvar _id = 1;\nvar Portal = Vue.extend({\n\tname: 'portal',\n\tprops: {\n\t\tdisabled: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn String(_id++);\n\t\t\t}\n\t\t},\n\t\torder: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tslim: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tslotProps: {\n\t\t\ttype: Object,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'DIV'\n\t\t},\n\t\tto: {\n\t\t\ttype: String,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn String(Math.round(Math.random() * 10000000));\n\t\t\t}\n\t\t}\n\t},\n\tcreated: function created() {\n\t\tvar _this = this;\n\n\t\tthis.$nextTick(function () {\n\t\t\twormhole.registerSource(_this.name, _this);\n\t\t});\n\t},\n\tmounted: function mounted() {\n\t\tif (!this.disabled) {\n\t\t\tthis.sendUpdate();\n\t\t}\n\t},\n\tupdated: function updated() {\n\t\tif (this.disabled) {\n\t\t\tthis.clear();\n\t\t} else {\n\t\t\tthis.sendUpdate();\n\t\t}\n\t},\n\tbeforeDestroy: function beforeDestroy() {\n\t\twormhole.unregisterSource(this.name);\n\t\tthis.clear();\n\t},\n\twatch: {\n\t\tto: function to(newValue, oldValue) {\n\t\t\toldValue && oldValue !== newValue && this.clear(oldValue);\n\t\t\tthis.sendUpdate();\n\t\t}\n\t},\n\tmethods: {\n\t\tclear: function clear(target) {\n\t\t\tvar closer = {\n\t\t\t\tfrom: this.name,\n\t\t\t\tto: target || this.to\n\t\t\t};\n\t\t\twormhole.close(closer);\n\t\t},\n\t\tnormalizeSlots: function normalizeSlots() {\n\t\t\treturn this.$scopedSlots.default ? [this.$scopedSlots.default] : this.$slots.default;\n\t\t},\n\t\tnormalizeOwnChildren: function normalizeOwnChildren(children) {\n\t\t\treturn typeof children === 'function' ? children(this.slotProps) : children;\n\t\t},\n\t\tsendUpdate: function sendUpdate() {\n\t\t\tvar slotContent = this.normalizeSlots();\n\n\t\t\tif (slotContent) {\n\t\t\t\tvar transport = {\n\t\t\t\t\tfrom: this.name,\n\t\t\t\t\tto: this.to,\n\t\t\t\t\tpassengers: _toConsumableArray(slotContent),\n\t\t\t\t\torder: this.order\n\t\t\t\t};\n\t\t\t\twormhole.open(transport);\n\t\t\t} else {\n\t\t\t\tthis.clear();\n\t\t\t}\n\t\t}\n\t},\n\trender: function render(h) {\n\t\tvar children = this.$slots.default || this.$scopedSlots.default || [];\n\t\tvar Tag = this.tag;\n\n\t\tif (children && this.disabled) {\n\t\t\treturn children.length <= 1 && this.slim ? this.normalizeOwnChildren(children)[0] : h(Tag, [this.normalizeOwnChildren(children)]);\n\t\t} else {\n\t\t\treturn this.slim ? h() : h(Tag, {\n\t\t\t\tclass: {\n\t\t\t\t\t'v-portal': true\n\t\t\t\t},\n\t\t\t\tstyle: {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t},\n\t\t\t\tkey: 'v-portal-placeholder'\n\t\t\t});\n\t\t}\n\t}\n});\n\nvar PortalTarget = Vue.extend({\n\tname: 'portalTarget',\n\tprops: {\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tslim: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tslotProps: {\n\t\t\ttype: Object,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'div'\n\t\t},\n\t\ttransition: {\n\t\t\ttype: [String, Object, Function]\n\t\t}\n\t},\n\tdata: function data() {\n\t\treturn {\n\t\t\ttransports: wormhole.transports,\n\t\t\tfirstRender: true\n\t\t};\n\t},\n\tcreated: function created() {\n\t\tvar _this = this;\n\n\t\tthis.$nextTick(function () {\n\t\t\twormhole.registerTarget(_this.name, _this);\n\t\t});\n\t},\n\twatch: {\n\t\townTransports: function ownTransports() {\n\t\t\tthis.$emit('change', this.children().length > 0);\n\t\t},\n\t\tname: function name(newVal, oldVal) {\n\t\t\t/**\n\t\t\t * TODO\n\t\t\t * This should warn as well ...\n\t\t\t */\n\t\t\twormhole.unregisterTarget(oldVal);\n\t\t\twormhole.registerTarget(newVal, this);\n\t\t}\n\t},\n\tmounted: function mounted() {\n\t\tvar _this2 = this;\n\n\t\tif (this.transition) {\n\t\t\tthis.$nextTick(function () {\n\t\t\t\t// only when we have a transition, because it causes a re-render\n\t\t\t\t_this2.firstRender = false;\n\t\t\t});\n\t\t}\n\t},\n\tbeforeDestroy: function beforeDestroy() {\n\t\twormhole.unregisterTarget(this.name);\n\t},\n\tcomputed: {\n\t\townTransports: function ownTransports() {\n\t\t\tvar transports = this.transports[this.name] || [];\n\n\t\t\tif (this.multiple) {\n\t\t\t\treturn transports;\n\t\t\t}\n\n\t\t\treturn transports.length === 0 ? [] : [transports[transports.length - 1]];\n\t\t},\n\t\tpassengers: function passengers() {\n\t\t\treturn combinePassengers(this.ownTransports, this.slotProps);\n\t\t}\n\t},\n\tmethods: {\n\t\t// can't be a computed prop because it has to \"react\" to $slot changes.\n\t\tchildren: function children() {\n\t\t\treturn this.passengers.length !== 0 ? this.passengers : this.$scopedSlots.default ? this.$scopedSlots.default(this.slotProps) : this.$slots.default || [];\n\t\t},\n\t\t// can't be a computed prop because it has to \"react\" to this.children().\n\t\tnoWrapper: function noWrapper() {\n\t\t\tvar noWrapper = this.slim && !this.transition;\n\n\t\t\tif (noWrapper && this.children().length > 1) {\n\t\t\t\tconsole.warn('[portal-vue]: PortalTarget with `slim` option received more than one child element.');\n\t\t\t}\n\n\t\t\treturn noWrapper;\n\t\t}\n\t},\n\trender: function render(h) {\n\t\tvar noWrapper = this.noWrapper();\n\t\tvar children = this.children();\n\t\tvar Tag = this.transition || this.tag;\n\t\treturn noWrapper ? children[0] : this.slim && !Tag ? h() : h(Tag, {\n\t\t\tprops: {\n\t\t\t\t// if we have a transition component, pass the tag if it exists\n\t\t\t\ttag: this.transition && this.tag ? this.tag : undefined\n\t\t\t},\n\t\t\tclass: {\n\t\t\t\t'vue-portal-target': true\n\t\t\t}\n\t\t}, children);\n\t}\n});\n\nvar _id$1 = 0;\nvar portalProps = ['disabled', 'name', 'order', 'slim', 'slotProps', 'tag', 'to'];\nvar targetProps = ['multiple', 'transition'];\nvar MountingPortal = Vue.extend({\n\tname: 'MountingPortal',\n\tinheritAttrs: false,\n\tprops: {\n\t\tappend: {\n\t\t\ttype: [Boolean, String]\n\t\t},\n\t\tbail: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tmountTo: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\t// Portal\n\t\tdisabled: {\n\t\t\ttype: Boolean\n\t\t},\n\t\t// name for the portal\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn 'mounted_' + String(_id$1++);\n\t\t\t}\n\t\t},\n\t\torder: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tslim: {\n\t\t\ttype: Boolean\n\t\t},\n\t\tslotProps: {\n\t\t\ttype: Object,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'DIV'\n\t\t},\n\t\t// name for the target\n\t\tto: {\n\t\t\ttype: String,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn String(Math.round(Math.random() * 10000000));\n\t\t\t}\n\t\t},\n\t\t// Target\n\t\tmultiple: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\ttargetSlim: {\n\t\t\ttype: Boolean\n\t\t},\n\t\ttargetSlotProps: {\n\t\t\ttype: Object,\n\t\t\tdefault: function _default() {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t},\n\t\ttargetTag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'div'\n\t\t},\n\t\ttransition: {\n\t\t\ttype: [String, Object, Function]\n\t\t}\n\t},\n\tcreated: function created() {\n\t\tif (typeof document === 'undefined') return;\n\t\tvar el = document.querySelector(this.mountTo);\n\n\t\tif (!el) {\n\t\t\tconsole.error(\"[portal-vue]: Mount Point '\".concat(this.mountTo, \"' not found in document\"));\n\t\t\treturn;\n\t\t}\n\n\t\tvar props = this.$props; // Target already exists\n\n\t\tif (wormhole.targets[props.name]) {\n\t\t\tif (props.bail) {\n\t\t\t\tconsole.warn(\"[portal-vue]: Target \".concat(props.name, \" is already mounted.\\n        Aborting because 'bail: true' is set\"));\n\t\t\t} else {\n\t\t\t\tthis.portalTarget = wormhole.targets[props.name];\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar append = props.append;\n\n\t\tif (append) {\n\t\t\tvar type = typeof append === 'string' ? append : 'DIV';\n\t\t\tvar mountEl = document.createElement(type);\n\t\t\tel.appendChild(mountEl);\n\t\t\tel = mountEl;\n\t\t} // get props for target from $props\n\t\t// we have to rename a few of them\n\n\n\t\tvar _props = pick(this.$props, targetProps);\n\n\t\t_props.slim = this.targetSlim;\n\t\t_props.tag = this.targetTag;\n\t\t_props.slotProps = this.targetSlotProps;\n\t\t_props.name = this.to;\n\t\tthis.portalTarget = new PortalTarget({\n\t\t\tel: el,\n\t\t\tparent: this.$parent || this,\n\t\t\tpropsData: _props\n\t\t});\n\t},\n\tbeforeDestroy: function beforeDestroy() {\n\t\tvar target = this.portalTarget;\n\n\t\tif (this.append) {\n\t\t\tvar el = target.$el;\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\n\t\ttarget.$destroy();\n\t},\n\trender: function render(h) {\n\t\tif (!this.portalTarget) {\n\t\t\tconsole.warn(\"[portal-vue] Target wasn't mounted\");\n\t\t\treturn h();\n\t\t} // if there's no \"manual\" scoped slot, so we create a <Portal> ourselves\n\n\n\t\tif (!this.$scopedSlots.manual) {\n\t\t\tvar props = pick(this.$props, portalProps);\n\t\t\treturn h(Portal, {\n\t\t\t\tprops: props,\n\t\t\t\tattrs: this.$attrs,\n\t\t\t\ton: this.$listeners,\n\t\t\t\tscopedSlots: this.$scopedSlots\n\t\t\t}, this.$slots.default);\n\t\t} // else, we render the scoped slot\n\n\n\t\tvar content = this.$scopedSlots.manual({\n\t\t\tto: this.to\n\t\t}); // if user used <template> for the scoped slot\n\t\t// content will be an array\n\n\t\tif (Array.isArray(content)) {\n\t\t\tcontent = content[0];\n\t\t}\n\n\t\tif (!content) return h();\n\t\treturn content;\n\t}\n});\n\nfunction install(Vue$$1) {\n\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\tVue$$1.component(options.portalName || 'Portal', Portal);\n\tVue$$1.component(options.portalTargetName || 'PortalTarget', PortalTarget);\n\tVue$$1.component(options.MountingPortalName || 'MountingPortal', MountingPortal);\n}\n\nvar PortalVue = {install};\n\nexport { PortalVue, Portal, PortalTarget, MountingPortal, wormhole as Wormhole };"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","i","arr2","length","iter","Object","toString","call","from","TypeError","inBrowser","window","freeze","item","combinePassengers","transports","slotProps","arguments","undefined","reduce","passengers","transport","temp","newPassengers","concat","stableSort","array","compareFn","map","v","idx","sort","a","b","c","pick","keys","acc","key","hasOwnProperty","targets","sources","Wormhole","Vue","extend","data","trackInstances","methods","open","to","_transport$order","order","Infinity","newTransport","indexOf","set","currentIndex","$_getTransportIndex","newTransports","slice","push","close","force","index","splice","registerTarget","target","vm","console","warn","$set","unregisterTarget","$delete","registerSource","source","unregisterSource","hasTarget","hasSource","hasContentFor","_ref","wormhole","_id","Portal","name","props","disabled","type","Boolean","String","default","_default","Number","slim","tag","Math","round","random","created","_this","$nextTick","mounted","sendUpdate","updated","clear","beforeDestroy","watch","newValue","oldValue","closer","normalizeSlots","$scopedSlots","$slots","normalizeOwnChildren","children","slotContent","render","h","Tag","class","style","display","PortalTarget","multiple","required","transition","Function","firstRender","ownTransports","$emit","newVal","oldVal","_this2","computed","noWrapper","_id$1","portalProps","targetProps","MountingPortal","inheritAttrs","append","bail","mountTo","targetSlim","targetSlotProps","targetTag","document","el","querySelector","error","$props","portalTarget","mountEl","createElement","appendChild","_props","parent","$parent","propsData","$el","parentNode","removeChild","$destroy","manual","attrs","$attrs","on","$listeners","scopedSlots","content","install","Vue$$1","options","component","portalName","portalTargetName","MountingPortalName","PortalVue"],"mappings":"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"}