{"version":3,"file":"collab-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_utils","im_v2_component_elements","im_v2_component_list_items_recent","im_v2_application_core","im_v2_lib_rest","im_v2_lib_logger","im_v2_lib_user","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","EmptyState","name","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageDate","_requestItems","_updateModels","_getChatsWithCounters","_getLastMessageDate","_filterPinnedItemsMessages","CollabService","constructor","Object","defineProperty","value","_filterPinnedItemsMessages2","_getLastMessageDate2","_getChatsWithCounters2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","loadFirstPage","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","async","queryParams","data","limit","filter","lastMessageDate","runAction","RestMethod","imV2RecentCollabTail","catch","error","console","Logger","warn","hasNextPage","restResult","users","chats","messages","files","recentItems","chatsWithCounters","usersPromise","UserManager","setUsersToModel","dialoguesPromise","Core","getStore","dispatch","messagesPromise","filesPromise","recentPromise","all","chatMap","forEach","chat","id","recentItem","counter","chatId","values","length","firstMessageDate","date","message","chat_id","find","item","pinned","CollabRecentMenu","RecentMenu","getMenuItems","getUnreadMessageItem","getPinMessageItem","getMuteItem","getOpenItem","text","onclick","LayoutManager","getInstance","setLayout","Layout","collab","entityId","context","dialogId","menuInstance","close","CollabList","components","LoadingState","ListLoadingState","RecentItem","emits","isLoading","isLoadingNextPage","firstPageLoaded","computed","collection","$store","getters","preparedItems","sort","a","b","firstMessage","messageId","secondMessage","pinnedItems","generalItems","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","activated","getRecentService","onScroll","event","Utils","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","List","Lib","Elements","Application","Const"],"sources":["collab-list.bundle.js"],"mappings":"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","ignoreList":[]}