this.BX=this.BX||{};this.BX.Calendar=this.BX.Calendar||{};(function(e,s,a,l,t,i,r,o,b,n){"use strict";function c(e){if(e instanceof i.Menu){e=e.getPopupWindow()}const s=e.bindElement;const a=e.getPopupContainer();let l=null;const r=()=>{setTimeout((()=>{if(!a.contains(l)&&!s.contains(l)){e.close()}}),100)};const o=()=>{setTimeout((()=>{if(s.contains(l)){e.show()}}),300)};const b=()=>{if(!e.isShown()){e.show()}};t.Event.bind(document,"mouseover",(e=>{l=e.target}));t.Event.bind(s,"mouseenter",o);t.Event.bind(s,"mouseleave",r);t.Event.bind(a,"mouseleave",r);t.Event.bind(s,"click",b);let n=e.getPopupContainer().offsetWidth;let c=e.bindElement.offsetWidth;const d=i.Popup.getOption("angleMinBottom");const _=()=>{e.adjustPosition();if(e.angle){e.setAngle({offset:n/2+d})}};e.subscribeFromOptions({onShow:()=>{n=e.getPopupContainer().offsetWidth;c=e.bindElement.offsetWidth;e.setOffset({offsetLeft:c/2-n/2});e.adjustPosition();if(e.angle){e.setAngle({offset:n/2+d})}document.addEventListener("scroll",_,true)},onAfterPopupShow:()=>{const s=e.bindElement.getBoundingClientRect().left+c/2-n/2;if(s<0||s+n>window.innerWidth){return}e.getPopupContainer().style.left=s+"px";if(e.angle){e.angle.element.style.marginLeft=n/2-16+"px"}},onClose:()=>{document.removeEventListener("scroll",_,true)}})}let d=e=>e,_,v,p,h,P;var u=babelHelpers.classPrivateFieldLooseKey("layout");var L=babelHelpers.classPrivateFieldLooseKey("params");var F=babelHelpers.classPrivateFieldLooseKey("members");var H=babelHelpers.classPrivateFieldLooseKey("getMembersTitle");var B=babelHelpers.classPrivateFieldLooseKey("renderAvatarItems");var f=babelHelpers.classPrivateFieldLooseKey("renderMoreAvatar");var m=babelHelpers.classPrivateFieldLooseKey("renderAvatar");var y=babelHelpers.classPrivateFieldLooseKey("renderCollabAvatar");var g=babelHelpers.classPrivateFieldLooseKey("hasAvatar");class E{constructor(e){Object.defineProperty(this,g,{value:C});Object.defineProperty(this,y,{value:w});Object.defineProperty(this,m,{value:D});Object.defineProperty(this,f,{value:N});Object.defineProperty(this,B,{value:O});Object.defineProperty(this,H,{value:T});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,u)[u]={};babelHelpers.classPrivateFieldLooseBase(this,L)[L]=e;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=e.members}render(){if(!t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,F)[F])){return""}babelHelpers.classPrivateFieldLooseBase(this,u)[u].wrap=t.Tag.render(_||(_=d`
			<div class="${0}">
				<div class="${0}">
					${0}
				</div>
				<div class="calendar-pub-line-avatar-container" style="--ui-icon-size: ${0}px">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,L)[L].className,babelHelpers.classPrivateFieldLooseBase(this,L)[L].textClassName,babelHelpers.classPrivateFieldLooseBase(this,H)[H](),babelHelpers.classPrivateFieldLooseBase(this,L)[L].avatarSize,babelHelpers.classPrivateFieldLooseBase(this,B)[B]());const e=i.MenuManager.create({id:`calendar-pub-welcome-more-avatar-popup${Date.now()}`,bindElement:babelHelpers.classPrivateFieldLooseBase(this,u)[u].avatarItems,className:"calendar-pub-users-popup",items:babelHelpers.classPrivateFieldLooseBase(this,F)[F].map((e=>({html:t.Tag.render(v||(v=d`
					<div class="calendar-pub-users-popup-avatar-container">
						${0}
						<div class="calendar-pub-users-popup-avatar-text">
							<span class="calendar-pub-users-popup-avatar-text-name">
								${0}
							</span>
							<span class="calendar-pub-users-popup-avatar-text-you">
								${0}
							</span>
						</div>
					</div>
				`),babelHelpers.classPrivateFieldLooseBase(this,m)[m](e,"calendar-pub-users-popup-avatar"),t.Text.encode(`${e.name} ${e.lastName}`.trim()),e.isOwner?t.Loc.getMessage("CALENDAR_SHARING_MEETING_YOU_LABEL"):"")}))),maxHeight:300,maxWidth:300});c(e);return babelHelpers.classPrivateFieldLooseBase(this,u)[u].wrap}}function T(){switch(true){case babelHelpers.classPrivateFieldLooseBase(this,L)[L].allAttendees:return t.Loc.getMessage("CALENDAR_SHARING_MEETING_ATTENDEES");case babelHelpers.classPrivateFieldLooseBase(this,L)[L].linkContext==="group":return t.Loc.getMessage("CALENDAR_SHARING_MEETING_GROUP_ATTENDEES");default:return t.Loc.getMessage("CALENDAR_SHARING_MEETING_HAS_MORE_USERS")}}function O(){var e;const s=(e=babelHelpers.classPrivateFieldLooseBase(this,L)[L].maxAvatarsCount)!=null?e:4;const a=babelHelpers.classPrivateFieldLooseBase(this,F)[F].length>s;const l=a?s-1:s;const i="calendar-pub-line-avatar";babelHelpers.classPrivateFieldLooseBase(this,u)[u].avatarItems=t.Tag.render(p||(p=d`
			<div class="calendar-pub-line-avatars">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,F)[F].slice(0,l).map((e=>babelHelpers.classPrivateFieldLooseBase(this,m)[m](e,i))),a?babelHelpers.classPrivateFieldLooseBase(this,f)[f]():"");return babelHelpers.classPrivateFieldLooseBase(this,u)[u].avatarItems}function N(){return t.Tag.render(h||(h=d`
			<span class="ui-icon ui-icon-common-user calendar-pub-line-avatar calendar-pub-line-avatar-more-container">
				<div class="ui-icon-set --more calendar-pub-line-avatar-more"></div>
			</span>
		`))}function D(e,s=""){if(e.isCollabUser){return babelHelpers.classPrivateFieldLooseBase(this,y)[y](e)}return t.Tag.render(P||(P=d`
			<span class="ui-icon ui-icon-common-user ${0}">
				<i style="${0}"></i>
			</span>
		`),s,babelHelpers.classPrivateFieldLooseBase(this,g)[g](e)?`background-image: url('${e.avatar}')`:"")}function w(e){return new a.AvatarRoundGuest({size:36,userName:`${e.name} ${e.lastName}`.trim(),userpicPath:e.avatar,baseColor:"#19cc45"}).getContainer()}function C(e){return t.Type.isStringFilled(e.avatar)&&e.avatar!=="/bitrix/images/1.gif"}let A=e=>e,j,K,S,k,I,M,$;var R=babelHelpers.classPrivateFieldLooseKey("owner");var x=babelHelpers.classPrivateFieldLooseKey("link");var z=babelHelpers.classPrivateFieldLooseKey("currentLang");var U=babelHelpers.classPrivateFieldLooseKey("name");var G=babelHelpers.classPrivateFieldLooseKey("lastName");var W=babelHelpers.classPrivateFieldLooseKey("photo");var V=babelHelpers.classPrivateFieldLooseKey("layout");var X=babelHelpers.classPrivateFieldLooseKey("members");var Y=babelHelpers.classPrivateFieldLooseKey("isGroupContext");var Z=babelHelpers.classPrivateFieldLooseKey("handleTimelineNotify");var q=babelHelpers.classPrivateFieldLooseKey("getNodeButton");var Q=babelHelpers.classPrivateFieldLooseKey("getNodeLabel");var J=babelHelpers.classPrivateFieldLooseKey("getNodeInfo");var ee=babelHelpers.classPrivateFieldLooseKey("renderAvatarsSection");var se=babelHelpers.classPrivateFieldLooseKey("renderMainAvatar");class ae{constructor(e){var s;Object.defineProperty(this,se,{value:be});Object.defineProperty(this,ee,{value:oe});Object.defineProperty(this,J,{value:re});Object.defineProperty(this,Q,{value:ie});Object.defineProperty(this,q,{value:te});Object.defineProperty(this,Z,{value:le});Object.defineProperty(this,R,{writable:true,value:void 0});Object.defineProperty(this,x,{writable:true,value:void 0});Object.defineProperty(this,z,{writable:true,value:void 0});Object.defineProperty(this,U,{writable:true,value:void 0});Object.defineProperty(this,G,{writable:true,value:void 0});Object.defineProperty(this,W,{writable:true,value:void 0});Object.defineProperty(this,V,{writable:true,value:void 0});Object.defineProperty(this,X,{writable:true,value:void 0});Object.defineProperty(this,Y,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,R)[R]=e.owner||null;babelHelpers.classPrivateFieldLooseBase(this,x)[x]=e.link||null;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=e.currentLang||null;babelHelpers.classPrivateFieldLooseBase(this,U)[U]=babelHelpers.classPrivateFieldLooseBase(this,R)[R].name||null;babelHelpers.classPrivateFieldLooseBase(this,G)[G]=babelHelpers.classPrivateFieldLooseBase(this,R)[R].lastName||null;babelHelpers.classPrivateFieldLooseBase(this,W)[W]=babelHelpers.classPrivateFieldLooseBase(this,R)[R].photo||null;babelHelpers.classPrivateFieldLooseBase(this,V)[V]={wrapper:null,button:null,label:null};babelHelpers.classPrivateFieldLooseBase(this,X)[X]=e.members;babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=((s=babelHelpers.classPrivateFieldLooseBase(this,x)[x])==null?void 0:s.type)==="group";if(babelHelpers.classPrivateFieldLooseBase(this,x)[x]&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].active===true&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].lastStatus!=="viewed"&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].lastStatus!=="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]("notViewed");babelHelpers.classPrivateFieldLooseBase(this,x)[x].lastStatus="notViewed"}}disableButton(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,V)[V].button,"--disabled")}enableButton(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,V)[V].button,"--disabled")}hideButton(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,V)[V].button,"--hidden")}handleWelcomePageButtonClick(){if(t.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,V)[V].button,"--disabled")){return}if(babelHelpers.classPrivateFieldLooseBase(this,x)[x]&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].type==="crm_deal"&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].active===true&&babelHelpers.classPrivateFieldLooseBase(this,x)[x].lastStatus==="notViewed"){babelHelpers.classPrivateFieldLooseBase(this,Z)[Z]("viewed");babelHelpers.classPrivateFieldLooseBase(this,x)[x].lastStatus="viewed"}this.disableButton();n.EventEmitter.emit("showSlotSelector",this)}setAccessDenied(){babelHelpers.classPrivateFieldLooseBase(this,V)[V].info=babelHelpers.classPrivateFieldLooseBase(this,J)[J](true)}render(){const e=t.Tag.render(j||(j=A`
			<div class="calendar-pub__block --welcome">
				${0}
				<div class="calendar-pub__welcome">
					<div class="calendar-pub__welcome-user">
						<div class="calendar-pub__welcome-userpic ui-icon ui-icon-common-user">
							${0}
						</div>
						<div class="calendar-pub-ui__typography-m" title="${0} ${0}">
							${0} ${0} 
						</div>
					</div>
					<div class="calendar-pub__block-separator"></div>
					${0}
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Q)[Q](),babelHelpers.classPrivateFieldLooseBase(this,se)[se](),babelHelpers.classPrivateFieldLooseBase(this,U)[U]||"",babelHelpers.classPrivateFieldLooseBase(this,G)[G]||"",babelHelpers.classPrivateFieldLooseBase(this,U)[U]||"",babelHelpers.classPrivateFieldLooseBase(this,G)[G]||"",babelHelpers.classPrivateFieldLooseBase(this,J)[J](),babelHelpers.classPrivateFieldLooseBase(this,q)[q]());if(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]){const s=new a.AvatarHexagonGuest({size:64,userName:babelHelpers.classPrivateFieldLooseBase(this,U)[U].toUpperCase(),baseColor:"#19CC45",userpicPath:babelHelpers.classPrivateFieldLooseBase(this,W)[W]});s.renderTo(e.querySelector(".calendar-pub__group-avatar"))}return e}}function le(e){void BX.ajax.runAction("calendar.api.sharingajax.handleTimelineNotify",{data:{linkHash:babelHelpers.classPrivateFieldLooseBase(this,x)[x].hash,entityId:babelHelpers.classPrivateFieldLooseBase(this,x)[x].entityId,entityType:babelHelpers.classPrivateFieldLooseBase(this,x)[x].type,notifyType:e}})}function te(){if(!babelHelpers.classPrivateFieldLooseBase(this,V)[V].button){babelHelpers.classPrivateFieldLooseBase(this,V)[V].button=t.Tag.render(K||(K=A`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,V)[V].button,"click",(()=>{this.handleWelcomePageButtonClick()}));n.EventEmitter.subscribe("hideSlotSelector",this.enableButton.bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,V)[V].button}function ie(){if(!babelHelpers.classPrivateFieldLooseBase(this,V)[V].label){babelHelpers.classPrivateFieldLooseBase(this,V)[V].label=t.Tag.render(S||(S=A`
				<div class="calendar-pub__block-label"></div>
			`));if(babelHelpers.classPrivateFieldLooseBase(this,z)[z]==="ru"){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,V)[V].label,"--ru")}}return babelHelpers.classPrivateFieldLooseBase(this,V)[V].label}function re(e=false){if(!babelHelpers.classPrivateFieldLooseBase(this,V)[V].info){babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoTitle=t.Tag.render(k||(k=A`
				<div class="calendar-pub-ui__typography-title calendar-pub__welcome-info_title"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoSubTitle=t.Tag.render(I||(I=A`
				<div class="calendar-pub-ui__typography-s calendar-pub__welcome-info_subtitle"></div>
			`));babelHelpers.classPrivateFieldLooseBase(this,V)[V].info=t.Tag.render(M||(M=A`
				<div class="calendar-pub__welcome-info">
					${0}
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoTitle,babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoSubTitle,babelHelpers.classPrivateFieldLooseBase(this,ee)[ee](babelHelpers.classPrivateFieldLooseBase(this,X)[X]))}const s=babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]?"CALENDAR_SHARING_GROUP_FREE_SLOTS":"CALENDAR_SHARING_MY_FREE_SLOTS";let a=t.Loc.getMessage(s);const l=babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]?"CALENDAR_SHARING_GROUP_YOU_CAN_CHOOSE_FREE_MEETING_TIME":"CALENDAR_SHARING_YOU_CAN_CHOOSE_FREE_MEETING_TIME";let i=t.Loc.getMessage(l);if(e){a=t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED");i=t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO")}babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoTitle.innerText=a;babelHelpers.classPrivateFieldLooseBase(this,V)[V].infoSubTitle.appendChild(t.Tag.render($||($=A`<span>${0}</span>`),i));return babelHelpers.classPrivateFieldLooseBase(this,V)[V].info}function oe(e){var s;return new E({className:"calendar-pub-welcome-avatar-section-container",textClassName:"calendar-pub-ui__typography-xs-uppercase",avatarSize:36,members:e,linkContext:(s=babelHelpers.classPrivateFieldLooseBase(this,x)[x])==null?void 0:s.type}).render()}function be(){if(babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]){return'<div class="calendar-pub__group-avatar"></div>'}const e=babelHelpers.classPrivateFieldLooseBase(this,W)[W]?`style="background-image: url(${encodeURI(babelHelpers.classPrivateFieldLooseBase(this,W)[W])})"`:"";return`<i ${e}></i>`}let ne=e=>e,ce;var de=babelHelpers.classPrivateFieldLooseKey("layout");var _e=babelHelpers.classPrivateFieldLooseKey("value");var ve=babelHelpers.classPrivateFieldLooseKey("notCurrentMonth");var pe=babelHelpers.classPrivateFieldLooseKey("today");var he=babelHelpers.classPrivateFieldLooseKey("selected");var Pe=babelHelpers.classPrivateFieldLooseKey("weekend");var ue=babelHelpers.classPrivateFieldLooseKey("slots");var Le=babelHelpers.classPrivateFieldLooseKey("enableBooking");var Fe=babelHelpers.classPrivateFieldLooseKey("bindEvents");var He=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class Be{constructor(e){Object.defineProperty(this,He,{value:me});Object.defineProperty(this,Fe,{value:fe});Object.defineProperty(this,de,{writable:true,value:void 0});Object.defineProperty(this,_e,{writable:true,value:void 0});Object.defineProperty(this,ve,{writable:true,value:void 0});Object.defineProperty(this,pe,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:void 0});Object.defineProperty(this,Pe,{writable:true,value:void 0});Object.defineProperty(this,ue,{writable:true,value:void 0});Object.defineProperty(this,Le,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]=e.value||null;babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]=e.notCurrentMonth||null;babelHelpers.classPrivateFieldLooseBase(this,pe)[pe]=e.today||null;babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]=e.slots||null;babelHelpers.classPrivateFieldLooseBase(this,de)[de]={wrapper:null};babelHelpers.classPrivateFieldLooseBase(this,he)[he]=e.selected||null;babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]=e.weekend||null;babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]=e.enableBooking||null;if(babelHelpers.classPrivateFieldLooseBase(this,he)[he]){this.select()}babelHelpers.classPrivateFieldLooseBase(this,Fe)[Fe]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,he)[he]}getDay(){return babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]}isEnableBooking(){return babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]}select(){this.highlight();n.EventEmitter.emit("switchSlots",{slots:babelHelpers.classPrivateFieldLooseBase(this,ue)[ue]})}highlight(){babelHelpers.classPrivateFieldLooseBase(this,he)[he]=true;t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,He)[He](),"--selected");n.EventEmitter.emit("selectDate",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,he)[he]=null;t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,He)[He](),"--selected")}render(){return babelHelpers.classPrivateFieldLooseBase(this,He)[He]()}}function fe(){t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,He)[He](),"click",this.select.bind(this))}function me(){if(!babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper){babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper=t.Tag.render(ce||(ce=ne`
				<div class="calendar-sharing__month-col --day">${0}</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,_e)[_e]);if(babelHelpers.classPrivateFieldLooseBase(this,ve)[ve]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper,"--not-current-month")}if(babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper,"--weekend")}if(babelHelpers.classPrivateFieldLooseBase(this,Le)[Le]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper,"--enable-booking")}}return babelHelpers.classPrivateFieldLooseBase(this,de)[de].wrapper}let ye=e=>e,ge,Ee,Te,Oe,Ne,De,we,Ce,Ae,je,Ke,Se,ke,Ie,Me,$e;var Re=babelHelpers.classPrivateFieldLooseKey("userIds");var xe=babelHelpers.classPrivateFieldLooseKey("accessibility");var ze=babelHelpers.classPrivateFieldLooseKey("layout");var Ue=babelHelpers.classPrivateFieldLooseKey("currentMonth");var Ge=babelHelpers.classPrivateFieldLooseKey("currentYear");var We=babelHelpers.classPrivateFieldLooseKey("nowTime");var Ve=babelHelpers.classPrivateFieldLooseKey("months");var Xe=babelHelpers.classPrivateFieldLooseKey("selectedDay");var Ye=babelHelpers.classPrivateFieldLooseKey("monthsSlotsMap");var Ze=babelHelpers.classPrivateFieldLooseKey("timezoneOffsetUtc");var qe=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var Qe=babelHelpers.classPrivateFieldLooseKey("currentMonthIndex");var Je=babelHelpers.classPrivateFieldLooseKey("currentDayNumber");var es=babelHelpers.classPrivateFieldLooseKey("timezoneList");var ss=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var as=babelHelpers.classPrivateFieldLooseKey("rule");var ls=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var ts=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneNode");var is=babelHelpers.classPrivateFieldLooseKey("config");var rs=babelHelpers.classPrivateFieldLooseKey("loc");var os=babelHelpers.classPrivateFieldLooseKey("timeZonePopup");var bs=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ns=babelHelpers.classPrivateFieldLooseKey("incrementTime");var cs=babelHelpers.classPrivateFieldLooseKey("initConfig");var ds=babelHelpers.classPrivateFieldLooseKey("separate");var _s=babelHelpers.classPrivateFieldLooseKey("initCurrentMonthSlots");var vs=babelHelpers.classPrivateFieldLooseKey("calculateDateTimeSlots");var ps=babelHelpers.classPrivateFieldLooseKey("doIntervalsIntersect");var hs=babelHelpers.classPrivateFieldLooseKey("createMonth");var Ps=babelHelpers.classPrivateFieldLooseKey("reCreateCurrentMonth");var us=babelHelpers.classPrivateFieldLooseKey("createNextMonth");var Ls=babelHelpers.classPrivateFieldLooseKey("getNextMonth");var Fs=babelHelpers.classPrivateFieldLooseKey("getNextYear");var Hs=babelHelpers.classPrivateFieldLooseKey("loadMonthAccessibility");var Bs=babelHelpers.classPrivateFieldLooseKey("getMonthName");var fs=babelHelpers.classPrivateFieldLooseKey("getMonthDays");var ms=babelHelpers.classPrivateFieldLooseKey("getDayToSelect");var ys=babelHelpers.classPrivateFieldLooseKey("isHoliday");var gs=babelHelpers.classPrivateFieldLooseKey("isYearHoliday");var Es=babelHelpers.classPrivateFieldLooseKey("getNodeTimeZone");var Ts=babelHelpers.classPrivateFieldLooseKey("getPopupTimezoneSelect");var Os=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneSelect");var Ns=babelHelpers.classPrivateFieldLooseKey("updateTimezone");var Ds=babelHelpers.classPrivateFieldLooseKey("getFormattedTimezone");var ws=babelHelpers.classPrivateFieldLooseKey("getNodeDaysOfWeek");var Cs=babelHelpers.classPrivateFieldLooseKey("getNodeDay");var As=babelHelpers.classPrivateFieldLooseKey("getNodeMonth");var js=babelHelpers.classPrivateFieldLooseKey("getNodeMonthWrapper");var Ks=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneWrapper");var Ss=babelHelpers.classPrivateFieldLooseKey("getNodeCurrentMonth");var ks=babelHelpers.classPrivateFieldLooseKey("updateCalendar");var Is=babelHelpers.classPrivateFieldLooseKey("getNodePrevNav");var Ms=babelHelpers.classPrivateFieldLooseKey("getNodeNextNav");var $s=babelHelpers.classPrivateFieldLooseKey("getNodeNavigation");var Rs=babelHelpers.classPrivateFieldLooseKey("handleNextMonthArrowClick");var xs=babelHelpers.classPrivateFieldLooseKey("handlePreviousMonthArrowClick");var zs=babelHelpers.classPrivateFieldLooseKey("updateMonth");var Us=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var Gs=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class Ws{constructor(e){Object.defineProperty(this,Gs,{value:Da});Object.defineProperty(this,Us,{value:Na});Object.defineProperty(this,zs,{value:Oa});Object.defineProperty(this,xs,{value:Ta});Object.defineProperty(this,Rs,{value:Ea});Object.defineProperty(this,$s,{value:ga});Object.defineProperty(this,Ms,{value:ya});Object.defineProperty(this,Is,{value:ma});Object.defineProperty(this,ks,{value:fa});Object.defineProperty(this,Ss,{value:Ba});Object.defineProperty(this,Ks,{value:Ha});Object.defineProperty(this,js,{value:Fa});Object.defineProperty(this,As,{value:La});Object.defineProperty(this,Cs,{value:ua});Object.defineProperty(this,ws,{value:Pa});Object.defineProperty(this,Ds,{value:ha});Object.defineProperty(this,Ns,{value:pa});Object.defineProperty(this,Os,{value:va});Object.defineProperty(this,Ts,{value:_a});Object.defineProperty(this,Es,{value:da});Object.defineProperty(this,gs,{value:ca});Object.defineProperty(this,ys,{value:na});Object.defineProperty(this,ms,{value:ba});Object.defineProperty(this,fs,{value:oa});Object.defineProperty(this,Bs,{value:ra});Object.defineProperty(this,Hs,{value:ia});Object.defineProperty(this,Fs,{value:ta});Object.defineProperty(this,Ls,{value:la});Object.defineProperty(this,us,{value:aa});Object.defineProperty(this,Ps,{value:sa});Object.defineProperty(this,hs,{value:ea});Object.defineProperty(this,ps,{value:Js});Object.defineProperty(this,vs,{value:Qs});Object.defineProperty(this,_s,{value:qs});Object.defineProperty(this,ds,{value:Zs});Object.defineProperty(this,cs,{value:Ys});Object.defineProperty(this,ns,{value:Xs});Object.defineProperty(this,bs,{value:Vs});Object.defineProperty(this,Re,{writable:true,value:void 0});Object.defineProperty(this,xe,{writable:true,value:void 0});Object.defineProperty(this,ze,{writable:true,value:void 0});Object.defineProperty(this,Ue,{writable:true,value:void 0});Object.defineProperty(this,Ge,{writable:true,value:void 0});Object.defineProperty(this,We,{writable:true,value:void 0});Object.defineProperty(this,Ve,{writable:true,value:void 0});Object.defineProperty(this,Xe,{writable:true,value:void 0});Object.defineProperty(this,Ye,{writable:true,value:void 0});Object.defineProperty(this,Ze,{writable:true,value:void 0});Object.defineProperty(this,qe,{writable:true,value:void 0});Object.defineProperty(this,Qe,{writable:true,value:void 0});Object.defineProperty(this,Je,{writable:true,value:void 0});Object.defineProperty(this,es,{writable:true,value:void 0});Object.defineProperty(this,ss,{writable:true,value:void 0});Object.defineProperty(this,as,{writable:true,value:void 0});Object.defineProperty(this,ls,{writable:true,value:void 0});Object.defineProperty(this,ts,{writable:true,value:void 0});Object.defineProperty(this,is,{writable:true,value:void 0});Object.defineProperty(this,rs,{writable:true,value:void 0});Object.defineProperty(this,os,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ze)[ze]={wrapper:null,monthWrapper:null,timezoneWrapper:null,month:null,currentMonth:null,prevNav:null,nextNav:null,daysOfWeek:null,navigation:null,back:null};babelHelpers.classPrivateFieldLooseBase(this,Re)[Re]=e.userIds;babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]=e.accessibility;babelHelpers.classPrivateFieldLooseBase(this,es)[es]=e.timezoneList;babelHelpers.classPrivateFieldLooseBase(this,ss)[ss]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,as)[as]=e.rule;babelHelpers.classPrivateFieldLooseBase(this,We)[We]=new Date;babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]=0;babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=1;babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue]=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getMonth();babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge]=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getFullYear();babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve]=[];babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye]=[];babelHelpers.classPrivateFieldLooseBase(this,is)[is]={slotSize:babelHelpers.classPrivateFieldLooseBase(this,as)[as].slotSize,freeTime:{},stepSize:30,weekHolidays:[6,0],weekStart:1};babelHelpers.classPrivateFieldLooseBase(this,rs)[rs]={weekdays:l.Util.getWeekdaysLoc()};babelHelpers.classPrivateFieldLooseBase(this,os)[os]=null;babelHelpers.classPrivateFieldLooseBase(this,cs)[cs]();babelHelpers.classPrivateFieldLooseBase(this,_s)[_s]();babelHelpers.classPrivateFieldLooseBase(this,bs)[bs]();const s=babelHelpers.classPrivateFieldLooseBase(this,Fs)[Fs]();const a=babelHelpers.classPrivateFieldLooseBase(this,Ls)[Ls]();babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs](s,a,false);setInterval(babelHelpers.classPrivateFieldLooseBase(this,ns)[ns].bind(this),15e3)}async updateEventSlotsList(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]];const s=e.year;const a=e.month+1;await babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs](s,a);babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]()}selectFirstAvailableDay(){let e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].days;if(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]===0){const s=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getDate();e=e.filter((e=>e.getDay()>=s)).slice(0,14)}let s=e.find((e=>e.isEnableBooking()));if(s===undefined){s=e[0]}s.select()}selectMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,ms)[ms]();babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=e.day;e.select()}highlightMonthDay(){const e=babelHelpers.classPrivateFieldLooseBase(this,ms)[ms]();babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=e.day;e.highlight()}getSelectedTimezoneId(){return babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]}getTimezonePrefix(e){const s=e*1e3-babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze]*-6e4;const a=new Date(babelHelpers.classPrivateFieldLooseBase(this,We)[We].getTime()+s);return r.DateTimeFormat.format(l.Util.getTimeFormatShort(),a.getTime()/1e3)}render(){return babelHelpers.classPrivateFieldLooseBase(this,Gs)[Gs]()}}function Vs(){n.EventEmitter.subscribe("selectDate",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe]=s;babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]=babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe].getDay()}));n.EventEmitter.subscribe("onSaveEvent",(async e=>{if(e.data.state==="created"||e.data.state==="not-created"){await this.updateEventSlotsList();this.highlightMonthDay()}}));n.EventEmitter.subscribe("onDeleteEvent",(async()=>{await this.updateEventSlotsList()}));n.EventEmitter.subscribe("onCreateAnotherEventButtonClick",(()=>{this.selectFirstAvailableDay()}))}function Xs(){babelHelpers.classPrivateFieldLooseBase(this,We)[We]=new Date;const e=babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]();t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks]());t.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks]())}function Ys(){if(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].weekHolidays){babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekHolidays=babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].weekHolidays.map((e=>l.Util.getIndByWeekDay(e)))}if(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].yearHolidays){babelHelpers.classPrivateFieldLooseBase(this,is)[is].yearHolidays=babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].yearHolidays}if(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].weekStart){babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekStart=l.Util.getIndByWeekDay(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].weekStart);babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].weekdays.push(...babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].weekdays.splice(0,babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekStart))}for(const a of babelHelpers.classPrivateFieldLooseBase(this,as)[as].ranges){for(const l of a.weekdays){var e,s;(s=(e=babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime)[l])!=null?s:e[l]=[];babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[l].push({from:parseInt(a.from,10),to:parseInt(a.to,10)});const[t,i]=babelHelpers.classPrivateFieldLooseBase(this,ds)[ds]((e=>babelHelpers.classPrivateFieldLooseBase(this,ps)[ps](e.from,e.to,parseInt(a.from,10),parseInt(a.to,10))),babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[l]);if(t.length>0){const e=Math.min(...t.map((e=>e.from)));const s=Math.max(...t.map((e=>e.to)));babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[l]=[...i,{from:e,to:s}]}}}const a=l.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]);const t=parseInt(babelHelpers.classPrivateFieldLooseBase(this,ss)[ss].serverOffset,10);const i=t+a;for(const e in babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime){babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[e]=babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[e].map((e=>({from:e.from-i,to:e.to-i})))}if(!babelHelpers.classPrivateFieldLooseBase(this,es)[es][babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]]){babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]="UTC"}}function Zs(e,s){return s.reduce((([s,a],l)=>e(l)?[[...s,l],a]:[s,[...a,l]]),[[],[]])}function qs(){babelHelpers.classPrivateFieldLooseBase(this,vs)[vs](babelHelpers.classPrivateFieldLooseBase(this,We)[We].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,We)[We].getMonth());const e=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs](babelHelpers.classPrivateFieldLooseBase(this,We)[We].getFullYear(),babelHelpers.classPrivateFieldLooseBase(this,We)[We].getMonth());babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].push(e)}function Qs(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const i=`${s+1}.${e}`;const r=babelHelpers.classPrivateFieldLooseBase(this,We)[We].getTime();const o=(babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]-babelHelpers.classPrivateFieldLooseBase(this,Ze)[Ze])*-60*1e3;for(let n=1;n<=l;n++){const l=new Date(e,s,n);if(babelHelpers.classPrivateFieldLooseBase(this,gs)[gs](l)){continue}const c=babelHelpers.classPrivateFieldLooseBase(this,is)[is].freeTime[l.getDay()];if(t.Type.isUndefined(c)){continue}for(const l of c){const t=new Date(e,s,n,Math.floor(l.from/60),l.from%60);const c=new Date(e,s,n,Math.floor(l.to/60),l.to%60);const d=babelHelpers.classPrivateFieldLooseBase(this,xe)[xe][i].filter((e=>{const s=!e.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,ps)[ps](BX.parseDate(e.from,s).getTime(),BX.parseDate(e.to,s).getTime(),t.getTime(),c.getTime())}));while(t.getTime()<c.getTime()){const e=t.getTime();const l=e+babelHelpers.classPrivateFieldLooseBase(this,is)[is].slotSize*60*1e3;if(l>c.getTime()){break}const i=d.filter((s=>{const a=!s.isFullDay;return babelHelpers.classPrivateFieldLooseBase(this,ps)[ps](BX.parseDate(s.from,a).getTime(),BX.parseDate(s.to,a).getTime(),e,l)}));const n=i.length===0&&e>r;if(n){var b;const t=new Date(e+o);const i=new Date(t.getTime()+(l-e));const r=t.getDate();(b=a[r])!=null?b:a[r]=[];if(t.getMonth()===s){a[r].push({timeFrom:t,timeTo:i})}}t.setTime(t.getTime()+babelHelpers.classPrivateFieldLooseBase(this,is)[is].stepSize*60*1e3)}}}babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye][i]=a}function Js(e,s,a,l){const t=a<=e&&e<l;const i=a<s&&s<=l;const r=e<=a&&s>=l;return t||i||r}function ea(e,s){return{year:e,month:s,currentTimezoneOffset:babelHelpers.classPrivateFieldLooseBase(this,qe)[qe],name:babelHelpers.classPrivateFieldLooseBase(this,Bs)[Bs](s),days:babelHelpers.classPrivateFieldLooseBase(this,fs)[fs](e,s)}}function sa(){babelHelpers.classPrivateFieldLooseBase(this,zs)[zs](babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]);babelHelpers.classPrivateFieldLooseBase(this,ks)[ks]()}async function aa(){this.nextMonthCreating=true;const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]];const s=e.year;const a=e.month;const l=(a+1)%12;const t=s+Math.floor((a+1)/12);const i=l+1;await babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs](t,i);babelHelpers.classPrivateFieldLooseBase(this,vs)[vs](t,l);const r=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs](t,l);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].push(r);this.nextMonthCreating=false}function la(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]];const s=e.month;const a=(s+1)%12;return a+1}function ta(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]];const s=e.year;const a=e.month;return s+Math.floor((a+1)/12)}async function ia(e,s,a=true){const l=`${s}.${e}`;const t=new Date(e,s-1,1);const i=new Date(e,s,0,23,59);if(!babelHelpers.classPrivateFieldLooseBase(this,xe)[xe][l]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getUsersAccessibility",{data:{userIds:babelHelpers.classPrivateFieldLooseBase(this,Re)[Re],timestampFrom:t.getTime(),timestampTo:i.getTime()}});babelHelpers.classPrivateFieldLooseBase(this,xe)[xe][l]=e.data}if(a===false){return}const r=s%12;const o=e+Math.floor(s/12);const b=r+1;babelHelpers.classPrivateFieldLooseBase(this,Hs)[Hs](o,b,false)}function ra(e){const s=new Date(babelHelpers.classPrivateFieldLooseBase(this,We)[We].getFullYear(),e,1);return r.DateTimeFormat.format("f",s.getTime()/1e3)}function oa(e,s){const a=[];const l=new Date(e,s+1,0).getDate();const t=`${s+1}.${e}`;for(let r=1;r<=l;r++){var i;const l=new Date(e,s,r);const o=(i=babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye][t][l.getDate()])!=null?i:[];const b={value:r,slots:o,weekend:babelHelpers.classPrivateFieldLooseBase(this,ys)[ys](l),enableBooking:o.length>0};const n=new Be(b);a.push(n)}return a}function ba(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].days;let s=e.find((e=>e.getDay()===babelHelpers.classPrivateFieldLooseBase(this,Je)[Je]));if(s===undefined){s=e[e.length-1]}return s}function na(e){const s=`0${e.getMonth()+1}`.slice(-2);const a=`${e.getDate()}.${s}`;return babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekHolidays.includes(e.getDay())||babelHelpers.classPrivateFieldLooseBase(this,is)[is].yearHolidays[a]!==undefined}function ca(e){const s=e.getDate()+"."+("0"+(e.getMonth()+1)).slice(-2);return babelHelpers.classPrivateFieldLooseBase(this,is)[is].yearHolidays[s]!==undefined}function da(){babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]=t.Tag.render(ge||(ge=ye`
			<div class="calendar-sharing__timezone-value">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds](babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]));const e=t.Tag.render(Ee||(Ee=ye`
			<div class="calendar-sharing__timezone">
				${0}
				<div class="calendar-sharing__timezone-area">
					<div class="calendar-sharing__timezone-title">${0}:</div>
					${0}
				</div>
			</div>
		`),t.Browser.isMobile()?babelHelpers.classPrivateFieldLooseBase(this,Os)[Os]():"",t.Loc.getMessage("CALENDAR_SHARING_YOR_TIME"),babelHelpers.classPrivateFieldLooseBase(this,ts)[ts]);babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]();if(!t.Browser.isMobile()){t.Event.bind(e,"click",(()=>{const s=babelHelpers.classPrivateFieldLooseBase(this,Ts)[Ts]().getPopupWindow();s.show();const a=s.getContentContainer();const l=a.querySelector(".menu-popup-item.--selected");const t=e.getBoundingClientRect().top+e.offsetHeight/4-a.getBoundingClientRect().top;a.scrollTop=l.offsetTop-t}))}return e}function _a(){var e,s;if((e=babelHelpers.classPrivateFieldLooseBase(this,os)[os])!=null&&e.getPopupWindow().isShown()){return babelHelpers.classPrivateFieldLooseBase(this,os)[os]}(s=babelHelpers.classPrivateFieldLooseBase(this,os)[os])==null?void 0:s.destroy();const a=Object.keys(babelHelpers.classPrivateFieldLooseBase(this,es)[es]).map((e=>({text:babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds](e),className:e===babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]?"menu-popup-no-icon --selected":"menu-popup-no-icon",onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns](e);babelHelpers.classPrivateFieldLooseBase(this,os)[os].close()}})));babelHelpers.classPrivateFieldLooseBase(this,os)[os]=i.MenuManager.create({id:"momomiomsiomx92984j",className:"calendar-sharing-timezone-select-popup",items:a,autoHide:true,maxHeight:window.innerHeight-150});return babelHelpers.classPrivateFieldLooseBase(this,os)[os]}function va(){const e=t.Tag.render(Te||(Te=ye`
			<select class="calendar-sharing__timezone-select">
				${0}
			</select>
		`),Object.keys(babelHelpers.classPrivateFieldLooseBase(this,es)[es]).map((e=>t.Tag.render(Oe||(Oe=ye`
					<option value="${0}" ${0}>
						${0}
					</option>
				`),e,e===babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]?"selected":"",babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds](e)))));t.Event.bind(e,"change",(()=>babelHelpers.classPrivateFieldLooseBase(this,Ns)[Ns](e.value)));return e}function pa(e){babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]=e;babelHelpers.classPrivateFieldLooseBase(this,qe)[qe]=-(babelHelpers.classPrivateFieldLooseBase(this,es)[es][babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]].offset/60);n.EventEmitter.emit("updateTimezone",{timezone:e});babelHelpers.classPrivateFieldLooseBase(this,ts)[ts].innerHTML=babelHelpers.classPrivateFieldLooseBase(this,Ds)[Ds](babelHelpers.classPrivateFieldLooseBase(this,ls)[ls]);babelHelpers.classPrivateFieldLooseBase(this,Ps)[Ps]();this.selectMonthDay()}function ha(e){return`${this.getTimezonePrefix(babelHelpers.classPrivateFieldLooseBase(this,es)[es][e].offset)} - ${e}`}function Pa(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].daysOfWeek){const e=babelHelpers.classPrivateFieldLooseBase(this,rs)[rs].weekdays.map((e=>t.Tag.render(Ne||(Ne=ye`
					<div class="calendar-sharing__month-col --day-of-week">${0}</div>
				`),e)));babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].daysOfWeek=t.Tag.render(De||(De=ye`
				<div class="calendar-sharing__month-row">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].daysOfWeek}function ua(e={}){var s;e.selected=((s=babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe])==null?void 0:s.getDay())===e.value&&e.currentMonth===true;const a=new Be(e);return a.render()}function La(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]];const s=e.year;const a=e.month;const l=(new Date(s,a,7).getDay()-(babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekStart-1)+7)%7;const i=new Date(s,a+1,0).getDate();const r=a===0?new Date(s-1,11,0).getDate():new Date(s,a,0).getDate();const o=t.Tag.render(we||(we=ye`<div class="calendar-sharing__month-row"></div>`));let b=r-l+1;for(let e=0;e<l;e++){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]({value:b,notCurrentMonth:true}),o);b++}for(let s=0;s<=i-1;s++){const a=e.days[s];t.Dom.append(a.render(),o)}let n=(new Date(s,a,i).getDay()-babelHelpers.classPrivateFieldLooseBase(this,is)[is].weekStart+7)%7;for(b=1;n<6;n++){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Cs)[Cs]({value:b,notCurrentMonth:true}),o);b++}const c=t.Tag.render(Ce||(Ce=ye`
			<div class="calendar-sharing__month">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,ws)[ws](),o);const d={x:null};const _=e=>{d.x=e.changedTouches[0].clientX};t.Event.bind(c,"touchstart",(e=>{_(e)}));t.Event.bind(c,"touchend",(e=>{if(d.x<e.changedTouches[0].clientX-100){babelHelpers.classPrivateFieldLooseBase(this,xs)[xs]()}if(d.x>e.changedTouches[0].clientX+100){babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs]()}c.style.removeProperty("transform")}));t.Event.bind(c,"touchmove",(e=>{e.preventDefault()}));return c}function Fa(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].monthWrapper){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].monthWrapper=t.Tag.render(Ae||(Ae=ye`
				<div class="calendar-sharing__calendar-block --month">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,As)[As]())}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].monthWrapper}function Ha(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].timezoneWrapper){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].timezoneWrapper=t.Tag.render(je||(je=ye`
				<div class="calendar-sharing__calendar-block">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Es)[Es]())}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].timezoneWrapper}function Ba(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].currentMonth){const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].year;babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].currentMonth=t.Tag.render(Ke||(Ke=ye`
				<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">${0}, ${0}</div>
			`),e,s);n.EventEmitter.subscribe(this,"updateCalendar",(()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].name;const s=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]].year;babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].currentMonth.innerHTML=`${e}, ${s}`}))}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].currentMonth}function fa(e){t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,js)[js]());const s=babelHelpers.classPrivateFieldLooseBase(this,As)[As]();if(t.Type.isString(e)){t.Dom.addClass(s,`--animate-${e}`);t.Event.bind(s,"animationend",(()=>{t.Dom.removeClass(s,`--animate-${e}`)}),{once:true})}t.Dom.append(s,babelHelpers.classPrivateFieldLooseBase(this,js)[js]());n.EventEmitter.emit(this,"updateCalendar");if(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]===0){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav,"--disabled")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav,"--disabled")}}function ma(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav=t.Tag.render(Se||(Se=ye`
				<div class="calendar-sharing__calendar-nav_prev --disabled" title="${0}"></div>
			`),t.Loc.getMessage("CALENDAR_SHARING_NAV_PREV"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav,"click",babelHelpers.classPrivateFieldLooseBase(this,xs)[xs].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].prevNav}function ya(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].nextNav){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].nextNav=t.Tag.render(ke||(ke=ye`
				<div class="calendar-sharing__calendar-nav_next" title="${0}"></div>
			`),t.Loc.getMessage("CALENDAR_SHARING_NAV_NEXT"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].nextNav,"click",babelHelpers.classPrivateFieldLooseBase(this,Rs)[Rs].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].nextNav}function ga(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].navigation){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].navigation=t.Tag.render(Ie||(Ie=ye`
				<div class="calendar-sharing__calendar-nav">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Is)[Is](),babelHelpers.classPrivateFieldLooseBase(this,Ms)[Ms]())}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].navigation}async function Ea(){if(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]===babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve].length-1){if(this.nextMonthCreating){return}await babelHelpers.classPrivateFieldLooseBase(this,us)[us]()}babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]+=1;babelHelpers.classPrivateFieldLooseBase(this,zs)[zs](babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]);n.EventEmitter.emit(this,"clickNextMonth");babelHelpers.classPrivateFieldLooseBase(this,ks)[ks]("next");this.selectMonthDay()}function Ta(){if(babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]===0){return}babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]-=1;babelHelpers.classPrivateFieldLooseBase(this,zs)[zs](babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]);n.EventEmitter.emit(this,"clickPrevMonth");babelHelpers.classPrivateFieldLooseBase(this,ks)[ks]("prev");this.selectMonthDay()}function Oa(e){const s=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][e].year;const a=babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][e].month;babelHelpers.classPrivateFieldLooseBase(this,vs)[vs](s,a);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve][babelHelpers.classPrivateFieldLooseBase(this,Qe)[Qe]]=babelHelpers.classPrivateFieldLooseBase(this,hs)[hs](s,a)}function Na(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].back){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].back=t.Tag.render(Me||(Me=ye`
				<div class="calendar-sharing__calendar-back"></div>
			`));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].back,"click",(()=>{n.EventEmitter.emit("hideSlotSelector",this)}))}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].back}function Da(){if(!babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].wrapper){babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].wrapper=t.Tag.render($e||($e=ye`
				<div class="calendar-sharing__calendar">
					<div class="calendar-sharing__calendar-bar">
						${0}
						${0}
						${0}
					</div>
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Us)[Us](),babelHelpers.classPrivateFieldLooseBase(this,Ss)[Ss](),babelHelpers.classPrivateFieldLooseBase(this,$s)[$s](),babelHelpers.classPrivateFieldLooseBase(this,js)[js](),babelHelpers.classPrivateFieldLooseBase(this,Ks)[Ks]())}return babelHelpers.classPrivateFieldLooseBase(this,ze)[ze].wrapper}let wa=e=>e,Ca,Aa;var ja=babelHelpers.classPrivateFieldLooseKey("wrapNode");var Ka=babelHelpers.classPrivateFieldLooseKey("isHiddenOnStart");var Sa=babelHelpers.classPrivateFieldLooseKey("getWrapNode");var ka=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Ia=babelHelpers.classPrivateFieldLooseKey("hide");var Ma=babelHelpers.classPrivateFieldLooseKey("show");class $a{constructor(e){Object.defineProperty(this,Ma,{value:Ua});Object.defineProperty(this,Ia,{value:za});Object.defineProperty(this,ka,{value:xa});Object.defineProperty(this,Sa,{value:Ra});Object.defineProperty(this,ja,{writable:true,value:void 0});Object.defineProperty(this,Ka,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ja)[ja]=null;babelHelpers.classPrivateFieldLooseBase(this,Ka)[Ka]=e.isHiddenOnStart;babelHelpers.classPrivateFieldLooseBase(this,ka)[ka]()}getContent(){return t.Tag.render(Ca||(Ca=wa`
			<div></div>
		`))}getType(){return"base"}render(){t.Dom.append(this.getContent(),babelHelpers.classPrivateFieldLooseBase(this,Sa)[Sa]());return babelHelpers.classPrivateFieldLooseBase(this,ja)[ja]}}function Ra(){if(!babelHelpers.classPrivateFieldLooseBase(this,ja)[ja]){babelHelpers.classPrivateFieldLooseBase(this,ja)[ja]=t.Tag.render(Aa||(Aa=wa`<div class="calendar-pub__slots-wrap"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,Ka)[Ka]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ja)[ja],"--hidden")}}return babelHelpers.classPrivateFieldLooseBase(this,ja)[ja]}function xa(){n.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data===this.getType()){babelHelpers.classPrivateFieldLooseBase(this,Ma)[Ma]()}else{babelHelpers.classPrivateFieldLooseBase(this,Ia)[Ia]()}}))}function za(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ja)[ja],"--hidden")}function Ua(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ja)[ja],"--hidden")}let Ga=e=>e,Wa,Va,Xa,Ya,Za,qa,Qa,Ja,el,sl,al,ll,tl;var il=babelHelpers.classPrivateFieldLooseKey("props");var rl=babelHelpers.classPrivateFieldLooseKey("layout");var ol=babelHelpers.classPrivateFieldLooseKey("value");var bl=babelHelpers.classPrivateFieldLooseKey("members");var nl=babelHelpers.classPrivateFieldLooseKey("formatDate");var cl=babelHelpers.classPrivateFieldLooseKey("formatWeekDay");var dl=babelHelpers.classPrivateFieldLooseKey("formatWeekDate");var _l=babelHelpers.classPrivateFieldLooseKey("formatDateTime");var vl=babelHelpers.classPrivateFieldLooseKey("formatTimeInterval");var pl=babelHelpers.classPrivateFieldLooseKey("formatTime");var hl=babelHelpers.classPrivateFieldLooseKey("formatMonthName");var Pl=babelHelpers.classPrivateFieldLooseKey("formatCalendarDay");var ul=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageMonth");var Ll=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageDay");var Fl=babelHelpers.classPrivateFieldLooseKey("getNodeCalendarPageTimeFrom");var Hl=babelHelpers.classPrivateFieldLooseKey("getNodeDayInfo");var Bl=babelHelpers.classPrivateFieldLooseKey("renderTime");var fl=babelHelpers.classPrivateFieldLooseKey("getNodeTimeInterval");var ml=babelHelpers.classPrivateFieldLooseKey("renderRrule");var yl=babelHelpers.classPrivateFieldLooseKey("getNodeTimezone");var gl=babelHelpers.classPrivateFieldLooseKey("renderAvatarsSection");var El=babelHelpers.classPrivateFieldLooseKey("renderTimezoneNotice");var Tl=babelHelpers.classPrivateFieldLooseKey("getTimezoneNoticeText");var Ol=babelHelpers.classPrivateFieldLooseKey("getBrowserTimezoneOffset");class Nl{constructor(e={}){Object.defineProperty(this,Ol,{value:Yl});Object.defineProperty(this,Tl,{value:Xl});Object.defineProperty(this,El,{value:Vl});Object.defineProperty(this,gl,{value:Wl});Object.defineProperty(this,yl,{value:Gl});Object.defineProperty(this,ml,{value:Ul});Object.defineProperty(this,fl,{value:zl});Object.defineProperty(this,Bl,{value:xl});Object.defineProperty(this,Hl,{value:Rl});Object.defineProperty(this,Fl,{value:$l});Object.defineProperty(this,Ll,{value:Ml});Object.defineProperty(this,ul,{value:Il});Object.defineProperty(this,Pl,{value:kl});Object.defineProperty(this,hl,{value:Sl});Object.defineProperty(this,pl,{value:Kl});Object.defineProperty(this,vl,{value:jl});Object.defineProperty(this,_l,{value:Al});Object.defineProperty(this,dl,{value:Cl});Object.defineProperty(this,cl,{value:wl});Object.defineProperty(this,nl,{value:Dl});Object.defineProperty(this,il,{writable:true,value:void 0});Object.defineProperty(this,rl,{writable:true,value:void 0});Object.defineProperty(this,ol,{writable:true,value:void 0});Object.defineProperty(this,bl,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,il)[il]=e;babelHelpers.classPrivateFieldLooseBase(this,rl)[rl]={calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,avatarsSection:null,timezoneNotice:null};babelHelpers.classPrivateFieldLooseBase(this,ol)[ol]={from:null,to:null,timezone:null,isFullDay:false,rruleDescription:""}}updateValue(e,s){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].isFullDay=e.isFullDay}if(e.members){babelHelpers.classPrivateFieldLooseBase(this,bl)[bl]=e.members}if(e.rruleDescription){babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].rruleDescription=e.rruleDescription}babelHelpers.classPrivateFieldLooseBase(this,il)[il].linkContext=s;this.updateLayout()}updateLayout(){var e;const s=(e=babelHelpers.classPrivateFieldLooseBase(this,il)[il].browserTimezone)!=null?e:babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].timezone;let a=babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]()*60;const i=babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].from.getTime()/1e3+a;const o=babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].to.getTime()/1e3+a;const b=babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].isFullDay;const n=babelHelpers.classPrivateFieldLooseBase(this,hl)[hl](i);const c=babelHelpers.classPrivateFieldLooseBase(this,Pl)[Pl](i);const d=r.DateTimeFormat.format("j F Y",i)===r.DateTimeFormat.format("j F Y",o);let _,v,p,h;if(b){_=babelHelpers.classPrivateFieldLooseBase(this,cl)[cl](i);v=`${babelHelpers.classPrivateFieldLooseBase(this,nl)[nl](i)} - ${babelHelpers.classPrivateFieldLooseBase(this,nl)[nl](o)}`;p=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_FULL_DAY");h="";if(d){v=babelHelpers.classPrivateFieldLooseBase(this,dl)[dl](i,"")}}else{_=babelHelpers.classPrivateFieldLooseBase(this,pl)[pl](i);v=babelHelpers.classPrivateFieldLooseBase(this,dl)[dl](i);p=babelHelpers.classPrivateFieldLooseBase(this,vl)[vl](i,o);h=l.Util.getFormattedTimezone(s);if(!d){v=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_EVENT_START",{"#DATE#":babelHelpers.classPrivateFieldLooseBase(this,_l)[_l](i)});p=t.Loc.getMessage("CALENDAR_SHARING_WIDGET_DATE_EVENT_END",{"#DATE#":babelHelpers.classPrivateFieldLooseBase(this,_l)[_l](o)})}}babelHelpers.classPrivateFieldLooseBase(this,ul)[ul]().innerText=n;babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll]().innerText=c;babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl]().innerText=_;babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl]().innerText=v;babelHelpers.classPrivateFieldLooseBase(this,fl)[fl]().innerText=p;babelHelpers.classPrivateFieldLooseBase(this,yl)[yl]().innerText=h;babelHelpers.classPrivateFieldLooseBase(this,yl)[yl]().title=h;babelHelpers.classPrivateFieldLooseBase(this,gl)[gl]()}render(){return t.Tag.render(Wa||(Wa=Ga`
			<div class="calendar-pub__form-date ${0}">
				<div class="calendar-pub__form-date-main">
					<div class="calendar-pub__form-date-day">
						${0}
						<div class="calendar-pub__form-date-content">
							${0}
							${0}
						</div>
					</div>
					<div class="calendar-pub__form-date-info">
						${0}
						${0}
						${0}
						${0}
					</div>
				</div>
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,il)[il].filled?"--filled":"",babelHelpers.classPrivateFieldLooseBase(this,ul)[ul](),babelHelpers.classPrivateFieldLooseBase(this,Ll)[Ll](),babelHelpers.classPrivateFieldLooseBase(this,Fl)[Fl](),babelHelpers.classPrivateFieldLooseBase(this,Hl)[Hl](),babelHelpers.classPrivateFieldLooseBase(this,Bl)[Bl](),babelHelpers.classPrivateFieldLooseBase(this,yl)[yl](),babelHelpers.classPrivateFieldLooseBase(this,gl)[gl](),babelHelpers.classPrivateFieldLooseBase(this,El)[El]())}}function Dl(e){const s=r.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");return r.DateTimeFormat.format(s,e)}function wl(e){return r.DateTimeFormat.format("D",e)}function Cl(e){const s=r.DateTimeFormat.getFormat("DAY_OF_WEEK_MONTH_FORMAT");return r.DateTimeFormat.format(s,e)}function Al(e){const s=r.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");const a=r.DateTimeFormat.getFormat("SHORT_TIME_FORMAT");const l=`${s} ${a}`;return r.DateTimeFormat.format(l,e)}function jl(e,s){return`${babelHelpers.classPrivateFieldLooseBase(this,pl)[pl](e)} - ${babelHelpers.classPrivateFieldLooseBase(this,pl)[pl](s)}`}function Kl(e){const s=r.DateTimeFormat.getFormat("SHORT_TIME_FORMAT");return r.DateTimeFormat.format(s,e)}function Sl(e){return r.DateTimeFormat.format("f",e)}function kl(e){return r.DateTimeFormat.format("d",e)}function Il(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.month){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.month=t.Tag.render(Va||(Va=Ga`
				<div class="calendar-pub__form-date-day_month"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.month}function Ml(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.day){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.day=t.Tag.render(Xa||(Xa=Ga`
				<div class="calendar-pub__form-date-day_num"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.day}function $l(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.timeFrom){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.timeFrom=t.Tag.render(Ya||(Ya=Ga`
				<div class="calendar-pub__form-date-day_time">13:00</div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].calendarPage.timeFrom}function Rl(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].dayInfo){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].dayInfo=t.Tag.render(Za||(Za=Ga`
				<div class="calendar-pub__form-date-info_day"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].dayInfo}function xl(){return t.Tag.render(qa||(qa=Ga`
			<div class="calendar-pub__form-date-info_time-container">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,fl)[fl](),babelHelpers.classPrivateFieldLooseBase(this,ml)[ml]())}function zl(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timeInterval){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timeInterval=t.Tag.render(Qa||(Qa=Ga`
				<div class="calendar-pub__form-date-info_time"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timeInterval}function Ul(){if(!t.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].rruleDescription)){return""}if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].rrule){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].rrule=t.Tag.render(Ja||(Ja=Ga`
				<div class="calendar-pub__form-date-rrule ui-icon-set --refresh-7"></div>
			`));const e=new i.Popup({bindElement:babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].rrule,content:babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].rruleDescription,darkMode:true,bindOptions:{position:"top"},offsetTop:-10,angle:true,autoHide:true});c(e)}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].rrule}function Gl(){if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezone){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezone=t.Tag.render(el||(el=Ga`
				<div class="calendar-pub__form-date-info_time-zone"></div>
			`))}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezone}function Wl(){if(babelHelpers.classPrivateFieldLooseBase(this,il)[il].allAttendees){return""}const e=new E({className:"calendar-pub__form-date-members",textClassName:"calendar-pub-ui__typography-xs",avatarSize:30,members:babelHelpers.classPrivateFieldLooseBase(this,bl)[bl],allAttendees:babelHelpers.classPrivateFieldLooseBase(this,il)[il].allAttendees,linkContext:babelHelpers.classPrivateFieldLooseBase(this,il)[il].linkContext}).render();if(!babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].avatarsSection){babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].avatarsSection=t.Tag.render(sl||(sl=Ga`
				<div>${0}</div>
			`),e)}else{babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].avatarsSection.innerHTML="";babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].avatarsSection.append(e)}return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].avatarsSection}function Vl(){const e=babelHelpers.classPrivateFieldLooseBase(this,Ol)[Ol]();if(Nl.timezoneNoticeUnderstood||e===0){return""}const s=t.Tag.render(al||(al=Ga`
			<div class="calendar-pub__link-button">
				${0}
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_UNDERSTAND"));t.Event.bind(s,"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezoneNotice.remove();Nl.timezoneNoticeUnderstood=true}));const a=t.Tag.render(ll||(ll=Ga`
			<div class="calendar-pub-timezone-notice-offset">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Tl)[Tl](e));const r=new i.Popup({bindElement:a,content:l.Util.getFormattedTimezone(babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].timezone),darkMode:true,bindOptions:{position:"top"},offsetTop:-10,angle:true,autoHide:true});c(r);babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezoneNotice=t.Tag.render(tl||(tl=Ga`
			<div class="calendar-pub__event-timezone-notice calendar-pub-ui__typography-sm">
				<div>
					${0}
				</div>
				<div class="calendar-pub__event-timezone-notice-bottom">
					${0}
					${0}
				</div>
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_EVENT_TIMEZONE_NOTICE"),a,s);return babelHelpers.classPrivateFieldLooseBase(this,rl)[rl].timezoneNotice}function Xl(e){const s=e<0?"+":"-";return t.Loc.getMessage("CALENDAR_SHARING_EVENT_TIMEZONE_NOTICE_OFFSET",{"#OFFSET#":`${s}${l.Util.formatDuration(Math.abs(e))}`})}function Yl(){if(!t.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,il)[il].browserTimezone)||!t.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].timezone)){return 0}const e=l.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,il)[il].browserTimezone);const s=l.Util.getTimeZoneOffset(babelHelpers.classPrivateFieldLooseBase(this,ol)[ol].timezone);return s-e}Nl.timezoneNoticeUnderstood=false;let Zl=e=>e,ql,Ql,Jl,et,st,at,lt,tt;var it=babelHelpers.classPrivateFieldLooseKey("layout");var rt=babelHelpers.classPrivateFieldLooseKey("value");var ot=babelHelpers.classPrivateFieldLooseKey("widgetDate");var bt=babelHelpers.classPrivateFieldLooseKey("owner");var nt=babelHelpers.classPrivateFieldLooseKey("link");var ct=babelHelpers.classPrivateFieldLooseKey("sharingUser");var dt=babelHelpers.classPrivateFieldLooseKey("phoneDb");var _t=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var vt=babelHelpers.classPrivateFieldLooseKey("hasContactData");var pt=babelHelpers.classPrivateFieldLooseKey("isPhoneFeatureEnabled");var ht=babelHelpers.classPrivateFieldLooseKey("isMailFeatureEnabled");var Pt=babelHelpers.classPrivateFieldLooseKey("inputData");var ut=babelHelpers.classPrivateFieldLooseKey("inputErrors");var Lt=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var Ft=babelHelpers.classPrivateFieldLooseKey("getEventName");var Ht=babelHelpers.classPrivateFieldLooseKey("getNodeButtonSend");var Bt=babelHelpers.classPrivateFieldLooseKey("handleSaveButtonClick");var ft=babelHelpers.classPrivateFieldLooseKey("saveEvent");var mt=babelHelpers.classPrivateFieldLooseKey("parseDate");var yt=babelHelpers.classPrivateFieldLooseKey("validateData");var gt=babelHelpers.classPrivateFieldLooseKey("validatePhone");var Et=babelHelpers.classPrivateFieldLooseKey("validateEmail");var Tt=babelHelpers.classPrivateFieldLooseKey("clearContactDataError");var Ot=babelHelpers.classPrivateFieldLooseKey("clearContactNameError");var Nt=babelHelpers.classPrivateFieldLooseKey("showFullContactPlaceholder");var Dt=babelHelpers.classPrivateFieldLooseKey("isMailContactOnly");var wt=babelHelpers.classPrivateFieldLooseKey("isPhoneContactOnly");var Ct=babelHelpers.classPrivateFieldLooseKey("isCrmAndHasContact");var At=babelHelpers.classPrivateFieldLooseKey("getNodeWidgetDate");var jt=babelHelpers.classPrivateFieldLooseKey("getNodeFormArea");var Kt=babelHelpers.classPrivateFieldLooseKey("getContactDataPlaceholder");var St=babelHelpers.classPrivateFieldLooseKey("getNodeInputName");var kt=babelHelpers.classPrivateFieldLooseKey("getNodeInputContact");var It=babelHelpers.classPrivateFieldLooseKey("getNodeInputDescription");var Mt=babelHelpers.classPrivateFieldLooseKey("getNodeInputError");var $t=babelHelpers.classPrivateFieldLooseKey("renderInputErrors");var Rt=babelHelpers.classPrivateFieldLooseKey("getNodeBack");var xt=babelHelpers.classPrivateFieldLooseKey("onPhoneInput");var zt=babelHelpers.classPrivateFieldLooseKey("getTextBeforeCursor");var Ut=babelHelpers.classPrivateFieldLooseKey("setCursorToFormattedPosition");var Gt=babelHelpers.classPrivateFieldLooseKey("getTextEscapedForRegex");var Wt=babelHelpers.classPrivateFieldLooseKey("onPhoneInputKeyDown");var Vt=babelHelpers.classPrivateFieldLooseKey("isPhoneTypeInput");var Xt=babelHelpers.classPrivateFieldLooseKey("isDigit");var Yt=babelHelpers.classPrivateFieldLooseKey("isControlKey");var Zt=babelHelpers.classPrivateFieldLooseKey("formatPhone");var qt=babelHelpers.classPrivateFieldLooseKey("findMask");var Qt=babelHelpers.classPrivateFieldLooseKey("getLinkOwnerId");class Jt extends $a{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Qt,{value:ji});Object.defineProperty(this,qt,{value:Ai});Object.defineProperty(this,Zt,{value:Ci});Object.defineProperty(this,Yt,{value:wi});Object.defineProperty(this,Xt,{value:Di});Object.defineProperty(this,Vt,{value:Ni});Object.defineProperty(this,Wt,{value:Oi});Object.defineProperty(this,Gt,{value:Ti});Object.defineProperty(this,Ut,{value:Ei});Object.defineProperty(this,zt,{value:gi});Object.defineProperty(this,xt,{value:yi});Object.defineProperty(this,Rt,{value:mi});Object.defineProperty(this,$t,{value:fi});Object.defineProperty(this,Mt,{value:Bi});Object.defineProperty(this,It,{value:Hi});Object.defineProperty(this,kt,{value:Fi});Object.defineProperty(this,St,{value:Li});Object.defineProperty(this,Kt,{value:ui});Object.defineProperty(this,jt,{value:Pi});Object.defineProperty(this,At,{value:hi});Object.defineProperty(this,Ct,{value:pi});Object.defineProperty(this,wt,{value:vi});Object.defineProperty(this,Dt,{value:_i});Object.defineProperty(this,Nt,{value:di});Object.defineProperty(this,Ot,{value:ci});Object.defineProperty(this,Tt,{value:ni});Object.defineProperty(this,Et,{value:bi});Object.defineProperty(this,gt,{value:oi});Object.defineProperty(this,yt,{value:ri});Object.defineProperty(this,mt,{value:ii});Object.defineProperty(this,ft,{value:ti});Object.defineProperty(this,Bt,{value:li});Object.defineProperty(this,Ht,{value:ai});Object.defineProperty(this,Ft,{value:si});Object.defineProperty(this,Lt,{value:ei});Object.defineProperty(this,it,{writable:true,value:void 0});Object.defineProperty(this,rt,{writable:true,value:void 0});Object.defineProperty(this,ot,{writable:true,value:void 0});Object.defineProperty(this,bt,{writable:true,value:void 0});Object.defineProperty(this,nt,{writable:true,value:void 0});Object.defineProperty(this,ct,{writable:true,value:void 0});Object.defineProperty(this,dt,{writable:true,value:void 0});Object.defineProperty(this,_t,{writable:true,value:void 0});Object.defineProperty(this,vt,{writable:true,value:void 0});Object.defineProperty(this,pt,{writable:true,value:void 0});Object.defineProperty(this,ht,{writable:true,value:void 0});Object.defineProperty(this,Pt,{writable:true,value:void 0});Object.defineProperty(this,ut,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,bt)[bt]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,nt)[nt]=e.link;babelHelpers.classPrivateFieldLooseBase(this,ot)[ot]=new Nl;babelHelpers.classPrivateFieldLooseBase(this,ct)[ct]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]=e.isFromCrm;babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]=e.isPhoneFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]=e.isMailFeatureEnabled;babelHelpers.classPrivateFieldLooseBase(this,it)[it]={wrapper:null,buttonSend:null,widgetDate:null,formArea:null,back:null,calendarPage:{month:null,day:null,timeFrom:null},dayInfo:null,timeInterval:null,timezone:null,inputs:{name:null,contact:null,description:null}};babelHelpers.classPrivateFieldLooseBase(this,rt)[rt]={from:null,to:null,timezone:null,isFullDay:false,members:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].members};babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt]={authorName:"",contactData:"",description:""};babelHelpers.classPrivateFieldLooseBase(this,ut)[ut]={authorNameEmpty:false,contactDataEmpty:false,contactDataIncorrect:false};babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]=null}cleanDescription(){babelHelpers.classPrivateFieldLooseBase(this,It)[It]().value=null;babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].description=""}getType(){return"form"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Lt)[Lt]()}updateFormValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].isFullDay=e.isFullDay}this.updateFormLayout()}updateFormLayout(){var e;babelHelpers.classPrivateFieldLooseBase(this,ot)[ot].updateValue(babelHelpers.classPrivateFieldLooseBase(this,rt)[rt],(e=babelHelpers.classPrivateFieldLooseBase(this,nt)[nt])==null?void 0:e.type)}clearInputErrors(){babelHelpers.classPrivateFieldLooseBase(this,Ot)[Ot]();babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt]()}}function ei(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].wrapper){babelHelpers.classPrivateFieldLooseBase(this,it)[it].wrapper=t.Tag.render(ql||(ql=Zl`
				<div class="calendar-pub__form">
					<div class="calendar-sharing__calendar-bar">
						${0}
						<div class="calendar-sharing__calendar-title-day calendar-pub-ui__typography-title">
							${0}
						</div>
					</div>
					<div class="calendar-sharing__calendar-block">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Rt)[Rt](),babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](),babelHelpers.classPrivateFieldLooseBase(this,At)[At](),babelHelpers.classPrivateFieldLooseBase(this,jt)[jt]())}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].wrapper}function si(){return t.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":`${babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].name} ${babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].lastName}`})}function ai(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend){babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend=t.Tag.render(Ql||(Ql=Zl`
				<div class="calendar-pub-ui__btn">
					<div class="calendar-pub-ui__btn-text">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_CREATE_MEETING"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,Bt)[Bt]()))}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend}async function li(){if(t.Dom.hasClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend,"--wait")){return}t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend,"--wait");this.clearInputErrors();if(!babelHelpers.classPrivateFieldLooseBase(this,yt)[yt]()){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend,"--wait");return}const e=await babelHelpers.classPrivateFieldLooseBase(this,ft)[ft]();if(e){n.EventEmitter.emit("selectorTypeChange","event",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](),from:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from,to:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone})}t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].buttonSend,"--wait")}async function ti(){var e,s,a,l;let t=null;try{if(babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]){t=await BX.ajax.runAction("calendar.api.sharingajax.saveCrmEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].id,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,mt)[mt](babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,mt)[mt](babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to),userName:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData,timezone:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone,crmDealLinkHash:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].description}})}else{t=await BX.ajax.runAction("calendar.api.sharingajax.saveEvent",{data:{ownerCreated:babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].ownerCreated,ownerId:babelHelpers.classPrivateFieldLooseBase(this,Qt)[Qt](),userName:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName,userContact:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData,dateFrom:babelHelpers.classPrivateFieldLooseBase(this,mt)[mt](babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from),dateTo:babelHelpers.classPrivateFieldLooseBase(this,mt)[mt](babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to),timezone:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone,parentLinkHash:babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].hash,description:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].description}})}}catch(e){t=e}if(t.errors.length===0){n.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](),from:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from,to:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone,eventId:t.data.eventId,eventLinkId:t.data.eventLinkId,eventLinkHash:t.data.eventLinkHash,eventLinkShortUrl:t.data.eventLinkShortUrl,userName:babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName,state:"created",isView:false});return true}if((e=t)!=null&&(s=e.data)!=null&&s.contactDataError||(a=t)!=null&&(l=a.data)!=null&&l.isEmptyContactName){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataIncorrect=t.data.contactDataError===true;babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].authorNameEmpty=t.data.isEmptyContactName===true;babelHelpers.classPrivateFieldLooseBase(this,$t)[$t]();return false}n.EventEmitter.emit("onSaveEvent",{eventName:babelHelpers.classPrivateFieldLooseBase(this,Ft)[Ft](),from:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].from,to:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,rt)[rt].timezone,state:"not-created",isView:false});return false}function ii(e){const s=r.DateTimeFormat.format(l.Util.getDateFormat(),e.getTime()/1e3);const a=r.DateTimeFormat.format(l.Util.getTimeFormat(),e.getTime()/1e3);return`${s} ${a}`}function ri(){if(babelHelpers.classPrivateFieldLooseBase(this,Ct)[Ct]()){return true}if(babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName.length===0){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].authorNameEmpty=true}if(babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData.length===0){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataEmpty=true}if(!babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataEmpty){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataIncorrect=!babelHelpers.classPrivateFieldLooseBase(this,gt)[gt]()&&!babelHelpers.classPrivateFieldLooseBase(this,Et)[Et]()}babelHelpers.classPrivateFieldLooseBase(this,$t)[$t]();return!babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].authorNameEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataEmpty&&!babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataIncorrect}function oi(){if(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData.replace(/[()\s\-]+/g,"");const s=e.match(/(^\+?\d{4,25}$)/i);return(s==null?void 0:s[0])===e}function bi(){if(babelHelpers.classPrivateFieldLooseBase(this,wt)[wt]()){return false}const e=babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData.match(/(^[^@]+@.+$)/i);return(e==null?void 0:e[0])===babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData}function ni(){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataIncorrect=false;babelHelpers.classPrivateFieldLooseBase(this,$t)[$t]()}function ci(){babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].authorNameEmpty=false;babelHelpers.classPrivateFieldLooseBase(this,$t)[$t]()}function di(){return!babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]()&&!babelHelpers.classPrivateFieldLooseBase(this,wt)[wt]()}function _i(){return!babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]&&babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]}function vi(){return babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]&&!babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]}function pi(){return babelHelpers.classPrivateFieldLooseBase(this,_t)[_t]&&babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]}function hi(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].widgetDate){babelHelpers.classPrivateFieldLooseBase(this,it)[it].widgetDate=babelHelpers.classPrivateFieldLooseBase(this,ot)[ot].render()}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].widgetDate}function Pi(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].formArea){babelHelpers.classPrivateFieldLooseBase(this,it)[it].nameInputError=babelHelpers.classPrivateFieldLooseBase(this,Mt)[Mt]();babelHelpers.classPrivateFieldLooseBase(this,it)[it].contactInputError=babelHelpers.classPrivateFieldLooseBase(this,Mt)[Mt]();babelHelpers.classPrivateFieldLooseBase(this,it)[it].formArea=t.Tag.render(Jl||(Jl=Zl`
				<div class="calendar-sharing__calendar-block --form">
					<div class="calendar-sharing__form-area">
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}<span>*</span></div>
							${0}
						</div>
						<div class="calendar-sharing__form-input">
							${0}
							<div class="calendar-sharing__form-input-title">${0}</div>
						</div>
					</div>
					<div class="calendar-pub__welcome-bottom">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,St)[St](),t.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_NAME"),babelHelpers.classPrivateFieldLooseBase(this,it)[it].nameInputError,babelHelpers.classPrivateFieldLooseBase(this,kt)[kt](),babelHelpers.classPrivateFieldLooseBase(this,Kt)[Kt](),babelHelpers.classPrivateFieldLooseBase(this,it)[it].contactInputError,babelHelpers.classPrivateFieldLooseBase(this,It)[It](),t.Loc.getMessage("CALENDAR_SHARING_FORM_INPUT_INFO"),babelHelpers.classPrivateFieldLooseBase(this,Ht)[Ht]())}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].formArea}function ui(){let e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_ENABLED";if(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_PHONE_FEATURE_DISABLED"}if(babelHelpers.classPrivateFieldLooseBase(this,wt)[wt]()){e="CALENDAR_SHARING_AUTHOR_CONTACT_DATA_PLACEHOLDER_MAIL_FEATURE_DISABLED"}return t.Loc.getMessage(e)}function Li(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name){var e;babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name=t.Tag.render(et||(et=Zl`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name,"--hidden")}else if((e=babelHelpers.classPrivateFieldLooseBase(this,ct)[ct])!=null&&e.userName){var s;babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name.value=(s=babelHelpers.classPrivateFieldLooseBase(this,ct)[ct])==null?void 0:s.userName}babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].authorName=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name.value}));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name,"focus",babelHelpers.classPrivateFieldLooseBase(this,Ot)[Ot].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name}function Fi(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact){babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact=t.Tag.render(st||(st=Zl`
				<input type="text" placeholder=" " class="calendar-sharing__form-input-area">
			`));if(babelHelpers.classPrivateFieldLooseBase(this,Dt)[Dt]()){babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.inputMode="email"}if(babelHelpers.classPrivateFieldLooseBase(this,wt)[wt]()){babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.inputMode="tel"}if(babelHelpers.classPrivateFieldLooseBase(this,vt)[vt]){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact,"--hidden")}else if(babelHelpers.classPrivateFieldLooseBase(this,ct)[ct]){if(babelHelpers.classPrivateFieldLooseBase(this,ht)[ht]&&babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].personalMailbox){var e;babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.value=(e=babelHelpers.classPrivateFieldLooseBase(this,ct)[ct])==null?void 0:e.personalMailbox}else if(babelHelpers.classPrivateFieldLooseBase(this,pt)[pt]&&babelHelpers.classPrivateFieldLooseBase(this,ct)[ct].personalPhone){var s;babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.value=(s=babelHelpers.classPrivateFieldLooseBase(this,ct)[ct])==null?void 0:s.personalPhone}}babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact,"input",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.value;babelHelpers.classPrivateFieldLooseBase(this,xt)[xt](e)}));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact,"keydown",babelHelpers.classPrivateFieldLooseBase(this,Wt)[Wt].bind(this));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact,"focus",babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt].bind(this))}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact}function Hi(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description){babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description=t.Tag.render(at||(at=Zl`
				<textarea type="text" placeholder=" " class="calendar-sharing__form-input-area --textarea"></textarea>
			`));babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].description=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description.value;t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description,"input",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].description=babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description.value}))}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.description}function Bi(){return t.Tag.render(lt||(lt=Zl`
			<span class="calendar-sharing__form-input-error"></span>
		`))}function fi(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name.parentNode,"--error");t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.parentNode,"--error");if(babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].authorNameEmpty){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.name.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,it)[it].nameInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataEmpty){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,it)[it].contactInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_REQUIRED")}if(babelHelpers.classPrivateFieldLooseBase(this,ut)[ut].contactDataIncorrect){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.parentNode,"--error");babelHelpers.classPrivateFieldLooseBase(this,it)[it].contactInputError.innerText=t.Loc.getMessage("CALENDAR_SHARING_INPUT_ERROR_INCORRECT")}}function mi(){if(!babelHelpers.classPrivateFieldLooseBase(this,it)[it].back){babelHelpers.classPrivateFieldLooseBase(this,it)[it].back=t.Tag.render(tt||(tt=Zl`
				<div class="calendar-sharing__calendar-back"></div>
			`));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,it)[it].back,"click",(()=>{n.EventEmitter.emit("selectorTypeChange","slot-list")}))}return babelHelpers.classPrivateFieldLooseBase(this,it)[it].back}function yi(){babelHelpers.classPrivateFieldLooseBase(this,Tt)[Tt]();if(!babelHelpers.classPrivateFieldLooseBase(this,Vt)[Vt]()){return}const e=babelHelpers.classPrivateFieldLooseBase(this,zt)[zt](babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact);babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData=babelHelpers.classPrivateFieldLooseBase(this,Zt)[Zt](babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData);babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact.value=babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData;babelHelpers.classPrivateFieldLooseBase(this,Ut)[Ut](babelHelpers.classPrivateFieldLooseBase(this,it)[it].inputs.contact,e)}function gi(e){const s=e.selectionStart;return e.value.slice(0,s)}function Ei(e,s){const a=babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt](s.slice(0,-1));const l=babelHelpers.classPrivateFieldLooseBase(this,Gt)[Gt](s.slice(-1));const t=e.value.match(`${a}.*?${l}`);if(!t){return}const i=t[0];const r=e.value.indexOf(i)+i.length;e.setSelectionRange(r,r)}function Ti(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Oi(e){if(!babelHelpers.classPrivateFieldLooseBase(this,Vt)[Vt]()){return}if(!babelHelpers.classPrivateFieldLooseBase(this,Xt)[Xt](e.key)&&!babelHelpers.classPrivateFieldLooseBase(this,Yt)[Yt](e.key)&&!l.Util.isAnyModifierKeyPressed(e)){e.preventDefault()}}function Ni(){return babelHelpers.classPrivateFieldLooseBase(this,wt)[wt]()||babelHelpers.classPrivateFieldLooseBase(this,Nt)[Nt]()&&babelHelpers.classPrivateFieldLooseBase(this,Pt)[Pt].contactData.slice(0,1)==="+"}function Di(e){return/^\d+$/.test(e)}function wi(e){return["Esc","Delete","Backspace","Tab"].indexOf(e)>=0||e.includes("Arrow")}function Ci(e){var s;(s=e)!=null?s:e="";const a=e.indexOf("+")===0;e=e.replace(/\D/g,"");if(!a&&e.substr(0,1)==="8"){e=`7${e.substr(1)}`}if(!babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]){babelHelpers.classPrivateFieldLooseBase(this,dt)[dt]="247,ac,___-____|376,ad,___-___-___|971,ae,___-_-___-____|93,af,__-__-___-____|1268,ag,_ (___) ___-____|1264,ai,_ (___) ___-____|355,al,___ (___) ___-___|374,am,___-__-___-___|599,bq,___-___-____|244,ao,___ (___) ___-___|6721,aq,___-___-___|54,ar,__ (___) ___-____|1684,as,_ (___) ___-____|43,at,__ (___) ___-____|61,au,__-_-____-____|297,aw,___-___-____|994,az,___ (__) ___-__-__|387,ba,___-__-____|1246,bb,_ (___) ___-____|880,bd,___-__-___-___|32,be,__ (___) ___-___|226,bf,___-__-__-____|359,bg,___ (___) ___-___|973,bh,___-____-____|257,bi,___-__-__-____|229,bj,___-__-__-____|1441,bm,_ (___) ___-____|673,bn,___-___-____|591,bo,___-_-___-____|55,br,__-(__)-____-____|1242,bs,_ (___) ___-____|975,bt,___-_-___-___|267,bw,___-__-___-___|375,by,___ (__) ___-__-__|501,bz,___-___-____|243,cd,___ (___) ___-___|236,cf,___-__-__-____|242,cg,___-__-___-____|41,ch,__-__-___-____|225,ci,___-__-___-___|682,ck,___-__-___|56,cl,__-_-____-____|237,cm,___-____-____|86,cn,__ (___) ____-___|57,co,__ (___) ___-____|506,cr,___-____-____|53,cu,__-_-___-____|238,cv,___ (___) __-__|357,cy,___-__-___-___|420,cz,___ (___) ___-___|49,de,__-___-___|253,dj,___-__-__-__-__|45,dk,__-__-__-__-__|1767,dm,_ (___) ___-____|1809,do,_ (___) ___-____|,do,_ (___) ___-____|213,dz,___-__-___-____|593,ec,___-_-___-____|372,ee,___-___-____|20,eg,__ (___) ___-____|291,er,___-_-___-___|34,es,__ (___) ___-___|251,et,___-__-___-____|358,fi,___ (___) ___-__-__|679,fj,___-__-_____|500,fk,___-_____|691,fm,___-___-____|298,fo,___-___-___|262,fr,___-_____-____|33,fr,__ (___) ___-___|508,fr,___-__-____|590,fr,___ (___) ___-___|241,ga,___-_-__-__-__|1473,gd,_ (___) ___-____|995,ge,___ (___) ___-___|594,gf,___-_____-____|233,gh,___ (___) ___-___|350,gi,___-___-_____|299,gl,___-__-__-__|220,gm,___ (___) __-__|224,gn,___-__-___-___|240,gq,___-__-___-____|30,gr,__ (___) ___-____|502,gt,___-_-___-____|1671,gu,_ (___) ___-____|245,gw,___-_-______|592,gy,___-___-____|852,hk,___-____-____|504,hn,___-____-____|385,hr,___-__-___-___|509,ht,___-__-__-____|36,hu,__ (___) ___-___|62,id,__-__-___-__|353,ie,___ (___) ___-___|972,il,___-_-___-____|91,in,__ (____) ___-___|246,io,___-___-____|964,iq,___ (___) ___-____|98,ir,__ (___) ___-____|354,is,___-___-____|39,it,__ (___) ____-___|1876,jm,_ (___) ___-____|962,jo,___-_-____-____|81,jp,__ (___) ___-___|254,ke,___-___-______|996,kg,___ (___) ___-___|855,kh,___ (__) ___-___|686,ki,___-__-___|269,km,___-__-_____|1869,kn,_ (___) ___-____|850,kp,___-___-___|82,kr,__-__-___-____|965,kw,___-____-____|1345,ky,_ (___) ___-____|77,kz,_ (___) ___-__-__|856,la,___-__-___-___|961,lb,___-_-___-___|1758,lc,_ (___) ___-____|423,li,___ (___) ___-____|94,lk,__-__-___-____|231,lr,___-__-___-___|266,ls,___-_-___-____|370,lt,___ (___) __-___|352,lu,___ (___) ___-___|371,lv,___-__-___-___|218,ly,___-__-___-___|212,ma,___-__-____-___|377,mc,___-__-___-___|373,md,___-____-____|382,me,___-__-___-___|261,mg,___-__-__-_____|692,mh,___-___-____|389,mk,___-__-___-___|223,ml,___-__-__-____|95,mm,__-___-___|976,mn,___-__-__-____|853,mo,___-____-____|1670,mp,_ (___) ___-____|596,mq,___ (___) __-__-__|222,mr,___ (__) __-____|1664,ms,_ (___) ___-____|356,mt,___-____-____|230,mu,___-___-____|960,mv,___-___-____|265,mw,___-_-____-____|52,mx,__-__-__-____|60,my,__-_-___-___|258,mz,___-__-___-___|264,na,___-__-___-____|687,nc,___-__-____|227,ne,___-__-__-____|6723,nf,___-___-___|234,ng,___-__-___-__|505,ni,___-____-____|31,nl,__-__-___-____|47,no,__ (___) __-___|977,np,___-__-___-___|674,nr,___-___-____|683,nu,___-____|64,nz,__-__-___-___|968,om,___-__-___-___|507,pa,___-___-____|51,pe,__ (___) ___-___|689,pf,___-__-__-__|675,pg,___ (___) __-___|63,ph,__ (___) ___-____|92,pk,__ (___) ___-____|48,pl,__ (___) ___-___|970,ps,___-__-___-____|351,pt,___-__-___-____|680,pw,___-___-____|595,py,___ (___) ___-___|974,qa,___-____-____|40,ro,__-__-___-____|381,rs,___-__-___-____|7,ru,_ (___) ___-__-__|250,rw,___ (___) ___-___|966,sa,___-_-___-____|677,sb,___-_____|248,sc,___-_-___-___|249,sd,___-__-___-____|46,se,__-__-___-____|65,sg,__-____-____|386,si,___-__-___-___|421,sk,___ (___) ___-___|232,sl,___-__-______|378,sm,___-____-______|221,sn,___-__-___-____|252,so,___-_-___-___|597,sr,___-___-___|211,ss,___-__-___-____|239,st,___-__-_____|503,sv,___-__-__-____|1721,sx,_ (___) ___-____|963,sy,___-__-____-___|268,sz,___ (__) __-____|1649,tc,_ (___) ___-____|235,td,___-__-__-__-__|228,tg,___-__-___-___|66,th,__-__-___-___|992,tj,___-__-___-____|690,tk,___-____|670,tl,___-___-____|993,tm,___-_-___-____|216,tn,___-__-___-___|676,to,___-_____|90,tr,__ (___) ___-____|1868,tt,_ (___) ___-____|688,tv,___-_____|886,tw,___-____-____|255,tz,___-__-___-____|380,ua,___ (__) ___-__-__|256,ug,___ (___) ___-___|44,gb,__-__-____-____|598,uy,___-_-___-__-__|998,uz,___-__-___-____|396698,va,__-_-___-_____|1784,vc,_ (___) ___-____|58,ve,__ (___) ___-____|1284,vg,_ (___) ___-____|1340,vi,_ (___) ___-____|84,vn,__-__-____-___|678,vu,___-_____|681,wf,___-__-____|685,ws,___-__-____|967,ye,___-_-___-___|27,za,__-__-___-____|260,zm,___ (__) ___-____|263,zw,___-_-______|1,us,_ (___) ___-____|".split("|").map((e=>{e=e.split(",");return{code:e[0],id:e[1],mask:e[2]}}))}if(e.length>0){let s=babelHelpers.classPrivateFieldLooseBase(this,qt)[qt](e);s+=`${s.indexOf("-")>=0?"-":" "}__`.repeat(10);for(let a=0;a<e.length;a++){s=s.replace("_",e.slice(a,a+1))}e=s.replace(/\D+$/,"").replace(/_/g,"0")}if(a||e.length>0){e=`+${e}`}return e}function Ai(e){const s=babelHelpers.classPrivateFieldLooseBase(this,dt)[dt].filter((s=>e.indexOf(s.code)===0)).sort(((e,s)=>s.code.length-e.code.length))[0];return s?s.mask:"_ ___ __ __ __"}function ji(){return babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].type==="group"?babelHelpers.classPrivateFieldLooseBase(this,nt)[nt].hostId:babelHelpers.classPrivateFieldLooseBase(this,bt)[bt].id}let Ki=e=>e,Si;var ki=babelHelpers.classPrivateFieldLooseKey("layout");var Ii=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Mi=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class $i extends $a{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Mi,{value:xi});Object.defineProperty(this,Ii,{value:Ri});Object.defineProperty(this,ki,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,ki)[ki]={content:null};babelHelpers.classPrivateFieldLooseBase(this,Ii)[Ii]()}getType(){return"empty-state"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Mi)[Mi]()}}function Ri(){}function xi(){if(!babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].content){babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].content=t.Tag.render(Si||(Si=Ki`
				<div class="calendar-pub__slots-empty">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY"),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_EMPTY_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,ki)[ki].content}let zi=e=>e,Ui;var Gi=babelHelpers.classPrivateFieldLooseKey("layout");var Wi=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Vi=babelHelpers.classPrivateFieldLooseKey("getNodeEmptyState");class Xi extends $a{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Vi,{value:Zi});Object.defineProperty(this,Wi,{value:Yi});Object.defineProperty(this,Gi,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi]={content:null};babelHelpers.classPrivateFieldLooseBase(this,Wi)[Wi]()}getType(){return"access-denied"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Vi)[Vi]()}}function Yi(){}function Zi(){if(!babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi].content){babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi].content=t.Tag.render(Ui||(Ui=zi`
				<div class="calendar-pub__slots-empty --icon-cross">
					<div class="calendar-pub__slots-empty_title">${0}</div>
					<div class="calendar-pub__slots-empty_info">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED"),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_ACCESS_DENIED_INFO"))}return babelHelpers.classPrivateFieldLooseBase(this,Gi)[Gi].content}let qi=e=>e,Qi,Ji,er;var sr=babelHelpers.classPrivateFieldLooseKey("layout");var ar=babelHelpers.classPrivateFieldLooseKey("selected");var lr=babelHelpers.classPrivateFieldLooseKey("value");var tr=babelHelpers.classPrivateFieldLooseKey("bindEvents");var ir=babelHelpers.classPrivateFieldLooseKey("getNodeSelect");var rr=babelHelpers.classPrivateFieldLooseKey("getNodeValue");var or=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");class br{constructor(e){Object.defineProperty(this,or,{value:_r});Object.defineProperty(this,rr,{value:dr});Object.defineProperty(this,ir,{value:cr});Object.defineProperty(this,tr,{value:nr});Object.defineProperty(this,sr,{writable:true,value:void 0});Object.defineProperty(this,ar,{writable:true,value:void 0});Object.defineProperty(this,lr,{writable:true,value:void 0});this.BUTTON_MAX_WIDTH=123;babelHelpers.classPrivateFieldLooseBase(this,ar)[ar]=null;babelHelpers.classPrivateFieldLooseBase(this,sr)[sr]={wrapper:null,value:null,select:null};babelHelpers.classPrivateFieldLooseBase(this,lr)[lr]=e.value;babelHelpers.classPrivateFieldLooseBase(this,tr)[tr]()}isSelected(){return babelHelpers.classPrivateFieldLooseBase(this,ar)[ar]}select(){babelHelpers.classPrivateFieldLooseBase(this,ar)[ar]=true;t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,or)[or](),"--selected");n.EventEmitter.emit("selectSlot",this)}unSelect(){babelHelpers.classPrivateFieldLooseBase(this,ar)[ar]=null;t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,or)[or](),"--selected")}showForm(){n.EventEmitter.emit("confirmedSelectSlot",{value:babelHelpers.classPrivateFieldLooseBase(this,lr)[lr]})}render(){return babelHelpers.classPrivateFieldLooseBase(this,or)[or]()}}function nr(){t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,or)[or](),"click",this.select.bind(this));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,ir)[ir](),"click",this.showForm.bind(this))}function cr(){if(!babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select){babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select=t.Tag.render(Qi||(Qi=qi`
				<div class="calendar-sharing__slot-select">${0}</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SELECT_SLOT"));document.body.append(babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select);if(babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select.offsetWidth>this.BUTTON_MAX_WIDTH){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select,"--compact")}babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select.remove()}return babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].select}function dr(){if(!babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].value){let e=l.Util.formatTimeInterval(babelHelpers.classPrivateFieldLooseBase(this,lr)[lr].from,babelHelpers.classPrivateFieldLooseBase(this,lr)[lr].to);e=e.replace(/(am|pm)/g,'<span class="calendar-sharing-am-pm">$1</span>');babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].value=t.Tag.render(Ji||(Ji=qi`
				<div class="calendar-sharing__slot-value">${0}</div>
			`),e)}return babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].value}function _r(){if(!babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].wrapper){babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].wrapper=t.Tag.render(er||(er=qi`
				<div class="calendar-sharing__slot-item">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,rr)[rr](),babelHelpers.classPrivateFieldLooseBase(this,ir)[ir]())}return babelHelpers.classPrivateFieldLooseBase(this,sr)[sr].wrapper}let vr=e=>e,pr,hr,Pr,ur,Lr,Fr,Hr;var Br=babelHelpers.classPrivateFieldLooseKey("layout");var fr=babelHelpers.classPrivateFieldLooseKey("slots");var mr=babelHelpers.classPrivateFieldLooseKey("selectedSlot");var yr=babelHelpers.classPrivateFieldLooseKey("timezoneNoticeWasUnderstood");var gr=babelHelpers.classPrivateFieldLooseKey("ownerTimezoneOffsetUtc");var Er=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneOffsetUtc");var Tr=babelHelpers.classPrivateFieldLooseKey("bindEvents");var Or=babelHelpers.classPrivateFieldLooseKey("getNodeSlotList");var Nr=babelHelpers.classPrivateFieldLooseKey("getNodeTitle");var Dr=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNotice");var wr=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNoticeText");var Cr=babelHelpers.classPrivateFieldLooseKey("getNodeTimezoneNoticeButton");var Ar=babelHelpers.classPrivateFieldLooseKey("shouldShowTimezoneNotice");var jr=babelHelpers.classPrivateFieldLooseKey("showTimezoneNotice");var Kr=babelHelpers.classPrivateFieldLooseKey("getTimezoneNoticeText");var Sr=babelHelpers.classPrivateFieldLooseKey("hideTimezoneNotice");var kr=babelHelpers.classPrivateFieldLooseKey("getNodeList");var Ir=babelHelpers.classPrivateFieldLooseKey("getNodeListItems");class Mr extends $a{constructor(e){super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,Ir,{value:qr});Object.defineProperty(this,kr,{value:Zr});Object.defineProperty(this,Sr,{value:Yr});Object.defineProperty(this,Kr,{value:Xr});Object.defineProperty(this,jr,{value:Vr});Object.defineProperty(this,Ar,{value:Wr});Object.defineProperty(this,Cr,{value:Gr});Object.defineProperty(this,wr,{value:Ur});Object.defineProperty(this,Dr,{value:zr});Object.defineProperty(this,Nr,{value:xr});Object.defineProperty(this,Or,{value:Rr});Object.defineProperty(this,Tr,{value:$r});Object.defineProperty(this,Br,{writable:true,value:void 0});Object.defineProperty(this,fr,{writable:true,value:void 0});Object.defineProperty(this,mr,{writable:true,value:void 0});Object.defineProperty(this,yr,{writable:true,value:void 0});Object.defineProperty(this,gr,{writable:true,value:void 0});Object.defineProperty(this,Er,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Br)[Br]={title:null,list:null,timezoneNotice:null,timezoneNoticeOffset:null};babelHelpers.classPrivateFieldLooseBase(this,fr)[fr]=[];babelHelpers.classPrivateFieldLooseBase(this,yr)[yr]=false;babelHelpers.classPrivateFieldLooseBase(this,gr)[gr]=-e.ownerOffset;babelHelpers.classPrivateFieldLooseBase(this,Er)[Er]=(new Date).getTimezoneOffset();babelHelpers.classPrivateFieldLooseBase(this,Tr)[Tr]()}getType(){return"slot-list"}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Or)[Or]()}updateSlotsList(){t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]());const e=babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]();t.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]());t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-top");t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-bottom")}}function $r(){n.EventEmitter.subscribe("updateSlotsList",(e=>{babelHelpers.classPrivateFieldLooseBase(this,fr)[fr]=e.data.slots;this.updateSlotsList()}));n.EventEmitter.subscribe("selectSlot",(e=>{const s=e.data;if(babelHelpers.classPrivateFieldLooseBase(this,mr)[mr]!==s){var a;(a=babelHelpers.classPrivateFieldLooseBase(this,mr)[mr])==null?void 0:a.unSelect()}babelHelpers.classPrivateFieldLooseBase(this,mr)[mr]=s}));n.EventEmitter.subscribe("updateTimezone",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Er)[Er]=l.Util.getTimeZoneOffset(e.getData().timezone);babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]();if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]()){babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]()}}))}function Rr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slotSelector){babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slotSelector=t.Tag.render(pr||(pr=vr`
				<div class="calendar-pub__slot-list-wrap">
					${0}
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Nr)[Nr](),babelHelpers.classPrivateFieldLooseBase(this,kr)[kr]());if(babelHelpers.classPrivateFieldLooseBase(this,Ar)[Ar]()){babelHelpers.classPrivateFieldLooseBase(this,jr)[jr]()}}return babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slotSelector}function xr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].title){babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].title=t.Tag.render(hr||(hr=vr`
				<div class="calendar-sharing__calendar-bar">
					<div class="calendar-pub-ui__typography-m">${0}</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_SLOTS_FREE"))}return babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].title}function zr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNotice){babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNotice=t.Tag.render(Pr||(Pr=vr`
				<div class="calendar-pub-timezone-notice calendar-pub-ui__typography-s">
					${0}
					<div class="calendar-pub-timezone-notice-offset">
						${0}
					</div>
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,wr)[wr](),t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE_OFFSET"),babelHelpers.classPrivateFieldLooseBase(this,Cr)[Cr]());babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]()}return babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNotice}function Ur(){if(!babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNoticeText){babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNoticeText=t.Tag.render(ur||(ur=vr`
				<div>
					${0}
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE"))}return babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNoticeText}function Gr(){const e=t.Tag.render(Lr||(Lr=vr`
			<div class="calendar-pub-ui__btn --m">
				<div class="calendar-pub-ui__btn-text">
					${0}
				</div>
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_UNDERSTAND"));t.Event.bind(e,"click",(()=>{babelHelpers.classPrivateFieldLooseBase(this,Sr)[Sr]();babelHelpers.classPrivateFieldLooseBase(this,yr)[yr]=true}));return e}function Wr(){const e=Math.abs(babelHelpers.classPrivateFieldLooseBase(this,gr)[gr]-babelHelpers.classPrivateFieldLooseBase(this,Er)[Er])>=180;return!babelHelpers.classPrivateFieldLooseBase(this,yr)[yr]&&e}function Vr(){const e=babelHelpers.classPrivateFieldLooseBase(this,gr)[gr]-babelHelpers.classPrivateFieldLooseBase(this,Er)[Er];babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNoticeText.innerText=babelHelpers.classPrivateFieldLooseBase(this,Kr)[Kr](e);t.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNotice,"display","")}function Xr(e){const s=e<0?"+":"-";return t.Loc.getMessage("CALENDAR_SHARING_TIMEZONE_NOTICE",{"#OFFSET#":`${s}${l.Util.formatDuration(Math.abs(e))}`})}function Yr(){t.Dom.style(babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].timezoneNotice,"display","none")}function Zr(){if(!babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slots){babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slots=t.Tag.render(Fr||(Fr=vr`
				<div class="calendar-sharing__calendar-block --overflow-hidden --shadow">
					${0}
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,Ir)[Ir]())}return babelHelpers.classPrivateFieldLooseBase(this,Br)[Br].slots}function qr(){const e=babelHelpers.classPrivateFieldLooseBase(this,fr)[fr].map((e=>new br({value:{from:e.timeFrom,to:e.timeTo}})));const s=t.Tag.render(Hr||(Hr=vr`
			<div class="calendar-sharing__slots">
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Dr)[Dr](),e.map((e=>e.render())));t.Event.bind(s,"scroll",(()=>{if(s.scrollTop>0){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-top")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-top")}if(s.scrollHeight>s.offsetHeight&&Math.ceil(s.offsetHeight+s.scrollTop)<s.scrollHeight){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-bottom")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-bottom")}}));setTimeout((()=>{if(s.scrollHeight>s.offsetHeight){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,kr)[kr](),"--shadow-bottom")}}));return s}let Qr=e=>e,Jr,eo,so,ao,lo,to,io,ro,oo,bo,no,co,_o,vo,po,ho,Po,uo,Lo,Fo,Ho,Bo,fo,mo;var yo=babelHelpers.classPrivateFieldLooseKey("props");var go=babelHelpers.classPrivateFieldLooseKey("layout");var Eo=babelHelpers.classPrivateFieldLooseKey("renderEvent");var To=babelHelpers.classPrivateFieldLooseKey("renderEventNotFound");var Oo=babelHelpers.classPrivateFieldLooseKey("renderPoweredLabel");var No=babelHelpers.classPrivateFieldLooseKey("renderWidgetDate");var Do=babelHelpers.classPrivateFieldLooseKey("renderProps");var wo=babelHelpers.classPrivateFieldLooseKey("renderMembers");var Co=babelHelpers.classPrivateFieldLooseKey("renderLocation");var Ao=babelHelpers.classPrivateFieldLooseKey("renderDescription");var jo=babelHelpers.classPrivateFieldLooseKey("renderFiles");var Ko=babelHelpers.classPrivateFieldLooseKey("renderFile");var So=babelHelpers.classPrivateFieldLooseKey("collapseDescription");var ko=babelHelpers.classPrivateFieldLooseKey("expandDescription");var Io=babelHelpers.classPrivateFieldLooseKey("updateExpandCollapseButtonMargin");var Mo=babelHelpers.classPrivateFieldLooseKey("setExpandCollapseButtonMargin");var $o=babelHelpers.classPrivateFieldLooseKey("animateDescriptionHeight");var Ro=babelHelpers.classPrivateFieldLooseKey("renderExpandButton");var xo=babelHelpers.classPrivateFieldLooseKey("renderCollapseButton");var zo=babelHelpers.classPrivateFieldLooseKey("renderNodeIcon");var Uo=babelHelpers.classPrivateFieldLooseKey("renderBackButton");var Go=babelHelpers.classPrivateFieldLooseKey("renderEventNameNode");var Wo=babelHelpers.classPrivateFieldLooseKey("renderStateTitleNode");var Vo=babelHelpers.classPrivateFieldLooseKey("renderCancelContent");var Xo=babelHelpers.classPrivateFieldLooseKey("renderBottomButtons");var Yo=babelHelpers.classPrivateFieldLooseKey("getBottomButtons");var Zo=babelHelpers.classPrivateFieldLooseKey("renderAcceptButton");var qo=babelHelpers.classPrivateFieldLooseKey("onAcceptButtonClick");var Qo=babelHelpers.classPrivateFieldLooseKey("renderDeclineButton");var Jo=babelHelpers.classPrivateFieldLooseKey("onDeclineButtonClick");var eb=babelHelpers.classPrivateFieldLooseKey("renderVideoconferenceButton");var sb=babelHelpers.classPrivateFieldLooseKey("onVideoconferenceButtonClick");var ab=babelHelpers.classPrivateFieldLooseKey("renderIcsButton");var lb=babelHelpers.classPrivateFieldLooseKey("onIcsButtonClick");var tb=babelHelpers.classPrivateFieldLooseKey("renderReturnToCalendarButton");var ib=babelHelpers.classPrivateFieldLooseKey("onReturnButtonClick");var rb=babelHelpers.classPrivateFieldLooseKey("renderButton");var ob=babelHelpers.classPrivateFieldLooseKey("getPopup");var bb=babelHelpers.classPrivateFieldLooseKey("closeCancelEventPopup");var nb=babelHelpers.classPrivateFieldLooseKey("onDeleteButtonClick");class cb{constructor(e){Object.defineProperty(this,nb,{value:Xb});Object.defineProperty(this,bb,{value:Vb});Object.defineProperty(this,ob,{value:Wb});Object.defineProperty(this,rb,{value:Gb});Object.defineProperty(this,ib,{value:Ub});Object.defineProperty(this,tb,{value:zb});Object.defineProperty(this,lb,{value:xb});Object.defineProperty(this,ab,{value:Rb});Object.defineProperty(this,sb,{value:$b});Object.defineProperty(this,eb,{value:Mb});Object.defineProperty(this,Jo,{value:Ib});Object.defineProperty(this,Qo,{value:kb});Object.defineProperty(this,qo,{value:Sb});Object.defineProperty(this,Zo,{value:Kb});Object.defineProperty(this,Yo,{value:jb});Object.defineProperty(this,Xo,{value:Ab});Object.defineProperty(this,Vo,{value:Cb});Object.defineProperty(this,Wo,{value:wb});Object.defineProperty(this,Go,{value:Db});Object.defineProperty(this,Uo,{value:Nb});Object.defineProperty(this,zo,{value:Ob});Object.defineProperty(this,xo,{value:Tb});Object.defineProperty(this,Ro,{value:Eb});Object.defineProperty(this,$o,{value:gb});Object.defineProperty(this,Mo,{value:yb});Object.defineProperty(this,Io,{value:mb});Object.defineProperty(this,ko,{value:fb});Object.defineProperty(this,So,{value:Bb});Object.defineProperty(this,Ko,{value:Hb});Object.defineProperty(this,jo,{value:Fb});Object.defineProperty(this,Ao,{value:Lb});Object.defineProperty(this,Co,{value:ub});Object.defineProperty(this,wo,{value:Pb});Object.defineProperty(this,Do,{value:hb});Object.defineProperty(this,No,{value:pb});Object.defineProperty(this,Oo,{value:vb});Object.defineProperty(this,To,{value:_b});Object.defineProperty(this,Eo,{value:db});Object.defineProperty(this,yo,{writable:true,value:void 0});Object.defineProperty(this,go,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,yo)[yo]=e;babelHelpers.classPrivateFieldLooseBase(this,go)[go]={}}update(e){babelHelpers.classPrivateFieldLooseBase(this,yo)[yo]=e;this.render()}render(){var e;const s=babelHelpers.classPrivateFieldLooseBase(this,Eo)[Eo]();(e=babelHelpers.classPrivateFieldLooseBase(this,go)[go].wrap)==null?void 0:e.replaceWith(s);babelHelpers.classPrivateFieldLooseBase(this,go)[go].wrap=s;return s}showCancelEventPopup(){babelHelpers.classPrivateFieldLooseBase(this,ob)[ob]().show()}}function db(){if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].eventNotFound){return babelHelpers.classPrivateFieldLooseBase(this,To)[To]()}return t.Tag.render(Jr||(Jr=Qr`
			<div class="calendar-sharing__form-result">
				${0}
				${0}
				<div class="calendar-sharing__calendar-block --form --center">
					${0}
					${0}
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --form --center">
					${0}
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --form --center">
					${0}
				</div>

				<div class="calendar-sharing__calendar-block --top-auto">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Oo)[Oo](),babelHelpers.classPrivateFieldLooseBase(this,Uo)[Uo](),babelHelpers.classPrivateFieldLooseBase(this,zo)[zo](),babelHelpers.classPrivateFieldLooseBase(this,Go)[Go](),babelHelpers.classPrivateFieldLooseBase(this,Wo)[Wo](),babelHelpers.classPrivateFieldLooseBase(this,No)[No](),babelHelpers.classPrivateFieldLooseBase(this,Do)[Do](),babelHelpers.classPrivateFieldLooseBase(this,Vo)[Vo](),babelHelpers.classPrivateFieldLooseBase(this,Xo)[Xo]())}function _b(){return t.Tag.render(eo||(eo=Qr`
			<div class="calendar-sharing__form-result">
				<div class="calendar-sharing__calendar-block --form --center">
					<div class="calendar-sharing__form-result_icon --decline"></div>
					<div class="calendar-pub-ui__typography-title --center --line-height-normal">
						${0}
					</div>
					<div class="calendar-pub-ui__typography-s --center">
						${0}
					</div>
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].eventNotFound.title,babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].eventNotFound.subtitle)}function vb(){if(!babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].poweredLabel){return""}return t.Tag.render(so||(so=Qr`
			<div class="calendar-pub__block-label ${0}"></div>
		`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].poweredLabel.isRu?"--ru":"")}function pb(){const e=new Nl({allAttendees:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].allAttendees,filled:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].filled,browserTimezone:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].browserTimezone,linkContext:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].linkContext});if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].from&&babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].to){e.updateValue({from:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].from,to:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].timezone,isFullDay:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].isFullDay,rruleDescription:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].rruleDescription,members:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].members},babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].linkContext)}return e.render()}function hb(){if(!babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].allAttendees){return""}return t.Tag.render(ao||(ao=Qr`
			<div class="calendar-pub__event-props">
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,wo)[wo](),babelHelpers.classPrivateFieldLooseBase(this,Co)[Co](),babelHelpers.classPrivateFieldLooseBase(this,jo)[jo](),babelHelpers.classPrivateFieldLooseBase(this,Ao)[Ao]())}function Pb(){return new E({className:"calendar-pub__event-prop",textClassName:"calendar-pub-ui__typography-xs",avatarSize:30,members:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].members,allAttendees:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].allAttendees,maxAvatarsCount:8,linkContext:babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].linkContext}).render()}function ub(){if(!t.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].location)){return""}return t.Tag.render(lo||(lo=Qr`
			<div class="calendar-pub__event-prop">
				<div class="calendar-pub-ui__typography-xs">
					${0}
				</div>
				<div class="calendar-pub-ui__typography-sm">
					${0}
				</div>
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_MEETING_LOCATION"),t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].location))}function Lb(){if(!t.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].description)){return""}babelHelpers.classPrivateFieldLooseBase(this,go)[go].description=t.Tag.render(to||(to=Qr`
			<div class="calendar-pub-ui__typography-sm">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].description);if(cb.descriptionCollapsed){const e=100;babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.overflow="hidden";babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.maxHeight=`${e}px`;setTimeout((()=>babelHelpers.classPrivateFieldLooseBase(this,So)[So](e,false)))}else{babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.append(babelHelpers.classPrivateFieldLooseBase(this,xo)[xo]());babelHelpers.classPrivateFieldLooseBase(this,Io)[Io](babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton)}return t.Tag.render(io||(io=Qr`
			<div class="calendar-pub__event-prop">
				<div class="calendar-pub-ui__typography-xs">
					${0}
				</div>
				${0}
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_MEETING_DESCRIPTION"),babelHelpers.classPrivateFieldLooseBase(this,go)[go].description)}function Fb(){if(!t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].files)){return""}return t.Tag.render(ro||(ro=Qr`
			<div class="calendar-pub__event-prop">
				<div class="calendar-pub-ui__typography-xs">
					${0}
				</div>
				<div class="calendar-pub-ui__typography-sm">
					${0}
				</div>
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_MEETING_FILES"),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].files.map((e=>babelHelpers.classPrivateFieldLooseBase(this,Ko)[Ko](e))))}function Hb(e){return t.Tag.render(oo||(oo=Qr`
			<span class="calendar-pub__event-file">
				<a class="calendar-pub__event-file-name" href="${0}">
					${0}
				</a>
				<span class="calendar-pub__event-file-size">${0}</span>
			</span>
		`),encodeURI(e.link),t.Text.encode(e.name),e.size)}function Bb(e,s=true){var a;babelHelpers.classPrivateFieldLooseBase(this,Mo)[Mo](babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton);(a=babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton)==null?void 0:a.remove();const l=babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.offsetHeight;const i=[...babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.childNodes];let r;let o=0;for(let s of i){if(s.nodeName==="#text"){const e=t.Tag.render(bo||(bo=Qr`<span>${0}</span>`),t.Text.encode(s.textContent));s.replaceWith(e);s=e}if(o>e){s.style.display="none";continue}let a=s.getBoundingClientRect().height;if(s.nodeName==="BR"&&s.previousSibling.nodeName!=="BR"){continue}if(o<e&&o+a>e){r=s;s.after(babelHelpers.classPrivateFieldLooseBase(this,Ro)[Ro]())}o+=a}babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.height="";babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.maxHeight="";if(r){const s=(babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.offsetHeight-e)/20;if(s>2){r.innerText=r.innerText.slice(0,-35*(s-1))}while(babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.offsetHeight>e){r.innerText=r.innerText.slice(0,-2);if(r.innerText===""){const e=r.previousSibling;r.remove();r=e}r.innerHTML+="&mldr;"}}babelHelpers.classPrivateFieldLooseBase(this,Io)[Io](babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton);if(s){babelHelpers.classPrivateFieldLooseBase(this,$o)[$o](l,e)}cb.descriptionCollapsed=true}function fb(){babelHelpers.classPrivateFieldLooseBase(this,Mo)[Mo](babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton);const e=babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.offsetHeight;babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.innerHTML=babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].description;babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.append(babelHelpers.classPrivateFieldLooseBase(this,xo)[xo]());babelHelpers.classPrivateFieldLooseBase(this,Io)[Io](babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton);babelHelpers.classPrivateFieldLooseBase(this,$o)[$o](e,babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.offsetHeight);cb.descriptionCollapsed=false}function mb(e){const s=t.Tag.render(no||(no=Qr`
			<span>
				${0}
			</span>
		`),e.previousSibling.cloneNode(true));e.previousSibling.replaceWith(s);if(s.offsetTop!==e.offsetTop){t.Dom.style(s,"margin-right","5px");t.Dom.style(e,"margin-left","")}}function yb(e){t.Dom.style(e,"margin-left","5px")}function gb(e,s){const a=200;babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.height=`${e}px`;babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.transition=`height ${a}ms ease`;setTimeout((()=>{babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.height=`${s}px`;setTimeout((()=>{babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.height="";babelHelpers.classPrivateFieldLooseBase(this,go)[go].description.style.transition=""}),a)}))}function Eb(){if(babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton){return babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton}babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton=t.Tag.render(co||(co=Qr`
			<div class="calendar-pub__link-button" style="margin-left: 5px;">
				${0}
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_EXPAND"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,ko)[ko]()));return babelHelpers.classPrivateFieldLooseBase(this,go)[go].expandButton}function Tb(){if(babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton){return babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton}babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton=t.Tag.render(_o||(_o=Qr`
			<div class="calendar-pub__link-button" style="margin-left: 5px;">
				${0}
			</div>
		`),t.Loc.getMessage("CALENDAR_SHARING_COLLAPSE"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton,"click",(()=>babelHelpers.classPrivateFieldLooseBase(this,So)[So](100)));return babelHelpers.classPrivateFieldLooseBase(this,go)[go].collapseButton}function Ob(){return t.Tag.render(vo||(vo=Qr`
			<div class="calendar-sharing__form-result_icon ${0}"></div>
		`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].iconClassName)}function Nb(){if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].showBackCalendarButton){return t.Tag.render(po||(po=Qr`
				<div class="calendar-sharing__calendar-bar --arrow">
					<div class="calendar-sharing__calendar-back" onclick="${0}"></div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,ib)[ib].bind(this))}return t.Tag.render(ho||(ho=Qr`<div class="calendar-sharing__calendar-bar --no-margin"></div>`))}function Db(){return t.Tag.render(Po||(Po=Qr`
			<div class="calendar-pub-ui__typography-title --center --line-height-normal">
				${0}
			</div>
		`),t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].eventName))}function wb(){return t.Tag.render(uo||(uo=Qr`
			<div class="calendar-pub-ui__typography-s --center">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].title)}function Cb(){if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].onDeleteEvent){return t.Tag.render(Lo||(Lo=Qr`
				<div onclick="${0}" class="calendar-pub__form-status --decline">
					<div class="ui-icon-set --undo-1"></div>
					<div class="calendar-pub__form-status_text">
						${0}
					</div>
				</div>
			`),this.showCancelEventPopup.bind(this),t.Loc.getMessage("CALENDAR_SHARING_DECLINE_MEETING"))}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].onDeclineEvent){return t.Tag.render(Fo||(Fo=Qr`
				<div onclick="${0}" class="calendar-pub__form-status --decline">
					<div class="ui-icon-set --cross-45"></div>
					<div class="calendar-pub__form-status_text">
						${0}
					</div>
				</div>
			`),babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].onDeclineEvent,t.Loc.getMessage("CALENDAR_SHARING_DECISION_DECLINE_MEETING"))}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].cancelledInfo){const e=r.DateTimeFormat.getFormat("DAY_MONTH_FORMAT");const s=r.DateTimeFormat.getFormat("SHORT_TIME_FORMAT");const a=`${e} ${s}`;const l=r.DateTimeFormat.format(a,babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].cancelledInfo.date.getTime()/1e3);const i=t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].cancelledInfo.name);const o=`${t.Loc.getMessage("CALENDAR_SHARING_WHO_CANCELED")}: ${i}`;return t.Tag.render(Ho||(Ho=Qr`
				<div class="calendar-pub__form-status">
					<div class="calendar-pub__form-status_text">
						${0}<br> ${0}
					</div>
				</div>
			`),o,l)}return""}function Ab(){return t.Tag.render(Bo||(Bo=Qr`
			<div>
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Yo)[Yo]())}function jb(){const e=[];if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onAcceptInvitation){e.push(babelHelpers.classPrivateFieldLooseBase(this,Zo)[Zo]())}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onDeclineInvitation){e.push(babelHelpers.classPrivateFieldLooseBase(this,Qo)[Qo]())}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onStartVideoconference){e.push(babelHelpers.classPrivateFieldLooseBase(this,eb)[eb]())}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onDownloadIcs){e.push(babelHelpers.classPrivateFieldLooseBase(this,ab)[ab]())}if(babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onReturnToCalendar){e.push(babelHelpers.classPrivateFieldLooseBase(this,tb)[tb]())}return e}function Kb(){babelHelpers.classPrivateFieldLooseBase(this,go)[go].acceptButton=babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](t.Loc.getMessage("CALENDAR_SHARING_ACCEPT"),babelHelpers.classPrivateFieldLooseBase(this,qo)[qo].bind(this));return babelHelpers.classPrivateFieldLooseBase(this,go)[go].acceptButton}async function Sb(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].acceptButton,"--wait");await babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onAcceptInvitation();t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].acceptButton,"--wait")}function kb(){babelHelpers.classPrivateFieldLooseBase(this,go)[go].declineButton=babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](t.Loc.getMessage("CALENDAR_SHARING_DECLINE"),babelHelpers.classPrivateFieldLooseBase(this,Jo)[Jo].bind(this),"--light-border");return babelHelpers.classPrivateFieldLooseBase(this,go)[go].declineButton}async function Ib(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].declineButton,"--wait");await babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onDeclineInvitation();t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].declineButton,"--wait")}function Mb(){babelHelpers.classPrivateFieldLooseBase(this,go)[go].videoconferenceButton=babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](t.Loc.getMessage("CALENDAR_SHARING_OPEN_VIDEOCONFERENCE"),babelHelpers.classPrivateFieldLooseBase(this,sb)[sb].bind(this));return babelHelpers.classPrivateFieldLooseBase(this,go)[go].videoconferenceButton}async function $b(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].videoconferenceButton,"--wait");await babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onStartVideoconference();t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].videoconferenceButton,"--wait")}function Rb(){babelHelpers.classPrivateFieldLooseBase(this,go)[go].icsButton=babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](t.Loc.getMessage("CALENDAR_SHARING_ADD_TO_CALENDAR"),babelHelpers.classPrivateFieldLooseBase(this,lb)[lb].bind(this),"--light-border");return babelHelpers.classPrivateFieldLooseBase(this,go)[go].icsButton}async function xb(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].icsButton,"--wait");await babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onDownloadIcs();t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,go)[go].icsButton,"--wait")}function zb(){return babelHelpers.classPrivateFieldLooseBase(this,rb)[rb](t.Loc.getMessage("CALENDAR_SHARING_RETURN_TO_SLOT_LIST"),babelHelpers.classPrivateFieldLooseBase(this,ib)[ib].bind(this),"--light-border")}function Ub(){babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].bottomButtons.onReturnToCalendar()}function Gb(e,s,a){return t.Tag.render(fo||(fo=Qr`
			<div
				onclick="${0}"
				class="calendar-pub-ui__btn ${0} --m calendar-pub-action-btn"
			>
				<div class="calendar-pub-ui__btn-text">${0}</div>
			</div>
		`),s,a,e)}function Wb(){if(!this.popup){const e=t.Tag.render(mo||(mo=Qr`
				<div>
					<div class="calendar-pub__cookies-title">${0}</div>
					<div class="calendar-pub__cookies-info">${0}</div>
					<div class="calendar-pub__cookies-buttons ${0}">
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --light-border">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
						<div onclick="${0}" class="calendar-pub-ui__btn --inline --m --secondary">
							<div class="calendar-pub-ui__btn-text">${0}</div>
						</div>
					</div>
				</div>
			`),t.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED"),t.Loc.getMessage("CALENDAR_SHARING_POPUP_MEETING_CANCELED_INFO"),t.Browser.isMobile()?"--center":"--flex-end",babelHelpers.classPrivateFieldLooseBase(this,bb)[bb].bind(this),t.Loc.getMessage("CALENDAR_SHARING_POPUP_LEAVE"),babelHelpers.classPrivateFieldLooseBase(this,nb)[nb].bind(this),t.Loc.getMessage("CALENDAR_SHARING_POPUP_CANCEL"));if(t.Browser.isMobile()){this.popup=new o.BottomSheet({className:"calendar-pub__state",content:e,padding:"20px 25px"})}else{this.popup=new i.Popup({className:"calendar-pub__popup",contentBackground:"transparent",width:380,animation:"fading-slide",content:e,overlay:true})}}return this.popup}function Vb(){babelHelpers.classPrivateFieldLooseBase(this,ob)[ob]().close()}async function Xb(){babelHelpers.classPrivateFieldLooseBase(this,bb)[bb]();babelHelpers.classPrivateFieldLooseBase(this,yo)[yo].onDeleteEvent()}cb.descriptionCollapsed=true;var Yb=babelHelpers.classPrivateFieldLooseKey("event");var Zb=babelHelpers.classPrivateFieldLooseKey("owner");var qb=babelHelpers.classPrivateFieldLooseKey("currentTimezone");var Qb=babelHelpers.classPrivateFieldLooseKey("icsFile");var Jb=babelHelpers.classPrivateFieldLooseKey("layout");var en=babelHelpers.classPrivateFieldLooseKey("value");var sn=babelHelpers.classPrivateFieldLooseKey("state");var an=babelHelpers.classPrivateFieldLooseKey("inDeletedSlider");var ln=babelHelpers.classPrivateFieldLooseKey("isView");var tn=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var rn=babelHelpers.classPrivateFieldLooseKey("linkContext");var on=babelHelpers.classPrivateFieldLooseKey("eventLayout");var bn=babelHelpers.classPrivateFieldLooseKey("initEventData");var nn=babelHelpers.classPrivateFieldLooseKey("getLayoutProps");var cn=babelHelpers.classPrivateFieldLooseKey("getCancelledInfo");var dn=babelHelpers.classPrivateFieldLooseKey("getBottomButtons");var _n=babelHelpers.classPrivateFieldLooseKey("getIconClassByState");var vn=babelHelpers.classPrivateFieldLooseKey("getStateTitleTextByState");var pn=babelHelpers.classPrivateFieldLooseKey("onReturnButtonClick");var hn=babelHelpers.classPrivateFieldLooseKey("getEventName");class Pn extends $a{constructor(e){var s;super({isHiddenOnStart:e.isHiddenOnStart});Object.defineProperty(this,hn,{value:yn});Object.defineProperty(this,pn,{value:mn});Object.defineProperty(this,vn,{value:fn});Object.defineProperty(this,_n,{value:Bn});Object.defineProperty(this,dn,{value:Hn});Object.defineProperty(this,cn,{value:Fn});Object.defineProperty(this,nn,{value:Ln});Object.defineProperty(this,bn,{value:un});Object.defineProperty(this,Yb,{writable:true,value:void 0});Object.defineProperty(this,Zb,{writable:true,value:void 0});Object.defineProperty(this,qb,{writable:true,value:void 0});Object.defineProperty(this,Qb,{writable:true,value:void 0});Object.defineProperty(this,Jb,{writable:true,value:void 0});Object.defineProperty(this,en,{writable:true,value:void 0});Object.defineProperty(this,sn,{writable:true,value:void 0});Object.defineProperty(this,an,{writable:true,value:void 0});Object.defineProperty(this,ln,{writable:true,value:void 0});Object.defineProperty(this,tn,{writable:true,value:void 0});Object.defineProperty(this,rn,{writable:true,value:void 0});Object.defineProperty(this,on,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]=e.state;babelHelpers.classPrivateFieldLooseBase(this,ln)[ln]=e.isView;babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb]=e.event;babelHelpers.classPrivateFieldLooseBase(this,Zb)[Zb]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,qb)[qb]=(s=e.timezone)!=null?s:Intl.DateTimeFormat().resolvedOptions().timeZone;babelHelpers.classPrivateFieldLooseBase(this,Jb)[Jb]={back:null,widgetDate:null,eventName:null,icon:null,stateTitle:null,additionalBlock:null,bottomButton:null};babelHelpers.classPrivateFieldLooseBase(this,en)[en]={from:null,to:null,timezone:null,isFullDay:false,canceledTimestamp:null,canceledUserName:null,eventName:null,canceledByManager:e.canceledByManager,eventLinkHash:e.eventLinkHash,eventId:e.eventId,members:e.members};babelHelpers.classPrivateFieldLooseBase(this,Qb)[Qb]=null;babelHelpers.classPrivateFieldLooseBase(this,an)[an]=e.inDeletedSlider===true;babelHelpers.classPrivateFieldLooseBase(this,tn)[tn]=e.showBackCalendarButtons;babelHelpers.classPrivateFieldLooseBase(this,rn)[rn]=e.linkContext;if(babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb]){babelHelpers.classPrivateFieldLooseBase(this,bn)[bn]()}babelHelpers.classPrivateFieldLooseBase(this,on)[on]=new cb(babelHelpers.classPrivateFieldLooseBase(this,nn)[nn]());if(e.action==="cancel"){setTimeout((()=>babelHelpers.classPrivateFieldLooseBase(this,on)[on].showCancelEventPopup()),0)}if(e.action==="ics"){this.downloadIcsFile()}if(e.action==="videoconference"){this.startVideoconference()}}getType(){return"event"}updateValue(e){if(e.from){babelHelpers.classPrivateFieldLooseBase(this,en)[en].from=e.from}if(e.to){babelHelpers.classPrivateFieldLooseBase(this,en)[en].to=e.to}if(e.timezone){babelHelpers.classPrivateFieldLooseBase(this,en)[en].timezone=e.timezone}if(t.Type.isBoolean(e.isFullDay)){babelHelpers.classPrivateFieldLooseBase(this,en)[en].isFullDay=e.isFullDay}if(e.eventLinkHash){babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventLinkHash=e.eventLinkHash}if(e.eventName){babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventName=e.eventName}if(e.state){babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]=e.state}if(e.isView){babelHelpers.classPrivateFieldLooseBase(this,ln)[ln]=false}if(e.eventId){babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventId=e.eventId}if(e.userName){babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledUserName=e.userName}if(babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledByManager===true){babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledByManager=false}babelHelpers.classPrivateFieldLooseBase(this,on)[on].update(babelHelpers.classPrivateFieldLooseBase(this,nn)[nn]())}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,on)[on].render()}async deleteEvent(){let e=null;try{e=await BX.ajax.runAction("calendar.api.sharingajax.deleteEvent",{data:{eventId:babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventId,eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventLinkHash}})}catch(s){e=s}if(e.errors.length===0){babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledTimestamp=Date.now()/1e3;babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]="declined";babelHelpers.classPrivateFieldLooseBase(this,on)[on].update(babelHelpers.classPrivateFieldLooseBase(this,nn)[nn]());n.EventEmitter.emit("onDeleteEvent")}return e.errors.length===0}async startVideoconference(){var e,s;let a=null;try{a=await BX.ajax.runAction("calendar.api.sharingajax.getConferenceLink",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventLinkHash}})}catch(e){console.error(e)}const l=(e=a)==null?void 0:(s=e.data)==null?void 0:s.conferenceLink;if(l){window.location.href=l}}async downloadIcsFile(){if(!babelHelpers.classPrivateFieldLooseBase(this,Qb)[Qb]){const e=await BX.ajax.runAction("calendar.api.sharingajax.getIcsFileContent",{data:{eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventLinkHash}});babelHelpers.classPrivateFieldLooseBase(this,Qb)[Qb]=e.data}l.Util.downloadIcsFile(babelHelpers.classPrivateFieldLooseBase(this,Qb)[Qb],"event")}}function un(){babelHelpers.classPrivateFieldLooseBase(this,en)[en].from=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb].timestampFromUTC,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,qb)[qb]);babelHelpers.classPrivateFieldLooseBase(this,en)[en].to=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb].timestampToUTC,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,qb)[qb]);babelHelpers.classPrivateFieldLooseBase(this,en)[en].timezone=babelHelpers.classPrivateFieldLooseBase(this,qb)[qb];babelHelpers.classPrivateFieldLooseBase(this,en)[en].isFullDay=babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb].isFullDay;babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventName=babelHelpers.classPrivateFieldLooseBase(this,hn)[hn]();babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledTimestamp=babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb].canceledTimestamp;babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledUserName=babelHelpers.classPrivateFieldLooseBase(this,Yb)[Yb].externalUserName}function Ln(){return{eventName:babelHelpers.classPrivateFieldLooseBase(this,en)[en].eventName,from:babelHelpers.classPrivateFieldLooseBase(this,en)[en].from,to:babelHelpers.classPrivateFieldLooseBase(this,en)[en].to,timezone:babelHelpers.classPrivateFieldLooseBase(this,en)[en].timezone,isFullDay:babelHelpers.classPrivateFieldLooseBase(this,en)[en].isFullDay,members:babelHelpers.classPrivateFieldLooseBase(this,en)[en].members,title:babelHelpers.classPrivateFieldLooseBase(this,vn)[vn](babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]),iconClassName:babelHelpers.classPrivateFieldLooseBase(this,_n)[_n](babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]),onDeleteEvent:babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]==="created"?this.deleteEvent.bind(this):"",cancelledInfo:babelHelpers.classPrivateFieldLooseBase(this,cn)[cn](),showBackCalendarButton:babelHelpers.classPrivateFieldLooseBase(this,tn)[tn],bottomButtons:babelHelpers.classPrivateFieldLooseBase(this,dn)[dn](),linkContext:babelHelpers.classPrivateFieldLooseBase(this,rn)[rn]}}function Fn(){if(babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]==="declined"){const e=l.Util.getTimezoneDateFromTimestampUTC(parseInt(babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledTimestamp,10)*1e3,babelHelpers.classPrivateFieldLooseBase(this,qb)[qb]);if(babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledByManager){babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledUserName=`${babelHelpers.classPrivateFieldLooseBase(this,Zb)[Zb].name} ${babelHelpers.classPrivateFieldLooseBase(this,Zb)[Zb].lastName}`}if(babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledTimestamp&&babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledUserName&&e){return{date:e,name:babelHelpers.classPrivateFieldLooseBase(this,en)[en].canceledUserName}}}return null}function Hn(){const e={};if(babelHelpers.classPrivateFieldLooseBase(this,sn)[sn]==="created"){e.onStartVideoconference=this.startVideoconference.bind(this);e.onDownloadIcs=this.downloadIcsFile.bind(this)}if(["not-created","declined"].includes(babelHelpers.classPrivateFieldLooseBase(this,sn)[sn])&&babelHelpers.classPrivateFieldLooseBase(this,tn)[tn]){e.onReturnToCalendar=babelHelpers.classPrivateFieldLooseBase(this,pn)[pn].bind(this)}return e}function Bn(e){let s="";switch(e){case"created":s="--accept";break;case"not-created":s="--decline";break;case"declined":s="--decline";break;default:break}return s}function fn(e){let s="";switch(e){case"created":if(!babelHelpers.classPrivateFieldLooseBase(this,ln)[ln]){s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_CREATED")}break;case"not-created":s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_NOT_CREATED");break;case"declined":s=t.Loc.getMessage("CALENDAR_SHARING_MEETING_CANCELED");break;default:break}return s}function mn(){n.EventEmitter.emit("onCreateAnotherEventButtonClick")}function yn(){return t.Loc.getMessage("CALENDAR_SHARING_EVENT_NAME",{"#OWNER_NAME#":`${babelHelpers.classPrivateFieldLooseBase(this,Zb)[Zb].name} ${babelHelpers.classPrivateFieldLooseBase(this,Zb)[Zb].lastName}`})}let gn=e=>e,En;var Tn=babelHelpers.classPrivateFieldLooseKey("layout");var On=babelHelpers.classPrivateFieldLooseKey("components");var Nn=babelHelpers.classPrivateFieldLooseKey("selectedTimezoneId");var Dn=babelHelpers.classPrivateFieldLooseKey("owner");var wn=babelHelpers.classPrivateFieldLooseKey("link");var Cn=babelHelpers.classPrivateFieldLooseKey("sharingUser");var An=babelHelpers.classPrivateFieldLooseKey("isFromCrm");var jn=babelHelpers.classPrivateFieldLooseKey("hasContactData");var Kn=babelHelpers.classPrivateFieldLooseKey("calendarSettings");var Sn=babelHelpers.classPrivateFieldLooseKey("eventLinkHash");var kn=babelHelpers.classPrivateFieldLooseKey("event");var In=babelHelpers.classPrivateFieldLooseKey("members");var Mn=babelHelpers.classPrivateFieldLooseKey("action");var $n=babelHelpers.classPrivateFieldLooseKey("showBackCalendarButtons");var Rn=babelHelpers.classPrivateFieldLooseKey("bindEvents");class xn{constructor(e){Object.defineProperty(this,Rn,{value:zn});Object.defineProperty(this,Tn,{writable:true,value:void 0});Object.defineProperty(this,On,{writable:true,value:void 0});Object.defineProperty(this,Nn,{writable:true,value:void 0});Object.defineProperty(this,Dn,{writable:true,value:void 0});Object.defineProperty(this,wn,{writable:true,value:void 0});Object.defineProperty(this,Cn,{writable:true,value:void 0});Object.defineProperty(this,An,{writable:true,value:void 0});Object.defineProperty(this,jn,{writable:true,value:void 0});Object.defineProperty(this,Kn,{writable:true,value:void 0});Object.defineProperty(this,Sn,{writable:true,value:void 0});Object.defineProperty(this,kn,{writable:true,value:void 0});Object.defineProperty(this,In,{writable:true,value:void 0});Object.defineProperty(this,Mn,{writable:true,value:void 0});Object.defineProperty(this,$n,{writable:true,value:void 0});this.BLOCK_NAME_FORM="form";this.BLOCK_NAME_SLOT_LIST="slot-list";this.BLOCK_NAME_EMPTY_STATE="empty-state";this.BLOCK_NAME_ACCESS_DENIED="access-denied";this.BLOCK_NAME_EVENT="event";babelHelpers.classPrivateFieldLooseBase(this,Nn)[Nn]=e.selectedTimezoneId;babelHelpers.classPrivateFieldLooseBase(this,Dn)[Dn]=e.owner;babelHelpers.classPrivateFieldLooseBase(this,wn)[wn]=e.link;babelHelpers.classPrivateFieldLooseBase(this,Cn)[Cn]=e.sharingUser;babelHelpers.classPrivateFieldLooseBase(this,Sn)[Sn]=e.eventLinkHash;babelHelpers.classPrivateFieldLooseBase(this,kn)[kn]=e.event;babelHelpers.classPrivateFieldLooseBase(this,In)[In]=e.members;babelHelpers.classPrivateFieldLooseBase(this,Tn)[Tn]={wrapper:null,empty:null,title:null,slots:null,slotSelector:null};babelHelpers.classPrivateFieldLooseBase(this,On)[On]={form:null,slotList:null,emptyState:null,event:null,accessDenied:null};babelHelpers.classPrivateFieldLooseBase(this,An)[An]=babelHelpers.classPrivateFieldLooseBase(this,wn)[wn].type==="crm_deal";babelHelpers.classPrivateFieldLooseBase(this,jn)[jn]=e.hasContactData;babelHelpers.classPrivateFieldLooseBase(this,Kn)[Kn]=e.calendarSettings;babelHelpers.classPrivateFieldLooseBase(this,$n)[$n]=e.showBackCalendarButtons;babelHelpers.classPrivateFieldLooseBase(this,Mn)[Mn]=e.action;babelHelpers.classPrivateFieldLooseBase(this,Rn)[Rn]()}openForm(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,On)[On].form)==null?void 0:e.clearInputErrors();this.openBlock(this.BLOCK_NAME_FORM)}openSlotList(){this.openBlock(this.BLOCK_NAME_SLOT_LIST)}openEmptyState(){this.openBlock(this.BLOCK_NAME_EMPTY_STATE)}openAccessDenied(){this.openBlock(this.BLOCK_NAME_ACCESS_DENIED)}openEvent(){this.openBlock(this.BLOCK_NAME_EVENT)}openBlock(e){n.EventEmitter.emit("selectorTypeChange",e)}render(){if(!babelHelpers.classPrivateFieldLooseBase(this,On)[On].form){babelHelpers.classPrivateFieldLooseBase(this,On)[On].form=new Jt({isHiddenOnStart:true,owner:babelHelpers.classPrivateFieldLooseBase(this,Dn)[Dn],link:babelHelpers.classPrivateFieldLooseBase(this,wn)[wn],sharingUser:babelHelpers.classPrivateFieldLooseBase(this,Cn)[Cn],isFromCrm:babelHelpers.classPrivateFieldLooseBase(this,An)[An],hasContactData:babelHelpers.classPrivateFieldLooseBase(this,jn)[jn],isPhoneFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,Kn)[Kn].phoneFeatureEnabled,isMailFeatureEnabled:babelHelpers.classPrivateFieldLooseBase(this,Kn)[Kn].mailFeatureEnabled})}if(!babelHelpers.classPrivateFieldLooseBase(this,On)[On].emptyState){babelHelpers.classPrivateFieldLooseBase(this,On)[On].emptyState=new $i({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,On)[On].accessDenied){babelHelpers.classPrivateFieldLooseBase(this,On)[On].accessDenied=new Xi({isHiddenOnStart:true})}if(!babelHelpers.classPrivateFieldLooseBase(this,On)[On].slotList){babelHelpers.classPrivateFieldLooseBase(this,On)[On].slotList=new Mr({isHiddenOnStart:false,ownerOffset:parseInt(babelHelpers.classPrivateFieldLooseBase(this,Kn)[Kn].serverOffset,10)})}if(!babelHelpers.classPrivateFieldLooseBase(this,On)[On].event){var e,s,a;let l="created";if(babelHelpers.classPrivateFieldLooseBase(this,wn)[wn].active===false||((e=babelHelpers.classPrivateFieldLooseBase(this,kn)[kn])==null?void 0:e.meetingStatus)==="N"||((s=babelHelpers.classPrivateFieldLooseBase(this,kn)[kn])==null?void 0:s.deleted)==="Y"){l="declined"}let i=false;if(((a=babelHelpers.classPrivateFieldLooseBase(this,kn)[kn])==null?void 0:a.meetingStatus)==="N"){i=true}babelHelpers.classPrivateFieldLooseBase(this,On)[On].event=new Pn({isHiddenOnStart:false,owner:babelHelpers.classPrivateFieldLooseBase(this,Dn)[Dn],event:babelHelpers.classPrivateFieldLooseBase(this,kn)[kn],eventLinkHash:babelHelpers.classPrivateFieldLooseBase(this,Sn)[Sn],state:l,eventId:babelHelpers.classPrivateFieldLooseBase(this,kn)[kn].id,isView:t.Type.isString(babelHelpers.classPrivateFieldLooseBase(this,Sn)[Sn]),canceledByManager:i,showBackCalendarButtons:babelHelpers.classPrivateFieldLooseBase(this,$n)[$n],action:babelHelpers.classPrivateFieldLooseBase(this,Mn)[Mn],members:babelHelpers.classPrivateFieldLooseBase(this,In)[In],linkContext:babelHelpers.classPrivateFieldLooseBase(this,wn)[wn].type})}return t.Tag.render(En||(En=gn`
			<div class="calendar-pub__slots">
				${0}
				${0}
				${0}
				${0}
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,On)[On].slotList.render(),babelHelpers.classPrivateFieldLooseBase(this,On)[On].form.render(),babelHelpers.classPrivateFieldLooseBase(this,On)[On].emptyState.render(),babelHelpers.classPrivateFieldLooseBase(this,On)[On].event.render(),babelHelpers.classPrivateFieldLooseBase(this,On)[On].accessDenied.render())}}function zn(){n.EventEmitter.subscribe("confirmedSelectSlot",(e=>{const s=e.data;const a=s.value;babelHelpers.classPrivateFieldLooseBase(this,On)[On].form.updateFormValue({from:a.from,to:a.to,timezone:babelHelpers.classPrivateFieldLooseBase(this,Nn)[Nn]});this.openForm()}));n.EventEmitter.subscribe("switchSlots",(e=>{var s;const a=(s=e.data.slots)!=null?s:[];if(a.length>0){n.EventEmitter.emit("updateSlotsList",e);this.openSlotList()}else{this.openEmptyState()}}));n.EventEmitter.subscribe("updateTimezone",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,Nn)[Nn]=s.timezone}));n.EventEmitter.subscribe("onSaveEvent",(e=>{const s=e.data;babelHelpers.classPrivateFieldLooseBase(this,On)[On].form.cleanDescription();babelHelpers.classPrivateFieldLooseBase(this,On)[On].event.updateValue(s);this.openEvent()}))}let Un=e=>e,Gn,Wn,Vn,Xn;var Yn=babelHelpers.classPrivateFieldLooseKey("layout");var Zn=babelHelpers.classPrivateFieldLooseKey("owner");var qn=babelHelpers.classPrivateFieldLooseKey("welcomePage");var Qn=babelHelpers.classPrivateFieldLooseKey("calendar");var Jn=babelHelpers.classPrivateFieldLooseKey("slotsBlock");var ec=babelHelpers.classPrivateFieldLooseKey("linkMembers");var sc=babelHelpers.classPrivateFieldLooseKey("eventMembers");var ac=babelHelpers.classPrivateFieldLooseKey("bindEvents");var lc=babelHelpers.classPrivateFieldLooseKey("renderFreeSlots");var tc=babelHelpers.classPrivateFieldLooseKey("renderSlotsSelector");var ic=babelHelpers.classPrivateFieldLooseKey("getNodeWrapper");var rc=babelHelpers.classPrivateFieldLooseKey("render");var oc=babelHelpers.classPrivateFieldLooseKey("init");class bc{constructor(e){var s;Object.defineProperty(this,oc,{value:pc});Object.defineProperty(this,rc,{value:vc});Object.defineProperty(this,ic,{value:_c});Object.defineProperty(this,tc,{value:dc});Object.defineProperty(this,lc,{value:cc});Object.defineProperty(this,ac,{value:nc});Object.defineProperty(this,Yn,{writable:true,value:void 0});Object.defineProperty(this,Zn,{writable:true,value:void 0});Object.defineProperty(this,qn,{writable:true,value:void 0});Object.defineProperty(this,Qn,{writable:true,value:void 0});Object.defineProperty(this,Jn,{writable:true,value:void 0});Object.defineProperty(this,ec,{writable:true,value:void 0});Object.defineProperty(this,sc,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,Zn)[Zn]=e.owner||null;this.target=t.Type.isDomNode(e.target)?e.target:null;babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn]={wrapper:null,animate:null};babelHelpers.classPrivateFieldLooseBase(this,qn)[qn]=null;babelHelpers.classPrivateFieldLooseBase(this,Qn)[Qn]=null;babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn]=null;babelHelpers.classPrivateFieldLooseBase(this,ec)[ec]=(e.parentLink||e.link).members;babelHelpers.classPrivateFieldLooseBase(this,sc)[sc]=(s=e.link.members)!=null?s:e.event.members;babelHelpers.classPrivateFieldLooseBase(this,oc)[oc]();babelHelpers.classPrivateFieldLooseBase(this,ac)[ac]();this.showPageWelcome(e);if(e.link.type==="event"){if(e.parentLink&&e.parentLink.active===true){babelHelpers.classPrivateFieldLooseBase(this,lc)[lc](e);babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].openEvent()}else if(e.event){babelHelpers.classPrivateFieldLooseBase(this,tc)[tc](e);babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].hideButton();babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].setAccessDenied();babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].openEvent()}else{babelHelpers.classPrivateFieldLooseBase(this,tc)[tc](e);babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].openAccessDenied()}}else if(e.link.active===true){babelHelpers.classPrivateFieldLooseBase(this,lc)[lc](e)}else{babelHelpers.classPrivateFieldLooseBase(this,tc)[tc](e);babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].handleWelcomePageButtonClick();babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].hideButton();babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].openAccessDenied()}if(e.action==="opened"){babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].handleWelcomePageButtonClick()}}showPageWelcome(e){if(!e.owner){return}babelHelpers.classPrivateFieldLooseBase(this,qn)[qn]=new ae({owner:e.owner,link:e.link,currentLang:e.currentLang,members:babelHelpers.classPrivateFieldLooseBase(this,ec)[ec]});t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,qn)[qn].render(),babelHelpers.classPrivateFieldLooseBase(this,ic)[ic]())}showFreeSlots(){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,ic)[ic](),"--hide")}hideFreeSlots(){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,ic)[ic](),"--hide")}}function nc(){n.EventEmitter.subscribe("showSlotSelector",this.showFreeSlots.bind(this));n.EventEmitter.subscribe("hideSlotSelector",this.hideFreeSlots.bind(this))}function cc(e){babelHelpers.classPrivateFieldLooseBase(this,Qn)[Qn]=new Ws({userIds:e.link.userIds,accessibility:e.userAccessibility,timezoneList:e.timezoneList,calendarSettings:e.calendarSettings,rule:e.link.rule});let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn]=new xn({selectedTimezoneId:babelHelpers.classPrivateFieldLooseBase(this,Qn)[Qn].getSelectedTimezoneId(),owner:babelHelpers.classPrivateFieldLooseBase(this,Zn)[Zn],link:e.parentLink||e.link,members:babelHelpers.classPrivateFieldLooseBase(this,sc)[sc],sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:true,eventLinkHash:s,action:e.action});const a=t.Tag.render(Gn||(Gn=Un`
			<div class="calendar-pub__block --plus">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Qn)[Qn].render());babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].animate=t.Tag.render(Wn||(Wn=Un`
			<div class="calendar-pub__block-animate">
				${0}
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),a,babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].render());n.EventEmitter.subscribe("selectorTypeChange",(e=>{if(e.data==="form"||e.data==="event"){t.Dom.addClass(a,"--hidden")}else{t.Dom.removeClass(a,"--hidden")}}));t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].animate,babelHelpers.classPrivateFieldLooseBase(this,ic)[ic]());if(e.link.type!=="event"){babelHelpers.classPrivateFieldLooseBase(this,Qn)[Qn].selectFirstAvailableDay()}}function dc(e){let s=null;if(e.link.type==="event"){s=e.link.hash}babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn]=new xn({selectedTimezoneId:null,owner:babelHelpers.classPrivateFieldLooseBase(this,Zn)[Zn],link:e.link,sharingUser:e.sharingUser,hasContactData:e.hasContactData,calendarSettings:e.calendarSettings,event:e.event,showBackCalendarButtons:false,action:e.action,eventLinkHash:s});babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].animate=t.Tag.render(Vn||(Vn=Un`
			<div class="calendar-pub__block-animate">
				<div class="calendar-pub__block">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,Jn)[Jn].render());t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].animate,babelHelpers.classPrivateFieldLooseBase(this,ic)[ic]())}function _c(){if(!babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].wrapper){babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].wrapper=t.Tag.render(Xn||(Xn=Un`
				<div class="calendar-pub__wrapper calendar-pub__state --hide"></div>
			`));if(t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,ec)[ec])||t.Type.isArrayFilled(babelHelpers.classPrivateFieldLooseBase(this,sc)[sc])){t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].wrapper,"--large")}}return babelHelpers.classPrivateFieldLooseBase(this,Yn)[Yn].wrapper}function vc(){if(!this.target){console.warn('BX.Calendar.Sharing: "target" is not defined');return}if(this.target.parentNode){t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,ic)[ic](),this.target.parentNode);t.Dom.remove(this.target)}}function pc(){babelHelpers.classPrivateFieldLooseBase(this,rc)[rc]()}e.PublicV2=bc;e.EventLayout=cb;e.WidgetDate=Nl})(this.BX.Calendar.Sharing=this.BX.Calendar.Sharing||{},BX,BX.UI,BX.Calendar,BX,BX.Main,BX.Main,BX.UI,BX,BX.Event);
//# sourceMappingURL=public-v2.bundle.map.js