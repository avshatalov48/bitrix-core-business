{"version":3,"file":"copilot-creation.bundle.js","sources":["../src/copilot-creation.js"],"sourcesContent":["import { BaseMessage } from 'im.v2.component.message.base';\nimport { SendingService } from 'im.v2.provider.service';\n\nimport './css/copilot-creation-message.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelMessage } from 'im.v2.model';\n\nconst SAMPLE_MESSAGES = [\n\t'IM_MESSAGE_COPILOT_CREATION_ACTION_WHAT_CAN_YOU_DO',\n\t'IM_MESSAGE_COPILOT_CREATION_ACTION_NEW_USER_GREETING',\n\t'IM_MESSAGE_COPILOT_CREATION_ACTION_BIRTHDAY_GREETING',\n\t'IM_MESSAGE_COPILOT_CREATION_ACTION_BIRTHDAY_PRESENT_IDEA',\n];\n\n// @vue/component\nexport const ChatCopilotCreationMessage = {\n\tname: 'ChatCopilotCreationMessage',\n\tcomponents: { BaseMessage },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tsampleMessages: () => SAMPLE_MESSAGES,\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tchatId(): number\n\t\t{\n\t\t\treturn this.message.chatId;\n\t\t},\n\t\tpreparedText(): string\n\t\t{\n\t\t\treturn this.loc('IM_MESSAGE_COPILOT_CREATION_TEXT', {\n\t\t\t\t'#BR#': '\\n',\n\t\t\t});\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonMessageClick(text: string)\n\t\t{\n\t\t\tthis.getSendingService().sendMessage({ text: this.loc(text), dialogId: this.dialogId });\n\t\t},\n\t\tgetSendingService(): SendingService\n\t\t{\n\t\t\tif (!this.sendingService)\n\t\t\t{\n\t\t\t\tthis.sendingService = SendingService.getInstance();\n\t\t\t}\n\n\t\t\treturn this.sendingService;\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseMessage\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:item=\"item\"\n\t\t\t:withContextMenu=\"false\"\n\t\t\t:withBackground=\"false\"\n\t\t>\n\t\t\t<div class=\"bx-im-message-copilot-creation__container\">\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__title\">CoPilot</div>\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__text\">{{ preparedText }}</div>\n\t\t\t\t<div class=\"bx-im-message-copilot-creation__actions\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-for=\"message in sampleMessages\"\n\t\t\t\t\t\t:key=\"message\"\n\t\t\t\t\t\t@click=\"onMessageClick(message)\"\n\t\t\t\t\t\tclass=\"bx-im-message-copilot-creation__action\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ loc(message) }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`,\n};\n"],"names":["SAMPLE_MESSAGES","ChatCopilotCreationMessage","name","components","BaseMessage","props","item","type","Object","required","dialogId","String","data","computed","sampleMessages","message","chatId","preparedText","loc","methods","onMessageClick","text","getSendingService","sendMessage","sendingService","SendingService","getInstance","phraseCode","replacements","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAQA,MAAMA,eAAe,GAAG,CACvB,oDAAoD,EACpD,sDAAsD,EACtD,sDAAsD,EACtD,0DAA0D,CAC1D;;CAED;AACA,OAAaC,0BAA0B,GAAG;GACzCC,IAAI,EAAE,4BAA4B;GAClCC,UAAU,EAAE;kBAAEC;IAAa;GAC3BC,KAAK,EAAE;KACNC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,IAAI,GACJ;KACC,OAAO,EAAE;IACT;GACDC,QAAQ,EACR;KACCC,cAAc,EAAE,MAAMd,eAAe;KACrCe,OAAO,GACP;OACC,OAAO,IAAI,CAACT,IAAI;MAChB;KACDU,MAAM,GACN;OACC,OAAO,IAAI,CAACD,OAAO,CAACC,MAAM;MAC1B;KACDC,YAAY,GACZ;OACC,OAAO,IAAI,CAACC,GAAG,CAAC,kCAAkC,EAAE;SACnD,MAAM,EAAE;QACR,CAAC;;IAEH;GACDC,OAAO,EACP;KACCC,cAAc,CAACC,IAAY,EAC3B;OACC,IAAI,CAACC,iBAAiB,EAAE,CAACC,WAAW,CAAC;SAAEF,IAAI,EAAE,IAAI,CAACH,GAAG,CAACG,IAAI,CAAC;SAAEX,QAAQ,EAAE,IAAI,CAACA;QAAU,CAAC;MACvF;KACDY,iBAAiB,GACjB;OACC,IAAI,CAAC,IAAI,CAACE,cAAc,EACxB;SACC,IAAI,CAACA,cAAc,GAAGC,qCAAc,CAACC,WAAW,EAAE;;OAGnD,OAAO,IAAI,CAACF,cAAc;MAC1B;KACDN,GAAG,CAACS,UAAkB,EAAEC,YAAmC,GAAG,EAAE,EAChE;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACJ,UAAU,EAAEC,YAAY,CAAC;;IAE7D;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;CAuBZ,CAAC;;;;;;;;"}