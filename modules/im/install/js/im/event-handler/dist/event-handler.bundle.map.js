{"version":3,"file":"event-handler.bundle.map.js","names":["this","BX","Messenger","exports","im_lib_clipboard","im_lib_timer","im_lib_uploader","im_lib_utils","main_core_events","im_const","im_lib_logger","main_core","SendMessageHandler","$Bitrix","babelHelpers","classCallCheck","defineProperty","controller","Data","get","store","restClient","RestClient","loc","Loc","messages","onSendMessageHandler","onSendMessage","bind","onClickOnMessageRetryHandler","onClickOnMessageRetry","onClickOnCommandHandler","onClickOnCommand","onClickOnKeyboardHandler","onClickOnKeyboard","EventEmitter","subscribe","EventType","textarea","sendMessage","dialog","clickOnMessageRetry","clickOnCommand","clickOnKeyboardButton","createClass","key","value","_ref","data","text","file","_this","arguments","length","undefined","quoteId","getters","getDialogId","quoteMessage","getChatId","getMessageTextWithQuote","emit","quotePanelClose","application","isUnreadMessagesLoaded","sendMessageToServer","id","chatId","dialogId","processQueue","params","FILE_ID","addMessageToModel","sending","then","messageId","scrollToBottom","cancelIfScrollChange","addMessageToQueue","_this2","messagesToSend","filter","element","forEach","deleteFromQueue","stopWriting","uploader","addMessageWithFile","_ref2","dispatch","authorId","getUserId","_ref3","push","_this3","callMethod","RestMethod","imMessageAdd","TEMPLATE_ID","DIALOG_ID","MESSAGE","response","executeRestAnswer","RestMethodHandler","error","Logger","warn","_ref4","event","retrySendMessage","message","setSendingMessageFlag","_ref5","type","handlePutAction","handleSendAction","_ref6","action","_event$params","handleKeyboardAction","_event$params2","botId","command","imMessageCommand","MESSAGE_ID","BOT_ID","COMMAND","COMMAND_PARAMS","console","Clipboard","copy","UI","Notification","Center","notify","content","autoHideDelay","insertText","concat","_this4","setTimeout","duration","user","files","quoteDelimiter","repeat","quoteTitle","name","quoteDate","Utils","date","format","quoteContent","quote","join","state","common","userId","destroy","unsubscribe","ReadingHandler","timer","Timer","onReadMessageHandler","onReadMessage","readMessage","_ref$data","_ref$data$id","_ref$data$skipTimer","skipTimer","_ref$data$skipAjax","skipAjax","messagesToRead","Number","parseInt","stop","processMessagesToRead","Promise","resolve","reject","start","result","lastMessageToRead","getMaxMessageIdFromQueue","readMessageOnClient","readResult","decreaseChatCounter","count","lastId","readMessageOnServer","maxMessageId","readId","imDialogRead","getDialogIdByChatId","counter","ReactionHandler","onSetMessageReactionHandler","onSetMessageReaction","onOpenMessageReactionListHandler","onOpenMessageReactionList","setMessageReaction","openMessageReactionList","reactToMessage","reaction","values","actions","auto","set","plus","minus","imMessageLike","ACTION","none","like","kiss","laugh","wonder","cry","angry","QuoteHandler","onQuoteMessageHandler","onQuoteMessage","onQuotePanelCloseHandler","onQuotePanelClose","clearQuote","fields","TextareaHandler","subscribeToEvents","onStartWritingHandler","onStartWriting","onStopWritingHandler","onStopWriting","onAppButtonClickHandler","onAppButtonClick","onFocusHandler","onFocus","onBlurHandler","onBlur","onKeyUpHandler","onKeyUp","onEditHandler","onEdit","startWriting","appButtonClick","focus","blur","keyUp","edit","isEmptyDialogId","has","imDialogWriting","getDiskFolderId","diskFolderId","TextareaUploadHandler","initUploader","onTextareaFileSelectedHandler","onTextareaFileSelected","addMessageWithFileHandler","onClickOnUploadCancelHandler","onClickOnUploadCancel","fileSelected","clickOnUploadCancel","Uploader","generatePreview","sender","getUploaderSenderOptions","onStartUploadHandler","onProgressHandler","onSelectFileHandler","onCompleteHandler","onUploadFileErrorHandler","onCreateFileErrorHandler","commitFile","imDiskFileCommit","chat_id","upload_id","uploadId","messageText","template_id","file_template_id","fileId","setUploadError","status","FileStatus","progress","retry","fileInput","fileChangeEvent","target","uploadFile","getData","requestDiskFolderId","addTask","taskId","fileData","source","fileName","generateUniqueName","previewBlob","addFilesFromEvent","unsubscribeAll","getCurrentUser","getMessageByFileId","eventData","chatMessages","messageWithFile","find","_message$params","Type","isArray","includes","previewData","isRequestingDiskFolderId","imDiskFolderGet","log","upload","fileType","toString","startsWith","extension","split","splice","size","image","width","previewDataWidth","height","previewDataHeight","authorName","urlPreview","URL","createObjectURL","wait","deleteTask","getActionCommitFile","getActionUploadChunk","actionUploadChunk","actionCommitFile","TextareaDragHandler","_EventEmitter","inherits","events","possibleConstructorReturn","getPrototypeOf","call","assertThisInitialized","setEventNamespace","device","isMobile","maximumHeight","configEvents","isObject","Object","entries","slicedToArray","callback","isFunction","onStartDrag","currentHeight","isDragging","changedTouches","textareaDragCursorStartPoint","clientY","textareaDragHeightStartPoint","addTextareaDragEvents","onTextareaContinueDrag","textareaDragCursorControlPoint","maxPoint","Math","min","newTextareaHeight","max","minimumHeight","onHeightChange","newHeight","onTextareaStopDrag","removeTextareaDragEvents","onStopDrag","onContinueDragHandler","onStopDragHandler","document","addEventListener","removeEventListener","DialogActionHandler","clickOnMentionHandler","onClickOnMention","clickOnUserNameHandler","onClickOnUserName","clickOnMessageMenuHandler","onClickOnMessageMenu","clickOnReadListHandler","onClickOnReadList","clickOnChatTeaserHandler","onClickOnChatTeaser","clickOnDialogHandler","onClickOnDialog","clickOnMention","clickOnUserName","clickOnMessageMenu","clickOnReadList","clickOnChatTeaser","clickOnDialog","joinParentChat","CHAT_ID","tempJoinChat","imChatParentJoin","unsubscribeEvents","namespace","Reflection","getClass","EventHandler","Lib","Event","Const"],"sources":["event-handler.bundle.js"],"mappings":"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"}