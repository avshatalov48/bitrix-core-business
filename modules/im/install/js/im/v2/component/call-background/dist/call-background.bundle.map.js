{"version":3,"file":"call-background.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_vue3","ui_buttons","ui_fonts_opensans","im_v2_lib_progressbar","ui_infoHelper","im_v2_lib_utils","im_v2_lib_desktopApi","im_v2_lib_helpdesk","rest_client","im_v2_const","main_core","main_core_events","im_v2_lib_logger","im_lib_uploader","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","Background","params","classCallCheck","assign","createClass","value","setUploadProgress","progress","uploadState","setUploadError","status","FileStatus","error","onUploadComplete","fileResult","id","isVideo","background","links","download","isLoading","canRemove","createDefaultFromRest","restItem","includes","isCustom","isSupported","createCustomFromRest","title","Loc","getMessage","createCustomFromUploaderEvent","uploaderData","filePreview","file","preview","type","startsWith","upload","size","BackgroundComponent","props","element","required","isSelected","Boolean","emits","data","computed","containerClasses","classes","imageStyle","backgroundImage","concat","watch","backgroundUploadStateStatus","getProgressBarManager","update","backgroundUploadStateProgress","mounted","initProgressBar","beforeUnmount","removeProgressBar","methods","_this","progressBarManager","ProgressBarManager","container","$refs","subscribe","event","cancel","$emit","destroy","progressBar","start","loc","phraseCode","$Bitrix","template","Action","none","gaussianBlur","blur","isEmpty","isBlur","isUpload","ActionComponent","action","Mask","createEmpty","active","mask","createFromRest","rawMask","MaskComponent","Loader","name","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_initLimits","WeakSet","_initInfoHelper","_limitIsActive","LimitManager","_limits","limits","_infoHelperUrlTemplate","infoHelperUrlTemplate","_initLimits2","call","_initInfoHelper2","isLimitedAction","_limitIsActive2","limitCode","isLimitedBackground","image","showLimitSlider","window","UI","InfoHelper","show","articleCode","isMaskFeatureAvailable","Utils","platform","isBitrixDesktop","DesktopApi","isFeatureEnabled","DesktopFeature","isMaskFeatureSupportedByDesktopVersion","isFeatureSupported","showHelpArticle","openHelpdeskArticle","limit","isInited","init","frameUrlTemplate","_this$limits$limitCod","_this$limits$limitCod2","limitIsActive","articleIsActive","TabId","MASK_HELP_ARTICLE_CODE","TabPanel","selectedTab","String","tabs","isNew","ownKeys$1","_objectSpread$1","VIDEO_CONSTRAINT_WIDTH","VIDEO_CONSTRAINT_HEIGHT","VideoPreview","noVideo","videoClasses","Call","Hardware","enableMirroring","created","initHardware","then","getDefaultDevices","console","videoStream","getTracks","tr","stop","_this2","constraints","audio","video","width","ideal","height","defaultCamera","selectedCamera","deviceId","exact","cameraList","navigator","mediaDevices","getUserMedia","stream","getVideoTracks","getSettings","playLocalVideo","Logger","warn","volume","srcObject","play","BackgroundService","getElementsList","_query","query","RestMethod","imCallBackgroundGet","imCallMaskGet","Promise","resolve","reject","rest","callBatch","response","backgroundResult","maskResult","commitBackground","fileId","callMethod","imCallBackgroundCommit","deleteFile","imCallBackgroundDelete","_classPrivateMethodInitSpec$1","_checkPrivateRedeclaration$1","_classPrivateMethodGet$1","FILE_MAX_SIZE","FILE_MAX_SIZE_PHRASE_NUMBER","UPLOAD_CHUNK_SIZE","NOTIFICATION_HIDE_DELAY","CUSTOM_BG_TASK_PREFIX","EVENT_NAMESPACE","_bindEvents","_onFileMaxSizeExceeded","_onSelectFile","_onStartUpload","_onProgress","_onComplete","_onUploadError","_addUploadTask","_isAllowedType","_showNotification","UploadManager","_EventEmitter","inherits","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","setEventNamespace","inputNode","uploader","Uploader","generatePreview","fileMaxSize","_bindEvents2","setDiskFolderId","diskFolderId","cancelUpload","deleteTask","EventEmitter","_onFileMaxSizeExceeded2","bind","_onSelectFile2","_onStartUpload2","_onProgress2","_onComplete2","_onUploadError2","eventData","getData","phrase","replace","_showNotification2","_event$getData","previewData","_isAllowedType2","_addUploadTask2","_event$getData2","URL","createObjectURL","emit","uploadStart","_event$getData3","uploadProgress","_event$getData4","result","uploadComplete","uploadError","addTask","taskId","Date","now","chunkSize","fileData","fileName","generateUniqueName","previewBlob","fileType","allowedFileTypes","text","Notification","Center","notify","content","autoHideDelay","CallBackground","components","tab","default","selectedBackgroundId","selectedMaskId","loadingItems","actions","defaultBackgrounds","customBackgrounds","masks","listIsScrolled","TabId$$1","backgrounds","toConsumableArray","isDesktop","uploadTypes","join","descriptionText","replaces","initSelectedTab","getBackgroundService","initLimitManager","initBackgroundList","uploadManager","folderId","uploadActionIsAvailable","initActions","initMasks","initMaskLoadEventHandler","initPreviouslySelectedItem","hideLoader","initUploader","initPreviouslySelectedMask","initPreviouslySelectedBackground","_DesktopApi$getCallMa","getCallMask","maskId","foundMask","find","previouslySelectedMask","_DesktopApi$getBackgr","getBackgroundImage","backgroundId","itemsToSearch","foundBackground","item","previouslySelectedBackground","restResult","custom","infoHelperParams","limitManager","_this3","backgroundsInstance","unshift","findCustomBackgroundById","onBackgroundClick","_this4","maskLoadTimeouts","setCallMaskLoadHandlers","onMaskLoad","onActionClick","getLimitManager","click","removeCallBackground","setCallBlur","setCallBackground","onBackgroundRemove","onMaskClick","removeCallMask","setCallMask","onSaveButtonClick","close","onCancelButtonClick","_this5","backgroundWasChanged","maskWasChanged","backgroundPromise","isWaitingForMaskToCancel","onListScroll","scrollTop","onTabChange","newTabId","url","masksWithoutEmpty","loadedMask","clearTimeout","lastRequestedMaskId","onSetCallBackgroundHandle","_this6","backgroundInstance","MASK_LOAD_STATUS_DELAY","setTimeout","backgroundService","replacements","undefined","Component","Vue3","Lib","Const","Event"],"sources":["call-background.bundle.js"],"mappings":"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"}