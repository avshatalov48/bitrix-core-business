{"version":3,"file":"channel-container.bundle.js","sources":["../src/channel-container.js"],"sourcesContent":["import { ChannelList } from 'im.v2.component.list.items.channel';\nimport { CreateChatPromo } from 'im.v2.component.elements';\nimport { Layout, ChatType, PromoId } from 'im.v2.const';\nimport { Analytics } from 'im.v2.lib.analytics';\nimport { Logger } from 'im.v2.lib.logger';\nimport { PromoManager } from 'im.v2.lib.promo';\nimport { CreateChatManager } from 'im.v2.lib.create-chat';\n\nimport './css/channel-container.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ChannelListContainer = {\n\tname: 'ChannelListContainer',\n\tcomponents: { ChannelList, CreateChatPromo },\n\temits: ['selectEntity'],\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowPromo: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tChatType: () => ChatType,\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn('List: Channel container created');\n\t},\n\tmethods:\n\t{\n\t\tonChatClick(dialogId): void\n\t\t{\n\t\t\tthis.$emit('selectEntity', { layoutName: Layout.channel.name, entityId: dialogId });\n\t\t},\n\t\tonCreateClick(): void\n\t\t{\n\t\t\tAnalytics.getInstance().onStartCreateNewChat(ChatType.channel);\n\t\t\tconst promoBannerIsNeeded = PromoManager.getInstance().needToShow(PromoId.createChannel);\n\t\t\tif (promoBannerIsNeeded)\n\t\t\t{\n\t\t\t\tthis.showPromo = true;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.startChannelCreation();\n\t\t},\n\t\tonPromoContinueClick()\n\t\t{\n\t\t\tPromoManager.getInstance().markAsWatched(PromoId.createChannel);\n\t\t\tthis.showPromo = false;\n\t\t\tthis.startChannelCreation();\n\t\t},\n\t\tstartChannelCreation()\n\t\t{\n\t\t\tCreateChatManager.getInstance().startChatCreation(ChatType.channel);\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-list-container-channel__container\">\n\t\t\t<div class=\"bx-im-list-container-channel__header_container\">\n\t\t\t\t<div class=\"bx-im-list-container-channel__header_title\">{{ loc('IM_LIST_CONTAINER_CHANNEL_HEADER_TITLE') }}</div>\n\t\t\t\t<div @click=\"onCreateClick\" class=\"bx-im-list-container-channel__header_create-channel\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-list-container-channel__elements_container\">\n\t\t\t\t<div class=\"bx-im-list-container-channel__elements\">\n\t\t\t\t\t<ChannelList @chatClick=\"onChatClick\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<CreateChatPromo\n\t\t\tv-if=\"showPromo\"\n\t\t\t:chatType=\"ChatType.channel\"\n\t\t\t@continue=\"onPromoContinueClick\"\n\t\t\t@close=\"showPromo = false\"\n\t\t/>\n\t`,\n};\n"],"names":["ChannelListContainer","name","components","ChannelList","CreateChatPromo","emits","data","showPromo","computed","ChatType","created","Logger","warn","methods","onChatClick","dialogId","$emit","layoutName","Layout","channel","entityId","onCreateClick","Analytics","getInstance","onStartCreateNewChat","promoBannerIsNeeded","PromoManager","needToShow","PromoId","createChannel","startChannelCreation","onPromoContinueClick","markAsWatched","CreateChatManager","startChatCreation","loc","phraseCode","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAYA;AACA,OAAaA,oBAAoB,GAAG;GACnCC,IAAI,EAAE,sBAAsB;GAC5BC,UAAU,EAAE;kBAAEC,8CAAW;sBAAEC;IAAiB;GAC5CC,KAAK,EAAE,CAAC,cAAc,CAAC;GACvBC,IAAI,GACJ;KACC,OAAO;OACNC,SAAS,EAAE;MACX;IACD;GACDC,QAAQ,EACR;KACCC,QAAQ,EAAE,MAAMA;IAChB;GACDC,OAAO,GACP;KACCC,uBAAM,CAACC,IAAI,CAAC,iCAAiC,CAAC;IAC9C;GACDC,OAAO,EACP;KACCC,WAAW,CAACC,QAAQ,EACpB;OACC,IAAI,CAACC,KAAK,CAAC,cAAc,EAAE;SAAEC,UAAU,EAAEC,kBAAM,CAACC,OAAO,CAAClB,IAAI;SAAEmB,QAAQ,EAAEL;QAAU,CAAC;MACnF;KACDM,aAAa,GACb;OACCC,6BAAS,CAACC,WAAW,EAAE,CAACC,oBAAoB,CAACf,oBAAQ,CAACU,OAAO,CAAC;OAC9D,MAAMM,mBAAmB,GAAGC,4BAAY,CAACH,WAAW,EAAE,CAACI,UAAU,CAACC,mBAAO,CAACC,aAAa,CAAC;OACxF,IAAIJ,mBAAmB,EACvB;SACC,IAAI,CAAClB,SAAS,GAAG,IAAI;SAErB;;OAGD,IAAI,CAACuB,oBAAoB,EAAE;MAC3B;KACDC,oBAAoB,GACpB;OACCL,4BAAY,CAACH,WAAW,EAAE,CAACS,aAAa,CAACJ,mBAAO,CAACC,aAAa,CAAC;OAC/D,IAAI,CAACtB,SAAS,GAAG,KAAK;OACtB,IAAI,CAACuB,oBAAoB,EAAE;MAC3B;KACDA,oBAAoB,GACpB;OACCG,sCAAiB,CAACV,WAAW,EAAE,CAACW,iBAAiB,CAACzB,oBAAQ,CAACU,OAAO,CAAC;MACnE;KACDgB,GAAG,CAACC,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;CAmBZ,CAAC;;;;;;;;"}