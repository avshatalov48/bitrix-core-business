{"version":3,"file":"promo-video-popup.bundle.js","sources":["../src/promo-video-popup.js"],"sourcesContent":["import { Tag, Type, Loc } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\nimport { Popup } from 'main.popup';\nimport { Icon, Main as MainIconSet, Set } from 'ui.icon-set.api.core';\nimport { Button, ButtonColor } from 'ui.buttons';\n\nimport 'ui.icon-set.main';\n\nimport './promo-video-popup.css';\n\nexport const AnglePosition = Object.freeze({\n\tTOP: 'top',\n\tLEFT: 'left',\n\tBOTTOM: 'bottom',\n\tRIGHT: 'right',\n});\n\nexport const PromoVideoPopupEvents = Object.freeze({\n\tACCEPT: 'accept',\n\tHIDE: 'hide',\n});\n\nexport type PromoVideoPopupOptions = {\n\tvideoSrc: string;\n\ttitle?: string;\n\ttext?: string;\n\ticon?: string;\n\tcolors?: PromoVideoPopupOptionsColors;\n\ttargetOptions: PromoVideoPopupTargetOptions;\n\tangleOptions?: PromoVideoPopupAngleOptions;\n\toffset?: PromoVideoPopupOffset;\n}\n\ntype PromoVideoPopupOffset = {\n\ttop: number;\n\tleft: number;\n}\n\ntype PromoVideoPopupTargetOptions = HTMLElement | { top: number, left: number };\n\ntype PromoVideoPopupAngleOptions = {\n\tposition: AnglePosition.TOP | AnglePosition.BOTTOM | AnglePosition.LEFT | AnglePosition.RIGHT;\n\toffset?: number;\n}\n\ntype PromoVideoPopupOptionsColors = {\n\ticonBackground: string;\n\ttitle: string;\n\tbutton: ButtonColor,\n}\n\nexport class PromoVideoPopup extends EventEmitter\n{\n\t#videoSrc: string;\n\t#title: string;\n\t#text: string;\n\t#icon: string;\n\t#colors: PromoVideoPopupOptionsColors;\n\t#targetOptions: PromoVideoPopupTargetOptions;\n\t#angleOptions: PromoVideoPopupAngleOptions;\n\t#offset: ?PromoVideoPopupOffset;\n\n\t#popup: ?Popup;\n\n\tconstructor(options: PromoVideoPopupOptions)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('UI.PromoVideoPopup');\n\n\t\tthis.#validateOptions(options);\n\n\t\tthis.#videoSrc = options.videoSrc;\n\t\tthis.#title = options.title;\n\t\tthis.#text = options.text;\n\t\tthis.#icon = this.#isIconExist(options.icon) ? options.icon : MainIconSet.B_24;\n\t\tthis.#colors = options.colors;\n\t\tthis.#targetOptions = options.targetOptions;\n\t\tthis.#angleOptions = options.angleOptions || false;\n\t\tthis.#offset = options.offset;\n\t}\n\n\tstatic getWidth(): number\n\t{\n\t\treturn 498;\n\t}\n\n\tshow(): void\n\t{\n\t\tif (!this.#popup)\n\t\t{\n\t\t\tthis.#iniPopup();\n\t\t}\n\n\t\tif (this.#popup.isShown())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#popup.show();\n\t}\n\n\thide(): void\n\t{\n\t\tthis.#popup?.close();\n\t}\n\n\tisShown(): boolean\n\t{\n\t\treturn Boolean(this.#popup?.isShown());\n\t}\n\n\tadjustPosition(): void\n\t{\n\t\tthis.#popup?.adjustPosition({\n\t\t\tforceBindPosition: true,\n\t\t});\n\t}\n\n\t#iniPopup(): void\n\t{\n\t\tconst styles = getComputedStyle(document.body);\n\t\tconst backgroundPrimary = styles.getPropertyValue('--ui-color-background-primary');\n\t\tconst backgroundPrimaryRgb = styles.getPropertyValue('--ui-color-background-primary-rgb');\n\n\t\tthis.#popup = new Popup({\n\t\t\tbindElement: this.#targetOptions,\n\t\t\tcacheable: false,\n\t\t\twidth: PromoVideoPopup.getWidth(),\n\t\t\tborderRadius: '16px',\n\t\t\tangle: this.#angleOptions,\n\t\t\tcontent: this.#renderPopupContent(),\n\t\t\tcloseByEsc: true,\n\t\t\tautoHide: true,\n\t\t\tcloseIcon: true,\n\t\t\tbackground: `rgba(${backgroundPrimaryRgb}, 0.5)`,\n\t\t\tcontentBackground: backgroundPrimary,\n\t\t\tcontentPadding: 12,\n\t\t\tcontentBorderRadius: '8px',\n\t\t\tclassName: this.#getPopupClassname(),\n\t\t\tevents: {\n\t\t\t\tonPopupClose: () => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.emit(PromoVideoPopupEvents.HIDE);\n\t\t\t\t\t\tthis.#popup.destroy();\n\t\t\t\t\t\tthis.#popup = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t},\n\t\t\t},\n\t\t\tanimation: {\n\t\t\t\tshowClassName: '--show',\n\t\t\t\tcloseClassName: this.#getAnimationCloseClassName(),\n\t\t\t\tcloseAnimationType: 'animation',\n\t\t\t},\n\t\t});\n\n\t\tthis.#popup.setOffset({\n\t\t\toffsetTop: this.#offset?.top,\n\t\t\toffsetLeft: this.#offset?.left,\n\t\t});\n\t}\n\n\t#getPopupClassname(): string\n\t{\n\t\tlet classNames = ['ui__promo-video-popup'];\n\n\t\tif (this.#angleOptions?.position === AnglePosition.RIGHT)\n\t\t{\n\t\t\tclassNames = [...classNames, '--from-right'];\n\t\t}\n\n\t\tif (this.#angleOptions?.position === AnglePosition.TOP)\n\t\t{\n\t\t\tclassNames = [...classNames, '--from-top'];\n\t\t}\n\n\t\treturn classNames.join(' ');\n\t}\n\n\t#getAnimationCloseClassName(): string\n\t{\n\t\tswitch (this.#angleOptions?.position)\n\t\t{\n\t\t\tcase AnglePosition.RIGHT:\n\t\t\t{\n\t\t\t\treturn '--close-left';\n\t\t\t}\n\n\t\t\tcase AnglePosition.TOP:\n\t\t\t{\n\t\t\t\treturn '--close-bottom';\n\t\t\t}\n\n\t\t\tdefault:\n\t\t\t{\n\t\t\t\treturn '--close';\n\t\t\t}\n\t\t}\n\t}\n\n\t#renderPopupContent(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div\n\t\t\t\tclass=\"ui__promo-video-popup-content\"\n\t\t\t\tstyle=\"${this.#getPopupContentVariablesStyles()}\"\n\t\t\t>\n\t\t\t\t<div class=\"ui__promo-video-popup-content_header\">\n\t\t\t\t\t<div class=\"ui__promo-video-popup-content_header-icon\">\n\t\t\t\t\t\t${this.#renderIcon()}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"ui__promo-video-popup-content_header-title\">\n\t\t\t\t\t\t${this.#title}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui__promo-video-popup-content_promo-text\">\n\t\t\t\t\t${this.#text}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui__promo-video-popup-content_promo-video-wrapper\">\n\t\t\t\t\t<video\n\t\t\t\t\t\tsrc=\"${this.#videoSrc}\"\n\t\t\t\t\t\tautoplay\n\t\t\t\t\t\tpreload\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tclass=\"ui__promo-video-popup-content_promo-video\"\n\t\t\t\t\t></video>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ui__promo-video-popup-content_footer\">\n\t\t\t\t\t${this.#renderAcceptButton()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderAcceptButton(): HTMLElement\n\t{\n\t\tconst color = this.#getOptionsButtonColor() || ButtonColor.PRIMARY;\n\n\t\tconst btn = new Button({\n\t\t\tcolor,\n\t\t\ttext: Loc.getMessage('PROMO_VIDEO_POPUP_ACCEPT'),\n\t\t\tsize: Button.Size.SMALL,\n\t\t\tround: true,\n\t\t\tonclick: () => {\n\t\t\t\tthis.emit(PromoVideoPopupEvents.ACCEPT);\n\t\t\t},\n\t\t});\n\n\t\treturn btn.render();\n\t}\n\n\t#renderIcon(): HTMLElement\n\t{\n\t\tconst color = getComputedStyle(document.body).getPropertyValue('--ui-color-on-primary');\n\n\t\tconst icon = new Icon({\n\t\t\tcolor,\n\t\t\tsize: 18,\n\t\t\ticon: this.#icon,\n\t\t});\n\n\t\treturn icon.render();\n\t}\n\n\t#getPopupContentVariablesStyles(): string\n\t{\n\t\tconst cssVariables = {};\n\n\t\tif (this.#getOptionsTitleColor())\n\t\t{\n\t\t\tcssVariables['--ui__promo-video-popup_title-color'] = this.#getOptionsTitleColor();\n\t\t}\n\n\t\tif (this.#getOptionsIconColor())\n\t\t{\n\t\t\tcssVariables['--ui__promo-video-popup_icon-color'] = this.#getOptionsIconColor();\n\t\t}\n\n\t\treturn Object.entries(cssVariables).map(([variable, value]) => {\n\t\t\treturn `${variable}: ${value}`;\n\t\t}).join(';');\n\t}\n\n\t#getOptionsTitleColor(): string\n\t{\n\t\treturn this.#colors?.title;\n\t}\n\n\t#getOptionsIconColor(): string\n\t{\n\t\treturn this.#colors?.iconBackground;\n\t}\n\n\t#getOptionsButtonColor(): ?string\n\t{\n\t\treturn this.#colors?.button;\n\t}\n\n\t// eslint-disable-next-line sonarjs/cognitive-complexity\n\t#validateOptions(options: PromoVideoPopupOptions): void\n\t{\n\t\tconst title = options?.title;\n\t\tconst text = options?.text;\n\t\tconst video = options?.videoSrc;\n\t\tconst iconColor = options?.colors?.iconBackground;\n\t\tconst titleColor = options?.colors?.title;\n\t\tconst buttonColor = options?.colors?.button;\n\t\tconst targetOptions = options?.targetOptions;\n\t\tconst offset = options?.offset;\n\n\t\tif (!options)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: options are required for constructor');\n\t\t}\n\n\t\tif (!targetOptions)\n\t\t{\n\t\t\tthrow new Error('UI.PromoVideoPopup: targetOptions is required option');\n\t\t}\n\n\t\tif (title && Type.isString(title) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: title option must be string');\n\t\t}\n\n\t\tif (iconColor && Type.isStringFilled(iconColor) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: colors.icon option must be string');\n\t\t}\n\n\t\tif (titleColor && Type.isStringFilled(titleColor) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: colors.title option must be string');\n\t\t}\n\n\t\tif (buttonColor && Object.values(ButtonColor).includes(buttonColor) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: colors.button option must be from ButtonColor from ui.buttons');\n\t\t}\n\n\t\tif (text && Type.isString(text) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: description option must be string');\n\t\t}\n\n\t\tif (!video)\n\t\t{\n\t\t\tthrow new Error('UI.PromoVideoPopup: videoSrc is required option');\n\t\t}\n\n\t\tif (video && Type.isStringFilled(video) === false)\n\t\t{\n\t\t\tthrow new Error('UI.PromoVideoPopup: videoSrc must be string');\n\t\t}\n\n\t\tif (offset && Type.isPlainObject(offset) === false)\n\t\t{\n\t\t\tthrow new Error('UI.PromoVideoPopup: offset options must be plain object with top and left properties');\n\t\t}\n\n\t\tif (offset?.top && Type.isNumber(offset?.top) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: offset.top option must be number');\n\t\t}\n\n\t\tif (offset?.left && Type.isNumber(offset?.left) === false)\n\t\t{\n\t\t\tthrow new TypeError('UI.PromoVideoPopup: offset.left option must be number');\n\t\t}\n\t}\n\n\t#isIconExist(icon: string): boolean\n\t{\n\t\treturn Object.values(Set).includes(icon);\n\t}\n}\n"],"names":["AnglePosition","Object","freeze","TOP","LEFT","BOTTOM","RIGHT","PromoVideoPopupEvents","ACCEPT","HIDE","PromoVideoPopup","EventEmitter","constructor","options","setEventNamespace","videoSrc","title","text","icon","MainIconSet","B_24","colors","targetOptions","angleOptions","offset","getWidth","show","isShown","hide","close","Boolean","adjustPosition","forceBindPosition","styles","getComputedStyle","document","body","backgroundPrimary","getPropertyValue","backgroundPrimaryRgb","Popup","bindElement","cacheable","width","borderRadius","angle","content","closeByEsc","autoHide","closeIcon","background","contentBackground","contentPadding","contentBorderRadius","className","events","onPopupClose","setTimeout","emit","destroy","animation","showClassName","closeClassName","closeAnimationType","setOffset","offsetTop","top","offsetLeft","left","classNames","position","join","Tag","render","color","ButtonColor","PRIMARY","btn","Button","Loc","getMessage","size","Size","SMALL","round","onclick","Icon","cssVariables","entries","map","variable","value","iconBackground","button","video","iconColor","titleColor","buttonColor","TypeError","Error","Type","isString","isStringFilled","values","includes","isPlainObject","isNumber","Set"],"mappings":"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"}