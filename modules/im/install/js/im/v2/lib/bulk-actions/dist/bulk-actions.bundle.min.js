this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,t,i,l,a){"use strict";var o=babelHelpers.classPrivateFieldLooseKey("instance");var n=babelHelpers.classPrivateFieldLooseKey("toggleBulkActionsMode");var r=babelHelpers.classPrivateFieldLooseKey("onKeyPressCloseBulkActions");class d{constructor(){Object.defineProperty(this,r,{value:c});Object.defineProperty(this,n,{value:b})}static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,o)[o]){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=new this}return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}init(){this.enableBulkModeHandler=this.enableBulkMode.bind(this);this.disableBulkModeHandler=this.disableBulkMode.bind(this);this.keyPressHandler=babelHelpers.classPrivateFieldLooseBase(this,r)[r].bind(this);s.EventEmitter.subscribe(i.EventType.dialog.openBulkActionsMode,this.enableBulkModeHandler);s.EventEmitter.subscribe(i.EventType.dialog.closeBulkActionsMode,this.disableBulkModeHandler)}destroy(){s.EventEmitter.unsubscribe(i.EventType.dialog.openBulkActionsMode,this.enableBulkModeHandler);s.EventEmitter.unsubscribe(i.EventType.dialog.closeBulkActionsMode,this.disableBulkModeHandler);t.Event.unbind(document,"keydown",this.keyPressHandler)}enableBulkMode(e){const{messageId:s}=e.getData();void l.Core.getStore().dispatch("messages/select/toggle",s);babelHelpers.classPrivateFieldLooseBase(this,n)[n](true);t.Event.bind(document,"keydown",this.keyPressHandler)}disableBulkMode(){void l.Core.getStore().dispatch("messages/select/clear");babelHelpers.classPrivateFieldLooseBase(this,n)[n](false)}}function b(e){void l.Core.getStore().dispatch("messages/select/toggleBulkActionsMode",e)}function c(e){if(a.Utils.key.isCombination(e,"Escape")){this.disableBulkMode()}}Object.defineProperty(d,o,{writable:true,value:void 0});e.BulkActionsManager=d})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Event,BX,BX.Messenger.v2.Const,BX.Messenger.v2.Application,BX.Messenger.v2.Lib);
//# sourceMappingURL=bulk-actions.bundle.map.js