{"version":3,"file":"call-background.bundle.map.js","names":["this","BX","Messenger","v2","exports","ui_vue3","ui_buttons","ui_fonts_opensans","im_v2_lib_progressbar","ui_infoHelper","im_v2_lib_utils","im_v2_lib_desktopApi","rest_client","im_v2_const","main_core","main_core_events","im_v2_lib_logger","im_lib_uploader","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","babelHelpers","defineProperty","getOwnPropertyDescriptors","defineProperties","Background","params","classCallCheck","assign","createClass","value","setUploadProgress","progress","uploadState","setUploadError","status","FileStatus","error","onUploadComplete","fileResult","id","isVideo","background","links","download","isLoading","canRemove","createDefaultFromRest","restItem","includes","isCustom","isSupported","createCustomFromRest","title","Loc","getMessage","createCustomFromUploaderEvent","uploaderData","filePreview","file","preview","type","startsWith","upload","size","BackgroundComponent","props","element","required","isSelected","Boolean","emits","data","computed","containerClasses","classes","imageStyle","backgroundImage","concat","watch","backgroundUploadStateStatus","getProgressBarManager","update","backgroundUploadStateProgress","mounted","initProgressBar","beforeUnmount","removeProgressBar","methods","_this","progressBarManager","ProgressBarManager","container","$refs","subscribe","event","cancel","$emit","destroy","progressBar","start","loc","phraseCode","$Bitrix","template","Action","none","gaussianBlur","blur","isEmpty","isBlur","isUpload","ActionComponent","action","Mask","createEmpty","active","mask","createFromRest","rawMask","MaskComponent","Loader","name","_classPrivateMethodInitSpec","obj","privateSet","_checkPrivateRedeclaration","add","privateCollection","has","TypeError","_classPrivateMethodGet","receiver","fn","_initLimits","WeakSet","_initInfoHelper","_limitIsActive","LimitManager","_limits","limits","_infoHelperUrlTemplate","infoHelperUrlTemplate","_initLimits2","call","_initInfoHelper2","isLimitedAction","_limitIsActive2","limitCode","isLimitedBackground","image","showLimitSlider","window","UI","InfoHelper","show","articleCode","isMaskFeatureAvailable","Utils","platform","isBitrixDesktop","DesktopApi","isFeatureEnabled","DesktopFeature","isMaskFeatureSupportedByDesktopVersion","isFeatureSupported","showHelpArticle","_window$BX$Helper","Helper","limit","isInited","init","frameUrlTemplate","_this$limits$limitCod","_this$limits$limitCod2","limitIsActive","articleIsActive","TabId","MASK_HELP_ARTICLE_CODE","TabPanel","selectedTab","String","tabs","isNew","ownKeys$1","_objectSpread$1","VIDEO_CONSTRAINT_WIDTH","VIDEO_CONSTRAINT_HEIGHT","VideoPreview","noVideo","videoClasses","Call","Hardware","enableMirroring","created","initHardware","then","getDefaultDevices","console","videoStream","getTracks","tr","stop","_this2","constraints","audio","video","width","ideal","height","defaultCamera","selectedCamera","deviceId","exact","cameraList","navigator","mediaDevices","getUserMedia","stream","getVideoTracks","getSettings","playLocalVideo","Logger","warn","volume","srcObject","play","BackgroundService","getElementsList","_query","query","RestMethod","imCallBackgroundGet","imCallMaskGet","Promise","resolve","reject","rest","callBatch","response","backgroundResult","maskResult","commitBackground","fileId","callMethod","imCallBackgroundCommit","deleteFile","imCallBackgroundDelete","_classPrivateMethodInitSpec$1","_checkPrivateRedeclaration$1","_classPrivateMethodGet$1","FILE_MAX_SIZE","FILE_MAX_SIZE_PHRASE_NUMBER","UPLOAD_CHUNK_SIZE","NOTIFICATION_HIDE_DELAY","CUSTOM_BG_TASK_PREFIX","EVENT_NAMESPACE","_bindEvents","_onFileMaxSizeExceeded","_onSelectFile","_onStartUpload","_onProgress","_onComplete","_onUploadError","_addUploadTask","_isAllowedType","_showNotification","UploadManager","_EventEmitter","inherits","possibleConstructorReturn","getPrototypeOf","assertThisInitialized","setEventNamespace","inputNode","uploader","Uploader","generatePreview","fileMaxSize","_bindEvents2","setDiskFolderId","diskFolderId","cancelUpload","deleteTask","EventEmitter","_onFileMaxSizeExceeded2","bind","_onSelectFile2","_onStartUpload2","_onProgress2","_onComplete2","_onUploadError2","eventData","getData","phrase","replace","_showNotification2","_event$getData","previewData","_isAllowedType2","_addUploadTask2","_event$getData2","URL","createObjectURL","emit","uploadStart","_event$getData3","uploadProgress","_event$getData4","result","uploadComplete","uploadError","addTask","taskId","Date","now","chunkSize","fileData","fileName","generateUniqueName","previewBlob","fileType","allowedFileTypes","text","Notification","Center","notify","content","autoHideDelay","CallBackground","components","tab","default","selectedBackgroundId","selectedMaskId","loadingItems","actions","defaultBackgrounds","customBackgrounds","masks","listIsScrolled","TabId$$1","backgrounds","toConsumableArray","isDesktop","uploadTypes","join","descriptionText","replaces","initSelectedTab","getBackgroundService","initLimitManager","initBackgroundList","uploadManager","folderId","uploadActionIsAvailable","initActions","initMasks","initMaskLoadEventHandler","initPreviouslySelectedItem","hideLoader","initUploader","initPreviouslySelectedMask","initPreviouslySelectedBackground","_DesktopApi$getCallMa","getCallMask","maskId","foundMask","find","previouslySelectedMask","_DesktopApi$getBackgr","getBackgroundImage","backgroundId","itemsToSearch","foundBackground","item","previouslySelectedBackground","restResult","custom","infoHelperParams","limitManager","_this3","backgroundsInstance","unshift","findCustomBackgroundById","onBackgroundClick","_this4","maskLoadTimeouts","setCallMaskLoadHandlers","onMaskLoad","onActionClick","getLimitManager","click","removeCallBackground","setCallBlur","setCallBackground","onBackgroundRemove","onMaskClick","removeCallMask","setCallMask","onSaveButtonClick","close","onCancelButtonClick","_this5","backgroundWasChanged","maskWasChanged","backgroundPromise","isWaitingForMaskToCancel","onListScroll","scrollTop","onTabChange","newTabId","url","masksWithoutEmpty","loadedMask","clearTimeout","lastRequestedMaskId","backgroundInstance","MASK_LOAD_STATUS_DELAY","setTimeout","backgroundService","replacements","undefined","Component","Vue3","Lib","Const","Event"],"sources":["call-background.bundle.js"],"mappings":"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"}