{"version":3,"file":"viewer.bundle.map.js","names":["this","BX","UI","exports","main_core","main_core_events","Item","Reflection","namespace","Util","BXPromise","DEFAULT_SCALE","PAGES_TO_PRELOAD","_loadingLibraryPromise","babelHelpers","classPrivateFieldLooseKey","_pageNumber","_loadingDocumentPromise","_resetState","Document","constructor","options","super","Object","defineProperty","value","_resetState2","writable","pdfPages","scale","pdfRenderedPages","lastRenderedPdfPage","disableAnnotationLayer","setPropertiesByNode","node","dataset","hasOwnProperty","applyReloadOptions","controller","unsetCachedData","src","listContainerModifiers","result","stretch","push","setSrc","_pdfSrc","classPrivateFieldLooseBase","setPdfSource","pdfSource","loadLibrary","Promise","resolve","reject","Runtime","loadExtension","then","pdfjsLib","GlobalWorkerOptions","workerSrc","catch","loadData","promise","fulfill","console","log","ajaxPromise","ajax","url","Uri","addParam","ts","method","dataType","headers","name","response","data","isTransforming","item","message","Loc","getMessage","replace","getSrc","type","transformationPromise","registerTransformationHandler","pullTag","render","showLoading","contentNode","Dom","create","props","className","tabIndex","Event","bind","throttle","handleScrollDocument","getNakedActions","nakedActions","insertPrintBeforeInfo","actions","infoIndex","i","length","printAction","action","print","insertIntoArray","getFirstDocumentPageHeight","_height","getDocumentPage","pdfDocument","page","viewport","getViewport","height","event","scrollBottom","scrollHeight","scrollTop","clientHeight","numPages","Math","min","renderDocumentPage","setPageNumber","loadDocument","getDocument","pdf","pageNumber","getPage","pagePromise","canvas","createCanvasPage","width","renderPromise","canvasContext","getContext","getAnnotations","annotationData","annotationLayer","insertAfter","adjust","style","margin","offsetHeight","AnnotationLayer","clone","dontFlip","linkService","SimpleLinkService","div","annotations","getTextContent","textContent","textLayer","renderTextLayer","container","textDivs","max","firstWidthDocumentPage","hideLoading","document","createElement","appendChild","getContentWidth","afterRender","_handleControls","handleVisibleControls","enableReadingMode","actionPanel","getItemById","layout","classList","remove","window","beforeHide","unbind","printer","hidePrintProgress","destroy","updatePrintProgressMessage","index","total","progress","round","setTextOnLoading","showPrintProgress","opacity","filter","zIndex","warn","PrintService","init","prepare","onProgress","performPrint","handleKeyPress","code","focus","getScale","setScale","updateScale","Number","ratio","updatePageScale","canvases","textLayers","pageIndex","clean","promises","Array","from","querySelectorAll","values","forEach","renderedPage","scrollTo","scrollLeft","all","getPagesNumber","Text","toInteger","_pdfInfo","scrollToPage","isChanged","renderPromises","pages","getPageNumber","EventEmitter","emit","PRINT_SCALE","iframe","documentOverview","rotation","pageCount","currentPage","Type","isFunction","frame","createIframe","process","contentWindow","setTimeout","renderPage","scratchCanvas","PRINT_RESOLUTION","PRINT_UNITS","floor","CSS_UNITS","ctx","save","fillStyle","fillRect","restore","renderContext","transform","intent","printItem","img","disableCreateObjectURL","toBlob","blob","URL","createObjectURL","toDataURL","wrapper","body","display","frameWindow","frameDoc","open","write","pageSize","getDocumentOverview","headTags","close","_","t","_t","_t2","_t3","_t4","_t5","_t6","_t7","_t8","_t9","InlineController","SingleDocumentController","bindEvents","eventsAlreadyBinded","getDocumentItem","subscribe","getListingControl","update","items","updateControls","updateListingControl","getViewerContainer","inner","Tag","getItemContainer","addClass","getControlsContainer","controlsContainer","getScaleControl","listingControl","ListingControl","_this$getDocumentItem","getCurrent","scaleControl","ScaleControl","_this$getDocumentItem2","_this$getDocumentItem3","_this$getDocumentItem4","_this$getDocumentItem5","current","pagesContainer","setEventNamespace","arrowClickHandler","handleArrowClick","innerHTML","renderPages","target","contains","SCALE_MIN","SCALE_MAX","zoomInContainer","zoomOutContainer","zoomValueNode","scaleClickHandler","handleScaleClick","setDefaultScale","hide","getZoomOutContainer","show","getZoomInContainer","getZoomValueNode","innerText","toNumber","Viewer"],"sources":["viewer.bundle.js"],"mappings":"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"}