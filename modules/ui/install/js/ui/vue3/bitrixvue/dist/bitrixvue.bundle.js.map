{"version":3,"sources":["../src/wrap/start.js","../src/vueuse.js","../src/bitrixvue.js","../src/wrap/end.js"],"names":["tryOnScopeDispose","fn","getCurrentScope","onScopeDispose","useObservable","observable","options","value","ref","initialValue","subscription","subscribe","next","val","error","onError","unsubscribe","BitrixVue","constructor","components","proxyComponents","finalComponents","cloneCounter","cloneComponents","mutations","developerMode","events","restClientChange","pullClientChange","settings","Extension","getSettings","localizationMode","get","createApp","rootComponent","rootProps","config","directive","mixin","provide","mount","unmount","use","mutableComponent","name","definition","Object","assign","bitrixVue","Proxy","target","property","Type","isUndefined","Reflect","arguments","bind","getMutableComponent","silentMode","isComponent","showNotice","component","hasOwnProperty","defineAsyncComponent","extension","componentExportName","loader","Promise","resolve","reject","Runtime","loadExtension","then","exports","template","isObjectLike","loadingComponent","isInteger","delayLoadExtension","timeout","previousLoader","setTimeout","mutateComponent","source","isString","push","isPlainObject","showError","cloneComponent","receiver","isMutable","isLocal","localComponent","testNode","object","params","tagName","toUpperCase","RegExp","test","Dom","hasClass","trim","className","getAttribute","prototype","toString","call","i","length","paramKey","getFilteredPhrases","vueInstance","phrasePrefix","phrases","result","$bitrix","Loc","getMessages","Array","isArray","message","find","element","startsWith","freeze","text","console","warn","install","app","$Bitrix","messages","getMessage","messageId","replacements","debugMessageId","replaceKeys","keys","join","forEach","replacement","globalRegexp","replace","isNil","String","hasMessage","BX","setMessage","id","isObject","code","Application","instance","set","Data","data","defaultValue","eventEmitter","EventEmitter","isFunction","setEventNamespace","window","Event","_uid","RestClient","rest","emit","isCustom","isNull","PullClient","pull","globalProperties","BitrixVueRef","computed","mounted","$root","$bitrixApplication","$bitrixController","$bitrixMessages","$bitrixRestClient","$bitrixPullClient","componentParams","mutation","objectParams","level","previousParamName","param","concat","substr","clonedObject","newObject","paramName","includes","originNewFunctionName","objectName","parentObjectName","mutationName"],"mappings":"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","file":"bitrixvue.bundle.js.map","sourcesContent":[null,"/*!\n * Utilities from VueUse collection\n * (c) 2019-2022 Anthony Fu\n * Released under the MIT License.\n *\n * @source: https://github.com/vueuse/vueuse/blob/main/packages/shared/tryOnScopeDispose/index.ts\n * @source: https://github.com/vueuse/vueuse/blob/main/packages/rxjs/useObservable/index.ts\n */\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove vue-demi library from global import, replace to 'ui.vue3';\n * - replace TypeScript to ECMAScript\n */\n\nimport { ref, getCurrentScope, onScopeDispose } from 'ui.vue3';\n\nexport function tryOnScopeDispose(fn)\n{\n\tif (getCurrentScope()) {\n\t\tonScopeDispose(fn)\n\t\treturn true\n\t}\n\treturn false\n}\n\nexport function useObservable(observable, options) {\n\tconst value = ref(options?.initialValue)\n\tconst subscription = observable.subscribe({\n\t\tnext: val => (value.value = val),\n\t\terror: options?.onError\n\t})\n\ttryOnScopeDispose(() => {\n\t\tsubscription.unsubscribe()\n\t})\n\treturn value\n}\n","/**\n * Bitrix Vue3 plugin\n *\n * @package bitrix\n * @subpackage ui\n * @copyright 2001-2021 Bitrix\n */\n\nimport { EventEmitter } from 'main.core.events';\nimport { Loc, Type, Dom, Runtime, Extension } from 'main.core';\nimport { RestClient, rest } from 'rest.client';\nimport { PullClient, PULL as pull } from 'pull.client';\nimport {\n\tdefineAsyncComponent,\n\tBitrixVueComponentProps,\n\tBitrixVueComponentProxy,\n\tVueCreateAppResult,\n\tVueAsyncComponentOptions,\n} from 'ui.vue3';\n\nimport { useObservable } from \"./vueuse\";\nexport { useObservable };\n\nclass BitrixVue\n{\n\tconstructor(): void\n\t{\n\t\tthis.components = {};\n\t\tthis.proxyComponents = {};\n\t\tthis.finalComponents = {};\n\n\t\tthis.cloneCounter = 0;\n\t\tthis.cloneComponents = {};\n\n\t\tthis.mutations = {};\n\n\t\tthis.developerMode = false;\n\n\t\tthis.events = {\n\t\t\trestClientChange: 'RestClient::change',\n\t\t\tpullClientChange: 'PullClient::change',\n\t\t}\n\n\t\tconst settings = Extension.getSettings('ui.vue3');\n\t\tthis.localizationMode = settings.get('localizationDebug', false)? 'development': 'production';\n\t}\n\n\t/**\n\t * Create new Vue application\n\t * @see https://vuejs.org/api/application.html\n\t *\n\t * @param {BitrixVueComponentProps} rootComponent - definition\n\t * @param {{[key: string]: any}|null} rootProps - definition\n\t * @returns VueCreateAppResult\n\t */\n\tcreateApp(rootComponent: BitrixVueComponentProps, rootProps?: {[key: string]: any}): VueCreateAppResult\n\t{\n\t\t/* Note: method will be replaced with Vue.createApp */\n\t\treturn {\n\t\t\tconfig: {},\n\t\t\tdirective: () => {},\n\t\t\tmixin: () => {},\n\t\t\tprovide: () => {},\n\t\t\tmount: () => {},\n\t\t\tunmount: () => {},\n\t\t\tuse: () => {},\n\t\t};\n\t}\n\n\t/**\n\t * Define BitrixVue component\n\t * @see https://vuejs.org/api/component-instance.html\n\t *\n\t * @param {string} name\n\t * @param {BitrixVueComponentProps} definition\n\t * @returns {BitrixVueComponentProxy}\n\t */\n\tmutableComponent(name: string, definition: BitrixVueComponentProps): BitrixVueComponentProxy\n\t{\n\t\tthis.components[name] = Object.assign({}, definition);\n\t\tthis.components[name].bitrixVue = { name };\n\n\t\tthis.finalComponents[name] = this.#getFinalComponentParams(name);\n\n\t\tthis.proxyComponents[name] = new Proxy(this.finalComponents[name], {\n\t\t\tget: function(target: *, property: string | symbol): any\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\t!Type.isUndefined(this.finalComponents[target.bitrixVue.name])\n\t\t\t\t\t&& !Type.isUndefined(this.finalComponents[target.bitrixVue.name][property])\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\treturn this.finalComponents[target.bitrixVue.name][property];\n\t\t\t\t}\n\n\t\t\t\treturn Reflect.get(...arguments);\n\t\t\t}.bind(this),\n\t\t});\n\n\t\treturn this.proxyComponents[name];\n\t}\n\n\t/**\n\t * Get BitrixVue component with mutations\n\t * @see https://vuejs.org/api/component-instance.html\n\t *\n\t * @param {string} name\n\t * @param {boolean} silentMode\n\t *\n\t * @returns {BitrixVueComponentProps}\n\t */\n\tgetMutableComponent(name: string, silentMode: boolean = false): BitrixVueComponentProps\n\t{\n\t\tif (!this.isComponent(name))\n\t\t{\n\t\t\tif (!silentMode)\n\t\t\t{\n\t\t\t\tthis.showNotice('Component \"'+name+'\" is not registered yet.');\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tconst component = this.#getFinalComponentParams(name);\n\t\tfor (const property in component)\n\t\t{\n\t\t\tif (!component.hasOwnProperty(property))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.proxyComponents[name][property] = component[property];\n\t\t}\n\n\t\treturn this.finalComponents[name];\n\t}\n\n\t/**\n\t * Define Async component\n\t * @see https://vuejs.org/guide/components/async.html\n\t *\n\t * @param extension {string}\n\t * @param componentExportName {string}\n\t * @param options {VueAsyncComponentOptions|null}\n\t * @return {Promise<BitrixVueComponentProps>}\n\t */\n\tdefineAsyncComponent(extension: string, componentExportName: string, options ?: VueAsyncComponentOptions): Promise\n\t{\n\t\tlet loader = () => new Promise((resolve, reject) => {\n\t\t\tRuntime.loadExtension(extension).then((exports) => {\n\t\t\t\tif (!Type.isUndefined(exports[componentExportName]))\n\t\t\t\t{\n\t\t\t\t\tresolve(exports[componentExportName]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresolve({\n\t\t\t\t\t\ttemplate: `\n\t\t\t\t\t\t\t<div style=\"display: inline-block; border: 1px dashed red; padding: 5px; margin: 5px;\">\n\t\t\t\t\t\t\t\tExtension <strong>${extension}</strong> or export variable <strong>${componentExportName}</strong> is not found!\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tif (!Type.isObjectLike(options))\n\t\t{\n\t\t\treturn defineAsyncComponent(loader);\n\t\t}\n\n\t\tif (!Type.isObjectLike(options.loadingComponent))\n\t\t{\n\t\t\treturn defineAsyncComponent(() => new Promise((resolve, reject) => {\n\t\t\t\tresolve({\n\t\t\t\t\ttemplate: `\n\t\t\t\t\t\t<div style=\"display: inline-block; border: 1px dashed red; padding: 5px; margin: 5px;\">\n\t\t\t\t\t\t\tExtension <strong>${extension}</strong> was not loaded due to a configuration error. Property <strong>loadingComponent</strong> is not defined.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`\n\t\t\t\t});\n\t\t\t}));\n\t\t}\n\n\t\t// this case is for development purposes only\n\t\tif (Type.isInteger(options.delayLoadExtension))\n\t\t{\n\t\t\tconst timeout = options.delayLoadExtension;\n\t\t\tconst previousLoader = loader;\n\t\t\tdelete options.delayLoadExtension;\n\n\t\t\tloader = () => new Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tpreviousLoader().then((component) => resolve(component));\n\t\t\t\t}, timeout)\n\t\t\t});\n\t\t}\n\n\t\treturn defineAsyncComponent({loader, ...options});\n\t}\n\n\t/**\n\t * Mutate Vue component\n\t *\n\t * @param {String|BitrixVueComponentProxy} source - name or definition\n\t * @param {Object} mutations\n\t * @returns {boolean}\n\t */\n\tmutateComponent(source, mutations: BitrixVueComponentProps): boolean\n\t{\n\t\tif (Type.isString(source))\n\t\t{\n\t\t\tif (Type.isUndefined(this.mutations[source]))\n\t\t\t{\n\t\t\t\tthis.mutations[source] = [];\n\t\t\t}\n\n\t\t\tthis.mutations[source].push(mutations);\n\t\t\tthis.getMutableComponent(source, true);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tif (\n\t\t\tType.isPlainObject(source)\n\t\t\t&& !Type.isUndefined(source.bitrixVue)\n\t\t)\n\t\t{\n\t\t\treturn this.mutateComponent(source.bitrixVue.name, mutations);\n\t\t}\n\n\t\tthis.showError(`You can not mutate classic Vue components. If you need to mutate, use BitrixVue.cloneComponent instead.`, source, mutations);\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Clone Vue component\n\t *\n\t * @param {string|object} source - name or definition\n\t * @param {BitrixVueComponentProps} mutations\n\t * @returns {BitrixVueComponentProxy|null}\n\t */\n\tcloneComponent(source, mutations: BitrixVueComponentProps): ?BitrixVueComponentProxy\n\t{\n\t\tif (Type.isString(source))\n\t\t{\n\t\t\tconst definition = this.#getComponentParamsWithMutation(source, [mutations]);\n\t\t\tif (definition)\n\t\t\t{\n\t\t\t\treturn definition;\n\t\t\t}\n\n\t\t\tthis.cloneCounter += 1;\n\n\t\t\tconst component = {bitrixVue: {\n\t\t\t\tsource,\n\t\t\t\tcloneCounter: this.cloneCounter,\n\t\t\t\tmutations\n\t\t\t}};\n\n\t\t\treturn new Proxy(component, {\n\t\t\t\tget: function(target: *, property: string | symbol, receiver: any): any\n\t\t\t\t{\n\t\t\t\t\tlet component;\n\t\t\t\t\tif (Type.isUndefined(this.cloneComponents[target.bitrixVue.cloneCounter]))\n\t\t\t\t\t{\n\t\t\t\t\t\tcomponent = this.#getComponentParamsWithMutation(target.bitrixVue.source, [target.bitrixVue.mutations]);\n\t\t\t\t\t\tif (component)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.cloneComponents[target.bitrixVue.cloneCounter] = component;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tcomponent = this.cloneComponents[target.bitrixVue.cloneCounter];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!component)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (property === 'template')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.showError(`Clone component #${target.bitrixVue.cloneCounter} is failed. Component ${target.bitrixVue.source} is not register yet.`, target.bitrixVue);\n\n\t\t\t\t\t\t\tif (this.developerMode)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn  `\n\t\t\t\t\t\t\t\t\t<div style=\"display: inline-block; border: 1px dashed red; padding: 5px; margin: 5px;\">\n\t\t\t\t\t\t\t\t\t\tThe cloned component <strong>#${target.bitrixVue.cloneCounter}</strong> is not shown because the original component <strong>${target.bitrixVue.source}</strong> was not registered.\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn `<!-- Placeholder for clone component #${target.bitrixVue.cloneCounter}. Component ${target.bitrixVue.source} was not registered. -->`;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Reflect.get(...arguments);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!Type.isUndefined(component[property]))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn component[property];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Reflect.get(...arguments);\n\t\t\t\t}.bind(this),\n\t\t\t});\n\t\t}\n\n\t\tif (\n\t\t\tType.isPlainObject(source)\n\t\t\t&& !Type.isUndefined(source.bitrixVue)\n\t\t)\n\t\t{\n\t\t\treturn this.#getComponentParamsWithMutation(source.bitrixVue.name, [mutations]);\n\t\t}\n\n\t\tif (Type.isPlainObject(source))\n\t\t{\n\t\t\treturn this.#applyMutation(\n\t\t\t\tthis.#cloneObjectBeforeApplyMutation(source, mutations),\n\t\t\t\tmutations\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Check exists Vue component\n\t *\n\t * @param {string} name\n\t * @returns {boolean}\n\t */\n\tisComponent(name): boolean\n\t{\n\t\treturn !Type.isUndefined(this.components[name]);\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tisMutable(): boolean\n\t{\n\t\tthis.showNotice('Method BitrixVue.isMutable is deprecated, remove usages.');\n\t\treturn true;\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tisLocal(): boolean\n\t{\n\t\tthis.showNotice('Method BitrixVue.isLocal is deprecated, remove usages.');\n\t\treturn false;\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tcomponent(name): void\n\t{\n\t\tthis.showError('Method BitrixVue.component is deprecated, use Vue.component or BitrixVue.mutableComponent. Component \"'+name+'\" was not registered.');\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tlocalComponent(name, definition: BitrixVueComponentProps): BitrixVueComponentProxy\n\t{\n\t\tthis.showNotice('Method BitrixVue.localComponent is deprecated, use Vue.mutableComponent instead. Component \"'+name+'\" has been registered, but this behavior will be removed in the future.');\n\t\treturn this.mutableComponent(name, definition);\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tdirective(name): void\n\t{\n\t\tthis.showError('Method BitrixVue.directive is deprecated, use Vue.directive (from ui.vue3 extension import). Directive \"'+name+'\" was not registered.');\n\t}\n\n\t/**\n\t * Test node for compliance with parameters\n\t *\n\t * @param object\n\t * @param params\n\t * @returns {boolean}\n\t */\n\ttestNode(object, params): boolean\n\t{\n\t\tif (!params || !Type.isPlainObject(params))\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (const property in params)\n\t\t{\n\t\t\tif (!params.hasOwnProperty(property))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch(property)\n\t\t\t{\n\t\t\t\tcase 'tag':\n\t\t\t\tcase 'tagName':\n\t\t\t\t\tif (Type.isString(params[property]))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (object.tagName.toUpperCase() !== params[property].toUpperCase())\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (params[property] instanceof RegExp)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!params[property].test(object.tagName))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'class':\n\t\t\t\tcase 'className':\n\t\t\t\t\tif (Type.isString(params[property]))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!Dom.hasClass(object, params[property].trim()))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (params[property] instanceof RegExp)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!Type.isString(object.className)\n\t\t\t\t\t\t\t|| !params[property].test(object.className)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'attr':\n\t\t\t\tcase 'attrs':\n\t\t\t\tcase 'attribute':\n\t\t\t\t\tif (Type.isString(params[property]))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!object.getAttribute(params[property]))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (\n\t\t\t\t\t\tparams[property]\n\t\t\t\t\t\t&& Object.prototype.toString.call(params[property]) === \"[object Array]\"\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let i = 0, length = params[property].length; i < length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (params[property][i] && !object.getAttribute(params[property][i]))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (const paramKey in params[property])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!params[property].hasOwnProperty(paramKey))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst value = object.getAttribute(paramKey);\n\t\t\t\t\t\t\tif (!Type.isString(value))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (params[property][paramKey] instanceof RegExp)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (!params[property][paramKey].test(value))\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (value !== '' + params[property][paramKey])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t\tcase 'property':\n\t\t\t\tcase 'props':\n\t\t\t\t\tif (Type.isString(params[property]))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!object[params[property]])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (params[property] && Object.prototype.toString.call(params[property]) === \"[object Array]\")\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (let i = 0, length = params[property].length; i<length; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (params[property][i] && !object[params[property][i]])\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tfor (const paramKey in params[property])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(!params[property].hasOwnProperty(paramKey))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (Type.isString(params[property][paramKey]))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (object[paramKey] !== params[property][paramKey])\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (params[property][paramKey] instanceof RegExp)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t!Type.isString(object[paramKey])\n\t\t\t\t\t\t\t\t\t|| !params[property][paramKey].test(object[paramKey])\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t *\n\t *\n\t * @param {Object} vueInstance\n\t * @param {String|Array} phrasePrefix\n\t * @param {Object|null} phrases\n\t * @returns {ReadonlyArray<any>}\n\t */\n\tgetFilteredPhrases(vueInstance, phrasePrefix, phrases = null): ReadonlyArray<any>\n\t{\n\t\tconst result = {};\n\n\t\tif (!phrases)\n\t\t{\n\t\t\tphrases = vueInstance.$bitrix.Loc.getMessages();\n\t\t}\n\n\t\tif (Array.isArray(phrasePrefix))\n\t\t{\n\t\t\tfor (const message in phrases)\n\t\t\t{\n\t\t\t\tif (!phrases.hasOwnProperty(message))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!phrasePrefix.find((element) => message.toString().startsWith(element)))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (this.localizationMode === 'development')\n\t\t\t\t{\n\t\t\t\t\tresult[message] = message;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult[message] = phrases[message];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (const message in phrases)\n\t\t\t{\n\t\t\t\tif (!phrases.hasOwnProperty(message))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!message.startsWith(phrasePrefix))\n\t\t\t\t{\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (this.localizationMode === 'development')\n\t\t\t\t{\n\t\t\t\t\tresult[message] = message;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresult[message] = phrases[message];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\treturn Object.freeze(result);\n\t}\n\n\t/**\n\t * Return component params with mutation\n\t *\n\t * @param {String} name\n\t * @param {Object} mutations\n\t * @returns {null|Object}\n\t *\n\t * @private\n\t */\n\t#getComponentParamsWithMutation(name, mutations): ?object\n\t{\n\t\tif (Type.isUndefined(this.components[name]))\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\tlet componentParams = Object.assign({}, this.components[name]);\n\n\t\tif (Type.isUndefined(mutations))\n\t\t{\n\t\t\treturn componentParams;\n\t\t}\n\n\t\tmutations.forEach(mutation =>\n\t\t{\n\t\t\tcomponentParams = this.#applyMutation(\n\t\t\t\tthis.#cloneObjectBeforeApplyMutation(componentParams, mutation),\n\t\t\tmutation);\n\t\t});\n\n\t\treturn componentParams;\n\t}\n\n\t#getFinalComponentParams(name): object\n\t{\n\t\treturn this.#getComponentParamsWithMutation(name, this.mutations[name]);\n\t}\n\n\t/**\n\t * Clone object without duplicate function for apply mutation\n\t *\n\t * @param objectParams\n\t * @param mutation\n\t * @param level\n\t * @param previousParamName\n\t * @private\n\t */\n\t#cloneObjectBeforeApplyMutation(objectParams = {}, mutation = {}, level = 1, previousParamName = ''): object\n\t{\n\t\tconst object = {};\n\n\t\tfor (const param in objectParams)\n\t\t{\n\t\t\tif (!objectParams.hasOwnProperty(param))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (Type.isString(objectParams[param]))\n\t\t\t{\n\t\t\t\tobject[param] = objectParams[param];\n\t\t\t}\n\t\t\telse if (Type.isArray(objectParams[param]))\n\t\t\t{\n\t\t\t\tobject[param] = [].concat(objectParams[param]);\n\t\t\t}\n\t\t\telse if (Type.isObjectLike(objectParams[param]))\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\tpreviousParamName === 'watch'\n\t\t\t\t\t|| previousParamName === 'props'\n\t\t\t\t\t|| previousParamName === 'directives'\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tobject[param] = objectParams[param];\n\t\t\t\t}\n\t\t\t\telse if (Type.isNull(objectParams[param]))\n\t\t\t\t{\n\t\t\t\t\tobject[param] = null;\n\t\t\t\t}\n\t\t\t\telse if (Type.isObjectLike(mutation[param]))\n\t\t\t\t{\n\t\t\t\t\tobject[param] = this.#cloneObjectBeforeApplyMutation(objectParams[param], mutation[param], (level+1), param)\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tobject[param] = Object.assign({}, objectParams[param])\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Type.isFunction(objectParams[param]))\n\t\t\t{\n\t\t\t\tif (!Type.isFunction(mutation[param]))\n\t\t\t\t{\n\t\t\t\t\tobject[param] = objectParams[param];\n\t\t\t\t}\n\t\t\t\telse if (level > 1)\n\t\t\t\t{\n\t\t\t\t\tif (previousParamName === 'watch')\n\t\t\t\t\t{\n\t\t\t\t\t\tobject[param] = objectParams[param];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tobject['parent'+param[0].toUpperCase()+param.substr(1)] = objectParams[param];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (Type.isUndefined(object['methods']))\n\t\t\t\t\t{\n\t\t\t\t\t\tobject['methods'] = {};\n\t\t\t\t\t}\n\t\t\t\t\tobject['methods']['parent'+param[0].toUpperCase()+param.substr(1)] = objectParams[param];\n\n\t\t\t\t\tif (Type.isUndefined(objectParams['methods']))\n\t\t\t\t\t{\n\t\t\t\t\t\tobjectParams['methods'] = {};\n\t\t\t\t\t}\n\t\t\t\t\tobjectParams['methods']['parent'+param[0].toUpperCase()+param.substr(1)] = objectParams[param];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!Type.isUndefined(objectParams[param]))\n\t\t\t{\n\t\t\t\tobject[param] = objectParams[param];\n\t\t\t}\n\t\t}\n\n\t\treturn object;\n\t}\n\n\t/**\n\t * Apply mutation\n\t *\n\t * @param clonedObject\n\t * @param mutation\n\t * @param level\n\t * @private\n\t */\n\t#applyMutation(clonedObject = {}, mutation = {}, level = 1): object\n\t{\n\t\tconst object = Object.assign({}, clonedObject);\n\t\tfor (const param in mutation)\n\t\t{\n\t\t\tif (!mutation.hasOwnProperty(param))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tlevel === 1\n\t\t\t\t&& (param === 'compilerOptions' || param === 'setup')\n\t\t\t)\n\t\t\t{\n\t\t\t\tobject[param] = mutation[param];\n\t\t\t}\n\t\t\telse if (level === 1 && param === 'extends')\n\t\t\t{\n\t\t\t\tobject[param] = mutation[param];\n\t\t\t}\n\t\t\telse if (Type.isString(mutation[param]))\n\t\t\t{\n\t\t\t\tif (Type.isString(object[param]))\n\t\t\t\t{\n\t\t\t\t\tobject[param] = mutation[param].replace(`#PARENT_${param.toUpperCase()}#`, object[param]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tobject[param] = mutation[param].replace(`#PARENT_${param.toUpperCase()}#`, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Type.isArray(mutation[param]))\n\t\t\t{\n\t\t\t\tif (level === 1 && param === 'replaceMixins')\n\t\t\t\t{\n\t\t\t\t\tobject['mixins'] = [].concat(mutation[param]);\n\t\t\t\t}\n\t\t\t\telse if (level === 1 && param === 'replaceInject')\n\t\t\t\t{\n\t\t\t\t\tobject['inject'] = [].concat(mutation[param]);\n\t\t\t\t}\n\t\t\t\telse if (level === 1 && param === 'replaceEmits')\n\t\t\t\t{\n\t\t\t\t\tobject['emits'] = [].concat(mutation[param]);\n\t\t\t\t}\n\t\t\t\telse if (level === 1 && param === 'replaceExpose')\n\t\t\t\t{\n\t\t\t\t\tobject['expose'] = [].concat(mutation[param]);\n\t\t\t\t}\n\t\t\t\telse if (Type.isPlainObject(object[param]))\n\t\t\t\t{\n\t\t\t\t\tmutation[param].forEach(element => object[param][element] = null);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tobject[param] = object[param].concat(mutation[param]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (Type.isObjectLike(mutation[param]))\n\t\t\t{\n\t\t\t\tif (\n\t\t\t\t\tlevel === 1 && param === 'props' && Type.isArray(object[param])\n\t\t\t\t\t|| level === 1 && param === 'emits' && Type.isArray(object[param])\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tconst newObject = {};\n\t\t\t\t\tobject[param].forEach(element => {\n\t\t\t\t\t\tnewObject[element] = null;\n\t\t\t\t\t});\n\t\t\t\t\tobject[param] = newObject;\n\t\t\t\t}\n\n\t\t\t\tif (level === 1 && param === 'watch')\n\t\t\t\t{\n\t\t\t\t\tfor (const paramName in object[param])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!object[param].hasOwnProperty(paramName))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (paramName.includes('.'))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tType.isFunction(object[param][paramName])\n\t\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t\tType.isObject(object[param][paramName])\n\t\t\t\t\t\t\t\t&& Type.isFunction(object[param][paramName]['handler'])\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isUndefined(object['methods']))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobject['methods'] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst originNewFunctionName = 'parentWatch'+paramName[0].toUpperCase()+paramName.substr(1);\n\n\t\t\t\t\t\t\tif (Type.isFunction(object[param][paramName]))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobject['methods'][originNewFunctionName] = object[param][paramName];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tobject['methods'][originNewFunctionName] = object[param][paramName]['handler'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (level === 1 && param === 'replaceEmits')\n\t\t\t\t{\n\t\t\t\t\tobject['emits'] = Object.assign({}, mutation[param]);\n\t\t\t\t}\n\t\t\t\telse if (\n\t\t\t\t\tlevel === 1\n\t\t\t\t\t&& (\n\t\t\t\t\t\tparam === 'components'\n\t\t\t\t\t\t|| param === 'directives'\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\tif (Type.isUndefined(object[param]))\n\t\t\t\t\t{\n\t\t\t\t\t\tobject[param] = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const objectName in mutation[param])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!mutation[param].hasOwnProperty(objectName))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet parentObjectName = objectName[0].toUpperCase()+objectName.substr(1);\n\t\t\t\t\t\tparentObjectName = param === 'components'? 'Parent'+parentObjectName: 'parent'+parentObjectName\n\t\t\t\t\t\tobject[param][parentObjectName] = Object.assign({}, object[param][objectName]);\n\n\t\t\t\t\t\tif (param === 'components')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (Type.isUndefined(mutation[param][objectName].components))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmutation[param][objectName].components = {};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmutation[param][objectName].components = Object.assign({[parentObjectName]: object[param][objectName]}, mutation[param][objectName].components);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tobject[param][objectName] = mutation[param][objectName];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Type.isArray(object[param]))\n\t\t\t\t{\n\t\t\t\t\tfor (const mutationName in mutation[param])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!mutation[param].hasOwnProperty(mutationName))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tobject[param].push(mutationName);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Type.isObjectLike(object[param]))\n\t\t\t\t{\n\t\t\t\t\tobject[param] = this.#applyMutation(object[param], mutation[param], (level+1));\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tobject[param] = mutation[param];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tobject[param] = mutation[param];\n\t\t\t}\n\t\t}\n\n\t\treturn object;\n\t}\n\n\t/**\n\t * @private\n\t * @param text\n\t * @param params\n\t */\n\tshowNotice(text, ...params): void\n\t{\n\t\tif (this.developerMode)\n\t\t{\n\t\t\tconsole.warn('BitrixVue: '+text, ...params);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param text\n\t * @param params\n\t */\n\tshowError(text, ...params): void\n\t{\n\t\tconsole.error('BitrixVue: '+text, ...params);\n\t}\n\n\t/**\n\t * @deprecated Special method for plugin registration\n\t */\n\tinstall(app): void\n\t{\n\t\tconst bitrixVue = this;\n\n\t\t// 1. Init Bitrix public api\n\t\tconst $Bitrix = {};\n\n\t\t// 1.1 Localization\n\t\t$Bitrix.Loc =\n\t\t{\n\t\t\tmessages: {},\n\n\t\t\tgetMessage: function(\n\t\t\t\tmessageId: string,\n\t\t\t\treplacements: ?{[key: string]: string} = null\n\t\t\t): string\n\t\t\t{\n\t\t\t\tif (bitrixVue.localizationMode === 'development')\n\t\t\t\t{\n\t\t\t\t\tlet debugMessageId = [messageId];\n\t\t\t\t\tif (Type.isPlainObject(replacements))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst replaceKeys = Object.keys(replacements);\n\t\t\t\t\t\tif (replaceKeys.length > 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdebugMessageId = [messageId, ' (replacements: ', replaceKeys.join(', '), ')']\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn debugMessageId.join('');\n\t\t\t\t}\n\n\t\t\t\tlet message = '';\n\t\t\t\tif (!Type.isUndefined(this.messages[messageId]))\n\t\t\t\t{\n\t\t\t\t\tmessage = this.messages[messageId];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tmessage = Loc.getMessage(messageId);\n\t\t\t\t\tthis.messages[messageId] = message;\n\t\t\t\t}\n\n\t\t\t\tif (Type.isString(message) && Type.isPlainObject(replacements))\n\t\t\t\t{\n\t\t\t\t\tObject.keys(replacements).forEach((replacement: string) => {\n\t\t\t\t\t\tconst globalRegexp = new RegExp(replacement, 'gi');\n\t\t\t\t\t\tmessage = message.replace(\n\t\t\t\t\t\t\tglobalRegexp,\n\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\treturn Type.isNil(replacements[replacement]) ? '' : String(replacements[replacement]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn message;\n\t\t\t},\n\n\t\t\thasMessage: function (messageId: string): boolean\n\t\t\t{\n\t\t\t\treturn Type.isString(messageId) && !Type.isNil(this.getMessages()[messageId]);\n\t\t\t},\n\n\t\t\tgetMessages: function (): object\n\t\t\t{\n\t\t\t\t// eslint-disable-next-line bitrix-rules/no-bx-message\n\t\t\t\tif (!Type.isUndefined(BX.message))\n\t\t\t\t{\n\t\t\t\t\t// eslint-disable-next-line bitrix-rules/no-bx-message\n\t\t\t\t\treturn {...BX.message, ...this.messages};\n\t\t\t\t}\n\n\t\t\t\treturn {...this.messages};\n\t\t\t},\n\n\t\t\tsetMessage: function(id: string | {[key: string]: string}, value?: string): void\n\t\t\t{\n\t\t\t\tif (Type.isString(id))\n\t\t\t\t{\n\t\t\t\t\tthis.messages[id] = value;\n\t\t\t\t}\n\n\t\t\t\tif (Type.isObject(id))\n\t\t\t\t{\n\t\t\t\t\tfor (const code in id)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (id.hasOwnProperty(code))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.messages[code] = id[code];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// 1.2  Application Data\n\t\t$Bitrix.Application =\n\t\t{\n\t\t\tinstance: null,\n\n\t\t\tget: function(): Object\n\t\t\t{\n\t\t\t\treturn this.instance;\n\t\t\t},\n\t\t\tset: function(instance: Object): void\n\t\t\t{\n\t\t\t\tthis.instance = instance;\n\t\t\t},\n\t\t};\n\n\t\t// 1.3  Application Data\n\t\t$Bitrix.Data =\n\t\t{\n\t\t\tdata: {},\n\n\t\t\tget: function(name: string, defaultValue: ?any): any\n\t\t\t{\n\t\t\t\treturn this.data[name] ?? defaultValue;\n\t\t\t},\n\t\t\tset: function(name: string, value: any): void\n\t\t\t{\n\t\t\t\tthis.data[name] = value;\n\t\t\t}\n\t\t};\n\n\t\t// 1.4  Application EventEmitter\n\t\t$Bitrix.eventEmitter = new EventEmitter();\n\n\t\t// hack for old version of Bitrix SM\n\t\tif (!Type.isFunction($Bitrix.eventEmitter.setEventNamespace))\n\t\t{\n\t\t\twindow.BX.Event.EventEmitter.prototype.setEventNamespace = function (): void {}\n\t\t\t$Bitrix.eventEmitter.setEventNamespace = function (): void {}\n\t\t}\n\n\t\t$Bitrix.eventEmitter.setEventNamespace('vue:app:'+app._uid);\n\n\t\t// 1.5  Application RestClient\n\t\t$Bitrix.RestClient =\n\t\t{\n\t\t\tinstance: null,\n\n\t\t\tget: function(): RestClient\n\t\t\t{\n\t\t\t\treturn this.instance ?? rest;\n\t\t\t},\n\t\t\tset: function(instance: RestClient): void\n\t\t\t{\n\t\t\t\tthis.instance = instance;\n\t\t\t\t$Bitrix.eventEmitter.emit(bitrixVue.events.restClientChange);\n\t\t\t},\n\t\t\tisCustom(): boolean\n\t\t\t{\n\t\t\t\treturn !Type.isNull(this.instance);\n\t\t\t}\n\t\t};\n\n\t\t// 1.6  Application PullClient\n\t\t$Bitrix.PullClient =\n\t\t{\n\t\t\tinstance: null,\n\n\t\t\tget: function(): PullClient\n\t\t\t{\n\t\t\t\treturn this.instance ?? pull;\n\t\t\t},\n\t\t\tset: function(instance: PullClient): void\n\t\t\t{\n\t\t\t\tthis.instance = instance;\n\t\t\t\t$Bitrix.eventEmitter.emit(bitrixVue.events.pullClientChange);\n\t\t\t},\n\n\t\t\tisCustom(): boolean\n\t\t\t{\n\t\t\t\treturn !Type.isNull(this.instance);\n\t\t\t}\n\t\t};\n\n\t\t// 2. Apply global properties\n\t\tapp.config.globalProperties.$bitrix = $Bitrix;\n\n\t\tconst BitrixVueRef = this;\n\n\t\tapp.mixin(\n\t\t{\n\t\t\tcomputed:\n\t\t\t{\n\t\t\t\t$Bitrix: function(): object\n\t\t\t\t{\n\t\t\t\t\treturn this.$bitrix;\n\t\t\t\t},\n\t\t\t},\n\t\t\tmounted: function (): void\n\t\t\t{\n\t\t\t\tif (!Type.isNil(this.$root.$bitrixApplication))\n\t\t\t\t{\n\t\t\t\t\tBitrixVueRef.showNotice(\"Store reference in global variables (like: this.$bitrixApplication) is deprecated, use this.$Bitrix.Data.set(...) instead.\");\n\t\t\t\t}\n\t\t\t\tif (!Type.isNil(this.$root.$bitrixController))\n\t\t\t\t{\n\t\t\t\t\tBitrixVueRef.showNotice(\"Store reference in global variables (like: this.$bitrixController) is deprecated, use this.$Bitrix.Data.set(...) instead.\");\n\t\t\t\t}\n\t\t\t\tif (!Type.isNil(this.$root.$bitrixMessages))\n\t\t\t\t{\n\t\t\t\t\tBitrixVueRef.showNotice(\"Store localization in global variable this.$bitrixMessages is deprecated, use this.$Bitrix.Log.setMessage(...) instead.\");\n\t\t\t\t}\n\t\t\t\tif (!Type.isNil(this.$root.$bitrixRestClient))\n\t\t\t\t{\n\t\t\t\t\tBitrixVueRef.showNotice(\"Working with a Rest-client through an old variable this.$bitrixRestClient is deprecated, use this.$Bitrix.RestClient.get() instead.\");\n\t\t\t\t}\n\t\t\t\tif (!Type.isNil(this.$root.$bitrixPullClient))\n\t\t\t\t{\n\t\t\t\t\tBitrixVueRef.showNotice(\"Working with a Pull-client through an old variable this.$bitrixPullClient is deprecated, use this.$Bitrix.PullClient.get() instead.\");\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nBitrixVue = new BitrixVue();\nexport { BitrixVue };\n",null]}