{"version":3,"file":"link.bundle.js","sources":["../src/link.js"],"sourcesContent":["import 'ui.design-tokens';\n\nimport {Cache, Tag, Type, Dom} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {fetchEventsFromOptions} from 'landing.ui.component.internal';\n\nimport './css/style.css';\n\nclass Colors\n{\n\tstatic Primary = 'primary';\n\tstatic Grey = 'grey';\n}\n\ntype LinkOptions = {\n\ttext: string | HTMLElement,\n\thref?: string,\n\ttarget?: '_self' | '_blank' | '_parent' | '_top',\n\tattrs?: {[key: string]: any},\n\tstyle?: CSSStyleDeclaration,\n\tcolor?: $Values<Colors>,\n};\n\nconst defaultOptions: LinkOptions = {\n\ttext: '',\n\tcolor: Colors.Primary,\n\tattrs: {},\n\tstyle: {},\n};\n\nexport class Link extends EventEmitter\n{\n\tstatic Colors = Colors;\n\n\toptions: LinkOptions;\n\n\tconstructor(options: LinkOptions)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Component.Link');\n\t\tthis.subscribeFromOptions(fetchEventsFromOptions(options));\n\t\tthis.options = {...defaultOptions, ...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\t}\n\n\tgetTag(): string\n\t{\n\t\treturn this.cache.remember('tag', () => {\n\t\t\treturn Type.isStringFilled(this.options.href) ? 'a' : 'span';\n\t\t});\n\t}\n\n\tgetLayout(): HTMLSpanElement | HTMLAnchorElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\tconst tag = this.getTag();\n\t\t\tconst element = Tag.render`\n\t\t\t\t<${tag}\n\t\t\t\t\tclass=\"landing-ui-component-link landing-ui-component-link-color-${this.options.color}\"\n\t\t\t\t\tonclick=\"${this.onClick.bind(this)}\">${this.options.text}</${tag}>\n\t\t\t`;\n\n\t\t\tif (tag === 'a')\n\t\t\t{\n\t\t\t\tDom.attr(element, 'href', this.options.href);\n\t\t\t}\n\n\t\t\tif (tag === 'a' && Type.isStringFilled(this.options.target))\n\t\t\t{\n\t\t\t\tDom.attr(element, 'target', this.options.target);\n\t\t\t}\n\n\t\t\tDom.attr(element, this.options.attrs);\n\t\t\tDom.style(element, this.options.style);\n\n\t\t\treturn element;\n\t\t});\n\t}\n\n\tonClick(event: MouseEvent)\n\t{\n\t\tif (this.getTag() === 'span')\n\t\t{\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tthis.emit('onClick');\n\t}\n}"],"names":["Colors","defaultOptions","text","color","Primary","attrs","style","Link","options","setEventNamespace","subscribeFromOptions","fetchEventsFromOptions","cache","Cache","MemoryCache","remember","Type","isStringFilled","href","tag","getTag","element","Tag","render","onClick","bind","Dom","attr","target","event","preventDefault","emit","EventEmitter"],"mappings":";;;;;;;;;;;;KAQMA;;;;6BAAAA,mBAEY;6BAFZA,gBAGS;CAYf,IAAMC,cAA2B,GAAG;CACnCC,EAAAA,IAAI,EAAE,EAD6B;CAEnCC,EAAAA,KAAK,EAAEH,MAAM,CAACI,OAFqB;CAGnCC,EAAAA,KAAK,EAAE,EAH4B;CAInCC,EAAAA,KAAK,EAAE;CAJ4B,CAApC;AAOA,KAAaC,IAAb;CAAA;;CAMC,gBAAYC,OAAZ,EACA;CAAA;;CAAA;CACC;;CACA,UAAKC,iBAAL,CAAuB,8BAAvB;;CACA,UAAKC,oBAAL,CAA0BC,oDAAsB,CAACH,OAAD,CAAhD;;CACA,UAAKA,OAAL,mCAAmBP,cAAnB,GAAsCO,OAAtC;CACA,UAAKI,KAAL,GAAa,IAAIC,eAAK,CAACC,WAAV,EAAb;CALD;CAMC;;CAbF;CAAA;CAAA,6BAgBC;CAAA;;CACC,aAAO,KAAKF,KAAL,CAAWG,QAAX,CAAoB,KAApB,EAA2B,YAAM;CACvC,eAAOC,cAAI,CAACC,cAAL,CAAoB,MAAI,CAACT,OAAL,CAAaU,IAAjC,IAAyC,GAAzC,GAA+C,MAAtD;CACA,OAFM,CAAP;CAGA;CApBF;CAAA;CAAA,gCAuBC;CAAA;;CACC,aAAO,KAAKN,KAAL,CAAWG,QAAX,CAAoB,QAApB,EAA8B,YAAM;CAC1C,YAAMI,GAAG,GAAG,MAAI,CAACC,MAAL,EAAZ;;CACA,YAAMC,OAAO,GAAGC,aAAG,CAACC,MAAP,qOACTJ,GADS,EAEwD,MAAI,CAACX,OAAL,CAAaL,KAFrE,EAGA,MAAI,CAACqB,OAAL,CAAaC,IAAb,CAAkB,MAAlB,CAHA,EAG4B,MAAI,CAACjB,OAAL,CAAaN,IAHzC,EAGkDiB,GAHlD,CAAb;;CAMA,YAAIA,GAAG,KAAK,GAAZ,EACA;CACCO,UAAAA,aAAG,CAACC,IAAJ,CAASN,OAAT,EAAkB,MAAlB,EAA0B,MAAI,CAACb,OAAL,CAAaU,IAAvC;CACA;;CAED,YAAIC,GAAG,KAAK,GAAR,IAAeH,cAAI,CAACC,cAAL,CAAoB,MAAI,CAACT,OAAL,CAAaoB,MAAjC,CAAnB,EACA;CACCF,UAAAA,aAAG,CAACC,IAAJ,CAASN,OAAT,EAAkB,QAAlB,EAA4B,MAAI,CAACb,OAAL,CAAaoB,MAAzC;CACA;;CAEDF,QAAAA,aAAG,CAACC,IAAJ,CAASN,OAAT,EAAkB,MAAI,CAACb,OAAL,CAAaH,KAA/B;CACAqB,QAAAA,aAAG,CAACpB,KAAJ,CAAUe,OAAV,EAAmB,MAAI,CAACb,OAAL,CAAaF,KAAhC;CAEA,eAAOe,OAAP;CACA,OAtBM,CAAP;CAuBA;CA/CF;CAAA;CAAA,4BAiDSQ,KAjDT,EAkDC;CACC,UAAI,KAAKT,MAAL,OAAkB,MAAtB,EACA;CACCS,QAAAA,KAAK,CAACC,cAAN;CACA;;CAED,WAAKC,IAAL,CAAU,SAAV;CACA;CAzDF;CAAA;CAAA,EAA0BC,6BAA1B;6BAAazB,gBAEIP;;;;;;;;"}