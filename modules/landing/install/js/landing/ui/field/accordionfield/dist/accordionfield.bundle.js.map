{"version":3,"file":"accordionfield.bundle.js","sources":["../src/accordionfield.js"],"sourcesContent":["import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom, Tag, Text} from 'main.core';\nimport {SmallSwitch} from 'landing.ui.field.smallswitch';\n\nimport './css/style.css';\n\ntype AccordionItemOption = {\n\tid: string,\n\ttitle: string,\n\ticon: string,\n\tchecked: boolean,\n\tswitcher?: boolean,\n\tcontent?: string | HTMLElement\n};\n\nexport class AccordionField extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.AccordionField');\n\t\tDom.addClass(this.layout, 'landing-ui-field-accordion');\n\t\tDom.replace(this.input, this.getItemsContainer());\n\n\t\tthis.items = [];\n\n\t\toptions.items.forEach((itemOptions) => {\n\t\t\tthis.addItem(itemOptions);\n\t\t});\n\t}\n\n\tgetItemsContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('itemsContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-field-accordion-items-container\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tonTitleClick(event: MouseEvent)\n\t{\n\t\tevent.preventDefault();\n\n\t\tconst item = event.currentTarget.closest('.landing-ui-field-accordion-item');\n\t\tif (Dom.hasClass(item, 'landing-ui-field-accordion-item-active'))\n\t\t{\n\t\t\tDom.toggleClass(item, 'landing-ui-field-accordion-item-opened');\n\t\t}\n\t}\n\n\tcreateItem(options: AccordionItemOption): HTMLDivElement\n\t{\n\t\tconst switcher = new SmallSwitch({\n\t\t\tvalue: Text.toBoolean(options.checked),\n\t\t\tonValueChange: () => {\n\t\t\t\tconst item = switcher.layout.closest('.landing-ui-field-accordion-item');\n\n\t\t\t\tif (switcher.getValue())\n\t\t\t\t{\n\t\t\t\t\tDom.addClass(item, 'landing-ui-field-accordion-item-active');\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tDom.removeClass(item, 'landing-ui-field-accordion-item-active');\n\t\t\t\t\tDom.removeClass(item, 'landing-ui-field-accordion-item-opened');\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"landing-ui-field-accordion-item landing-ui-field-accordion-item-active\" data-id=\"${options.id}\">\n\t\t\t\t<div class=\"landing-ui-field-accordion-item-header\">\n\t\t\t\t\t<div class=\"landing-ui-field-accordion-item-header-icon\" style=\"background-image: url(${options.icon})\"></div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"landing-ui-field-accordion-item-header-title\"\n\t\t\t\t\t\tonclick=\"${this.onTitleClick.bind(this)}\"\n\t\t\t\t\t>${options.title}</div>\n\t\t\t\t\t<div \n\t\t\t\t\t\tclass=\"landing-ui-field-accordion-item-header-switch\"\n\t\t\t\t\t\tstyle=\"${options.switcher === false ? 'display: none;' : ''}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"landing-ui-field-accordion-item-header-switch-link\"></div>\n\t\t\t\t\t\t${switcher.layout}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"landing-ui-field-accordion-item-body\">\n\t\t\t\t\t${options.content}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\taddItem(options: AccordionItemOption)\n\t{\n\t\tconst renderedItem = this.createItem(options);\n\n\t\tDom.append(renderedItem, this.getItemsContainer());\n\t}\n}"],"names":["AccordionField","options","setEventNamespace","Dom","addClass","layout","replace","input","getItemsContainer","items","forEach","itemOptions","addItem","cache","remember","Tag","render","event","preventDefault","item","currentTarget","closest","hasClass","toggleClass","switcher","SmallSwitch","value","Text","toBoolean","checked","onValueChange","getValue","removeClass","id","icon","onTitleClick","bind","title","content","renderedItem","createItem","append","BaseField"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;KAeaA,cAAb;CAAA;;CAEC,0BAAYC,OAAZ,EACA;CAAA;;CAAA;CACC,gHAAMA,OAAN;;CACA,UAAKC,iBAAL,CAAuB,oCAAvB;;CACAC,IAAAA,aAAG,CAACC,QAAJ,CAAa,MAAKC,MAAlB,EAA0B,4BAA1B;CACAF,IAAAA,aAAG,CAACG,OAAJ,CAAY,MAAKC,KAAjB,EAAwB,MAAKC,iBAAL,EAAxB;CAEA,UAAKC,KAAL,GAAa,EAAb;CAEAR,IAAAA,OAAO,CAACQ,KAAR,CAAcC,OAAd,CAAsB,UAACC,WAAD,EAAiB;CACtC,YAAKC,OAAL,CAAaD,WAAb;CACA,KAFD;CARD;CAWC;;CAdF;CAAA;CAAA,wCAiBC;CACC,aAAO,KAAKE,KAAL,CAAWC,QAAX,CAAoB,gBAApB,EAAsC,YAAM;CAClD,eAAOC,aAAG,CAACC,MAAX;CAGA,OAJM,CAAP;CAKA;CAvBF;CAAA;CAAA,iCAyBcC,KAzBd,EA0BC;CACCA,MAAAA,KAAK,CAACC,cAAN;CAEA,UAAMC,IAAI,GAAGF,KAAK,CAACG,aAAN,CAAoBC,OAApB,CAA4B,kCAA5B,CAAb;;CACA,UAAIlB,aAAG,CAACmB,QAAJ,CAAaH,IAAb,EAAmB,wCAAnB,CAAJ,EACA;CACChB,QAAAA,aAAG,CAACoB,WAAJ,CAAgBJ,IAAhB,EAAsB,wCAAtB;CACA;CACD;CAlCF;CAAA;CAAA,+BAoCYlB,OApCZ,EAqCC;CACC,UAAMuB,QAAQ,GAAG,IAAIC,wCAAJ,CAAgB;CAChCC,QAAAA,KAAK,EAAEC,cAAI,CAACC,SAAL,CAAe3B,OAAO,CAAC4B,OAAvB,CADyB;CAEhCC,QAAAA,aAAa,EAAE,yBAAM;CACpB,cAAMX,IAAI,GAAGK,QAAQ,CAACnB,MAAT,CAAgBgB,OAAhB,CAAwB,kCAAxB,CAAb;;CAEA,cAAIG,QAAQ,CAACO,QAAT,EAAJ,EACA;CACC5B,YAAAA,aAAG,CAACC,QAAJ,CAAae,IAAb,EAAmB,wCAAnB;CACA,WAHD,MAKA;CACChB,YAAAA,aAAG,CAAC6B,WAAJ,CAAgBb,IAAhB,EAAsB,wCAAtB;CACAhB,YAAAA,aAAG,CAAC6B,WAAJ,CAAgBb,IAAhB,EAAsB,wCAAtB;CACA;CACD;CAd+B,OAAhB,CAAjB;CAiBA,aAAOJ,aAAG,CAACC,MAAX,qBACgGf,OAAO,CAACgC,EADxG,EAG2FhC,OAAO,CAACiC,IAHnG,EAMe,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CANf,EAOMnC,OAAO,CAACoC,KAPd,EAUapC,OAAO,CAACuB,QAAR,KAAqB,KAArB,GAA6B,gBAA7B,GAAgD,EAV7D,EAaMA,QAAQ,CAACnB,MAbf,EAiBKJ,OAAO,CAACqC,OAjBb;CAqBA;CA5EF;CAAA;CAAA,4BA8ESrC,OA9ET,EA+EC;CACC,UAAMsC,YAAY,GAAG,KAAKC,UAAL,CAAgBvC,OAAhB,CAArB;CAEAE,MAAAA,aAAG,CAACsC,MAAJ,CAAWF,YAAX,EAAyB,KAAK/B,iBAAL,EAAzB;CACA;CAnFF;CAAA;CAAA,EAAoCkC,oCAApC;;;;;;;;"}