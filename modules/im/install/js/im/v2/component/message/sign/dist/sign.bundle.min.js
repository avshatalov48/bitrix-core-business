this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};this.BX.Messenger.v2.Component=this.BX.Messenger.v2.Component||{};(function(e,t,o,E,_,s,n,i){"use strict";const S=Object.freeze({inviteCompany:"inviteCompany",inviteCompanyWithInitiator:"inviteCompanyWithInitiator",inviteEmployeeSes:"inviteEmployeeSes",inviteEmployeeSesWithInitiator:"inviteEmployeeSesWithInitiator",inviteEmployeeGosKey:"inviteEmployeeGosKey",inviteEmployeeGosKeyV2:"inviteEmployeeGosKeyV2",inviteEmployeeGosKeyWithInitiator:"inviteEmployeeGosKeyWithInitiator",inviteReviewer:"inviteReviewer",inviteReviewerWithInitiator:"inviteReviewerWithInitiator",inviteEditor:"inviteEditor",inviteEditorWithInitiator:"inviteEditorWithInitiator"});const I=Object.freeze({doneCompany:"doneCompany",doneEmployee:"doneEmployee",doneEmployeeGosKey:"doneEmployeeGosKey",doneFromAssignee:"doneFromAssignee",doneFromEditor:"doneFromEditor",doneFromReviewer:"doneFromReviewer"});const M=Object.freeze({refusedCompanyV2:"refusedCompanyV2",refusedCompanyV2M:"refusedCompanyV2M",refusedCompanyV2F:"refusedCompanyV2F",employeeStoppedToCompanyV2:"employeeStoppedToCompanyV2",employeeStoppedToCompanyV2M:"employeeStoppedToCompanyV2M",employeeStoppedToCompanyV2F:"employeeStoppedToCompanyV2F",documentStoppedToInitiator:"documentStoppedToInitiator",documentStoppedToInitiatorM:"documentStoppedToInitiatorM",documentStoppedToInitiatorF:"documentStoppedToInitiatorF",documentStoppedToAssignee:"documentStoppedToAssignee",documentStoppedToAssigneeM:"documentStoppedToAssigneeM",documentStoppedToAssigneeF:"documentStoppedToAssigneeF",documentStoppedToReviewer:"documentStoppedToReviewer",documentStoppedToReviewerM:"documentStoppedToReviewerM",documentStoppedToReviewerF:"documentStoppedToReviewerF",documentStoppedToEditor:"documentStoppedToEditor",documentStoppedToEditorM:"documentStoppedToEditorM",documentStoppedToEditorF:"documentStoppedToEditorF",refusedCompany:"refusedCompany",employeeStoppedToCompany:"employeeStoppedToCompany",documentStopped:"documentStopped",documentCancelled:"documentCancelled",stoppedToEmployee:"stoppedToEmployee",stoppedToEmployeeM:"stoppedToEmployeeM",stoppedToEmployeeF:"stoppedToEmployeeF",signingError:"signingError",repeatSigning:"repeatSigning"});const T={[S.inviteCompany]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteCompanyWithInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_TITLE_INITIATOR"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_DESCRIPTION_INITIATOR"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_COMPANY_BUTTON_TEXT_INITIATOR"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteEmployeeSes]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteEmployeeSesWithInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_DESCRIPTION_INITIATOR"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_SES_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteEmployeeGosKey]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_TITLE_MSGVER_1"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_DESCRIPTION_MSGVER_1"),button:null},[S.inviteEmployeeGosKeyV2]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_TITLE_MSGVER_1"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_V2_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_V2_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.PrimaryBorder}},[S.inviteEmployeeGosKeyWithInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_TITLE_MSGVER_1"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_V2_INITIATOR_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EMPLOYEE_GOS_KEY_V2_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.PrimaryBorder}},[S.inviteReviewer]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteReviewerWithInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_TITLE_INITIATOR"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_DESCRIPTION_INITIATOR"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_REVIEWER_BUTTON_TEXT_INITIATOR"),callback:({initiator:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteEditor]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[S.inviteEditorWithInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_TITLE_INITIATOR"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_DESCRIPTION_INITIATOR"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_INVITE_EDITOR_BUTTON_TEXT_INITIATOR"),callback:({initiator:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[I.doneCompany]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_COMPANY_TITLE_MSGVER_1"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_COMPANY_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,false)},color:i.ButtonColor.PrimaryBorder}},[I.doneEmployee]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.PrimaryBorder}},[I.doneEmployeeGosKey]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_GOS_KEY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_GOS_KEY_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_EMPLOYEE_GOS_KEY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.PrimaryBorder}},[I.doneFromAssignee]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_ASSIGNEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_ASSIGNEE_DESCRIPTION"),button:null},[I.doneFromEditor]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_EDITOR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_EDITOR_DESCRIPTION"),button:null},[I.doneFromReviewer]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_REVIEWER_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DONE_FROM_REVIEWER_DESCRIPTION_MSGVER_1"),button:null},[M.refusedCompanyV2]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.refusedCompanyV2M]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_DESCRIPTIONM_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.refusedCompanyV2F]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_DESCRIPTIONF_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.stoppedToEmployee]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE_DESCRIPTION")},[M.stoppedToEmployeeM]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE_DESCRIPTIONM")},[M.stoppedToEmployeeF]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_STOPPED_TO_EMPLOYEE_TITLE_DESCRIPTIONF")},[M.employeeStoppedToCompanyV2]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.employeeStoppedToCompanyV2M]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_DESCRIPTIONM_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.employeeStoppedToCompanyV2F]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_DESCRIPTIONF_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.documentStoppedToAssignee]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_DESCRIPTION")},[M.documentStoppedToAssigneeM]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_DESCRIPTIONM")},[M.documentStoppedToAssigneeF]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_ASSIGNEE_DESCRIPTIONF")},[M.documentStoppedToReviewer]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_DESCRIPTION")},[M.documentStoppedToReviewerM]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_DESCRIPTIONM")},[M.documentStoppedToReviewerF]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_REVIEWER_DESCRIPTIONF")},[M.documentStoppedToEditor]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_DESCRIPTION")},[M.documentStoppedToEditorM]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_DESCRIPTIONM")},[M.documentStoppedToEditorF]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TO_EDITOR_DESCRIPTIONF")},[M.documentStoppedToInitiator]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_DESCRIPTION_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.documentStoppedToInitiatorM]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_DESCRIPTIONM_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.documentStoppedToInitiatorF]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_DESCRIPTIONF_MSGVER_1"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.refusedCompany]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_REFUSED_COMPANY_DESCRIPTION")},[M.employeeStoppedToCompany]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_EMPLOYEE_STOPPED_TO_COMPANY_DESCRIPTION")},[M.documentStopped]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_STOPPED_DESCRIPTION")},[M.documentCancelled]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_CANCELLED_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_CANCELLED_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_CANCELLED_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.signingError]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_SIGNING_ERROR_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_SIGNING_ERROR_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_SIGNING_ERROR_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}},[M.repeatSigning]:{title:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_REPEAT_TITLE"),description:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_REPEAT_DESCRIPTION"),button:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_DOCUMENT_REPEAT_BUTTON_TEXT"),callback:({user:e,document:t})=>{r(t,true)},color:i.ButtonColor.Primary}}};function r(e,t=false){if(e.link!==undefined){if(!n.Browser.isMobile()&&t){a(e.link)}else{window.open(e.link)}}}function a(e){if(!c(e)){return BX.Runtime.loadExtension("sign.v2.b2e.sign-link").then((()=>BX.SidePanel.Instance.open(e,{extensions:["sign.v2.b2e.sign-link"]})))}return BX.SidePanel.Instance.open("sign:stub:sign-link",{width:900,cacheable:false,allowCrossOrigin:true,allowCrossDomain:true,allowChangeHistory:false,newWindowUrl:e,copyLinkLabel:true,newWindowLabel:true,loader:"/bitrix/js/intranet/sidepanel/bindings/images/sign_mask.svg",label:{text:n.Loc.getMessage("IM_MESSAGE_SIGN_SIDEPANEL_BTN_SIGN"),bgColor:"#C48300"},contentCallback(t){return BX.Runtime.loadExtension("sign.v2.b2e.sign-link").then((o=>{const E=/\/sign\/link\/member\/(\d+)\//i.exec(e);return new o.SignLink({memberId:E[1],slider:t}).render()}))}})}function c(e){return/^\/sign\/link\/member\/\d+\/$/.test(e)}const g={STAGE_ID:"stageId",USER:"user",INITIATOR:"initiator",DOCUMENT:"document",HELP_ARTICLE:"helpArticle"};const l={name:"SignMessage",components:{ButtonComponent:i.Button,BaseMessage:E.BaseMessage,DefaultMessage:s.DefaultMessage,MessageStatus:_.MessageStatus},props:{item:{type:Object,required:true},dialogId:{type:String,required:true}},computed:{message(){return this.item},ButtonSize:()=>i.ButtonSize,componentParams(){return this.message.componentParams},stageId(){var e;return(e=this.componentParams[g.STAGE_ID])!=null?e:""},user(){return this.componentParams[g.USER]},initiator(){return this.componentParams[g.INITIATOR]},document(){return this.componentParams[g.DOCUMENT]},helpArticle(){var e;return(e=this.componentParams[g.HELP_ARTICLE])!=null?e:""},signData(){const e=T[this.stageId];if(!e){console.error("SignMessage: signData is undefined.")}return e},title(){var e,t;return(e=(t=this.signData)==null?void 0:t.title)!=null?e:""},description(){var e,t;return(e=(t=this.signData)==null?void 0:t.description)!=null?e:""},button(){var e;return(e=this.signData)==null?void 0:e.button},isAwaitSign(){return Object.values(S).includes(this.stageId)},isSuccessSign(){return Object.values(I).includes(this.stageId)},isFailureSign(){return Object.values(M).includes(this.stageId)},isSelfMessage(){return this.message.authorId===t.Core.getUserId()},containerClasses(){return{"--self":this.isSelfMessage,"--await":this.isAwaitSign,"--success":this.isSuccessSign,"--failure":this.isFailureSign}}},methods:{replacePhrase(e){var t,E,_,s,i;let S=e!=null?e:"";const I=o.Utils.user.getProfileLink((t=this.user)==null?void 0:t.id);const M=o.Utils.user.getProfileLink((E=this.initiator)==null?void 0:E.id);const T=`BX.Helper?.show('redirect=detail&code=${this.helpArticle}')`;const r="bx-im-message-sign__link";const a="bx-im-message-sign__document";const c={"#DOCUMENT_NAME#":`<span class="${a}">${n.Text.encode((_=this.document)==null?void 0:_.name)}</span>`,"#USER_LINK#":`<a href="${I}" class="${r}">${n.Text.encode((s=this.user)==null?void 0:s.name)}</a>`,"#INITIATOR_LINK#":`<a href="${M}" class="${r}">${n.Text.encode((i=this.initiator)==null?void 0:i.name)}</a>`,"[helpdesklink]":`<a onclick="${T}" class="${r}">`,"[/helpdesklink]":"</a>"};Object.keys(c).forEach((e=>{S=S.replaceAll(e,c[e])}));return S}},template:`\n\t\t<DefaultMessage v-if="!signData" :item="item" :dialogId="dialogId" />\n\t\t<BaseMessage\n\t\t\tv-else\n\t\t\t:dialogId="dialogId"\n\t\t\t:item="item"\n\t\t\t:withContextMenu="false"\n\t\t\t:withReactions="false"\n\t\t\t:withBackground="false"\n\t\t\tclass="bx-im-message-sign__scope"\n\t\t>\n\t\t\t<div :class="['bx-im-message-sign__container', containerClasses]">\n\t\t\t\t<div class="bx-im-message-sign__image" />\n\t\t\t\t<div class="bx-im-message-sign__content">\n\t\t\t\t\t<div class="bx-im-message-sign__title">\n\t\t\t\t\t\t{{ title }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-im-message-sign__description" v-html="replacePhrase(description)" />\n\t\t\t\t\t<div class="bx-im-message-sign__buttons_container">\n\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\tv-if="button"\n\t\t\t\t\t\t\t:size="ButtonSize.L"\n\t\t\t\t\t\t\tisRounded\n\t\t\t\t\t\t\t:text="button.text"\n\t\t\t\t\t\t\t:color="button.color"\n\t\t\t\t\t\t\t@click="button.callback({ user, document })"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-im-message-sign__status_container">\n\t\t\t\t\t<MessageStatus :item="message" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`};e.SignMessage=l;e.Await=S;e.Success=I;e.Failure=M})(this.BX.Messenger.v2.Component.Message=this.BX.Messenger.v2.Component.Message||{},BX.Messenger.v2.Application,BX.Messenger.v2.Lib,BX.Messenger.v2.Component.Message,BX.Messenger.v2.Component.Message,BX.Messenger.v2.Component.Message,BX,BX.Messenger.v2.Component.Elements);
//# sourceMappingURL=sign.bundle.map.js