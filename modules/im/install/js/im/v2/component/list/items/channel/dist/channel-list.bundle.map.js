{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","ChatTitle","data","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","length","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","loadFirstPage","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","async","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","getStore","dispatch","restResult","users","chats","files","recentItems","usersPromise","UserManager","setUsersToModel","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstMessage","messageId","secondMessage","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","activated","getRecentService","getPullWatchManager","deactivated","onScroll","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","pullWatchManager","List","Main","Elements","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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","ignoreList":[]}