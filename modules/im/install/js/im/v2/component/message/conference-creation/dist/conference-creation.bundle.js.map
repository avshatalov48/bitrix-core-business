{"version":3,"file":"conference-creation.bundle.js","sources":["../src/conference-creation.js"],"sourcesContent":["import 'ui.notification';\n\nimport { Messenger } from 'im.public';\nimport { Button as ButtonComponent, ButtonSize, ButtonIcon } from 'im.v2.component.elements';\nimport { BaseMessage } from 'im.v2.component.message.base';\nimport { Analytics as CallAnalytics } from 'call.lib.analytics';\n\nimport './css/conference-creation-message.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { CustomColorScheme } from 'im.v2.component.elements';\nimport type { ImModelMessage, ImModelChat } from 'im.v2.model';\n\nconst BUTTON_COLOR = '#00ace3';\n\n// @vue/component\nexport const ConferenceCreationMessage = {\n\tname: 'ConferenceCreationMessage',\n\tcomponents: { ButtonComponent, BaseMessage },\n\tprops: {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowAddToChatPopup: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tButtonSize: () => ButtonSize,\n\t\tButtonIcon: () => ButtonIcon,\n\t\tbuttonColorScheme(): CustomColorScheme\n\t\t{\n\t\t\treturn {\n\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\tborderColor: BUTTON_COLOR,\n\t\t\t\ticonColor: BUTTON_COLOR,\n\t\t\t\ttextColor: BUTTON_COLOR,\n\t\t\t\thoverColor: 'transparent',\n\t\t\t};\n\t\t},\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.item;\n\t\t},\n\t\tchatId(): number\n\t\t{\n\t\t\treturn this.message.chatId;\n\t\t},\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/getByChatId'](this.chatId);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonStartButtonClick()\n\t\t{\n\t\t\tCallAnalytics.getInstance().onChatStartConferenceClick({ chatId: this.chatId });\n\n\t\t\tMessenger.openConference({\n\t\t\t\tcode: this.dialog.public.code,\n\t\t\t});\n\t\t},\n\t\tonCopyLinkClick()\n\t\t{\n\t\t\tif (BX.clipboard.copy(this.dialog.public.link))\n\t\t\t{\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: this.loc('IM_MESSAGE_CONFERENCE_CREATION_LINK_COPY_SUCCESS'),\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseMessage\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:item=\"item\"\n\t\t\t:withContextMenu=\"false\"\n\t\t\t:withReactions=\"false\"\n\t\t\t:withBackground=\"false\"\n\t\t\tclass=\"bx-im-message-conference-creation__scope\"\n\t\t>\n\t\t\t<div class=\"bx-im-message-conference-creation__container\">\n\t\t\t\t<div class=\"bx-im-message-conference-creation__image\"></div>\n\t\t\t\t<div class=\"bx-im-message-conference-creation__content\">\n\t\t\t\t\t<div class=\"bx-im-message-conference-creation__title\">\n\t\t\t\t\t\t{{ loc('IM_MESSAGE_CONFERENCE_CREATION_TITLE') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-message-conference-creation__description\">\n\t\t\t\t\t\t{{ loc('IM_MESSAGE_CONFERENCE_CREATION_DESCRIPTION') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-message-conference-creation__buttons_container\">\n\t\t\t\t\t\t<div class=\"bx-im-message-conference-creation__buttons_item\">\n\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\t:size=\"ButtonSize.L\" \n\t\t\t\t\t\t\t\t:icon=\"ButtonIcon.Camera\" \n\t\t\t\t\t\t\t\t:customColorScheme=\"buttonColorScheme\"\n\t\t\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t\t\t:text=\"loc('IM_MESSAGE_CONFERENCE_CREATION_BUTTON_START')\"\n\t\t\t\t\t\t\t\t@click=\"onStartButtonClick\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"bx-im-message-conference-creation__buttons_item\">\n\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\t:size=\"ButtonSize.L\"\n\t\t\t\t\t\t\t\t:icon=\"ButtonIcon.Link\"\n\t\t\t\t\t\t\t\t:customColorScheme=\"buttonColorScheme\"\n\t\t\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t\t\t:text=\"loc('IM_MESSAGE_CONFERENCE_CREATION_BUTTON_COPY_LINK')\"\n\t\t\t\t\t\t\t\t@click=\"onCopyLinkClick\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseMessage>\n\t`,\n};\n"],"names":["BUTTON_COLOR","ConferenceCreationMessage","name","components","ButtonComponent","BaseMessage","props","item","type","Object","required","dialogId","String","data","showAddToChatPopup","computed","ButtonSize","ButtonIcon","buttonColorScheme","backgroundColor","borderColor","iconColor","textColor","hoverColor","message","chatId","dialog","$store","getters","methods","onStartButtonClick","CallAnalytics","getInstance","onChatStartConferenceClick","Messenger","openConference","code","public","onCopyLinkClick","BX","clipboard","copy","link","UI","Notification","Center","notify","content","loc","phraseCode","replacements","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAaA,MAAMA,YAAY,GAAG,SAAS;;CAE9B;AACA,OAAaC,yBAAyB,GAAG;GACxCC,IAAI,EAAE,2BAA2B;GACjCC,UAAU,EAAE;sBAAEC,+BAAe;kBAAEC;IAAa;GAC5CC,KAAK,EAAE;KACNC,IAAI,EAAE;OACLC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;MACV;KACDC,QAAQ,EAAE;OACTH,IAAI,EAAEI,MAAM;OACZF,QAAQ,EAAE;;IAEX;GACDG,IAAI,GACJ;KACC,OAAO;OACNC,kBAAkB,EAAE;MACpB;IACD;GACDC,QAAQ,EACR;KACCC,UAAU,EAAE,MAAMA,mCAAU;KAC5BC,UAAU,EAAE,MAAMA,mCAAU;KAC5BC,iBAAiB,GACjB;OACC,OAAO;SACNC,eAAe,EAAE,aAAa;SAC9BC,WAAW,EAAEpB,YAAY;SACzBqB,SAAS,EAAErB,YAAY;SACvBsB,SAAS,EAAEtB,YAAY;SACvBuB,UAAU,EAAE;QACZ;MACD;KACDC,OAAO,GACP;OACC,OAAO,IAAI,CAACjB,IAAI;MAChB;KACDkB,MAAM,GACN;OACC,OAAO,IAAI,CAACD,OAAO,CAACC,MAAM;MAC1B;KACDC,MAAM,GACN;OACC,OAAO,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAACH,MAAM,CAAC;;IAE7D;GACDI,OAAO,EACP;KACCC,kBAAkB,GAClB;OACCC,4BAAa,CAACC,WAAW,EAAE,CAACC,0BAA0B,CAAC;SAAER,MAAM,EAAE,IAAI,CAACA;QAAQ,CAAC;OAE/ES,mBAAS,CAACC,cAAc,CAAC;SACxBC,IAAI,EAAE,IAAI,CAACV,MAAM,CAACW,MAAM,CAACD;QACzB,CAAC;MACF;KACDE,eAAe,GACf;OACC,IAAIC,EAAE,CAACC,SAAS,CAACC,IAAI,CAAC,IAAI,CAACf,MAAM,CAACW,MAAM,CAACK,IAAI,CAAC,EAC9C;SACCH,EAAE,CAACI,EAAE,CAACC,YAAY,CAACC,MAAM,CAACC,MAAM,CAAC;WAChCC,OAAO,EAAE,IAAI,CAACC,GAAG,CAAC,kDAAkD;UACpE,CAAC;;MAEH;KACDA,GAAG,CAACC,UAAkB,EAAEC,YAAmC,GAAG,EAAE,EAChE;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACJ,UAAU,EAAEC,YAAY,CAAC;;IAE7D;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4CZ,CAAC;;;;;;;;"}