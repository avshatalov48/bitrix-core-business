{"version":3,"file":"search.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","im_v2_lib_user","ui_vue3_vuex","im_v2_application_core","im_v2_const","im_v2_lib_utils","EntityId","ContextId","SearchDialogId","getSearchConfig","searchConfig","entity","id","dynamicLoad","dynamicSearch","options","prepareConfigOptions","dialog","entities","preselectedItems","clearUnavailableItems","context","withChatByUsers","exclude","Type","isBoolean","chats","push","users","_store","babelHelpers","classPrivateFieldLooseKey","_userManager","_updateChats","_prepareDataForModels","StoreUpdater","constructor","Object","defineProperty","value","_prepareDataForModels2","_updateChats2","writable","classPrivateFieldLooseBase","Core","getStore","UserManager","update","items","Promise","all","updateUsers","setUsersToModel","dialogues","dispatch","result","forEach","item","itemData","customData","entityType","SearchEntityIdTypes","imUser","chat","dialogId","collator","Intl","Collator","undefined","sensitivity","_searchConfig","_store$1","_search","_getRecentListItems","_prepareRecentItem","_searchByQueryWords","_searchByDialogFields","_searchByUserFields","_doesItemMatchQuery","_getLocalItems","_getLocalItemsFromDialogIds","_mergeItems","_filterByConfig","_getRecentItemDate","LocalSearch","_getRecentItemDate2","_filterByConfig2","_mergeItems2","_getLocalItemsFromDialogIds2","_getLocalItems2","_doesItemMatchQuery2","_searchByUserFields2","_searchByDialogFields2","_searchByQueryWords2","_prepareRecentItem2","_getRecentListItems2","_search2","search","query","localCollection","localItems","queryWords","Utils","text","getWordsFromString","foundItems","Map","localItem","set","dateMessage","values","getters","map","itemDate","isUser","type","ChatType","user","recentItem","searchField","name","dialogNameWords","toLowerCase","userNameWords","workPosition","workPositionWords","fieldsForSearch","found","queryWord","queryWordsMatchCount","field","word","slice","length","compare","recentItems","items1","items2","itemsMap","mergedArray","has","filter","startsWith","_babelHelpers$classPr","date","toISOString","Lib","Vue3","Vuex","Application","Const"],"sources":["search.bundle.js"],"mappings":"AACAA,KAAKC,GAAKD,KAAKC,IAAM,CAAC,EACtBD,KAAKC,GAAGC,UAAYF,KAAKC,GAAGC,WAAa,CAAC,EAC1CF,KAAKC,GAAGC,UAAUC,GAAKH,KAAKC,GAAGC,UAAUC,IAAM,CAAC,GAC/C,SAAUC,EAAQC,EAAUC,EAAeC,EAAaC,EAAuBC,EAAYC,GAC3F,aAEA,MAAMC,EAAW,eACjB,MAAMC,EAAY,iBAClB,MAAMC,EAAiB,iBACvB,MAAMC,EAAkBC,IACtB,MAAMC,EAAS,CACbC,GAAIN,EACJO,YAAa,KACbC,cAAe,KACfC,QAASC,EAAqBN,IAEhC,MAAO,CACLO,OAAQ,CACNC,SAAU,CAACP,GACXQ,iBAAkB,GAClBC,sBAAuB,MACvBC,QAASd,EACTK,GAAIJ,GAEP,EAEH,MAAMQ,EAAuBN,IAC3B,MAAMK,EAAU,CACdO,gBAAiB,OAEnB,IAAKZ,EAAc,CACjB,MAAO,IACFK,EACHQ,QAAS,GAEb,CACA,MAAMA,EAAU,GAChB,GAAIvB,EAAUwB,KAAKC,UAAUf,EAAagB,SAAWhB,EAAagB,MAAO,CACvEH,EAAQI,KAAK,QACf,CACA,GAAI3B,EAAUwB,KAAKC,UAAUf,EAAakB,SAAWlB,EAAakB,MAAO,CACvEL,EAAQI,KAAK,QACf,CACA,MAAO,IACFZ,EACHQ,UACD,EAGH,IAAIM,EAAsBC,aAAaC,0BAA0B,SACjE,IAAIC,EAA4BF,aAAaC,0BAA0B,eACvE,IAAIE,EAA4BH,aAAaC,0BAA0B,eACvE,IAAIG,EAAqCJ,aAAaC,0BAA0B,wBAChF,MAAMI,EACJC,cACEC,OAAOC,eAAe3C,KAAMuC,EAAuB,CACjDK,MAAOC,IAETH,OAAOC,eAAe3C,KAAMsC,EAAc,CACxCM,MAAOE,IAETJ,OAAOC,eAAe3C,KAAMkC,EAAQ,CAClCa,SAAU,KACVH,WAAY,IAEdF,OAAOC,eAAe3C,KAAMqC,EAAc,CACxCU,SAAU,KACVH,WAAY,IAEdT,aAAaa,2BAA2BhD,KAAMkC,GAAQA,GAAU1B,EAAuByC,KAAKC,WAC5Ff,aAAaa,2BAA2BhD,KAAMqC,GAAcA,GAAgB,IAAI/B,EAAe6C,WACjG,CACAC,OAAOC,GACL,MAAMpB,MACJA,EAAKF,MACLA,GACEI,aAAaa,2BAA2BhD,KAAMuC,GAAuBA,GAAuBc,GAChG,OAAOC,QAAQC,IAAI,CAACvD,KAAKwD,YAAYvB,GAAQE,aAAaa,2BAA2BhD,KAAMsC,GAAcA,GAAcP,IACzH,CACAyB,YAAYvB,GACV,OAAOE,aAAaa,2BAA2BhD,KAAMqC,GAAcA,GAAcoB,gBAAgBxB,EACnG,EAEF,SAASa,EAAcY,GACrB,OAAOvB,aAAaa,2BAA2BhD,KAAMkC,GAAQA,GAAQyB,SAAS,YAAaD,EAC7F,CACA,SAASb,EAAuBQ,GAC9B,MAAMO,EAAS,CACb3B,MAAO,GACPF,MAAO,IAETsB,EAAMQ,SAAQC,IACZ,MAAMC,EAAWD,EAAKE,WACtB,GAAIF,EAAKG,aAAexD,EAAYyD,oBAAoBC,OAAQ,CAC9DP,EAAO3B,MAAMD,KAAK+B,EACpB,CACA,GAAID,EAAKG,aAAexD,EAAYyD,oBAAoBE,KAAM,CAC5DR,EAAO7B,MAAMC,KAAK,IACb+B,EACHM,SAAUP,EAAK7C,IAEnB,KAEF,OAAO2C,CACT,CAEA,MAAMU,EAAW,IAAIC,KAAKC,SAASC,UAAW,CAC5CC,YAAa,SAEf,IAAIC,EAA6BxC,aAAaC,0BAA0B,gBACxE,IAAIwC,EAAwBzC,aAAaC,0BAA0B,SACnE,IAAIyC,EAAuB1C,aAAaC,0BAA0B,UAClE,IAAI0C,EAAmC3C,aAAaC,0BAA0B,sBAC9E,IAAI2C,EAAkC5C,aAAaC,0BAA0B,qBAC7E,IAAI4C,EAAmC7C,aAAaC,0BAA0B,sBAC9E,IAAI6C,EAAqC9C,aAAaC,0BAA0B,wBAChF,IAAI8C,EAAmC/C,aAAaC,0BAA0B,sBAC9E,IAAI+C,EAAmChD,aAAaC,0BAA0B,sBAC9E,IAAIgD,EAA8BjD,aAAaC,0BAA0B,iBACzE,IAAIiD,EAA2ClD,aAAaC,0BAA0B,8BACtF,IAAIkD,EAA2BnD,aAAaC,0BAA0B,cACtE,IAAImD,EAA+BpD,aAAaC,0BAA0B,kBAC1E,IAAIoD,EAAkCrD,aAAaC,0BAA0B,qBAC7E,MAAMqD,EACJhD,YAAY1B,GACV2B,OAAOC,eAAe3C,KAAMwF,EAAoB,CAC9C5C,MAAO8C,IAEThD,OAAOC,eAAe3C,KAAMuF,EAAiB,CAC3C3C,MAAO+C,IAETjD,OAAOC,eAAe3C,KAAMsF,EAAa,CACvC1C,MAAOgD,IAETlD,OAAOC,eAAe3C,KAAMqF,EAA6B,CACvDzC,MAAOiD,IAETnD,OAAOC,eAAe3C,KAAMoF,EAAgB,CAC1CxC,MAAOkD,IAETpD,OAAOC,eAAe3C,KAAMmF,EAAqB,CAC/CvC,MAAOmD,IAETrD,OAAOC,eAAe3C,KAAMkF,EAAqB,CAC/CtC,MAAOoD,IAETtD,OAAOC,eAAe3C,KAAMiF,EAAuB,CACjDrC,MAAOqD,IAETvD,OAAOC,eAAe3C,KAAMgF,EAAqB,CAC/CpC,MAAOsD,IAETxD,OAAOC,eAAe3C,KAAM+E,EAAoB,CAC9CnC,MAAOuD,IAETzD,OAAOC,eAAe3C,KAAM8E,EAAqB,CAC/ClC,MAAOwD,IAET1D,OAAOC,eAAe3C,KAAM6E,EAAS,CACnCjC,MAAOyD,IAET3D,OAAOC,eAAe3C,KAAM2E,EAAe,CACzC5B,SAAU,KACVH,WAAY,IAEdF,OAAOC,eAAe3C,KAAM4E,EAAU,CACpC7B,SAAU,KACVH,WAAY,IAEdT,aAAaa,2BAA2BhD,KAAM2E,GAAeA,GAAiB5D,EAC9EoB,aAAaa,2BAA2BhD,KAAM4E,GAAUA,GAAYpE,EAAuByC,KAAKC,UAClG,CACAoD,OAAOC,EAAOC,GACZ,MAAMC,EAAatE,aAAaa,2BAA2BhD,KAAMoF,GAAgBA,GAAgBoB,GACjG,MAAM5C,EAASzB,aAAaa,2BAA2BhD,KAAM6E,GAASA,GAAS0B,EAAOE,GACtF,OAAOtE,aAAaa,2BAA2BhD,KAAMuF,GAAiBA,GAAiB3B,EACzF,EAEF,SAASyC,EAASE,EAAOE,GACvB,MAAMC,EAAahG,EAAgBiG,MAAMC,KAAKC,mBAAmBN,GACjE,MAAMO,EAAa,IAAIC,IACvBN,EAAW5C,SAAQmD,IACjB,GAAI7E,aAAaa,2BAA2BhD,KAAMgF,GAAqBA,GAAqBgC,EAAWN,GAAa,CAClHI,EAAWG,IAAID,EAAU3C,SAAU,CACjCA,SAAU2C,EAAU3C,SACpB6C,YAAaF,EAAUE,aAE3B,KAEF,MAAO,IAAIJ,EAAWK,SACxB,CACA,SAASf,IACP,OAAOjE,aAAaa,2BAA2BhD,KAAM4E,GAAUA,GAAUwC,QAAQ,8BAA8BC,KAAIvD,IACjH,MAAMwD,EAAWnF,aAAaa,2BAA2BhD,KAAMwF,GAAoBA,GAAoB1B,GACvG,OAAO3B,aAAaa,2BAA2BhD,KAAM+E,GAAoBA,GAAoBjB,EAAKO,SAAUiD,EAAS,GAEzH,CACA,SAASnB,EAAoB9B,EAAU6C,GACrC,MAAM5F,EAASa,aAAaa,2BAA2BhD,KAAM4E,GAAUA,GAAUwC,QAAQ,aAAa/C,EAAU,MAChH,MAAMkD,EAASjG,EAAOkG,OAAS/G,EAAYgH,SAASC,KACpD,MAAMC,EAAa,CACjBtD,WACA/C,SACA4F,eAEF,GAAIK,EAAQ,CACVI,EAAWD,KAAOvF,aAAaa,2BAA2BhD,KAAM4E,GAAUA,GAAUwC,QAAQ,aAAa/C,EAAU,KACrH,CACA,OAAOsD,CACT,CACA,SAASzB,EAAqBc,EAAWN,GACvC,GAAIM,EAAUU,KAAM,CAClB,OAAOvF,aAAaa,2BAA2BhD,KAAMkF,GAAqBA,GAAqB8B,EAAWN,EAC5G,CACA,OAAOvE,aAAaa,2BAA2BhD,KAAMiF,GAAuBA,GAAuB+B,EAAWN,EAChH,CACA,SAAST,EAAuBe,EAAWN,GACzC,MAAMkB,EAAc,GACpB,GAAIZ,EAAU1F,OAAOuG,KAAM,CACzB,MAAMC,EAAkBpH,EAAgBiG,MAAMC,KAAKC,mBAAmBG,EAAU1F,OAAOuG,KAAKE,eAC5FH,EAAY5F,QAAQ8F,EACtB,CACA,OAAO3F,aAAaa,2BAA2BhD,KAAMmF,GAAqBA,GAAqByC,EAAalB,EAC9G,CACA,SAASV,EAAqBgB,EAAWN,GACvC,MAAMkB,EAAc,GACpB,GAAIZ,EAAUU,KAAKG,KAAM,CACvB,MAAMG,EAAgBtH,EAAgBiG,MAAMC,KAAKC,mBAAmBG,EAAUU,KAAKG,KAAKE,eACxFH,EAAY5F,QAAQgG,EACtB,CACA,GAAIhB,EAAUU,KAAKO,aAAc,CAC/B,MAAMC,EAAoBxH,EAAgBiG,MAAMC,KAAKC,mBAAmBG,EAAUU,KAAKO,aAAaF,eACpGH,EAAY5F,QAAQkG,EACtB,CACA,OAAO/F,aAAaa,2BAA2BhD,KAAMmF,GAAqBA,GAAqByC,EAAalB,EAC9G,CACA,SAASX,EAAqBoC,EAAiBzB,GAC7C,IAAI0B,EAAQ,EACZ1B,EAAW7C,SAAQwE,IACjB,IAAIC,EAAuB,EAC3BH,EAAgBtE,SAAQ0E,IACtB,MAAMC,EAAOD,EAAME,MAAM,EAAGJ,EAAUK,QACtC,GAAIpE,EAASqE,QAAQN,EAAWG,KAAU,EAAG,CAC3CF,GACF,KAEF,GAAIA,EAAuB,EAAG,CAC5BF,GACF,KAEF,OAAOA,GAAS1B,EAAWgC,MAC7B,CACA,SAAS5C,EAAgBU,GACvB,MAAMoC,EAAczG,aAAaa,2BAA2BhD,KAAM8E,GAAqBA,KACvF,MAAM2B,EAAatE,aAAaa,2BAA2BhD,KAAMqF,GAA6BA,GAA6BmB,GAC3H,OAAOrE,aAAaa,2BAA2BhD,KAAMsF,GAAaA,GAAamB,EAAYmC,EAC7F,CACA,SAAS/C,EAA6BW,GACpC,OAAOA,EAAgBa,KAAIvD,GAClB3B,aAAaa,2BAA2BhD,KAAM+E,GAAoBA,GAAoBjB,EAAKO,SAAUP,EAAKoD,cAErH,CACA,SAAStB,EAAaiD,EAAQC,GAC5B,MAAMC,EAAW,IAAIhC,IACrB,MAAMiC,EAAc,IAAIH,KAAWC,GACnC,IAAK,MAAMnB,KAAcqB,EAAa,CACpC,IAAKD,EAASE,IAAItB,EAAWtD,UAAW,CACtC0E,EAAS9B,IAAIU,EAAWtD,SAAUsD,EACpC,CACF,CACA,MAAO,IAAIoB,EAAS5B,SACtB,CACA,SAASxB,EAAiBtC,GACxB,IAAKlB,aAAaa,2BAA2BhD,KAAM2E,GAAeA,GAAgB,CAChF,OAAOtB,CACT,CACA,OAAOA,EAAM6F,QAAOpF,IAClB,GAAI3B,aAAaa,2BAA2BhD,KAAM2E,GAAeA,GAAe5C,OAAS+B,EAAKO,SAAS8E,WAAW,QAAS,CACzH,OAAO,IACT,CACA,OAAQrF,EAAKO,SAAS8E,WAAW,SAAWhH,aAAaa,2BAA2BhD,KAAM2E,GAAeA,GAAe1C,KAAK,GAEjI,CACA,SAASyD,EAAoB5B,GAC3B,IAAIsF,EACJ,MAAMlC,GAAekC,EAAwBjH,aAAaa,2BAA2BhD,KAAM4E,GAAUA,GAAUwC,QAAQ,qBAAqBtD,EAAKO,YAAc,UAAY,EAAI+E,EAAsBC,KACrM,IAAKnC,EAAa,CAChB,MAAO,EACT,CACA,OAAOA,EAAYoC,aACrB,CAEAlJ,EAAQU,gBAAkBA,EAC1BV,EAAQO,SAAWA,EACnBP,EAAQoC,aAAeA,EACvBpC,EAAQqF,YAAcA,CAEvB,EAtSA,CAsSGzF,KAAKC,GAAGC,UAAUC,GAAGoJ,IAAMvJ,KAAKC,GAAGC,UAAUC,GAAGoJ,KAAO,CAAC,EAAGtJ,GAAGA,GAAGC,UAAUC,GAAGoJ,IAAItJ,GAAGuJ,KAAKC,KAAKxJ,GAAGC,UAAUC,GAAGuJ,YAAYzJ,GAAGC,UAAUC,GAAGwJ,MAAM1J,GAAGC,UAAUC,GAAGoJ"}