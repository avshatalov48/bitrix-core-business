{"version":3,"file":"permission.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","im_v2_application_core","im_v2_lib_logger","im_v2_const","MinimalRoleForAction","ActionByRole","readMessage","UserRole","member","setReaction","openMessageMenu","openAvatarMenu","openSidebarMenu","subscribeToComments","openComments","guest","openSidebar","DEFAULT_TYPE","_instance","babelHelpers","classPrivateFieldLooseKey","_rolePermissions","_chatTypePermissions","_userTypePermissions","_actionGroups","_actionGroupsDefaultRoles","_init","_canPerformActionByRole","_canPerformActionByChatType","_canPerformActionByChatSettings","_getGroupByAction","_prepareChatTypePermissions","_checkMinimalRole","_getDialog","_getUserType","_handleKickAndLeaveActionType","PermissionManager","static","classPrivateFieldLooseBase","getInstance","constructor","Object","defineProperty","value","_handleKickAndLeaveActionType2","_getUserType2","_getDialog2","_checkMinimalRole2","_prepareChatTypePermissions2","_getGroupByAction2","_canPerformActionByChatSettings2","_canPerformActionByChatType2","_canPerformActionByRole2","_init2","writable","permissions","Core","getApplicationData","Logger","warn","canPerformActionByRole","actionType","dialogId","canPerformActionByUserType","_userPermissions$acti","externalUserType","getUserId","userPermissions","action","ActionByUserType","getDefaultRolesForActionGroups","chatType","rawPermissions","byChatType","byUserType","actionGroups","actionGroupsDefaults","role","userRole","Type","isUndefined","minimalRole","rawActionType","_babelHelpers$classPr","dialog","ownerId","type","chatPermissions","ChatType","user","actionGroup","minimalRoleForGroup","searchResult","entries","find","_","groupActions","includes","groupName","permissionsByChatType","preparedPermissions","SERVER_USER_CHAT_TYPE","roleToCheck","none","roleWeights","values","forEach","index","getStore","getters","userId","isOwner","kick","leave","leaveOwner","Lib","Application","Const"],"sources":["permission.bundle.js"],"mappings":"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"}