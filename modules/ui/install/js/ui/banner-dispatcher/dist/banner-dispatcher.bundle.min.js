this.BX=this.BX||{},function(e,s,a){"use strict";var t=babelHelpers.classPrivateFieldLooseKey("priority"),i=babelHelpers.classPrivateFieldLooseKey("delay"),r=babelHelpers.classPrivateFieldLooseKey("itemList"),l=babelHelpers.classPrivateFieldLooseKey("enough"),o=babelHelpers.classPrivateFieldLooseKey("launchPerHit");class c{constructor(e,s,a=!1){Object.defineProperty(this,t,{writable:!0,value:void 0}),Object.defineProperty(this,i,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:{}}),Object.defineProperty(this,l,{writable:!0,value:!1}),Object.defineProperty(this,o,{writable:!0,value:!1}),babelHelpers.classPrivateFieldLooseBase(this,i)[i]=1e3*parseInt(s),babelHelpers.classPrivateFieldLooseBase(this,t)[t]=e,babelHelpers.classPrivateFieldLooseBase(this,o)[o]=a}add(e){if(babelHelpers.classPrivateFieldLooseBase(this,l)[l])return;if(!a.Type.isFunction(e))throw new TypeError('Unexpected type "promise" argument, expected Promise or callback');const c=!(babelHelpers.classPrivateFieldLooseBase(this,o)[o]&&Object.values(babelHelpers.classPrivateFieldLooseBase(this,r)[r]).length>0),b=a.Text.getRandom();babelHelpers.classPrivateFieldLooseBase(this,r)[r][b]=e,s.AutoLauncher.register(e,{delay:babelHelpers.classPrivateFieldLooseBase(this,i)[i],priority:babelHelpers.classPrivateFieldLooseBase(this,t)[t],allowLaunchAfterOthers:c,id:b})}getItems(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}clean(){Object.keys(babelHelpers.classPrivateFieldLooseBase(this,r)[r]).forEach((e=>{this.remove(e)}))}enough(){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=!0}notEnough(){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=!1}stop(){this.clean(),this.enough()}remove(e){s.AutoLauncher.unregister(e)}}const b=new c(s.LaunchPriority.CRITICAL,1),h=new c(s.LaunchPriority.HIGH,5,!0),n=new c(s.LaunchPriority.NORMAL,5,!0),u={critical:{toQueue:e=>{b.add(e)}},high:{toQueue:e=>{h.add(e)}},normal:{toQueue:e=>{n.add(e)}},toQueue:e=>{n.add(e)},only(e){Object.values(s.LaunchPriority).filter((a=>{if(!e.includes(a))switch(a){case s.LaunchPriority.CRITICAL:b.stop();break;case s.LaunchPriority.HIGH:h.stop();break;case s.LaunchPriority.NORMAL:n.stop()}}))}};e.BannerDispatcher=u}(this.BX.UI=this.BX.UI||{},BX.UI.AutoLaunch,BX);
//# sourceMappingURL=banner-dispatcher.bundle.map.js