this.BX=this.BX||{};(function(e,s,l,a){"use strict";let i=e=>e,t;const r=Object.freeze({TOP:-1,BOTTOM:1,NONE:0});var o=babelHelpers.classPrivateFieldLooseKey("placeholder");var b=babelHelpers.classPrivateFieldLooseKey("isSearchable");var n=babelHelpers.classPrivateFieldLooseKey("isSearching");var c=babelHelpers.classPrivateFieldLooseKey("searchValue");var p=babelHelpers.classPrivateFieldLooseKey("selectedOption");var d=babelHelpers.classPrivateFieldLooseKey("options");var v=babelHelpers.classPrivateFieldLooseKey("container");var h=babelHelpers.classPrivateFieldLooseKey("containerClassname");var u=babelHelpers.classPrivateFieldLooseKey("menu");var P=babelHelpers.classPrivateFieldLooseKey("emptySearchPopup");var F=babelHelpers.classPrivateFieldLooseKey("highlightedOptionIndex");var H=babelHelpers.classPrivateFieldLooseKey("popupParams");var L=babelHelpers.classPrivateFieldLooseKey("renderContainer");var B=babelHelpers.classPrivateFieldLooseKey("isInputReadonly");var f=babelHelpers.classPrivateFieldLooseKey("handleInputClick");var y=babelHelpers.classPrivateFieldLooseKey("createMenu");var m=babelHelpers.classPrivateFieldLooseKey("getMenuItems");var O=babelHelpers.classPrivateFieldLooseKey("handleInput");var w=babelHelpers.classPrivateFieldLooseKey("handleKeyDown");var K=babelHelpers.classPrivateFieldLooseKey("handleSpaceKey");var g=babelHelpers.classPrivateFieldLooseKey("handleArrowUpKey");var j=babelHelpers.classPrivateFieldLooseKey("handleArrowDownKey");var M=babelHelpers.classPrivateFieldLooseKey("handleEnterKey");var S=babelHelpers.classPrivateFieldLooseKey("updateMenu");var C=babelHelpers.classPrivateFieldLooseKey("getMenuItemFromOption");var D=babelHelpers.classPrivateFieldLooseKey("getFilteredOptions");var E=babelHelpers.classPrivateFieldLooseKey("getOptionFilter");var I=babelHelpers.classPrivateFieldLooseKey("showEmptySearchPopup");var T=babelHelpers.classPrivateFieldLooseKey("hideEmptySearchPopup");var N=babelHelpers.classPrivateFieldLooseKey("setSelectedOption");var A=babelHelpers.classPrivateFieldLooseKey("findOptionByValue");var k=babelHelpers.classPrivateFieldLooseKey("highlightOption");var X=babelHelpers.classPrivateFieldLooseKey("scrollToHighlightedItem");var x=babelHelpers.classPrivateFieldLooseKey("getScrollDirectionToHighlightedItem");var $=babelHelpers.classPrivateFieldLooseKey("getOptionIndex");var U=babelHelpers.classPrivateFieldLooseKey("handleBlur");var _=babelHelpers.classPrivateFieldLooseKey("handleFocus");var V=babelHelpers.classPrivateFieldLooseKey("updateSelect");var W=babelHelpers.classPrivateFieldLooseKey("updateInput");var q=babelHelpers.classPrivateFieldLooseKey("updateContainerClassname");var z=babelHelpers.classPrivateFieldLooseKey("getContainerClassname");class G extends l.EventEmitter{constructor(e){var l;super();Object.defineProperty(this,z,{value:me});Object.defineProperty(this,q,{value:ye});Object.defineProperty(this,W,{value:fe});Object.defineProperty(this,V,{value:Be});Object.defineProperty(this,_,{value:Le});Object.defineProperty(this,U,{value:He});Object.defineProperty(this,$,{value:Fe});Object.defineProperty(this,x,{value:Pe});Object.defineProperty(this,X,{value:ue});Object.defineProperty(this,k,{value:he});Object.defineProperty(this,A,{value:ve});Object.defineProperty(this,N,{value:de});Object.defineProperty(this,T,{value:pe});Object.defineProperty(this,I,{value:ce});Object.defineProperty(this,E,{value:ne});Object.defineProperty(this,D,{value:be});Object.defineProperty(this,C,{value:oe});Object.defineProperty(this,S,{value:re});Object.defineProperty(this,M,{value:te});Object.defineProperty(this,j,{value:ie});Object.defineProperty(this,g,{value:ae});Object.defineProperty(this,K,{value:le});Object.defineProperty(this,w,{value:se});Object.defineProperty(this,O,{value:ee});Object.defineProperty(this,m,{value:Z});Object.defineProperty(this,y,{value:Y});Object.defineProperty(this,f,{value:Q});Object.defineProperty(this,B,{value:J});Object.defineProperty(this,L,{value:R});Object.defineProperty(this,o,{writable:true,value:""});Object.defineProperty(this,b,{writable:true,value:false});Object.defineProperty(this,n,{writable:true,value:false});Object.defineProperty(this,c,{writable:true,value:""});Object.defineProperty(this,p,{writable:true,value:null});Object.defineProperty(this,d,{writable:true,value:[]});Object.defineProperty(this,v,{writable:true,value:null});Object.defineProperty(this,h,{writable:true,value:""});Object.defineProperty(this,u,{writable:true,value:null});Object.defineProperty(this,P,{writable:true,value:null});Object.defineProperty(this,F,{writable:true,value:0});Object.defineProperty(this,H,{writable:true,value:{}});this.setEventNamespace("BX.UI.Select");babelHelpers.classPrivateFieldLooseBase(this,o)[o]=s.Type.isString(e.placeholder)?e.placeholder:"";babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e.isSearchable===true||false;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=Array.isArray(e.options)?e.options:[];babelHelpers.classPrivateFieldLooseBase(this,H)[H]=s.Type.isPlainObject(e.popupParams)?e.popupParams:{};babelHelpers.classPrivateFieldLooseBase(this,p)[p]=babelHelpers.classPrivateFieldLooseBase(this,A)[A](e.value)||null;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=s.Type.isString(e==null?void 0:e.containerClassname)?e.containerClassname:"";babelHelpers.classPrivateFieldLooseBase(this,F)[F]=babelHelpers.classPrivateFieldLooseBase(this,$)[$]((l=babelHelpers.classPrivateFieldLooseBase(this,p)[p])==null?void 0:l.value)||0;babelHelpers.classPrivateFieldLooseBase(this,L)[L]()}renderTo(e){if(s.Type.isDomNode(e)){s.Dom.clean(e);babelHelpers.classPrivateFieldLooseBase(this,L)[L]();s.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,v)[v],e);return e}return null}showMenu(){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){babelHelpers.classPrivateFieldLooseBase(this,y)[y]()}babelHelpers.classPrivateFieldLooseBase(this,u)[u].show();babelHelpers.classPrivateFieldLooseBase(this,S)[S]()}hideMenu(){if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]){babelHelpers.classPrivateFieldLooseBase(this,u)[u].close()}}getInput(){return babelHelpers.classPrivateFieldLooseBase(this,v)[v].querySelector("input")}getValue(){var e;return((e=babelHelpers.classPrivateFieldLooseBase(this,p)[p])==null?void 0:e.value)||""}setValue(e){const s=babelHelpers.classPrivateFieldLooseBase(this,A)[A](e);babelHelpers.classPrivateFieldLooseBase(this,N)[N](s)}isMenuShown(){return babelHelpers.classPrivateFieldLooseBase(this,u)[u]&&babelHelpers.classPrivateFieldLooseBase(this,u)[u].getPopupWindow().isShown()}}function R(){var e;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=s.Tag.render(t||(t=i`
			<div class="${0}">
				<div class="ui-ctl-after ui-ctl-icon-angle"></div>
				<input
					ref="input"
					class="ui-ctl-element"
					type="text"
					placeholder="${0}"
					${0}
					value="${0}"
				>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,z)[z](),babelHelpers.classPrivateFieldLooseBase(this,o)[o],babelHelpers.classPrivateFieldLooseBase(this,B)[B]()?"readonly":"",((e=babelHelpers.classPrivateFieldLooseBase(this,p)[p])==null?void 0:e.label)||"");s.bind(babelHelpers.classPrivateFieldLooseBase(this,v)[v].input,"input",babelHelpers.classPrivateFieldLooseBase(this,O)[O].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,v)[v].input,"focus",babelHelpers.classPrivateFieldLooseBase(this,_)[_].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,v)[v].input,"blur",babelHelpers.classPrivateFieldLooseBase(this,U)[U].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,v)[v].input,"mouseup",babelHelpers.classPrivateFieldLooseBase(this,f)[f].bind(this));s.bind(babelHelpers.classPrivateFieldLooseBase(this,v)[v].input,"keydown",babelHelpers.classPrivateFieldLooseBase(this,w)[w].bind(this));babelHelpers.classPrivateFieldLooseBase(this,v)[v]=babelHelpers.classPrivateFieldLooseBase(this,v)[v].root;return babelHelpers.classPrivateFieldLooseBase(this,v)[v]}function J(){return!babelHelpers.classPrivateFieldLooseBase(this,b)[b]||!this.isMenuShown()&&!babelHelpers.classPrivateFieldLooseBase(this,P)[P]}function Q(){if(this.getInput()===document.activeElement){setTimeout((()=>{this.showMenu()}),100)}}function Y(){var e,l;const{width:i}=s.Dom.getPosition(babelHelpers.classPrivateFieldLooseBase(this,v)[v]);const t=(e=(l=babelHelpers.classPrivateFieldLooseBase(this,H)[H])==null?void 0:l.events)!=null?e:{};babelHelpers.classPrivateFieldLooseBase(this,u)[u]=new a.Menu({width:i,bindElement:babelHelpers.classPrivateFieldLooseBase(this,v)[v],items:babelHelpers.classPrivateFieldLooseBase(this,m)[m](),closeByEsc:true,autoHide:false,className:"select-menu-popup",...babelHelpers.classPrivateFieldLooseBase(this,H)[H],events:{...t,onAfterClose:()=>{if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]){babelHelpers.classPrivateFieldLooseBase(this,c)[c]="";babelHelpers.classPrivateFieldLooseBase(this,N)[N](babelHelpers.classPrivateFieldLooseBase(this,p)[p]);babelHelpers.classPrivateFieldLooseBase(this,V)[V]();if(t.onAfterClose){t.onAfterClose()}}}}});return babelHelpers.classPrivateFieldLooseBase(this,u)[u]}function Z(){if(babelHelpers.classPrivateFieldLooseBase(this,n)[n]){return babelHelpers.classPrivateFieldLooseBase(this,D)[D]().map(((e,s)=>babelHelpers.classPrivateFieldLooseBase(this,C)[C](e,s===babelHelpers.classPrivateFieldLooseBase(this,F)[F])))}return babelHelpers.classPrivateFieldLooseBase(this,d)[d].map(((e,s)=>babelHelpers.classPrivateFieldLooseBase(this,C)[C](e,s===babelHelpers.classPrivateFieldLooseBase(this,F)[F])))}function ee(e){e.preventDefault();babelHelpers.classPrivateFieldLooseBase(this,F)[F]=0;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=true;babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e.target.value;babelHelpers.classPrivateFieldLooseBase(this,S)[S]()}function se(e){const{keyCode:s}=e;const l=38;const a=40;const i=13;const t=32;switch(s){case i:babelHelpers.classPrivateFieldLooseBase(this,M)[M](e);break;case t:babelHelpers.classPrivateFieldLooseBase(this,K)[K](e);break;case l:babelHelpers.classPrivateFieldLooseBase(this,g)[g](e);break;case a:babelHelpers.classPrivateFieldLooseBase(this,j)[j](e);break}}function le(e){if(!this.isMenuShown()&&!babelHelpers.classPrivateFieldLooseBase(this,P)[P]){e.preventDefault();this.showMenu();babelHelpers.classPrivateFieldLooseBase(this,V)[V]()}}function ae(e){e.preventDefault();if(!this.isMenuShown()||babelHelpers.classPrivateFieldLooseBase(this,F)[F]===0){return}babelHelpers.classPrivateFieldLooseBase(this,F)[F]--;babelHelpers.classPrivateFieldLooseBase(this,X)[X]();babelHelpers.classPrivateFieldLooseBase(this,k)[k](babelHelpers.classPrivateFieldLooseBase(this,F)[F])}function ie(e){e.preventDefault();if(!this.isMenuShown()||babelHelpers.classPrivateFieldLooseBase(this,F)[F]===babelHelpers.classPrivateFieldLooseBase(this,m)[m]().length-1){return}babelHelpers.classPrivateFieldLooseBase(this,F)[F]++;babelHelpers.classPrivateFieldLooseBase(this,X)[X]();babelHelpers.classPrivateFieldLooseBase(this,k)[k](babelHelpers.classPrivateFieldLooseBase(this,F)[F])}function te(e){e.preventDefault();const s=babelHelpers.classPrivateFieldLooseBase(this,D)[D]();babelHelpers.classPrivateFieldLooseBase(this,p)[p]=s[babelHelpers.classPrivateFieldLooseBase(this,F)[F]];this.hideMenu()}function re(){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}babelHelpers.classPrivateFieldLooseBase(this,d)[d].forEach((({value:e})=>{babelHelpers.classPrivateFieldLooseBase(this,u)[u].removeMenuItem(e,{destroyEmptyPopup:false})}));const e=babelHelpers.classPrivateFieldLooseBase(this,D)[D](babelHelpers.classPrivateFieldLooseBase(this,c)[c]);if(e.length>0){if(!this.isMenuShown()){this.showMenu()}babelHelpers.classPrivateFieldLooseBase(this,T)[T]();e.forEach(((e,s)=>{babelHelpers.classPrivateFieldLooseBase(this,u)[u].addMenuItem(babelHelpers.classPrivateFieldLooseBase(this,C)[C](e,s===babelHelpers.classPrivateFieldLooseBase(this,F)[F]),null)}));babelHelpers.classPrivateFieldLooseBase(this,X)[X]();babelHelpers.classPrivateFieldLooseBase(this,k)[k](babelHelpers.classPrivateFieldLooseBase(this,F)[F])}else{babelHelpers.classPrivateFieldLooseBase(this,I)[I]();this.hideMenu()}}function oe(e,s=false){const l=s===true;const a=`ui-select__menu-item menu-popup-no-icon ${l?"menu-popup-item-open":""}`;return{id:e.value,text:e.label,onclick:()=>{babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e},className:a}}function be(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d].filter(babelHelpers.classPrivateFieldLooseBase(this,E)[E](babelHelpers.classPrivateFieldLooseBase(this,c)[c]))}function ne(e){const l=s.Type.isString(e)?e.toLowerCase():"";return e=>{const s=e.label.toLowerCase();return s.indexOf(l)===0}}function ce(){var e;if(!babelHelpers.classPrivateFieldLooseBase(this,P)[P]||!((e=babelHelpers.classPrivateFieldLooseBase(this,P)[P])!=null&&e.isShown())){var l,i;const{width:e}=s.Dom.getPosition(babelHelpers.classPrivateFieldLooseBase(this,v)[v]);const t=(l=(i=babelHelpers.classPrivateFieldLooseBase(this,H)[H])==null?void 0:i.events)!=null?l:{};babelHelpers.classPrivateFieldLooseBase(this,P)[P]=new a.Popup({width:e,bindElement:babelHelpers.classPrivateFieldLooseBase(this,v)[v],content:s.Loc.getMessage("UI_SELECT_NOTHING_FOUND"),closeByEsc:true,...babelHelpers.classPrivateFieldLooseBase(this,H)[H],events:{...t,onAfterClose:()=>{babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null;babelHelpers.classPrivateFieldLooseBase(this,N)[N](babelHelpers.classPrivateFieldLooseBase(this,p)[p]);if(!this.isMenuShown()){babelHelpers.classPrivateFieldLooseBase(this,c)[c]="";babelHelpers.classPrivateFieldLooseBase(this,V)[V]();if(t.onAfterClose){t.onAfterClose()}}}}});babelHelpers.classPrivateFieldLooseBase(this,P)[P].show()}}function pe(){if(babelHelpers.classPrivateFieldLooseBase(this,P)[P]){babelHelpers.classPrivateFieldLooseBase(this,P)[P].destroy();babelHelpers.classPrivateFieldLooseBase(this,P)[P]=null}}function de(e){if(!e){babelHelpers.classPrivateFieldLooseBase(this,p)[p]=null;return}this.emit("update",e.value);babelHelpers.classPrivateFieldLooseBase(this,c)[c]="";const s=this.getInput();s.value=e.label;babelHelpers.classPrivateFieldLooseBase(this,F)[F]=babelHelpers.classPrivateFieldLooseBase(this,$)[$](e.value);babelHelpers.classPrivateFieldLooseBase(this,p)[p]=e}function ve(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d].find((s=>s.value===e))}function he(e){if(!babelHelpers.classPrivateFieldLooseBase(this,u)[u]){return}const l=babelHelpers.classPrivateFieldLooseBase(this,u)[u].itemsContainer.children;for(let a=0;a<l.length;a++){const i=l.item(a);s.Dom.removeClass(i,"menu-popup-item-open");if(a===e){s.Dom.addClass(i,"menu-popup-item-open")}}}function ue(){const e=babelHelpers.classPrivateFieldLooseBase(this,u)[u].getPopupWindow().getContentContainer();const l=babelHelpers.classPrivateFieldLooseBase(this,u)[u].itemsContainer.children;const a=l.item(babelHelpers.classPrivateFieldLooseBase(this,F)[F]);const{height:i}=s.Dom.getPosition(e);const{height:t}=s.Dom.getPosition(a);const o=babelHelpers.classPrivateFieldLooseBase(this,x)[x](e,a);if(o!==r.NONE){e.scroll({left:0,top:t*babelHelpers.classPrivateFieldLooseBase(this,F)[F]+o*i,behavior:"smooth"})}}function Pe(e,l){const{bottom:a,top:i}=s.Dom.getPosition(e);const{bottom:t,top:o}=s.Dom.getPosition(l);if(i>o){return r.TOP}if(a<t){return r.BOTTOM}return r.NONE}function Fe(e){return babelHelpers.classPrivateFieldLooseBase(this,d)[d].findIndex((s=>s.value===e))}function He(){this.hideMenu();babelHelpers.classPrivateFieldLooseBase(this,T)[T]()}function Le(e){setTimeout((()=>{this.showMenu();babelHelpers.classPrivateFieldLooseBase(this,V)[V]()}),100);e.preventDefault()}function Be(){babelHelpers.classPrivateFieldLooseBase(this,W)[W]();babelHelpers.classPrivateFieldLooseBase(this,q)[q]()}function fe(){const e=this.getInput();if(babelHelpers.classPrivateFieldLooseBase(this,B)[B]()){e.setAttribute("readonly","readonly")}else{e.removeAttribute("readonly")}}function ye(){babelHelpers.classPrivateFieldLooseBase(this,v)[v].className=babelHelpers.classPrivateFieldLooseBase(this,z)[z]()}function me(){const e=this.isMenuShown()||babelHelpers.classPrivateFieldLooseBase(this,P)[P]?"--open":"";return`ui-select ui-ctl ui-ctl-after-icon ui-ctl-dropdown ${babelHelpers.classPrivateFieldLooseBase(this,h)[h]} ${e}`}e.Select=G})(this.BX.Ui=this.BX.Ui||{},BX,BX.Event,BX.Main);
//# sourceMappingURL=select.bundle.map.js