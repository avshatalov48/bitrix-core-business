this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t,r,i,n,a,l,s){"use strict";function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var n=function e(){};return{s:n,n:function t(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,l=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){l=true;s=t},f:function e(){try{if(!a&&r["return"]!=null)r["return"]()}finally{if(l)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}var b=function(e){babelHelpers.inherits(t,e);function t(){var e;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,i));e.addItems(r);return e}babelHelpers.createClass(t,[{key:"addItems",value:function e(t){var r=o(t),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;this.add(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"merge",value:function e(t){this.addItems(t.getAll());return this}}],[{key:"showSystemError",value:function e(t){top.BX.UI.Notification.Center.notify({content:t,position:"bottom-right",category:"menu-self-item-popup",autoHideDelay:3e3})}}]);return t}(t.OrderedArray);var f=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));r.setEventNamespace("BX.UI.FormElement.Field");return r}babelHelpers.createClass(t,[{key:"visitSettingsElement",value:function e(t){}}]);return t}(i.EventEmitter);babelHelpers.defineProperty(f,"instances",[]);function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var n=function e(){};return{s:n,n:function t(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,l=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){l=true;s=t},f:function e(){try{if(!a&&r["return"]!=null)r["return"]()}finally{if(l)throw s}}}}function h(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function v(e,t,r){y(e,t);t.set(e,r)}function y(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var g=new WeakMap;var m=new WeakMap;var H=new WeakMap;var w=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);e=a.Type.isNil(e)?{}:e;r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));v(babelHelpers.assertThisInitialized(r),g,{writable:true,value:void 0});v(babelHelpers.assertThisInitialized(r),m,{writable:true,value:void 0});v(babelHelpers.assertThisInitialized(r),H,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),m,null);r.setEventNamespace("BX.UI.FormElement.Field");if(!a.Type.isNil(e.parent)){r.setParentElement(e.parent)}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),H,[]);if(!a.Type.isNil(e.children)){r.setChildrenElements(e.children)}r.addChild(e.child);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),g,new b);return r}babelHelpers.createClass(t,[{key:"getErrorCollection",value:function e(){return babelHelpers.classPrivateFieldGet(this,g)}},{key:"setErrorCollection",value:function e(t){var r;babelHelpers.classPrivateFieldGet(this,g).merge(t);(r=babelHelpers.classPrivateFieldGet(this,m))===null||r===void 0?void 0:r.setErrorCollection(babelHelpers.classPrivateFieldGet(this,g))}},{key:"getParentElement",value:function e(){return babelHelpers.classPrivateFieldGet(this,m)}},{key:"getChildrenElements",value:function e(){return babelHelpers.classPrivateFieldGet(this,H)}},{key:"setParentElement",value:function e(r){if(r instanceof t){babelHelpers.classPrivateFieldSet(this,m,r);babelHelpers.classPrivateFieldGet(this,m).addChild(this)}return this}},{key:"unsetParentElement",value:function e(){babelHelpers.classPrivateFieldSet(this,m,null)}},{key:"setChildrenElements",value:function e(t){var r=p(t),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;this.addChild(n)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addChild",value:function e(r){if(r instanceof t){if(!babelHelpers.classPrivateFieldGet(this,H).includes(r)){babelHelpers.classPrivateFieldGet(this,H).push(r)}if(a.Type.isNil(r.getParentElement())){r.setParentElement(this)}}}},{key:"removeChild",value:function e(r){if(r instanceof t){babelHelpers.classPrivateFieldSet(this,H,babelHelpers.classPrivateFieldGet(this,H).filter((function(e){return e!==r})));r.unsetParentElement()}}},{key:"render",value:function e(){return""}},{key:"renderErrors",value:function e(){return""}},{key:"accept",value:function e(t){t.visitSettingsElement(this)}},{key:"highlight",value:function e(){return false}},{key:"highlightElement",value:function e(t){a.Dom.addClass(t,"--founded-item");setTimeout((function(){a.Dom.removeClass(t,"--founded-item");a.Dom.addClass(t,"--after-founded-item");setTimeout((function(){a.Dom.removeClass(t,"--after-founded-item")}),5e3)}),0)}}]);return t}(i.EventEmitter);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){babelHelpers.defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t){S(e,t);t.add(e)}function E(e,t,r){S(e,t);t.set(e,r)}function S(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function k(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var C=new WeakMap;var I=new WeakSet;var G=new WeakSet;var z=function(e){babelHelpers.inherits(t,e);function t(e){var n;babelHelpers.classCallCheck(this,t);n=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));T(babelHelpers.assertThisInitialized(n),G);T(babelHelpers.assertThisInitialized(n),I);E(babelHelpers.assertThisInitialized(n),C,{writable:true,value:void 0});if(!(e.fieldView instanceof r.BaseField)){throw new Error('Unexpected field type, expected "BaseField"')}babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(n),C,e.fieldView);i.EventEmitter.subscribe("BX.UI.FormElement.Field:onFailedSave",k(babelHelpers.assertThisInitialized(n),G,O).bind(babelHelpers.assertThisInitialized(n)));return n}babelHelpers.createClass(t,[{key:"getFieldView",value:function e(){return babelHelpers.classPrivateFieldGet(this,C)}},{key:"render",value:function e(){return this.getFieldView().render()}},{key:"renderErrors",value:function e(){this.getFieldView().setErrors(this.getErrorCollection().getAll());return this.getFieldView().renderErrors()}}]);return t}(w);function A(e){var t;var r={};for(var i in e.data.errors){r=F(F({},r),e.data.errors[i])}return(t=r[this.getFieldView().getName()])!==null&&t!==void 0?t:[]}function O(e){var t=k(this,I,A).call(this,e);this.getErrorCollection().clear();this.setErrorCollection(new b(t));this.renderErrors()}function j(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=V(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var n=function e(){};return{s:n,n:function t(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,l=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){l=true;s=t},f:function e(){try{if(!a&&r["return"]!=null)r["return"]()}finally{if(l)throw s}}}}function V(e,t){if(!e)return;if(typeof e==="string")return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}function _(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function B(e,t,r){R(e,t);t.set(e,r)}function R(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var M=new WeakMap;var W=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));B(babelHelpers.assertThisInitialized(r),M,{writable:true,value:void 0});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),M,e.row instanceof n.Row||e.row instanceof n.SeparatorRow?e.row:new n.Row(a.Type.isPlainObject(e.row)?e.row:{}));return r}babelHelpers.createClass(t,[{key:"getRowView",value:function e(){return babelHelpers.classPrivateFieldGet(this,M)}},{key:"render",value:function e(){var t=j(this.getChildrenElements()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;this.getRowView().append(i.render())}}catch(e){t.e(e)}finally{t.f()}return this.getRowView().render()}},{key:"highlight",value:function e(){this.highlightElement(this.getRowView().render());return true}}]);return t}(w);function D(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=N(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var n=function e(){};return{s:n,n:function t(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,l=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){l=true;s=t},f:function e(){try{if(!a&&r["return"]!=null)r["return"]()}finally{if(l)throw s}}}}function N(e,t){if(!e)return;if(typeof e==="string")return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}function X(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function U(e,t,r){L(e,t);t.set(e,r)}function L(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var x=new WeakMap;var q=new WeakMap;var $=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));U(babelHelpers.assertThisInitialized(r),x,{writable:true,value:void 0});U(babelHelpers.assertThisInitialized(r),q,{writable:true,value:100});babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),x,e.section instanceof n.Section?e.section:new n.Section(a.Type.isPlainObject(e.section)?e.section:{}));babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),q,a.Type.isNumber(e.sort)?e.sort:100);return r}babelHelpers.createClass(t,[{key:"getSectionView",value:function e(){return babelHelpers.classPrivateFieldGet(this,x)}},{key:"getSectionSort",value:function e(){return babelHelpers.classPrivateFieldGet(this,q)}},{key:"render",value:function e(){var t=D(this.getChildrenElements()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;this.getSectionView().append(i.render())}}catch(e){t.e(e)}finally{t.f()}return this.getSectionView().render()}},{key:"renderTo",value:function e(t){return a.Dom.append(this.render(),t)}},{key:"highlight",value:function e(){this.highlightElement(this.getSectionView().render());return true}}]);return t}(w);var J,K,Q,Y;function Z(e,t,r,i){ie(e,t);re(r,"set");ee(e,r,i);return i}function ee(e,t,r){if(t.set){t.set.call(e,r)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=r}}function te(e,t,r){ie(e,t);re(r,"get");return ne(e,r)}function re(e,t){if(e===undefined){throw new TypeError("attempted to "+t+" private static field before its declaration")}}function ie(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function ne(e,t){if(t.get){return t.get.call(e)}return t.value}function ae(e,t){se(e,t);t.add(e)}function le(e,t,r){se(e,t);t.set(e,r)}function se(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function oe(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var ue=new WeakMap;var ce=new WeakMap;var be=new WeakMap;var fe=new WeakMap;var pe=new WeakMap;var he=new WeakMap;var de=new WeakMap;var ve=new WeakSet;var ye=function(e){babelHelpers.inherits(t,e);function t(){var e;babelHelpers.classCallCheck(this,t);e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this));ae(babelHelpers.assertThisInitialized(e),ve);babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"fields",{});le(babelHelpers.assertThisInitialized(e),ue,{writable:true,value:void 0});le(babelHelpers.assertThisInitialized(e),ce,{writable:true,value:void 0});babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"titlePage","");babelHelpers.defineProperty(babelHelpers.assertThisInitialized(e),"descriptionPage","");le(babelHelpers.assertThisInitialized(e),be,{writable:true,value:null});le(babelHelpers.assertThisInitialized(e),fe,{writable:true,value:void 0});le(babelHelpers.assertThisInitialized(e),pe,{writable:true,value:new Map});le(babelHelpers.assertThisInitialized(e),he,{writable:true,value:[]});le(babelHelpers.assertThisInitialized(e),de,{writable:true,value:void 0});e.setEventNamespace("BX.Intranet.Settings");return e}babelHelpers.createClass(t,[{key:"getAnalytic",value:function e(){return babelHelpers.classPrivateFieldGet(this,fe)}},{key:"setAnalytic",value:function e(t){babelHelpers.classPrivateFieldSet(this,fe,t)}},{key:"setPermission",value:function e(t){babelHelpers.classPrivateFieldSet(this,de,t)}},{key:"getPermission",value:function e(){return babelHelpers.classPrivateFieldGet(this,de)}},{key:"hasValue",value:function e(t){if(a.Type.isNil(babelHelpers.classPrivateFieldGet(this,be))||!a.Type.isObject(babelHelpers.classPrivateFieldGet(this,be))){return false}return!a.Type.isNil(babelHelpers.classPrivateFieldGet(this,be)[t])}},{key:"getValue",value:function e(t){if(!this.hasValue(t)){return null}return babelHelpers.classPrivateFieldGet(this,be)[t]}},{key:"hasData",value:function e(){return babelHelpers.classPrivateFieldGet(this,be)!==null}},{key:"getType",value:function e(){return""}},{key:"getPage",value:function e(){var t;if(!((t=this.getPermission())!==null&&t!==void 0&&t.canRead())){return a.Tag.render(J||(J=babelHelpers.taggedTemplateLiteral(['<div id="','-page-wrapper"></div>'])),this.getType())}if(babelHelpers.classPrivateFieldGet(this,ce)){return babelHelpers.classPrivateFieldGet(this,ce)}if(a.Type.isNil(babelHelpers.classPrivateFieldGet(this,be))){oe(this,ve,ge).call(this)}babelHelpers.classPrivateFieldSet(this,ce,a.Tag.render(K||(K=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div id="','-page-wrapper">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),this.getType(),a.Type.isNil(babelHelpers.classPrivateFieldGet(this,be))?me.getWrapper():this.render()));return babelHelpers.classPrivateFieldGet(this,ce)}},{key:"reload",value:function e(){a.Dom.remove(this.render());babelHelpers.classPrivateFieldSet(this,ue,null);babelHelpers.classPrivateFieldSet(this,be,null);a.Dom.append(me.getWrapper(),this.getPage());oe(this,ve,ge).call(this)}},{key:"render",value:function e(){var t=this;if(babelHelpers.classPrivateFieldGet(this,ue)){return babelHelpers.classPrivateFieldGet(this,ue)}babelHelpers.classPrivateFieldSet(this,ue,a.Tag.render(Q||(Q=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div>\n\t\t\t\t<div class="intranet-settings__page-header_wrap">\n\t\t\t\t\t<div class="intranet-settings__page-header_inner">\n\t\t\t\t\t\t<h1 class="intranet-settings__page-header">','</h1>\n\t\t\t\t\t\t<p class="intranet-settings__page-header_desc">','</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="intranet-settings__header-widget"></div>\n\t\t\t\t</div>\n\t\t\t\t<form id="form-','-page" onsubmit="return false;">\n\t\t\t\t\t<div class="intranet-settings__content-box"></div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t'])),this.titlePage,this.descriptionPage,this.getType()));var r=this.headerWidgetRender();var n=babelHelpers.classPrivateFieldGet(this,ue).querySelector(".intranet-settings__header-widget");if(r){a.Dom.append(r,n);a.Dom.addClass(babelHelpers.classPrivateFieldGet(this,ue).querySelector(".intranet-settings__page-header_wrap"),"--with-header-widget")}else{a.Dom.remove(n)}var l=babelHelpers.classPrivateFieldGet(this,ue).querySelector("form");var s=l.querySelector(".intranet-settings__content-box");l.addEventListener("change",(function(){var e;if((e=t.getPermission())!==null&&e!==void 0&&e.canEdit()){t.emit("change",{source:t})}}));this.appendSections(s);i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onContentFetched",{page:this});return babelHelpers.classPrivateFieldGet(this,ue)}},{key:"hasContent",value:function e(){return!a.Type.isNil(babelHelpers.classPrivateFieldGet(this,ue))}},{key:"headerWidgetRender",value:function e(){return""}},{key:"onSuccessDataFetched",value:function e(t){this.setData(t.data)}},{key:"setData",value:function e(t){babelHelpers.classPrivateFieldSet(this,be,t);babelHelpers.classPrivateFieldGet(this,pe).forEach((function(e){e.setData(t)}));if(babelHelpers.classPrivateFieldGet(this,ce)){a.Dom.clean(babelHelpers.classPrivateFieldGet(this,ce));babelHelpers.classPrivateFieldSet(this,ue,null);a.Dom.append(this.render(),babelHelpers.classPrivateFieldGet(this,ce))}i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onPageComplete",{page:this})}},{key:"onFailDataFetched",value:function e(t){b.showSystemError(a.Loc.getMessage("INTRANET_SETTINGS_ERROR_FETCH_DATA"))}},{key:"getFormNode",value:function e(){return this.render().querySelector("form")}},{key:"appendSections",value:function e(t){var r=this.getSections();babelHelpers.classPrivateFieldGet(this,pe).forEach((function(e){r.push.apply(r,babelHelpers.toConsumableArray(e.getSections()))}));r.sort((function(e,t){return e.getSectionSort()-t.getSectionSort()})).forEach((function(e){t.appendChild(e.render())}))}},{key:"expandPage",value:function e(t){if(a.Type.isArray(t)){var r;(r=babelHelpers.classPrivateFieldGet(this,he)).push.apply(r,babelHelpers.toConsumableArray(t))}return this}},{key:"getSections",value:function e(){return[]}},{key:"helpMessageProviderFactory",value:function e(t){t=a.Type.isNil(t)?a.Loc.getMessage("INTRANET_SETTINGS_FIELD_HELP_MESSAGE"):t;return function(e,r){return new n.HelpMessage(e,r,t)}}}],[{key:"addToSectionHelper",value:function e(t,r){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var n=new z({fieldView:t});new W({row:i,child:n,parent:r})}}]);return t}(w);function ge(){var e=this;new Promise((function(t,r){a.Runtime.loadExtension(babelHelpers.classPrivateFieldGet(e,he)).then((function(n){i.EventEmitter.emit(i.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Settings:onPageFetched:"+e.getType(),l).forEach((function(t){return babelHelpers.classPrivateFieldGet(e,pe).set(t.getType(),t)}));Object.values(n).forEach((function(t){if(a.Type.isObject(t)){if(t.prototype instanceof ye){var r=new t;babelHelpers.classPrivateFieldGet(e,pe).set(r.getType(),r)}else if(t instanceof ye){var i=t;babelHelpers.classPrivateFieldGet(e,pe).set(i.getType(),i)}}}));var l=new i.BaseEvent;var s=i.EventEmitter.emit(e,"fetch",l).some((function(e){if(e instanceof Promise){e.then(t,r);return true}return false}));if(s!==true){r({error:"The handler for fetching page data was not found. "})}}))})).then(this.onSuccessDataFetched.bind(this),this.onFailDataFetched.bind(this))}var me=function(){function e(){babelHelpers.classCallCheck(this,e)}babelHelpers.createClass(e,null,[{key:"getWrapper",value:function t(){if(te(e,e,He)){return te(e,e,He)}Z(e,e,He,a.Tag.render(Y||(Y=babelHelpers.taggedTemplateLiteral(['\n\t\t\t<div class="intranet-settings__loader"></div>\n\t\t']))));return te(e,e,He)}}]);return e}();var He={writable:true,value:void 0};function we(e,t){Fe(e,t);t.add(e)}function Pe(e,t,r){Fe(e,t);t.set(e,r)}function Fe(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Te(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var Ee=new WeakMap;var Se=new WeakMap;var ke=new WeakSet;var Ce=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(n)));we(babelHelpers.assertThisInitialized(r),ke);Pe(babelHelpers.assertThisInitialized(r),Ee,{writable:true,value:null});Pe(babelHelpers.assertThisInitialized(r),Se,{writable:true,value:[]});return r}babelHelpers.createClass(t,[{key:"setFilter",value:function e(t){babelHelpers.classPrivateFieldSet(this,Ee,t);return this}},{key:"restart",value:function e(t){babelHelpers.classPrivateFieldSet(this,Se,[]);this.visitSettingsElement(t);return babelHelpers.classPrivateFieldGet(this,Se)}},{key:"visitSettingsElement",value:function e(t){var r=this;if(Te(this,ke,Ie).call(this,t)){babelHelpers.classPrivateFieldGet(this,Se).push(t)}if(t.getChildrenElements().length>0){t.getChildrenElements().forEach((function(e){r.visitSettingsElement(e)}))}}}],[{key:"startFrom",value:function e(t,r){return this.getInstance().setFilter(r).restart(t)}},{key:"getInstance",value:function e(){if(!this.instance){this.instance=new this}return this.instance}}]);return t}(f);function Ie(e){if(typeof babelHelpers.classPrivateFieldGet(this,Ee)==="function"){return babelHelpers.classPrivateFieldGet(this,Ee).call(this,e)===true}return false}function Ge(e,t){Ae(e,t);t.add(e)}function ze(e,t,r){Ae(e,t);t.set(e,r)}function Ae(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function Oe(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var je=new WeakMap;var Ve=new WeakMap;var _e=new WeakSet;var Be=function(e){babelHelpers.inherits(t,e);function t(){var e;var r;babelHelpers.classCallCheck(this,t);for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}r=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(t)).call.apply(e,[this].concat(n)));Ge(babelHelpers.assertThisInitialized(r),_e);ze(babelHelpers.assertThisInitialized(r),je,{writable:true,value:null});ze(babelHelpers.assertThisInitialized(r),Ve,{writable:true,value:[]});return r}babelHelpers.createClass(t,[{key:"setFilter",value:function e(t){babelHelpers.classPrivateFieldSet(this,je,t);return this}},{key:"restart",value:function e(t){babelHelpers.classPrivateFieldSet(this,Ve,[]);this.visitSettingsElement(t);return babelHelpers.classPrivateFieldGet(this,Ve)}},{key:"visitSettingsElement",value:function e(t){if(Oe(this,_e,Re).call(this,t)){babelHelpers.classPrivateFieldGet(this,Ve).push(t)}if(t.getParentElement()){this.visitSettingsElement(t.getParentElement())}}}],[{key:"startFrom",value:function e(t,r){return this.getInstance().setFilter(r).restart(t)}},{key:"getInstance",value:function e(){if(!this.instance){this.instance=new this}return this.instance}}]);return t}(f);function Re(e){if(typeof babelHelpers.classPrivateFieldGet(this,je)==="function"){return babelHelpers.classPrivateFieldGet(this,je).call(this,e)===true}return false}function Me(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=We(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;var n=function e(){};return{s:n,n:function t(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}},e:function e(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,l=false,s;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();a=t.done;return t},e:function e(t){l=true;s=t},f:function e(){try{if(!a&&r["return"]!=null)r["return"]()}finally{if(l)throw s}}}}function We(e,t){if(!e)return;if(typeof e==="string")return De(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(e,t)}function De(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Ne(e,t,r){Xe(e,t);t.set(e,r)}function Xe(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var Ue=new WeakMap;var Le=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));Ne(babelHelpers.assertThisInitialized(r),Ue,{writable:true,value:void 0});r.setParentElement(e.parent);if(e.fieldView instanceof s.Tab){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),Ue,e.fieldView)}else if(e.tabsOptions){babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),Ue,new s.Tab(e.tabsOptions))}else{throw new Error("Tab field in Settings is not correct.")}if(e.parent.getFieldView()instanceof s.Tabs){e.parent.getFieldView().addItem(babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(r),Ue))}if(r.getParentElement()instanceof l.TabsField){babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(r),Ue).subscribe("changeTab",(function(){r.getParentElement().activateTab(babelHelpers.assertThisInitialized(r))}))}return r}babelHelpers.createClass(t,[{key:"getFieldView",value:function e(){return babelHelpers.classPrivateFieldGet(this,Ue)}},{key:"render",value:function e(){var t=Me(this.getChildrenElements()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;a.Dom.append(i.render(),this.getFieldView().getBodyDataContainer())}}catch(e){t.e(e)}finally{t.f()}return this.getFieldView().getBody()}},{key:"highlight",value:function e(){this.highlightElement(this.getFieldView().getBody());this.highlightElement(this.getFieldView().getHeader());return true}}]);return t}(w);function xe(e,t,r){qe(e,t);t.set(e,r)}function qe(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}var $e=new WeakMap;var Je=function(e){babelHelpers.inherits(t,e);function t(e){var r;babelHelpers.classCallCheck(this,t);r=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this,e));xe(babelHelpers.assertThisInitialized(r),$e,{writable:true,value:void 0});r.setParentElement(e.parent);babelHelpers.classPrivateFieldSet(babelHelpers.assertThisInitialized(r),$e,new s.Tabs(e.tabsOptions));babelHelpers.classPrivateFieldGet(babelHelpers.assertThisInitialized(r),$e).getItems().forEach((function(e){new Le({parent:babelHelpers.assertThisInitialized(r),fieldView:e})}));return r}babelHelpers.createClass(t,[{key:"activateTab",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.getFieldView().activateItem(t.getFieldView(),r);t.render()}},{key:"getFieldView",value:function e(){return babelHelpers.classPrivateFieldGet(this,$e)}},{key:"render",value:function e(){return babelHelpers.classPrivateFieldGet(this,$e).getContainer()}}]);return t}(w);e.BaseSettingsElement=w;e.BaseSettingsPage=ye;e.BaseSettingsVisitor=f;e.RecursiveFilteringVisitor=Ce;e.AscendingOpeningVisitor=Be;e.ErrorCollection=b;e.SettingsField=z;e.SettingsRow=W;e.SettingsSection=$;e.TabsField=Je;e.TabField=Le})(this.BX.UI.FormElements=this.BX.UI.FormElements||{},BX.Collections,BX.UI.FormElements,BX.Event,BX.UI,BX,BX.UI.FormElements,BX.UI);
//# sourceMappingURL=field.bundle.map.js