{"version":3,"file":"call.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","ui_vue3_vuex","im_call","im_public","im_v2_lib_slider","im_v2_lib_logger","im_v2_lib_promo","im_v2_lib_soundNotification","im_v2_lib_rest","im_v2_const","main_core","ui_entitySelector","ui_buttons","im_v2_application_core","BetaCallService","static","chatId","runAction","RestMethod","imCallBetaCreateRoom","data","_","t","_t","openCallUserSelector","params","handleAddCLick","selectedItems","dialog","getSelectedItems","preparedItems","prepareUser","onSelect","users","handleCancelCLick","hide","Dialog","targetNode","bindElement","width","enableSearch","dropdownMode","context","entities","id","dynamicLoad","itemOptions","default","linkTitle","link","options","inviteEmployeeLink","Core","getUserId","filters","footer","getFooter","show","Promise","resolve","close","map","user","name","title","text","avatar","avatar_hr","gender","customData","get","GENDER","addButtonTitle","Loc","getMessage","cancelButtonTitle","Tag","render","_controller","babelHelpers","classPrivateFieldLooseKey","_store","_getController","_subscribeToEvents","_onCallCreated","_onCallJoin","_onCallLeave","_onCallDestroy","_onOpenChat","_checkCallSupport","_checkUserCallSupport","_checkChatCallSupport","_pushServerIsActive","_getCurrentDialogId","_isUser","_prepareUserCall","CallManager","instance","getInstance","constructor","Object","defineProperty","value","_prepareUserCall2","_isUser2","_getCurrentDialogId2","_pushServerIsActive2","_checkChatCallSupport2","_checkUserCallSupport2","_checkCallSupport2","_onOpenChat2","_onCallDestroy2","_onCallLeave2","_onCallJoin2","_onCallCreated2","_subscribeToEvents2","_getController2","writable","classPrivateFieldLooseBase","getStore","createBetaCallRoom","createRoom","startCall","dialogId","withVideo","Logger","warn","joinCall","callId","leaveCurrentCall","foldCurrentCall","hasActiveCall","hasVisibleCall","fold","unfoldCurrentCall","unfold","getCurrentCallDialogId","currentCall","associatedEntity","getCurrentCall","hasCurrentCall","hasCurrentScreenSharing","isScreenSharingStarted","startTest","test","toggleDebugFlag","debug","chatCanBeCalled","callSupported","getters","Controller","init","language","getLanguageId","messengerFacade","getDefaultZIndex","MessengerSlider","getZIndex","isMessengerOpen","isOpened","isSliderFocused","isFocused","isThemeDark","openMessenger","openChat","openHistory","openSettings","openHelpArticle","getContainer","document","querySelector","viewContainerClass","getMessageCount","getCurrentDialogId","isPromoRequired","promoCode","PromoManager","needToShow","repeatSound","soundType","timeout","force","SoundNotificationManager","playLoop","stopRepeatSound","stop","showUserSelector","events","Events","onPromoViewed","event","code","getData","markAsWatched","onOpenVideoConference","_dialog$public","openConference","public","EventEmitter","subscribe","EventType","layout","onOpenChat","bind","onOpenNotifications","call","addEventListener","Call","Event","onJoin","onLeave","onDestroy","state","State","Connected","Proceeding","RecentCallStatus","joined","waiting","dispatch","fields","callDialogId","openedChat","Util","isWebRTCSupported","userId","Number","parseInt","status","bot","network","lastActivityDate","userCounter","getUserLimit","Layout","chat","entityId","type","ChatType","currentUserId","currentUser","currentCompanion","prepareUserCall","userData","Lib","Vue3","Vuex","Const","UI","EntitySelector","Application"],"sources":["call.bundle.js"],"mappings":"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"}