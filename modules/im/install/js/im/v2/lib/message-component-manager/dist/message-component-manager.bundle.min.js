this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,s,a,t,l,i){"use strict";const r=new Set([t.MessageComponent.unsupported,t.MessageComponent.chatCreation,t.MessageComponent.ownChatCreation,t.MessageComponent.conferenceCreation,t.MessageComponent.callInvite,t.MessageComponent.copilotCreation,t.MessageComponent.copilotMessage,t.MessageComponent.supportVote,t.MessageComponent.supportSessionNumber,t.MessageComponent.supportChatCreation,t.MessageComponent.zoomInvite,t.MessageComponent.copilotAddedUsers,t.MessageComponent.supervisorUpdateFeature,t.MessageComponent.supervisorEnableFeature,t.MessageComponent.sign,t.MessageComponent.checkIn,t.MessageComponent.generalChatCreationMessage,t.MessageComponent.generalChannelCreationMessage,t.MessageComponent.channelCreationMessage,t.MessageComponent.callMessage]);var o=babelHelpers.classPrivateFieldLooseKey("message");var n=babelHelpers.classPrivateFieldLooseKey("store");var p=babelHelpers.classPrivateFieldLooseKey("isServerComponent");var b=babelHelpers.classPrivateFieldLooseKey("hasFiles");var c=babelHelpers.classPrivateFieldLooseKey("hasText");var v=babelHelpers.classPrivateFieldLooseKey("hasAttach");var d=babelHelpers.classPrivateFieldLooseKey("isEmptyMessage");var h=babelHelpers.classPrivateFieldLooseKey("isDeletedMessage");var g=babelHelpers.classPrivateFieldLooseKey("isSystemMessage");var u=babelHelpers.classPrivateFieldLooseKey("isEmojiOnly");var P=babelHelpers.classPrivateFieldLooseKey("hasSmilesOnly");var L=babelHelpers.classPrivateFieldLooseKey("hasOnlyText");var F=babelHelpers.classPrivateFieldLooseKey("isForward");class f{constructor(e){Object.defineProperty(this,F,{value:x});Object.defineProperty(this,L,{value:X});Object.defineProperty(this,P,{value:K});Object.defineProperty(this,u,{value:j});Object.defineProperty(this,g,{value:O});Object.defineProperty(this,h,{value:y});Object.defineProperty(this,d,{value:C});Object.defineProperty(this,v,{value:H});Object.defineProperty(this,c,{value:B});Object.defineProperty(this,b,{value:M});Object.defineProperty(this,p,{value:m});Object.defineProperty(this,o,{writable:true,value:void 0});Object.defineProperty(this,n,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e;babelHelpers.classPrivateFieldLooseBase(this,n)[n]=a.Core.getStore()}getName(){const e=new i.OpenLinesMessageManager(babelHelpers.classPrivateFieldLooseBase(this,o)[o]);if(e.checkComponentInOpenLinesList()){return e.getMessageComponent()}if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){return t.MessageComponent.deleted}if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]()){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].componentId}if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]()){return t.MessageComponent.system}if(babelHelpers.classPrivateFieldLooseBase(this,b)[b]()){return t.MessageComponent.file}if(babelHelpers.classPrivateFieldLooseBase(this,u)[u]()||babelHelpers.classPrivateFieldLooseBase(this,P)[P]()){return t.MessageComponent.smile}return t.MessageComponent.default}}function m(){return r.has(babelHelpers.classPrivateFieldLooseBase(this,o)[o].componentId)}function M(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].files.length>0}function B(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].text.length>0}function H(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].attach.length>0}function C(){return!babelHelpers.classPrivateFieldLooseBase(this,c)[c]()&&!babelHelpers.classPrivateFieldLooseBase(this,b)[b]()&&!babelHelpers.classPrivateFieldLooseBase(this,v)[v]()}function y(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].isDeleted||babelHelpers.classPrivateFieldLooseBase(this,d)[d]()}function O(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o].authorId===0}function j(){if(babelHelpers.classPrivateFieldLooseBase(this,o)[o].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,L)[L]()){return false}return s.Utils.text.isEmojiOnly(babelHelpers.classPrivateFieldLooseBase(this,o)[o].text)}function K(){var e,a;if(babelHelpers.classPrivateFieldLooseBase(this,o)[o].replyId>0){return false}if(babelHelpers.classPrivateFieldLooseBase(this,F)[F]()){return false}if(!babelHelpers.classPrivateFieldLooseBase(this,L)[L]()){return false}const t=l.SmileManager.getInstance();const i=(e=(a=t.smileList)==null?void 0:a.smiles)!=null?e:[];const r=[...i].sort(((e,s)=>s.typing.localeCompare(e.typing)));const n=r.map((e=>s.Utils.text.escapeRegex(e.typing))).join("|");const p=babelHelpers.classPrivateFieldLooseBase(this,o)[o].text.replaceAll(new RegExp(n,"g"),"");const b=p.trim().length===0;const c=new RegExp(`(?:(?:${n})\\s*){4,}`);return b&&!c.test(babelHelpers.classPrivateFieldLooseBase(this,o)[o].text)}function X(){if(!babelHelpers.classPrivateFieldLooseBase(this,c)[c]()){return false}return!babelHelpers.classPrivateFieldLooseBase(this,b)[b]()&&!babelHelpers.classPrivateFieldLooseBase(this,v)[v]()}function x(){return babelHelpers.classPrivateFieldLooseBase(this,n)[n].getters["messages/isForward"](babelHelpers.classPrivateFieldLooseBase(this,o)[o].id)}e.MessageComponentManager=f})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.Messenger.v2.Lib,BX.Messenger.v2.Application,BX.Messenger.v2.Const,BX.Messenger.v2.Lib,BX.OpenLines.v2.Lib);
//# sourceMappingURL=message-component-manager.bundle.map.js