{"version":3,"file":"public.bundle.js","sources":["../src/public.js"],"sourcesContent":["import {Event, Type, Text, Dom} from 'main.core';\nimport {SliderHacks} from 'landing.sliderhacks';\n\nEvent.bind(document, 'click', (event: MouseEvent) => {\n\tif (Type.isDomNode(event.target))\n\t{\n\t\tconst link = event.target.closest('a:not(.ui-btn):not([data-fancybox])');\n\t\tif (Type.isDomNode(link))\n\t\t{\n\t\t\tconst isCurrentPageLink =\n\t\t\t\tType.isStringFilled(link.href)\n\t\t\t\t&& link.hash !== ''\n\t\t\t\t&& link.pathname === document.location.pathname\n\t\t\t\t&& link.hostname === document.location.hostname;\n\t\t\tif (Type.isStringFilled(link.href) && link.target !== '_blank' && !isCurrentPageLink)\n\t\t\t{\n\t\t\t\tevent.preventDefault();\n\t\t\t\tBX.Landing.Pub.TopPanel.pushHistory(link.href);\n\t\t\t\tvoid SliderHacks.reloadSlider(link.href);\n\t\t\t}\n\t\t}\n\n\t\tconst pseudoLink = event.target.closest('[data-pseudo-url]');\n\t\tif (Type.isDomNode(pseudoLink))\n\t\t{\n\t\t\tconst urlParams = Dom.attr(pseudoLink, 'data-pseudo-url');\n\n\t\t\tif (\n\t\t\t\tText.toBoolean(urlParams.enabled)\n\t\t\t\t&& Type.isStringFilled(urlParams.href)\n\t\t\t\t&& urlParams.href.indexOf('/bitrix/services/main/ajax.php?action=landing.api.diskFile.download') !== 0\n\t\t\t)\n\t\t\t{\n\t\t\t\tif (urlParams.query)\n\t\t\t\t{\n\t\t\t\t\turlParams.href += (urlParams.href.includes('?')) ? '&' : '?';\n\t\t\t\t\turlParams.href += urlParams.query;\n\t\t\t\t}\n\n\t\t\t\tif (urlParams.target === '_self')\n\t\t\t\t{\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\tBX.Landing.Pub.TopPanel.pushHistory(urlParams.href);\n\t\t\t\t\tvoid SliderHacks.reloadSlider(urlParams.href);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttop.open(urlParams.href, urlParams.target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});"],"names":["Event","bind","document","event","Type","isDomNode","target","link","closest","isCurrentPageLink","isStringFilled","href","hash","pathname","location","hostname","preventDefault","BX","Landing","Pub","TopPanel","pushHistory","SliderHacks","reloadSlider","pseudoLink","urlParams","Dom","attr","Text","toBoolean","enabled","indexOf","query","includes","stopImmediatePropagation","top","open"],"mappings":";;;;;AAGAA,gBAAK,CAACC,IAAI,CAACC,QAAQ,EAAE,OAAO,EAAE,UAACC,KAAiB,EAAK;GACpD,IAAIC,cAAI,CAACC,SAAS,CAACF,KAAK,CAACG,MAAM,CAAC,EAChC;KACC,IAAMC,IAAI,GAAGJ,KAAK,CAACG,MAAM,CAACE,OAAO,CAAC,qCAAqC,CAAC;KACxE,IAAIJ,cAAI,CAACC,SAAS,CAACE,IAAI,CAAC,EACxB;OACC,IAAME,iBAAiB,GACtBL,cAAI,CAACM,cAAc,CAACH,IAAI,CAACI,IAAI,CAAC,IAC3BJ,IAAI,CAACK,IAAI,KAAK,EAAE,IAChBL,IAAI,CAACM,QAAQ,KAAKX,QAAQ,CAACY,QAAQ,CAACD,QAAQ,IAC5CN,IAAI,CAACQ,QAAQ,KAAKb,QAAQ,CAACY,QAAQ,CAACC,QAAQ;OAChD,IAAIX,cAAI,CAACM,cAAc,CAACH,IAAI,CAACI,IAAI,CAAC,IAAIJ,IAAI,CAACD,MAAM,KAAK,QAAQ,IAAI,CAACG,iBAAiB,EACpF;SACCN,KAAK,CAACa,cAAc,EAAE;SACtBC,EAAE,CAACC,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACC,WAAW,CAACd,IAAI,CAACI,IAAI,CAAC;SAC9C,KAAKW,+BAAW,CAACC,YAAY,CAAChB,IAAI,CAACI,IAAI,CAAC;;;KAI1C,IAAMa,UAAU,GAAGrB,KAAK,CAACG,MAAM,CAACE,OAAO,CAAC,mBAAmB,CAAC;KAC5D,IAAIJ,cAAI,CAACC,SAAS,CAACmB,UAAU,CAAC,EAC9B;OACC,IAAMC,SAAS,GAAGC,aAAG,CAACC,IAAI,CAACH,UAAU,EAAE,iBAAiB,CAAC;OAEzD,IACCI,cAAI,CAACC,SAAS,CAACJ,SAAS,CAACK,OAAO,CAAC,IAC9B1B,cAAI,CAACM,cAAc,CAACe,SAAS,CAACd,IAAI,CAAC,IACnCc,SAAS,CAACd,IAAI,CAACoB,OAAO,CAAC,qEAAqE,CAAC,KAAK,CAAC,EAEvG;SACC,IAAIN,SAAS,CAACO,KAAK,EACnB;WACCP,SAAS,CAACd,IAAI,IAAKc,SAAS,CAACd,IAAI,CAACsB,QAAQ,CAAC,GAAG,CAAC,GAAI,GAAG,GAAG,GAAG;WAC5DR,SAAS,CAACd,IAAI,IAAIc,SAAS,CAACO,KAAK;;SAGlC,IAAIP,SAAS,CAACnB,MAAM,KAAK,OAAO,EAChC;WACCH,KAAK,CAAC+B,wBAAwB,EAAE;WAChCjB,EAAE,CAACC,OAAO,CAACC,GAAG,CAACC,QAAQ,CAACC,WAAW,CAACI,SAAS,CAACd,IAAI,CAAC;WACnD,KAAKW,+BAAW,CAACC,YAAY,CAACE,SAAS,CAACd,IAAI,CAAC;UAC7C,MAED;WACCwB,GAAG,CAACC,IAAI,CAACX,SAAS,CAACd,IAAI,EAAEc,SAAS,CAACnB,MAAM,CAAC;;;;;CAK/C,CAAC,CAAC;;;;"}