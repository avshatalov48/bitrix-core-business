this.BX=this.BX||{},function(e,s,a){"use strict";var t=babelHelpers.classPrivateFieldLooseKey("priority"),i=babelHelpers.classPrivateFieldLooseKey("delay"),r=babelHelpers.classPrivateFieldLooseKey("itemList"),l=babelHelpers.classPrivateFieldLooseKey("enough"),o=babelHelpers.classPrivateFieldLooseKey("launchPerHit");class c{constructor(e,s,a=!1){Object.defineProperty(this,t,{writable:!0,value:void 0}),Object.defineProperty(this,i,{writable:!0,value:void 0}),Object.defineProperty(this,r,{writable:!0,value:{}}),Object.defineProperty(this,l,{writable:!0,value:!1}),Object.defineProperty(this,o,{writable:!0,value:!1}),babelHelpers.classPrivateFieldLooseBase(this,i)[i]=1e3*parseInt(s,10),babelHelpers.classPrivateFieldLooseBase(this,t)[t]=e,babelHelpers.classPrivateFieldLooseBase(this,o)[o]=a}add(e,c={}){if(babelHelpers.classPrivateFieldLooseBase(this,l)[l])return;if(!a.Type.isFunction(e))throw new TypeError('Unexpected type "promise" argument, expected Promise or callback');const h=!(babelHelpers.classPrivateFieldLooseBase(this,o)[o]&&Object.values(babelHelpers.classPrivateFieldLooseBase(this,r)[r]).length>0),n=a.Type.isStringFilled(c.id)?c.id:a.Text.getRandom();babelHelpers.classPrivateFieldLooseBase(this,r)[r][n]=e,s.AutoLauncher.register(e,{...c,delay:babelHelpers.classPrivateFieldLooseBase(this,i)[i],priority:babelHelpers.classPrivateFieldLooseBase(this,t)[t],allowLaunchAfterOthers:h,id:n})}getItems(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}clean(){Object.keys(babelHelpers.classPrivateFieldLooseBase(this,r)[r]).forEach(e=>{this.remove(e)})}enough(){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=!0}notEnough(){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=!1}stop(){this.clean(),this.enough()}remove(e){s.AutoLauncher.unregister(e)}}const h=new c(s.LaunchPriority.CRITICAL,0),n=new c(s.LaunchPriority.HIGH,1),b=new c(s.LaunchPriority.NORMAL,1,!0),u=new c(s.LaunchPriority.LOW,5,!0),d={critical:{toQueue:(e,s={})=>{h.add(e,{allowLaunchAfterOthers:!0,forceShowOnTop:!0,...s})}},high:{toQueue:(e,s={})=>{n.add(e,{allowLaunchAfterOthers:!0,...s})}},normal:{toQueue:(e,s={})=>{b.add(e,s)}},low:{toQueue:(e,s={})=>{u.add(e,s)}},toQueue:(e,s={})=>{b.add(e,s)},only(e){Object.values(s.LaunchPriority).forEach(a=>{if(!e.includes(a))switch(a){case s.LaunchPriority.CRITICAL:h.stop();break;case s.LaunchPriority.HIGH:n.stop();break;case s.LaunchPriority.NORMAL:b.stop();break;case s.LaunchPriority.LOW:u.stop()}})}};e.BannerDispatcher=d}(this.BX.UI=this.BX.UI||{},BX.UI.AutoLaunch,BX);
//# sourceMappingURL=banner-dispatcher.bundle.js.map
