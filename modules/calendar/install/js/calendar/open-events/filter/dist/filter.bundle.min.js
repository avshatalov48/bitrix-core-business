this.BX=this.BX||{};this.BX.Calendar=this.BX.Calendar||{};(function(e,s){"use strict";const t=3;var i=babelHelpers.classPrivateFieldLooseKey("filterId");var l=babelHelpers.classPrivateFieldLooseKey("filter");var a=babelHelpers.classPrivateFieldLooseKey("bindEvents");var r=babelHelpers.classPrivateFieldLooseKey("beforeApplyHandler");var o=babelHelpers.classPrivateFieldLooseKey("applyHandler");var n=babelHelpers.classPrivateFieldLooseKey("isFilterEmpty");var b=babelHelpers.classPrivateFieldLooseKey("arePresetsEmpty");var d=babelHelpers.classPrivateFieldLooseKey("isSearchEmpty");class p extends s.EventEmitter{constructor(e){super();Object.defineProperty(this,d,{value:y});Object.defineProperty(this,b,{value:F});Object.defineProperty(this,n,{value:u});Object.defineProperty(this,o,{value:h});Object.defineProperty(this,r,{value:v});Object.defineProperty(this,a,{value:c});Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,l,{writable:true,value:void 0});this.setEventNamespace("Calendar.OpenEvents.Filter");babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e;babelHelpers.classPrivateFieldLooseBase(this,l)[l]=BX.Main.filterManager.getById(babelHelpers.classPrivateFieldLooseBase(this,i)[i]);babelHelpers.classPrivateFieldLooseBase(this,a)[a]()}get id(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}get fields(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l].getFilterFieldsValues()}isDateFieldApplied(){return this.fields.DATE_datesel&&this.fields.DATE_datesel!=="NONE"}getFilterFieldsKey(){return JSON.stringify(this.fields)}}function c(){this.beforeApplyHandler=babelHelpers.classPrivateFieldLooseBase(this,r)[r].bind(this);this.applyHandler=babelHelpers.classPrivateFieldLooseBase(this,o)[o].bind(this);s.EventEmitter.subscribe("BX.Main.Filter:beforeApply",this.beforeApplyHandler);s.EventEmitter.subscribe("BX.Main.Filter:apply",this.applyHandler)}function v(e){const[s]=e.getData();if(s!==babelHelpers.classPrivateFieldLooseBase(this,i)[i]){return}this.emit("beforeApply")}function h(e){const[s]=e.getData();if(s!==babelHelpers.classPrivateFieldLooseBase(this,i)[i]){return}if(babelHelpers.classPrivateFieldLooseBase(this,n)[n]()){this.emit("clear")}else{this.emit("apply")}}function u(){return babelHelpers.classPrivateFieldLooseBase(this,b)[b]()&&babelHelpers.classPrivateFieldLooseBase(this,d)[d]()}function F(){return!babelHelpers.classPrivateFieldLooseBase(this,l)[l].getSearch().getLastSquare()}function y(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l].getSearch().getSearchString().length<t}e.Filter=p})(this.BX.Calendar.OpenEvents=this.BX.Calendar.OpenEvents||{},BX.Event);
//# sourceMappingURL=filter.bundle.map.js