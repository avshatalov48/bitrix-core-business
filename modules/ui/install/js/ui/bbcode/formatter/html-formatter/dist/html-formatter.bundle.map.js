{"version":3,"file":"html-formatter.bundle.map.js","names":["this","BX","UI","BBCode","exports","ui_smiley","ui_codeParser","ui_bbcode_model","ui_videoService","ui_bbcode_formatter","ui_typography","main_core","createEmptyParagraphs","scheme","count","result","i","push","createElement","name","shouldWrapInParagraph","node","getType","BBCodeNode","ELEMENT_NODE","hasGroup","wrapTextNodes","nodes","currentParagraph","lineBreaks","isNewLine","appendChild","createNewLine","length","normalizeTextNodes","getScheme","children","getChildren","setChildren","_","t","_t","RootNodeFormatter","NodeFormatter","constructor","options","super","convert","document","createDocumentFragment","before","after","element","formatter","mode","getContainerMode","container","Tag","render","findParent","startingNode","findFn","curr","ROOT_NODE","getParent","_smileyParser","babelHelpers","classPrivateFieldLooseKey","TextNodeFormatter","text","toString","encode","parent","getName","createTextNode","splits","classPrivateFieldLooseBase","parse","fragment","currentIndex","split","start","chunk","slice","typing","end","smiley","SmileyManager","get","createImg","tail","Object","defineProperty","writable","value","SmileyParser","getAll","img","src","encodeURI","getImage","className","alt","getTyping","getWidth","getHeight","width","height","TabNodeFormatter","LinebreakNodeFormatter","trimLineBreaks","trimmedNodes","firstNode","lastNode","isLineBreakNode","isParagraphNode","isEmpty","splice","normalizeLineBreaks","at","test","getTextContent","ParagraphNodeFormatter","Dom","create","tag","attrs","BoldNodeFormatter","getAttributes","UnderlineNodeFormatter","ItalicNodeFormatter","StrikethroughNodeFormatter","TableNodeFormatter","classname","TableHeadCellNodeFormatter","TableDataCellNodeFormatter","TableRowNodeFormatter","ListNodeFormatter","tagName","getValue","ListItemNodeFormatter","QuoteNodeFormatter","_codeParser","CodeNodeFormatter","content","dataset","decorator","getCodeTokenNodes","CodeParser","tokens","forEach","token","partials","partialsLength","part","span","type","textContent","LinkNodeFormatter","validate","nodeValue","fetchNodeValue","startsWithJavascriptScheme","isShortLinkEnabled","isIncludeImg","some","nodeContentLength","getPlainTextLength","shortLink","getLinkSettings","maxLength","sourceHref","nodeRoot","createRoot","left","right","offset","lastFragmentLength","sourceRightFragmentLength","newLink","clone","setValue","createText","lastFragment","Type","isStringFilled","getContent","nodeAttributes","defaultTarget","attributes","href","target","static","toPlainText","regexp","SpoilerNodeFormatter","trim","title","Loc","getMessage","summary","spoilerContent","UserNodeFormatter","_mentionSettings$urlT","mentionSettings","getMentionSettings","urlTemplate","user","userUrl","replaceAll","mentionEntityId","mentionId","DepartmentNodeFormatter","department","departmentUrl","ProjectNodeFormatter","project","projectUrl","createImageNode","loading","style","aspectRatio","events","error","event","addClass","parentNode","validateImageUrl","url","ImageNodeFormatter","Number","getAttribute","isNumber","Math","round","createVideoNode","video","controls","preload","playsinline","ATTRIBUTE_WHITESPACES","SAFE_URL","sanitizeUrl","normalizedUrl","validateVideoUrl","VideoNodeFormatter","replace","uri","Uri","trusted","VideoService","createByHost","getHost","frameborder","allowfullscreen","FileNodeFormatter","fileMode","getFileMode","data","serverFileId","info","files","find","file","isImage","Text","toInteger","serverPreviewWidth","serverPreviewHeight","serverPreviewUrl","isVideo","downloadUrl","fileId","fileInfo","JSON","stringify","NodeFormatters","freeze","globalSettings","Extension","getSettings","_linkSettings","_mentionSettings","_fileMode","_containerMode","_isVoidElement","HtmlFormatter","Formatter","_isVoidElement2","setLinkSettings","linkSettings","setMentionSettings","mention","includes","defaultFormatters","values","map","FormatterClass","setContainerMode","containerMode","setNodeFormatters","formatters","isPlainObject","enabled","isInteger","settings","isElement","source","nodeType","Node","DOCUMENT_FRAGMENT_NODE","isUndefined","getDefaultUnknownNodeCallback","isVoid","createFragment","getOpeningTag","getClosingTag","toLowerCase","HtmlFormatterComponent","props","bbcode","String","required","default","beforeCreate","htmlFormatter","mounted","format","unmounted","watch","newValue","methods","getHtmlFormatter","$refs","clean","template","Smiley","window"],"sources":["html-formatter.bundle.js"],"mappings":"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"}