this.BX=this.BX||{};(function(a,t){"use strict";class e{static getGroupData(a,t){return BX.ajax.runAction("socialnetwork.api.workgroup.get",{data:{params:{select:t,groupId:a}}}).then((a=>{var t,e,o,n,r,i,u,d,s,l,c,p,I,E,g,v,A,S,h,w,T,N,k,C,O;return{id:a.data.ID,name:a.data.NAME,description:a.data.DESCRIPTION,avatar:(t=a.data)==null?void 0:t.AVATAR,isPin:(e=a.data)==null?void 0:e.IS_PIN,privacyCode:(o=a.data)==null?void 0:o.PRIVACY_CODE,isSubscribed:(n=a.data.USER_DATA)==null?void 0:n.IS_SUBSCRIBED,numberOfMembers:(r=a.data)==null?void 0:r.NUMBER_OF_MEMBERS,listOfMembers:(i=a.data)==null?void 0:i.LIST_OF_MEMBERS,groupMembersList:(u=a.data)==null?void 0:u.GROUP_MEMBERS_LIST,actions:{canEdit:(d=a.data)==null?void 0:(s=d.ACTIONS)==null?void 0:s.EDIT,canInvite:(l=a.data)==null?void 0:(c=l.ACTIONS)==null?void 0:c.INVITE,canLeave:(p=a.data)==null?void 0:(I=p.ACTIONS)==null?void 0:I.LEAVE,canFollow:(E=a.data)==null?void 0:(g=E.ACTIONS)==null?void 0:g.FOLLOW,canPin:(v=a.data)==null?void 0:(A=v.ACTIONS)==null?void 0:A.PIN,canEditFeatures:(S=a.data)==null?void 0:(h=S.ACTIONS)==null?void 0:h.EDIT_FEATURES},counters:(w=a.data)==null?void 0:w.COUNTERS,efficiency:(T=a.data)==null?void 0:T.EFFICIENCY,subject:(N=a.data)==null?void 0:(k=N.SUBJECT_DATA)==null?void 0:k.NAME,dateCreate:(C=a.data)==null?void 0:C.DATE_CREATE,features:(O=a.data)==null?void 0:O.FEATURES}})).catch((a=>{console.log(a)}))}static inviteUsers(a,t){return BX.ajax.runAction("socialnetwork.api.workgroup.updateInvitedUsers",{data:{spaceId:a,users:[0,...t]}})}static changePrivacy(a,e){const o={};if(e==="open"){o.VISIBLE="Y";o.OPENED="Y";o.EXTERNAL="N"}if(e==="closed"){o.VISIBLE="Y";o.OPENED="N";o.EXTERNAL="N"}if(e==="secret"){o.VISIBLE="N";o.OPENED="N";o.EXTERNAL="N"}return t.ajax.runAction("socialnetwork.api.workgroup.update",{data:{groupId:a,fields:o}})}static changeTitle(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.update",{data:{groupId:a,fields:{NAME:e}}})}static changeDescription(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.update",{data:{groupId:a,fields:{DESCRIPTION:e}}})}static changeTags(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.update",{data:{groupId:a,fields:{KEYWORDS:e.join(",")}}})}static changeFeature(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.setFeature",{data:{groupId:a,feature:e}})}static updatePhoto(a,e){var o;const n=new FormData;(o=e.name)!=null?o:e.name="tmp.png";n.append("newPhoto",e,e.name);n.append("groupId",a);return t.ajax.runAction("socialnetwork.api.workgroup.updatePhoto",{data:n})}static changePin(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.changePin",{data:{groupIdList:[a],action:e?"pin":"unpin"}})}static setSubscription(a,e){return t.ajax.runAction("socialnetwork.api.workgroup.setSubscription",{data:{params:{groupId:a,value:e?"Y":"N"}}})}static leaveGroup(a){return t.ajax.runAction("socialnetwork.api.workgroup.leave",{data:{groupId:a}})}static deleteGroup(a){return t.ajax.runAction("socialnetwork.api.workgroup.delete",{data:{groupId:a}})}static openGroupUsers(a){const e={all:"members",in:"requests_in",out:"requests_out"};const o=new t.Uri(this.paths.pathToUsers);o.setQueryParams({mode:e[a]});BX.SidePanel.Instance.open(o.toString(),{width:1200,cacheable:false,loader:"group-users-loader"})}static openGroupFeatures(){BX.SidePanel.Instance.open(this.paths.pathToFeatures,{width:800,loader:"group-features-loader"})}static openGroupInvite(){BX.SidePanel.Instance.open(this.paths.pathToInvite,{width:950,loader:"group-invite-loader"})}static openCommonSpace(){location.href=this.paths.pathToCommonSpace}}a.Controller=e})(this.BX.Socialnetwork=this.BX.Socialnetwork||{},BX);
//# sourceMappingURL=controller.bundle.map.js