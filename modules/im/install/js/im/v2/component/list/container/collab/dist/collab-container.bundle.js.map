{"version":3,"file":"collab-container.bundle.js","sources":["../src/collab-container.js"],"sourcesContent":["import { CollabList } from 'im.v2.component.list.items.collab';\nimport { CreateChatPromo } from 'im.v2.component.elements';\nimport { Layout, ChatType, ActionByUserType } from 'im.v2.const';\nimport { Analytics } from 'im.v2.lib.analytics';\nimport { Feature, FeatureManager } from 'im.v2.lib.feature';\nimport { Logger } from 'im.v2.lib.logger';\nimport { CreateChatManager } from 'im.v2.lib.create-chat';\n\nimport './css/collab-container.css';\nimport { PermissionManager } from 'im.v2.lib.permission';\n\n// @vue/component\nexport const CollabListContainer = {\n\tname: 'CollabListContainer',\n\tcomponents: { CollabList, CreateChatPromo },\n\temits: ['selectEntity'],\n\tcomputed:\n\t{\n\t\tChatType: () => ChatType,\n\t\tcanCreate(): boolean\n\t\t{\n\t\t\tconst creationAvailable = FeatureManager.isFeatureAvailable(Feature.collabCreationAvailable);\n\t\t\tconst hasAccess = PermissionManager.getInstance().canPerformActionByUserType(ActionByUserType.createCollab);\n\n\t\t\treturn creationAvailable && hasAccess;\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn('List: Collab container created');\n\t},\n\tmethods:\n\t{\n\t\tonChatClick(dialogId: string): void\n\t\t{\n\t\t\tthis.$emit('selectEntity', { layoutName: Layout.collab.name, entityId: dialogId });\n\t\t},\n\t\tonCreateClick(): void\n\t\t{\n\t\t\tAnalytics.getInstance().chatCreate.onStartClick(ChatType.collab);\n\t\t\tthis.startCollabCreation();\n\t\t},\n\t\tstartCollabCreation()\n\t\t{\n\t\t\tCreateChatManager.getInstance().startChatCreation(ChatType.collab);\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-list-container-collab__container\">\n\t\t\t<div class=\"bx-im-list-container-collab__header_container\">\n\t\t\t\t<div class=\"bx-im-list-container-collab__header_title\">\n\t\t\t\t\t{{ loc('IM_LIST_CONTAINER_COLLAB_HEADER_TITLE') }}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"canCreate\"\n\t\t\t\t\t@click=\"onCreateClick\" \n\t\t\t\t\tclass=\"bx-im-list-container-collab__header_create-collab\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-list-container-collab__elements_container\">\n\t\t\t\t<div class=\"bx-im-list-container-collab__elements\">\n\t\t\t\t\t<CollabList @chatClick=\"onChatClick\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n"],"names":["CollabListContainer","name","components","CollabList","CreateChatPromo","emits","computed","ChatType","canCreate","creationAvailable","FeatureManager","isFeatureAvailable","Feature","collabCreationAvailable","hasAccess","PermissionManager","getInstance","canPerformActionByUserType","ActionByUserType","createCollab","created","Logger","warn","methods","onChatClick","dialogId","$emit","layoutName","Layout","collab","entityId","onCreateClick","Analytics","chatCreate","onStartClick","startCollabCreation","CreateChatManager","startChatCreation","loc","phraseCode","$Bitrix","Loc","getMessage","template"],"mappings":";;;;;;;;CAWA;AACA,OAAaA,mBAAmB,GAAG;GAClCC,IAAI,EAAE,qBAAqB;GAC3BC,UAAU,EAAE;iBAAEC,4CAAU;sBAAEC;IAAiB;GAC3CC,KAAK,EAAE,CAAC,cAAc,CAAC;GACvBC,QAAQ,EACR;KACCC,QAAQ,EAAE,MAAMA,oBAAQ;KACxBC,SAAS,GACT;OACC,MAAMC,iBAAiB,GAAGC,gCAAc,CAACC,kBAAkB,CAACC,yBAAO,CAACC,uBAAuB,CAAC;OAC5F,MAAMC,SAAS,GAAGC,sCAAiB,CAACC,WAAW,EAAE,CAACC,0BAA0B,CAACC,4BAAgB,CAACC,YAAY,CAAC;OAE3G,OAAOV,iBAAiB,IAAIK,SAAS;;IAEtC;GACDM,OAAO,GACP;KACCC,uBAAM,CAACC,IAAI,CAAC,gCAAgC,CAAC;IAC7C;GACDC,OAAO,EACP;KACCC,WAAW,CAACC,QAAgB,EAC5B;OACC,IAAI,CAACC,KAAK,CAAC,cAAc,EAAE;SAAEC,UAAU,EAAEC,kBAAM,CAACC,MAAM,CAAC5B,IAAI;SAAE6B,QAAQ,EAAEL;QAAU,CAAC;MAClF;KACDM,aAAa,GACb;OACCC,6BAAS,CAAChB,WAAW,EAAE,CAACiB,UAAU,CAACC,YAAY,CAAC3B,oBAAQ,CAACsB,MAAM,CAAC;OAChE,IAAI,CAACM,mBAAmB,EAAE;MAC1B;KACDA,mBAAmB,GACnB;OACCC,sCAAiB,CAACpB,WAAW,EAAE,CAACqB,iBAAiB,CAAC9B,oBAAQ,CAACsB,MAAM,CAAC;MAClE;KACDS,GAAG,CAACC,UAAkB,EACtB;OACC,OAAO,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,UAAU,CAACH,UAAU,CAAC;;IAE/C;GACDI,QAAQ,EAAG;;;;;;;;;;;;;;;;;;;CAmBZ,CAAC;;;;;;;;"}