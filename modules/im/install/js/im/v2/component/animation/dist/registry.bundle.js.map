{"version":3,"file":"registry.bundle.js","sources":["../src/expand.js"],"sourcesContent":["import {Dom} from 'main.core';\n\n// @vue/component\nexport const ExpandAnimation = {\n\tprops:\n\t{\n\t\tduration: {\n\t\t\ttype: Number,\n\t\t\tdefault: 300\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonBeforeEnter(element)\n\t\t{\n\t\t\tDom.style(element, 'overflow', 'hidden');\n\t\t\tDom.style(element, 'transition', `height ${this.duration}ms, opacity ${this.duration}ms`);\n\t\t},\n\t\tonBeforeLeave(element)\n\t\t{\n\t\t\tthis.onBeforeEnter(element);\n\t\t},\n\t\tonEnter(element)\n\t\t{\n\t\t\tDom.style(element, 'height', 0);\n\t\t\tDom.style(element, 'opacity', 0);\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\trequestAnimationFrame(() => {\n\t\t\t\t\tDom.style(element, 'opacity', 1);\n\t\t\t\t\tDom.style(element, 'height', `${element.scrollHeight}px`);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tonAfterEnter(element)\n\t\t{\n\t\t\tDom.style(element, 'height', 'auto');\n\t\t},\n\t\tonLeave(element)\n\t\t{\n\t\t\tDom.style(element, 'height', `${element.scrollHeight}px`);\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tDom.style(element, 'height', 0);\n\t\t\t\tDom.style(element, 'opacity', 0);\n\t\t\t});\n\t\t}\n\t},\n\ttemplate: `\n\t\t<Transition\n\t\t\t@before-enter=\"onBeforeEnter\"\n\t\t\t@enter=\"onEnter\"\n\t\t\t@after-enter=\"onAfterEnter\"\n\t\t\t@before-leave=\"onBeforeLeave\"\n\t\t\t@leave=\"onLeave\"\n\t\t>\n\t\t\t<slot></slot>\n\t\t</Transition>\n\t`\n};"],"names":["ExpandAnimation","props","duration","type","Number","default","methods","onBeforeEnter","element","Dom","style","onBeforeLeave","onEnter","requestAnimationFrame","scrollHeight","onAfterEnter","onLeave","template"],"mappings":";;;;;;;CAEA;AACA,OAAaA,eAAe,GAAG;GAC9BC,KAAK,EACL;KACCC,QAAQ,EAAE;OACTC,IAAI,EAAEC,MAAM;OACZC,OAAO,EAAE;;IAEV;GACDC,OAAO,EACP;KACCC,aAAa,CAACC,OAAO,EACrB;OACCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,UAAU,EAAE,QAAQ,CAAC;OACxCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,YAAY,EAAG,UAAS,IAAI,CAACN,QAAS,eAAc,IAAI,CAACA,QAAS,IAAG,CAAC;MACzF;KACDS,aAAa,CAACH,OAAO,EACrB;OACC,IAAI,CAACD,aAAa,CAACC,OAAO,CAAC;MAC3B;KACDI,OAAO,CAACJ,OAAO,EACf;OACCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;OAC/BC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;OAEhCK,qBAAqB,CAAC,MAAM;SAC3BA,qBAAqB,CAAC,MAAM;WAC3BJ,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;WAChCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,QAAQ,EAAG,GAAEA,OAAO,CAACM,YAAa,IAAG,CAAC;UACzD,CAAC;QACF,CAAC;MACF;KACDC,YAAY,CAACP,OAAO,EACpB;OACCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC;MACpC;KACDQ,OAAO,CAACR,OAAO,EACf;OACCC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,QAAQ,EAAG,GAAEA,OAAO,CAACM,YAAa,IAAG,CAAC;OAEzDD,qBAAqB,CAAC,MAAM;SAC3BJ,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;SAC/BC,aAAG,CAACC,KAAK,CAACF,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC;QAChC,CAAC;;IAEH;GACDS,QAAQ,EAAG;;;;;;;;;;;CAWZ,CAAC;;;;;;;;"}