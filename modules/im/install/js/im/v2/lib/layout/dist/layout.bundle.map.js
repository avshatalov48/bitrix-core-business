{"version":3,"file":"layout.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core_events","im_v2_application_core","im_v2_lib_analytics","im_v2_lib_localStorage","im_v2_const","im_v2_lib_logger","im_v2_lib_channel","im_v2_lib_access","im_v2_lib_feature","im_v2_lib_bulkActions","TypesWithoutContext","Set","ChatType","comment","LayoutsWithoutLastOpenedElement","Layout","channel","name","market","_instance","babelHelpers","classPrivateFieldLooseKey","_lastOpenedElement","_onGoToMessageContext","_onDesktopReload","_sendAnalytics","_isSameChat","_handleLayoutChange","_handleChatChange","_handleSameChatReopen","_closeBulkActionsMode","_closeChannelComments","_handleContextAccess","_getChat","LayoutManager","getInstance","classPrivateFieldLooseBase","init","constructor","Object","defineProperty","value","_getChat2","_handleContextAccess2","_closeChannelComments2","_closeBulkActionsMode2","_handleSameChatReopen2","_handleChatChange2","_handleLayoutChange2","_isSameChat2","_sendAnalytics2","_onDesktopReload2","_onGoToMessageContext2","writable","EventEmitter","subscribe","EventType","dialog","goToMessageContext","bind","desktop","onReload","setLayout","config","contextId","hasAccess","Promise","resolve","entityId","setLastOpenedElement","Core","getStore","dispatch","getLayout","getters","saveCurrentLayout","currentLayout","LocalStorageManager","set","LocalStorageKey","layoutConfig","restoreLastLayout","get","Logger","warn","remove","getLastOpenedElement","layoutName","_babelHelpers$classPr","has","clearCurrentLayoutEntityId","currentLayoutName","deleteLastOpenedElement","isChatContextAvailable","dialogId","type","destroy","unsubscribe","deleteLastOpenedElementById","entries","forEach","lastOpenedId","async","event","messageId","getData","isCopilotLayout","copilot","chat","Analytics","onOpenTab","sameLayout","sameEntityId","CHAT_LAYOUTS","lines","openlinesV2","collab","emit","BulkActionsManager","disableBulkMode","isChannelOpened","ChannelManager","isChannel","closeComments","errorCode","AccessManager","checkMessageAccess","AccessErrorCode","messageAccessDeniedByTariff","historyLimit","onGoToContextLimitExceeded","FeatureManager","chatHistory","openFeatureSlider","Lib","Event","Application","Const"],"sources":["layout.bundle.js"],"mappings":"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","ignoreList":[]}