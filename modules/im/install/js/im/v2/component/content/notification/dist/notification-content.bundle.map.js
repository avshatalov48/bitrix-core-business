{"version":3,"file":"notification-content.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","main_polyfill_intersectionobserver","ui_dialogs_messagebox","im_v2_provider_service","im_v2_lib_utils","im_v2_lib_parser","im_public","im_v2_component_elements","im_v2_lib_dateFormatter","ui_forms","ui_vue3_vuex","im_v2_lib_user","main_core","im_v2_application_core","im_v2_const","im_v2_lib_logger","NotificationItemAvatar","name","components","Avatar","props","userId","type","Number","required","computed","isSystem","dialogId","toString","user","$store","getters","template","NotificationQuickAnswer","MessengerButton","Button","notification","Object","emits","data","quickAnswerText","quickAnswerResultMessage","showQuickAnswer","isSending","successSentQuickAnswer","ButtonSize","ButtonColor","methods","toggleQuickAnswer","$nextTick","$refs","focus","sendQuickAnswer","trim","$emit","id","text","callbackSuccess","response","result_message","resultMessage","message","callbackError","NotificationItemConfirmButtons","buttons","Array","preparedButtons","map","button","value","COMMAND_PARAMS","split","TEXT","click","getButtonColor","Primary","LightBorder","NotificationItemContent","Attach","notificationItem","hasQuickAnswer","_this$notification$pa","Boolean","params","canAnswer","content","Parser","decodeNotification","attachList","_this$notification$pa2","attach","onContentClick","event","executeClickEvent","onConfirmButtonsClick","onSendQuickAnswer","NotificationItemHeader","AvatarSize","ChatTitle","date","sectionCode","authorId","hasName","length","title","$Bitrix","Loc","getMessage","userDialogId","titleClasses","extranet","hasMoreUsers","_this$notificationIte","users","moreUsers","phrase","start","end","canDelete","NotificationTypesCodes","simple","itemDate","DateFormatter","formatByTemplate","DateTemplate","onUserTitleClick","openChat","onMoreUsersClick","onDeleteClick","NotificationItem","searchMode","default","isUnread","read","userData","onDoubleClick","NotificationPlaceholder","itemsToShow","NotificationSearchPanel","schema","searchQuery","searchType","searchDate","filterTypes","originalSchema","modulesToRemove","forEach","moduleId","LIST","calendar","NAME","sender","blog","socialnetwork","intranet","modulesToShowInFilter","notificationFilterTypes","push","watch","search","onDateFilterClick","get","popup","close","node","target","field","bTime","callback_after","NotificationScrollButton","unreadCounter","notificationsOnScreen","notificationCollection","hasUnreadOnScreen","some","_this$notificationMap","notificationMapCollection","firstUnreadId","item","find","firstUnreadBelowVisible","minIdOnScreen","Math","min","hasUnreadBelowVisible","unreadCounterBeforeVisible","i","has","showScrollButton","arrowButtonClass","arrowDown","formattedCounter","mapState","state","notifications","collection","onScrollButtonClick","idToScroll","firstUnreadNode","selector","document","querySelector","offsetTop","latestNotification","latestNotificationNode","LIMIT_PER_PAGE","NotificationSearchService","constructor","store","restClient","userManager","isLoading","lastId","hasMoreItemsToLoad","Core","getStore","getRestClient","UserManager","loadFirstPage","requestItems","firstPage","loadNextPage","Promise","resolve","searchInModel","filter","result","toLowerCase","includes","settingName","parseDate","Date","itemDateForCompare","getTime","setHours","dateFromInput","queryParams","getSearchRequestParams","callMethod","RestMethod","imNotifyHistorySearch","then","responseData","Logger","warn","isLastPage","getLastItemId","setUsersToModel","catch","error","requestParams","SEARCH_TEXT","SEARCH_TYPE","LIMIT","CONVERT_TEXT","toISOString","Type","isArrayFilled","destroy","NotificationReadService","itemsToRead","Set","changeReadStatusBlockTimeout","readOnClientWithDebounce","Runtime","debounce","readOnClient","readRequestWithDebounce","readRequest","addToReadQueue","notificationIds","isNumber","add","size","idToReadFrom","imNotifyRead","clear","dispatch","ids","readAll","console","changeReadStatus","notificationId","clearTimeout","setTimeout","action","only_current","NotificationContent","UserListPopup","Loader","directives","mounted","element","binding","instance","observer","observe","beforeUnmount","unobserve","isInitialLoading","isNextPageLoading","windowFocused","showSearchPanel","showSearchResult","popupBindElement","showUserListPopup","userListIds","searchResultCollection","isReadAllAvailable","isEmptyState","emptyStateIcon","emptyStateTitle","enableAutoRead","Settings","newValue","oldValue","created","notificationService","NotificationService","notificationSearchService","notificationReadService","searchOnServerDelayed","searchOnServer","Event","bind","window","onWindowFocus","onWindowBlur","initObserver","hasFocus","unbind","IntersectionObserver","entries","entry","parseInt","dataset","isIntersecting","delete","intersectionRatio","intersectionRect","height","rootBounds","root","listNotifications","threshold","from","fill","zero","index","oneScreenRemaining","scrollTop","clientHeight","scrollHeight","setSearchResult","items","offset","scroll","top","behavior","onScroll","onScrollSearchResult","onScrollNotifications","onClickReadAll","messageBox","MessageBox","MessageBoxButtons","YES_CANCEL","onYes","onCancel","show","sendConfirmAction","onSearch","localResult","skipValidation","Content","UI","Dialogs","Provider","Service","Lib","Elements","Vue3","Vuex","Application","Const"],"sources":["notification-content.bundle.js"],"mappings":"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"}