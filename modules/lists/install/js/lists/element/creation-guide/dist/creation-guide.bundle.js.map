{"version":3,"file":"creation-guide.bundle.js","sources":["../src/creation-guide.js"],"sourcesContent":["import { Type, Uri } from 'main.core';\nimport 'sidepanel';\n\ntype OpenSliderParams = {\n\tiBlockTypeId: string,\n\tiBlockId: number,\n\tfillConstantsUrl?: string,\n\tonClose?: Function,\n};\n\nexport class CreationGuide\n{\n\tstatic open(params: OpenSliderParams)\n\t{\n\t\tif (!Type.isPlainObject(params) || !Type.isStringFilled(params.iBlockTypeId) || !Type.isInteger(params.iBlockId))\n\t\t{\n\t\t\tthrow new TypeError('invalid params');\n\t\t}\n\n\t\tconst url = Uri.addParam(\n\t\t\t'/bitrix/components/bitrix/lists.element.creation_guide/',\n\t\t\t{\n\t\t\t\tiBlockTypeId: encodeURIComponent(params.iBlockTypeId),\n\t\t\t\tiBlockId: encodeURIComponent(params.iBlockId),\n\t\t\t\tfillConstantsUrl: encodeURIComponent(this.#getFillConstantsUrl(params)),\n\t\t\t},\n\t\t);\n\n\t\tBX.SidePanel.Instance.open(\n\t\t\turl,\n\t\t\t{\n\t\t\t\twidth: 900,\n\t\t\t\tcacheable: false,\n\t\t\t\tallowChangeHistory: false,\n\t\t\t\tloader: '/bitrix/js/lists/element/creation-guide/images/skeleton.svg',\n\t\t\t\tevents: {\n\t\t\t\t\tonCloseComplete: () => {\n\t\t\t\t\t\tif (Type.isFunction(params.onClose))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tparams.onClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\t}\n\n\tstatic #getFillConstantsUrl(params: OpenSliderParams): string\n\t{\n\t\tif (Type.isStringFilled(params.fillConstantsUrl))\n\t\t{\n\t\t\treturn params.fillConstantsUrl;\n\t\t}\n\n\t\treturn Uri.addParam('/bizproc/userprocesses/', {\n\t\t\tiBlockId: params.iBlockId,\n\t\t});\n\t}\n}\n"],"names":["CreationGuide","open","params","Type","isPlainObject","isStringFilled","iBlockTypeId","isInteger","iBlockId","TypeError","url","Uri","addParam","encodeURIComponent","fillConstantsUrl","BX","SidePanel","Instance","width","cacheable","allowChangeHistory","loader","events","onCloseComplete","isFunction","onClose"],"mappings":";;;;;;CACmB;AASnB,CAAO,MAAMA,aAAa,CAC1B;GACC,OAAOC,IAAI,CAACC,MAAwB,EACpC;KACC,IAAI,CAACC,cAAI,CAACC,aAAa,CAACF,MAAM,CAAC,IAAI,CAACC,cAAI,CAACE,cAAc,CAACH,MAAM,CAACI,YAAY,CAAC,IAAI,CAACH,cAAI,CAACI,SAAS,CAACL,MAAM,CAACM,QAAQ,CAAC,EAChH;OACC,MAAM,IAAIC,SAAS,CAAC,gBAAgB,CAAC;;KAGtC,MAAMC,GAAG,GAAGC,aAAG,CAACC,QAAQ,CACvB,yDAAyD,EACzD;OACCN,YAAY,EAAEO,kBAAkB,CAACX,MAAM,CAACI,YAAY,CAAC;OACrDE,QAAQ,EAAEK,kBAAkB,CAACX,MAAM,CAACM,QAAQ,CAAC;OAC7CM,gBAAgB,EAAED,kBAAkB,yCAAC,IAAI,8CAAsBX,MAAM;MACrE,CACD;KAEDa,EAAE,CAACC,SAAS,CAACC,QAAQ,CAAChB,IAAI,CACzBS,GAAG,EACH;OACCQ,KAAK,EAAE,GAAG;OACVC,SAAS,EAAE,KAAK;OAChBC,kBAAkB,EAAE,KAAK;OACzBC,MAAM,EAAE,6DAA6D;OACrEC,MAAM,EAAE;SACPC,eAAe,EAAE,MAAM;WACtB,IAAIpB,cAAI,CAACqB,UAAU,CAACtB,MAAM,CAACuB,OAAO,CAAC,EACnC;aACCvB,MAAM,CAACuB,OAAO,EAAE;;;;MAInB,CACD;;CAcH;CAAC,+BAX4BvB,MAAwB,EACpD;GACC,IAAIC,cAAI,CAACE,cAAc,CAACH,MAAM,CAACY,gBAAgB,CAAC,EAChD;KACC,OAAOZ,MAAM,CAACY,gBAAgB;;GAG/B,OAAOH,aAAG,CAACC,QAAQ,CAAC,yBAAyB,EAAE;KAC9CJ,QAAQ,EAAEN,MAAM,CAACM;IACjB,CAAC;CACH;CAAC,sBA/CWR,aAAa;GAAA;CAAA;;;;;;;;"}