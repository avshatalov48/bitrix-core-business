{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","main_date","im_v2_lib_utils","im_v2_lib_parser","im_v2_component_elements","im_v2_lib_dateFormatter","im_v2_application_core","im_v2_const","im_v2_lib_layout","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","user","message","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","ChatAvatar","ChatTitle","data","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","getCollection","getStore","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","LayoutManager","getInstance","clearCurrentLayoutEntityId","deleteLastOpenedElementById","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getPinMessageItem","getHideItem","getLeaveItem","getOpenItem","onclick","openCopilot","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","isEmptyCollection","created","contextMenuManager","loadFirstPage","CopilotDraftManager","initDraftHistory","beforeUnmount","destroy","onScroll","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","List","Lib","Main","Elements","Application","Const","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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","ignoreList":[]}