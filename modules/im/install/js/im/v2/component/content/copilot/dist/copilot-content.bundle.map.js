{"version":3,"file":"copilot-content.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_logger","im_v2_lib_analytics","ui_notification","main_core_events","im_v2_lib_promo","im_v2_component_content_elements","main_popup","im_v2_component_textarea","im_v2_lib_draft","im_v2_component_dialog_chat","main_core","im_v2_component_messageList","im_v2_lib_copilot","im_public","im_v2_component_elements","im_v2_const","im_v2_lib_theme","im_v2_provider_service","POPUP_ID","AddToChatHint","name","components","MessengerPopup","props","bindElement","type","Object","required","emits","computed","config","darkMode","angle","width","closeIcon","offsetLeft","className","contentBorderRadius","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","CopilotChatHeader","ChatHeader","EditableChatTitle","ChatAvatar","inject","dialogId","String","default","data","showAddToChatPopup","showAddToChatHint","AvatarSize","dialog","$store","getters","isInited","inited","isGroupCopilotChat","userCounter","copilotRole","_role$name","role","formattedUserCounter","getMessagePlural","onNewTitleSubmit","newTitle","getChatService","renameChat","catch","UI","Notification","Center","notify","content","onHintHide","PromoManager","getInstance","markAsWatched","PromoId","addUsersToCopilotChat","onMembersClick","currentSidebarPanel","SidebarDetailBlock","members","EventEmitter","emit","EventType","sidebar","close","panel","open","handleAddToChatHint","needToShow","chatService","ChatService","replacements","CopilotTextarea","ChatTextarea","CopilotDraftManager","CopilotChatContext","freeze","personal","group","CopilotMessageMenu","MessageMenu","getMenuItems","getCopyItem","getFavoriteItem","getForwardItem","getSendFeedbackItem","getDeleteItem","copilotManager","CopilotManager","isCopilotBot","context","authorId","text","onclick","openForm","menuInstance","async","formId","Math","round","random","Runtime","loadExtension","Feedback","Form","id","forms","zones","lang","sec","presets","sender_page","getCopilotChatContext","language","cp_answer","chat","store","CopilotMessageList","MessageList","DialogStatus","CopilotDialog","ChatDialog","COPILOT_BACKGROUND_ID","CopilotInternalContent","BaseChatContent","BUTTON_BACKGROUND_COLOR","BUTTON_HOVER_COLOR","BUTTON_TEXT_COLOR","EmptyState","ChatButton","Button","CopilotRolesDialog","isCreatingChat","showRolesDialog","ButtonSize","backgroundStyle","ThemeManager","getBackgroundStyleById","preparedText","buttonColorScheme","borderColor","Color","transparent","backgroundColor","iconColor","textColor","hoverColor","onCreateChatClick","roleCode","code","newDialogId","getCopilotService","createChat","showCreateChatError","openCopilot","copilotService","CopilotService","CopilotContent","entityId","contextMessageId","Number","layout","watch","newValue","oldValue","Logger","warn","onChatChange","created","Analytics","onOpenChat","loading","contextId","loadChatWithContext","loadChat","error","showNotification","Promise","resolve","loadChatWithMessages","firstError","Content","Lib","Event","Main","Dialog","Elements","Const","Service"],"sources":["copilot-content.bundle.js"],"mappings":"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"}