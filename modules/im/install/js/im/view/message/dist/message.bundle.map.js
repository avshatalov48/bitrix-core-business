{"version":3,"sources":["message.bundle.js"],"names":["exports","im_view_message_body","im_model","ui_vue","im_const","im_lib_utils","im_lib_animation","BitrixVue","component","props","userId","default","dialogId","chatId","enableReactions","enableDateActions","enableCreateContent","enableGestureQuote","enableGestureQuoteFromRight","enableGestureMenu","showAvatar","showMenu","showName","showLargeFont","capturedMoveEvent","referenceContentClassName","referenceContentBodyClassName","referenceContentNameClassName","message","type","Object","MessagesModel","create","getElementState","data","componentBodyId","drag","dragWidth","dragPosition","dragIconShowLeft","dragIconShowRight","created","this","dragStartPositionX","dragStartPositionY","dragMovePositionX","dragMovePositionY","beforeDestroy","clearTimeout","dragStartTimeout1","dragStartTimeout2","dragBackAnimation","Animation","cancel","methods","clickByAvatar","event","$emit","clickByUserName","Utils","platform","isMobile","clickByUploadCancel","clickByKeyboardButton","clickByChatTeaser","clickByMessageMenu","clickByMessageRetry","setMessageReaction","openMessageReactionList","gestureRouter","eventName","gestureQuote","gestureMenu","_this","gestureMenuStarted","gestureMenuPreventTouchEnd","target","tagName","gestureMenuStartPosition","x","changedTouches","clientX","y","clientY","gestureMenuTimeout","setTimeout","Math","abs","preventDefault","_this2","browser","findParent","isAndroid","fromRight","layerX","getBoundingClientRect","left","layerY","top","dragCheck","dragStartInitialX","dragStartInitialY","result","$refs","body","offsetWidth","isBitrixMobile","app","exec","start","end","increment","duration","element","elementProperty","callback","dragLayerPosition","undefined","watch","movementX","dragPositionMax","dragPositionIcon","_dragPositionMax","_dragPositionIcon","computed","MessageType","dialog","$store","getters","system","authorId","self","opponent","userData","userAvatar","params","AVATAR","concat","avatar","filesData","files","isEdited","IS_EDITED","isDeleted","IS_DELETED","isLargeFont","LARGE_FONT","template","window","BX","Messenger","Model","Const","Lib"],"mappings":"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","file":"message.bundle.map.js"}