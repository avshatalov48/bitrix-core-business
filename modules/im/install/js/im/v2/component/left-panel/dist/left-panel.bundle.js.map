{"version":3,"file":"left-panel.bundle.js","sources":["../src/left-panel.js"],"sourcesContent":["import {EventEmitter} from 'main.core.events';\nimport {RecentList as RecentListComponent} from 'im.v2.component.recent-list';\nimport {Search as SearchComponent} from 'im.v2.component.search';\nimport {EventType} from 'im.v2.const';\n\n// @vue/component\nexport const LeftPanel = {\n\tcomponents: {RecentListComponent, SearchComponent},\n\tdata: function()\n\t{\n\t\treturn {\n\t\t\tsearchMode: false,\n\t\t\tsearchQuery: '',\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.registerSearchEvents();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.unregisterSearchEvents();\n\t},\n\tmethods:\n\t{\n\t\tregisterSearchEvents()\n\t\t{\n\t\t\tthis.onOpenSearchHandler = this.onOpenSearch.bind(this);\n\t\t\tthis.onUpdateSearchHandler = this.onUpdateSearch.bind(this);\n\t\t\tthis.onCloseSearchHandler = this.onCloseSearch.bind(this);\n\t\t\tEventEmitter.subscribe(EventType.recent.openSearch, this.onOpenSearchHandler);\n\t\t\tEventEmitter.subscribe(EventType.recent.updateSearch, this.onUpdateSearchHandler);\n\t\t\tEventEmitter.subscribe(EventType.recent.closeSearch, this.onCloseSearchHandler);\n\t\t},\n\t\tunregisterSearchEvents()\n\t\t{\n\t\t\tEventEmitter.unsubscribe(EventType.recent.openSearch, this.onOpenSearchHandler);\n\t\t\tEventEmitter.unsubscribe(EventType.recent.updateSearch, this.onUpdateSearchHandler);\n\t\t\tEventEmitter.unsubscribe(EventType.recent.closeSearch, this.onCloseSearchHandler);\n\t\t},\n\t\tonOpenSearch(event)\n\t\t{\n\t\t\tif (this.searchMode)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.searchMode = true;\n\t\t\tthis.searchQuery = event.data.query;\n\t\t},\n\t\tonUpdateSearch(event)\n\t\t{\n\t\t\tthis.searchMode = true;\n\t\t\tthis.searchQuery = event.data.query;\n\t\t},\n\t\tonCloseSearch()\n\t\t{\n\t\t\tthis.searchQuery = '';\n\t\t\tthis.searchMode = false;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-left-panel-wrap\">\n\t\t\t<SearchComponent v-show=\"searchMode\" :searchMode=\"searchMode\" :searchQuery=\"searchQuery\" />\n\t\t\t<RecentListComponent v-show=\"!searchMode\" />\n\t\t</div>\n\t`\n};"],"names":["LeftPanel","components","RecentListComponent","SearchComponent","data","searchMode","searchQuery","created","registerSearchEvents","beforeUnmount","unregisterSearchEvents","methods","onOpenSearchHandler","onOpenSearch","bind","onUpdateSearchHandler","onUpdateSearch","onCloseSearchHandler","onCloseSearch","EventEmitter","subscribe","EventType","recent","openSearch","updateSearch","closeSearch","unsubscribe","event","query","template"],"mappings":";;;;;OAMaA,SAAS,GAAG;CACxBC,EAAAA,UAAU,EAAE;CAACC,yBAAAA,qCAAD;CAAsBC,qBAAAA;CAAtB,GADY;CAExBC,EAAAA,IAAI,EAAE,YACN;CACC,WAAO;CACNC,MAAAA,UAAU,EAAE,KADN;CAENC,MAAAA,WAAW,EAAE;CAFP,KAAP;CAIA,GARuB;;CASxBC,EAAAA,OAAO,GACP;CACC,SAAKC,oBAAL;CACA,GAZuB;;CAaxBC,EAAAA,aAAa,GACb;CACC,SAAKC,sBAAL;CACA,GAhBuB;;CAiBxBC,EAAAA,OAAO,EACP;CACCH,IAAAA,oBAAoB,GACpB;CACC,WAAKI,mBAAL,GAA2B,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAA3B;CACA,WAAKC,qBAAL,GAA6B,KAAKC,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAA7B;CACA,WAAKG,oBAAL,GAA4B,KAAKC,aAAL,CAAmBJ,IAAnB,CAAwB,IAAxB,CAA5B;CACAK,MAAAA,6BAAY,CAACC,SAAb,CAAuBC,qBAAS,CAACC,MAAV,CAAiBC,UAAxC,EAAoD,KAAKX,mBAAzD;CACAO,MAAAA,6BAAY,CAACC,SAAb,CAAuBC,qBAAS,CAACC,MAAV,CAAiBE,YAAxC,EAAsD,KAAKT,qBAA3D;CACAI,MAAAA,6BAAY,CAACC,SAAb,CAAuBC,qBAAS,CAACC,MAAV,CAAiBG,WAAxC,EAAqD,KAAKR,oBAA1D;CACA,KATF;;CAUCP,IAAAA,sBAAsB,GACtB;CACCS,MAAAA,6BAAY,CAACO,WAAb,CAAyBL,qBAAS,CAACC,MAAV,CAAiBC,UAA1C,EAAsD,KAAKX,mBAA3D;CACAO,MAAAA,6BAAY,CAACO,WAAb,CAAyBL,qBAAS,CAACC,MAAV,CAAiBE,YAA1C,EAAwD,KAAKT,qBAA7D;CACAI,MAAAA,6BAAY,CAACO,WAAb,CAAyBL,qBAAS,CAACC,MAAV,CAAiBG,WAA1C,EAAuD,KAAKR,oBAA5D;CACA,KAfF;;CAgBCJ,IAAAA,YAAY,CAACc,KAAD,EACZ;CACC,UAAI,KAAKtB,UAAT,EACA;CACC;CACA;;CACD,WAAKA,UAAL,GAAkB,IAAlB;CACA,WAAKC,WAAL,GAAmBqB,KAAK,CAACvB,IAAN,CAAWwB,KAA9B;CACA,KAxBF;;CAyBCZ,IAAAA,cAAc,CAACW,KAAD,EACd;CACC,WAAKtB,UAAL,GAAkB,IAAlB;CACA,WAAKC,WAAL,GAAmBqB,KAAK,CAACvB,IAAN,CAAWwB,KAA9B;CACA,KA7BF;;CA8BCV,IAAAA,aAAa,GACb;CACC,WAAKZ,WAAL,GAAmB,EAAnB;CACA,WAAKD,UAAL,GAAkB,KAAlB;CACA;;CAlCF,GAlBwB;CAsDxBwB,EAAAA,QAAQ,EAAG;;;;;;CAtDa,CAAlB;;;;;;;;"}