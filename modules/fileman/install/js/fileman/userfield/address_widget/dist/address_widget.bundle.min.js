this.BX=this.BX||{};this.BX.Fileman=this.BX.Fileman||{};(function(e,s,a,l,t){"use strict";var i=babelHelpers.classPrivateFieldLooseKey("wrapper");class r{constructor(e){Object.defineProperty(this,i,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e.wrapper}getWrapper(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}layout(){throw new Error("please implement the layout() method")}}let o=e=>e,d,n,b,p,c,v,u,h,F,P,L,H;var B=babelHelpers.classPrivateFieldLooseKey("widget");var f=babelHelpers.classPrivateFieldLooseKey("nodes");var m=babelHelpers.classPrivateFieldLooseKey("wrapper");var g=babelHelpers.classPrivateFieldLooseKey("address");var y=babelHelpers.classPrivateFieldLooseKey("fieldName");var w=babelHelpers.classPrivateFieldLooseKey("fieldFormName");var I=babelHelpers.classPrivateFieldLooseKey("showMap");var E=babelHelpers.classPrivateFieldLooseKey("enableRemoveButton");var D=babelHelpers.classPrivateFieldLooseKey("isCompactMode");var T=babelHelpers.classPrivateFieldLooseKey("initialAddressId");var C=babelHelpers.classPrivateFieldLooseKey("areDetailsShown");var O=babelHelpers.classPrivateFieldLooseKey("isLoading");var A=babelHelpers.classPrivateFieldLooseKey("isDropdownLoading");var M=babelHelpers.classPrivateFieldLooseKey("isDestroyed");var j=babelHelpers.classPrivateFieldLooseKey("showDetailsToggle");var K=babelHelpers.classPrivateFieldLooseKey("getAddressControlSwitchContainer");class S extends s.EventEmitter{constructor(e){var s;super();Object.defineProperty(this,K,{value:_});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:{}});Object.defineProperty(this,m,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:null});Object.defineProperty(this,y,{writable:true,value:void 0});Object.defineProperty(this,w,{writable:true,value:void 0});Object.defineProperty(this,I,{writable:true,value:true});Object.defineProperty(this,E,{writable:true,value:false});Object.defineProperty(this,D,{writable:true,value:false});Object.defineProperty(this,T,{writable:true,value:null});Object.defineProperty(this,C,{writable:true,value:false});Object.defineProperty(this,O,{writable:true,value:false});Object.defineProperty(this,A,{writable:true,value:false});Object.defineProperty(this,M,{writable:true,value:false});Object.defineProperty(this,j,{writable:true,value:true});this.setEventNamespace("Fileman.EditEntry");babelHelpers.classPrivateFieldLooseBase(this,m)[m]=e.wrapper;babelHelpers.classPrivateFieldLooseBase(this,y)[y]=e.fieldName;babelHelpers.classPrivateFieldLooseBase(this,w)[w]=e.fieldFormName;babelHelpers.classPrivateFieldLooseBase(this,E)[E]=e.enableRemoveButton;babelHelpers.classPrivateFieldLooseBase(this,T)[T]=e.initialAddressId;babelHelpers.classPrivateFieldLooseBase(this,I)[I]=e.showMap;babelHelpers.classPrivateFieldLooseBase(this,j)[j]=Boolean((s=e.showDetailsToggle)!=null?s:true);if(e.address){babelHelpers.classPrivateFieldLooseBase(this,g)[g]=e.address}if(e.isCompactMode){babelHelpers.classPrivateFieldLooseBase(this,D)[D]=e.isCompactMode}}layout(){const e=new l.Factory;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=e.createAddressWidget({address:babelHelpers.classPrivateFieldLooseBase(this,g)[g],mode:a.ControlMode.edit,popupOptions:{offsetLeft:14},popupBindOptions:{forceBindPosition:true,position:"right"},mapBehavior:"auto",useFeatures:{fields:true,map:babelHelpers.classPrivateFieldLooseBase(this,I)[I],autocomplete:true}});babelHelpers.classPrivateFieldLooseBase(this,f)[f].userInput=t.Tag.render(d||(d=o`<input type="text" class="ui-ctl-element" />`));babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldsContainer=t.Tag.render(n||(n=o`<div class="location-fields-control-block"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,j)[j]){babelHelpers.classPrivateFieldLooseBase(this,f)[f].detailsToggle=t.Tag.render(b||(b=o`<span class="ui-link ui-link-secondary address-control-mode-switch">${0}</span>`),t.Loc.getMessage("ADDRESS_USERFIELD_DETAILS"));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,f)[f].detailsToggle,"click",this.onDetailsToggleClick.bind(this))}let s=this.getInitialAddressFieldValue();babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldValueInput=t.Tag.render(p||(p=o`<input type="hidden" name="${0}" value="${0}" />`),babelHelpers.classPrivateFieldLooseBase(this,w)[w],s);babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon=t.Tag.render(c||(c=o`<button type="button" class="ui-ctl-after ui-ctl-icon-clear"></button>`));t.Event.bind(babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon,"click",this.onInputIconClick.bind(this));babelHelpers.classPrivateFieldLooseBase(this,B)[B].subscribeOnAddressChangedEvent(this.onAddressChanged.bind(this));babelHelpers.classPrivateFieldLooseBase(this,B)[B].subscribeOnStateChangedEvent(this.onWidgetStateChangedEvent.bind(this));babelHelpers.classPrivateFieldLooseBase(this,B)[B].subscribeOnFeatureEvent(this.onFeatureEvent.bind(this));babelHelpers.classPrivateFieldLooseBase(this,f)[f].entryWrapper=t.Tag.render(v||(v=o`
			<div class="edit-entry-input-wrapper">
				<div class="fields address field-item edit ui-ctl ui-ctl-after-icon ${0}">
					${0}
					${0}
					${0}
				</div>
			</div>
		`),this.getUserInputSizeClass(),babelHelpers.classPrivateFieldLooseBase(this,f)[f].userInput,babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldsContainer,babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon);const i=babelHelpers.classPrivateFieldLooseBase(this,g)[g]?this.getRawValueForHiddenFormattedInput(babelHelpers.classPrivateFieldLooseBase(this,g)[g]):"";babelHelpers.classPrivateFieldLooseBase(this,f)[f].hiddenFormattedAddressInput=t.Tag.render(u||(u=o`<input type="hidden" name="${0}_formatted" value="${0}" />`),babelHelpers.classPrivateFieldLooseBase(this,y)[y],i);const r=t.Tag.render(h||(h=o`<input type="hidden" name="${0}_manual_edit" value="Y">`),babelHelpers.classPrivateFieldLooseBase(this,y)[y]);babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout=t.Tag.render(F||(F=o`
			<div class="edit-entry-layout-wrapper ${0}">
				${0}
				${0}
				${0}
				${0}
			</div>
		`),this.getLayoutSizeClass(),babelHelpers.classPrivateFieldLooseBase(this,K)[K](),babelHelpers.classPrivateFieldLooseBase(this,f)[f].hiddenFormattedAddressInput,babelHelpers.classPrivateFieldLooseBase(this,f)[f].entryWrapper,r);if(babelHelpers.classPrivateFieldLooseBase(this,E)[E]){t.Dom.append(this.getRemoveInputButton(babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout),babelHelpers.classPrivateFieldLooseBase(this,f)[f].entryWrapper)}t.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldValueInput,babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout);babelHelpers.classPrivateFieldLooseBase(this,B)[B].render({inputNode:babelHelpers.classPrivateFieldLooseBase(this,f)[f].userInput,mapBindElement:babelHelpers.classPrivateFieldLooseBase(this,m)[m],controlWrapper:babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout,fieldsContainer:babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldsContainer});return babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout}getUserInputSizeClass(){return babelHelpers.classPrivateFieldLooseBase(this,D)[D]?"ui-ctl-wd":"ui-ctl-w100"}getLayoutSizeClass(){return babelHelpers.classPrivateFieldLooseBase(this,D)[D]?"compact":""}getRemoveInputButton(e){const s=t.Tag.render(P||(P=o`
			<span class="uf-address-search-input-remove"></span>
		`));t.Event.bind(s,"click",(e=>{this.emit(S.onRemoveInputButtonClickedEvent)}));return s}destroy(){if(!babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout){return}if(babelHelpers.classPrivateFieldLooseBase(this,B)[B]){babelHelpers.classPrivateFieldLooseBase(this,B)[B].destroy()}if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]&&babelHelpers.classPrivateFieldLooseBase(this,g)[g].id>0){t.Dom.clean(babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout);const e=t.Tag.render(L||(L=o`<input type="hidden" name="${0}" value="${0}_del" />`),babelHelpers.classPrivateFieldLooseBase(this,w)[w],babelHelpers.classPrivateFieldLooseBase(this,g)[g].id);t.Dom.append(e,babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout);this.emitFieldChangedEvent()}else{t.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,f)[f].layout)}babelHelpers.classPrivateFieldLooseBase(this,M)[M]=true}isDestroyed(){return babelHelpers.classPrivateFieldLooseBase(this,M)[M]}onAddressChanged(e){const s=parseInt(babelHelpers.classPrivateFieldLooseBase(this,T)[T]);const a=e.data.address;if(!a){return}if(s&&parseInt(a.id)!==s){a.id=s}babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldValueInput.value=this.getChangedAddressFieldValue(a);babelHelpers.classPrivateFieldLooseBase(this,f)[f].hiddenFormattedAddressInput.value=this.getRawValueForHiddenFormattedInput(a);this.emitFieldChangedEvent()}onWidgetStateChangedEvent(e){const s=e.data.state;babelHelpers.classPrivateFieldLooseBase(this,O)[O]=s===l.State.DATA_LOADING;this.refreshInputIcon()}onFeatureEvent(e){if(e.data.feature instanceof l.AutocompleteFeature){babelHelpers.classPrivateFieldLooseBase(this,A)[A]=e.data.eventCode===l.AutocompleteFeature.searchStartedEvent;this.refreshInputIcon()}}isInputLoading(){return babelHelpers.classPrivateFieldLooseBase(this,O)[O]||babelHelpers.classPrivateFieldLooseBase(this,A)[A]}refreshInputIcon(){if(!babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon){return}if(this.isInputLoading()){t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon,"ui-ctl-icon-clear");t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon,"ui-ctl-icon-loader")}else{t.Dom.removeClass(babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon,"ui-ctl-icon-loader");t.Dom.addClass(babelHelpers.classPrivateFieldLooseBase(this,f)[f].inputIcon,"ui-ctl-icon-clear")}}getInitialAddressFieldValue(){var e,s;let l="";if(((e=babelHelpers.classPrivateFieldLooseBase(this,g)[g])==null?void 0:e.id)==0){if(babelHelpers.classPrivateFieldLooseBase(this,g)[g].location){l=t.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,g)[g].toJson())}else{l=`${babelHelpers.classPrivateFieldLooseBase(this,g)[g].getFieldValue(a.AddressType.ADDRESS_LINE_2)}|${babelHelpers.classPrivateFieldLooseBase(this,g)[g].latitude};${babelHelpers.classPrivateFieldLooseBase(this,g)[g].longitude}`}}else if(((s=babelHelpers.classPrivateFieldLooseBase(this,g)[g])==null?void 0:s.id)>0){l=`${this.getFormattedAddress(babelHelpers.classPrivateFieldLooseBase(this,g)[g])}|${babelHelpers.classPrivateFieldLooseBase(this,g)[g].latitude};${babelHelpers.classPrivateFieldLooseBase(this,g)[g].longitude}|${babelHelpers.classPrivateFieldLooseBase(this,g)[g].id}`}return l}getChangedAddressFieldValue(e){return e.toJson()}getFormattedAddress(e){var s;const l=new a.Format(JSON.parse(BX.message("LOCATION_WIDGET_DEFAULT_FORMAT")));return(s=e.toString(l,a.AddressStringConverter.STRATEGY_TYPE_TEMPLATE_COMMA))!=null?s:""}getRawValueForHiddenFormattedInput(e){const s=this.getFormattedAddress(e);if((parseInt(e.latitude)!==0||parseInt(e.longitude)!==0)&&e.latitude!==""&&e.longitude!==""){return`${s}|${e.latitude};${e.longitude}`}return s}onInputIconClick(){if(this.isInputLoading()){return}babelHelpers.classPrivateFieldLooseBase(this,f)[f].userInput.focus();babelHelpers.classPrivateFieldLooseBase(this,B)[B].resetView();babelHelpers.classPrivateFieldLooseBase(this,B)[B].address=null;if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]&&babelHelpers.classPrivateFieldLooseBase(this,g)[g].id>0){babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldValueInput.value=babelHelpers.classPrivateFieldLooseBase(this,g)[g].id+"_del"}else{babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldValueInput.value=""}this.emitFieldChangedEvent()}onDetailsToggleClick(){if(!babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldsContainer||!babelHelpers.classPrivateFieldLooseBase(this,f)[f].detailsToggle){return}const e=babelHelpers.classPrivateFieldLooseBase(this,f)[f].fieldsContainer;const s=babelHelpers.classPrivateFieldLooseBase(this,f)[f].detailsToggle;if(babelHelpers.classPrivateFieldLooseBase(this,C)[C]&&t.Dom.hasClass(e,"visible")){t.Dom.removeClass(e,"visible");s.innerText=t.Loc.getMessage("ADDRESS_USERFIELD_DETAILS")}else{t.Dom.addClass(e,"visible");s.innerText=t.Loc.getMessage("ADDRESS_USERFIELD_NO_DETAILS")}babelHelpers.classPrivateFieldLooseBase(this,C)[C]=!babelHelpers.classPrivateFieldLooseBase(this,C)[C]}emitFieldChangedEvent(){BX.onCustomEvent(window,"onUIEntityEditorUserFieldExternalChanged",[babelHelpers.classPrivateFieldLooseBase(this,y)[y]]);BX.onCustomEvent(window,"onCrmEntityEditorUserFieldExternalChanged",[babelHelpers.classPrivateFieldLooseBase(this,y)[y]])}}function _(){if(!babelHelpers.classPrivateFieldLooseBase(this,j)[j]){return null}return t.Tag.render(H||(H=o`
			<div class="address-control-mode-switch-wrapper">
				${0}
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,f)[f].detailsToggle)}S.onRemoveInputButtonClickedEvent="onRemoveInputButtonClicked";let $=e=>e,N,R,W;var k=babelHelpers.classPrivateFieldLooseKey("fieldName");var V=babelHelpers.classPrivateFieldLooseKey("fieldFormName");var U=babelHelpers.classPrivateFieldLooseKey("addresses");var X=babelHelpers.classPrivateFieldLooseKey("inputsWrapper");var x=babelHelpers.classPrivateFieldLooseKey("isMultiple");var G=babelHelpers.classPrivateFieldLooseKey("isCompactMode");var Y=babelHelpers.classPrivateFieldLooseKey("showMap");var z=babelHelpers.classPrivateFieldLooseKey("showDetailsToggle");var J=babelHelpers.classPrivateFieldLooseKey("inputs");class q extends r{constructor(e){var s;super(e);Object.defineProperty(this,k,{writable:true,value:""});Object.defineProperty(this,V,{writable:true,value:""});Object.defineProperty(this,U,{writable:true,value:[]});Object.defineProperty(this,X,{writable:true,value:null});Object.defineProperty(this,x,{writable:true,value:false});Object.defineProperty(this,G,{writable:true,value:false});Object.defineProperty(this,Y,{writable:true,value:true});Object.defineProperty(this,z,{writable:true,value:false});Object.defineProperty(this,J,{writable:true,value:[]});babelHelpers.classPrivateFieldLooseBase(this,k)[k]=e.fieldName;babelHelpers.classPrivateFieldLooseBase(this,V)[V]=e.fieldFormName;babelHelpers.classPrivateFieldLooseBase(this,U)[U]=e.addresses;babelHelpers.classPrivateFieldLooseBase(this,x)[x]=e.isMultiple;babelHelpers.classPrivateFieldLooseBase(this,G)[G]=e.compactMode;babelHelpers.classPrivateFieldLooseBase(this,Y)[Y]=e.showMap;babelHelpers.classPrivateFieldLooseBase(this,z)[z]=Boolean((s=e.showDetailsToggle)!=null?s:false)}layout(){const e=t.Tag.render(N||(N=$`<div class="address-edit-wrapper"></div>`));const s=t.Tag.render(R||(R=$`<div class="address-inputs-wrapper"></div>`));if(babelHelpers.classPrivateFieldLooseBase(this,U)[U].length>0){babelHelpers.classPrivateFieldLooseBase(this,U)[U].forEach((e=>{const a=this.createInputForAddress(e);t.Dom.append(a.layout(),s)}))}else{const e=this.createInputForAddress();t.Dom.append(e.layout(),s)}t.Dom.append(s,e);babelHelpers.classPrivateFieldLooseBase(this,X)[X]=s;if(babelHelpers.classPrivateFieldLooseBase(this,x)[x]){const s=t.Tag.render(W||(W=$`<input type="button" value="${0}" />`),t.Loc.getMessage("ADDRESS_USERFIELD_ADD_INPUT"));t.Event.bind(s,"click",this.addInput.bind(this));t.Dom.append(s,e)}t.Dom.append(e,this.getWrapper());return this.getWrapper()}addInput(){if(!babelHelpers.classPrivateFieldLooseBase(this,X)[X]){return}const e=this.createInputForAddress();t.Dom.append(e.layout(),babelHelpers.classPrivateFieldLooseBase(this,X)[X])}createInputForAddress(e){var a;const l=new S({wrapper:this.getWrapper(),address:e,fieldName:babelHelpers.classPrivateFieldLooseBase(this,k)[k],fieldFormName:babelHelpers.classPrivateFieldLooseBase(this,V)[V],enableRemoveButton:babelHelpers.classPrivateFieldLooseBase(this,x)[x],initialAddressId:(a=parseInt(e==null?void 0:e.id))!=null?a:null,isCompactMode:babelHelpers.classPrivateFieldLooseBase(this,G)[G],showMap:babelHelpers.classPrivateFieldLooseBase(this,Y)[Y],showDetailsToggle:babelHelpers.classPrivateFieldLooseBase(this,z)[z]});s.EventEmitter.subscribe(l,S.onRemoveInputButtonClickedEvent,this.removeInput.bind(this,l));babelHelpers.classPrivateFieldLooseBase(this,J)[J].push(l);return l}removeInput(e){const s=babelHelpers.classPrivateFieldLooseBase(this,J)[J].filter((e=>!e.isDestroyed())).length;if(s>1){e.destroy()}}}let Q=e=>e,Z;var ee=babelHelpers.classPrivateFieldLooseKey("addresses");var se=babelHelpers.classPrivateFieldLooseKey("widgets");class ae extends r{constructor(e){super(e);Object.defineProperty(this,ee,{writable:true,value:[]});Object.defineProperty(this,se,{writable:true,value:[]});babelHelpers.classPrivateFieldLooseBase(this,ee)[ee]=e.addresses}destroyWidgets(){babelHelpers.classPrivateFieldLooseBase(this,se)[se].forEach((e=>{e.destroy()}))}layout(){const e=new DocumentFragment;babelHelpers.classPrivateFieldLooseBase(this,ee)[ee].forEach((s=>{e.append(this.getLayoutForAddress(s))}));t.Dom.append(e,this.getWrapper());return this.getWrapper()}getLayoutForAddress(e){const s=new l.Factory;const i=s.createAddressWidget({address:e,mode:a.ControlMode.view,popupOptions:{offsetLeft:14},popupBindOptions:{forceBindPosition:true,position:"right"},mapBehavior:"auto",useFeatures:{fields:false,map:true,autocomplete:false}});babelHelpers.classPrivateFieldLooseBase(this,se)[se].push(i);const r=t.Tag.render(Z||(Z=Q`
			<span class="fields address field-item view" data-id="${0}">
				<span class="ui-link ui-link-dark ui-link-dotted">${0}</span>
			</span>
		`),e.id,this.getFormattedAddress(e));i.render({mapBindElement:r,controlWrapper:r});return r}getFormattedAddress(e){var s;const l=new a.Format(JSON.parse(BX.message("LOCATION_WIDGET_DEFAULT_FORMAT")));return(s=e.toString(l,a.AddressStringConverter.STRATEGY_TYPE_TEMPLATE_COMMA))!=null?s:""}}var le=babelHelpers.classPrivateFieldLooseKey("mode");var te=babelHelpers.classPrivateFieldLooseKey("wrapper");var ie=babelHelpers.classPrivateFieldLooseKey("addresses");var re=babelHelpers.classPrivateFieldLooseKey("isMultiple");var oe=babelHelpers.classPrivateFieldLooseKey("showMap");var de=babelHelpers.classPrivateFieldLooseKey("showDetailsToggle");var ne=babelHelpers.classPrivateFieldLooseKey("fieldConfig");var be=babelHelpers.classPrivateFieldLooseKey("additionalProperties");class pe{static init(e){var l,i;const r=e.mode;const o=document.getElementById(e.wrapperId);if(!o){return}let d=[];const n=e.addressData;n.forEach((e=>{if(t.Type.isObject(e)){d.push(new a.Address(e))}}));const b=(l=e.showMap)!=null?l:true;const p=Boolean((i=e.showDetailsToggle)!=null?i:true);const c={addresses:d,wrapper:o,mode:r,fieldConfig:{fieldName:e.fieldName,fieldFormName:e.fieldFormName},isMultiple:e.isMultiple,showMap:b,showDetailsToggle:p};if(e.additionalProperties){c.additionalProperties=e.additionalProperties}const v=new pe(c);v.layout();s.EventEmitter.emit(this,"BX.Fileman.UserField.AddressField:onInitiated",c)}constructor(e){var s;Object.defineProperty(this,le,{writable:true,value:pe.VIEW_MODE});Object.defineProperty(this,te,{writable:true,value:void 0});Object.defineProperty(this,ie,{writable:true,value:void 0});Object.defineProperty(this,re,{writable:true,value:false});Object.defineProperty(this,oe,{writable:true,value:true});Object.defineProperty(this,de,{writable:true,value:true});Object.defineProperty(this,ne,{writable:true,value:{}});Object.defineProperty(this,be,{writable:true,value:{}});babelHelpers.classPrivateFieldLooseBase(this,le)[le]=e.mode;babelHelpers.classPrivateFieldLooseBase(this,te)[te]=e.wrapper;babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]=e.addresses;babelHelpers.classPrivateFieldLooseBase(this,ne)[ne]=e.fieldConfig;babelHelpers.classPrivateFieldLooseBase(this,re)[re]=e.isMultiple;babelHelpers.classPrivateFieldLooseBase(this,oe)[oe]=e.showMap;babelHelpers.classPrivateFieldLooseBase(this,de)[de]=Boolean((s=e.showDetailsToggle)!=null?s:true);if(e.additionalProperties){babelHelpers.classPrivateFieldLooseBase(this,be)[be]=e.additionalProperties}}layout(){let e=null;if(babelHelpers.classPrivateFieldLooseBase(this,le)[le]===pe.VIEW_MODE){e=new ae({wrapper:babelHelpers.classPrivateFieldLooseBase(this,te)[te],addresses:babelHelpers.classPrivateFieldLooseBase(this,ie)[ie]})}if(babelHelpers.classPrivateFieldLooseBase(this,le)[le]===pe.EDIT_MODE){var s;e=new q({wrapper:babelHelpers.classPrivateFieldLooseBase(this,te)[te],fieldName:babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].fieldName,fieldFormName:babelHelpers.classPrivateFieldLooseBase(this,ne)[ne].fieldFormName,addresses:babelHelpers.classPrivateFieldLooseBase(this,ie)[ie],isMultiple:babelHelpers.classPrivateFieldLooseBase(this,re)[re],compactMode:(s=babelHelpers.classPrivateFieldLooseBase(this,be)[be].compactMode)!=null?s:false,showMap:babelHelpers.classPrivateFieldLooseBase(this,oe)[oe],showDetailsToggle:babelHelpers.classPrivateFieldLooseBase(this,de)[de]})}if(e){e.layout()}}}pe.VIEW_MODE="view";pe.EDIT_MODE="edit";const ce=t.Reflection.namespace("BX.Fileman.UserField");ce.AddressField=pe})(this.BX.Fileman.Userfield=this.BX.Fileman.Userfield||{},BX.Event,BX.Location.Core,BX.Location.Widget,BX);
//# sourceMappingURL=address_widget.bundle.map.js