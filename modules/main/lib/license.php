<? namespace Bitrix\Main;$GLOBALS['____1067986140']= array(base64_decode('Zmls'.'ZV9leGlzdHM='),base64_decode('c3Ry'.'d'.'G91c'.'H'.'B'.'lc'.'g'.'='.'='),base64_decode('b'.'WQ1'),base64_decode('bWQ1'),base64_decode('aW5'.'f'.'Y'.'XJyY'.'Xk='),base64_decode('aW5fYXJyYXk'.'='),base64_decode('aW5fYXJyYXk='),base64_decode('Z'.'G'.'VmaW5lZA'.'=='),base64_decode('ZG'.'VmaW'.'5lZ'.'A=='),base64_decode('Z'.'GVmaW5'.'l'.'ZA=='),base64_decode('ZmlsZV9l'.'eGlz'.'dHM='),base64_decode('Zml'.'sZV9le'.'GlzdH'.'M'.'='),base64_decode(''.'ZmlsZV9leGl'.'zdHM'.'='),base64_decode('Zml'.'sZV9leGl'.'zdHM='),base64_decode(''.'ZXhwb'.'G9k'.'ZQ=='));if(!function_exists(__NAMESPACE__.'\\___1426001613')){function ___1426001613($_1829454780){static $_1099410530= false; if($_1099410530 == false) $_1099410530=array('L2'.'JpdHJpeC9saWNlbnN'.'lX2tleS5w'.'aHA=','','','R'.'EVNTw==','R'.'EVNTw==','Q'.'klUUkl'.'Y','TElD'.'RU5DRQ==',''.'RE'.'VNT'.'w==','L2tleV91c'.'GRhdGU'.'ucGhw'.'P2'.'xpY2Vuc2V'.'f'.'a2V5PQ==','JnRvY'.'m'.'Fza2V'.'0PX'.'kmb'.'GF'.'uZz0=',''.'c'.'n'.'U=','a3o=','Y'.'nk=','aHR0c'.'HM'.'6'.'L'.'y'.'9kZ'.'X'.'YuMWMtYm'.'l0cml'.'4L'.'nJ'.'1L2xl'.'YX'.'J'.'uaW5nL2Nvd'.'XJ'.'z'.'ZS9pb'.'mRleC5'.'waHA/Q09VUlNFX0'.'lEP'.'TEzNSZMRV'.'NT'.'T05f'.'SUQ9'.'Mj'.'U3MjA'.'=','aHR0'.'cHM6Ly90cmFp'.'bmluZy'.'5i'.'aXRyaX'.'g'.'yNC5'.'jb20'.'vc3'.'Vw'.'cG9y'.'dC90c'.'mFpbm'.'l'.'uZy9'.'jb3Vy'.'c2UvaW5k'.'ZXguc'.'GhwP0NPVVJTRV'.'9'.'JRD0xNzg'.'mTEVTU09'.'O'.'X0lEPT'.'I1OTMy'.'JkxFU1NPTl9QQVRI'.'P'.'TE3NTIwLjE3N'.'TYy'.'L'.'jI1OTMw'.'LjI1OTMy','cnU=','Yn'.'k=','a3'.'o=','ZGU=','Z'.'XU=','Zn'.'I=','c'.'G'.'w=','aXQ=','dWs'.'=','ZXU=','Y29'.'t',''.'ZW'.'4=','REVNTw'.'==',''.'WQ==','V'.'E'.'lN'.'RUx'.'JT'.'UlUX0VESVRJT'.'0'.'4=',''.'WQ==','RU5'.'DT0RF','WQ==','U'.'2l0ZUV'.'4cGlyZURhdG'.'U=','bWFpbg==',''.'fn'.'N'.'1cHB'.'vcnRfZml'.'uaXN'.'oX2RhdGU=','WS'.'1tLWQ=','WS1tLWQ=','Yml0cml4MjQ=','bWFp'.'bg==','flBB'.'UkFNX0NM'.'SU'.'VOVF'.'9M'.'QU5H',''.'aW50cmFuZXQ=','Z'.'W4'.'=','cnU=','bWF'.'pbg==','dmVu'.'Z'.'G9y','dWFfYml0cml4'.'X3'.'BvcnRh'.'bA==','dWE'.'=','Yml0cml4X3Bv'.'c'.'nRhbA==',''.'ZW4=',''.'MWNfYml0cml4X3'.'BvcnR'.'hbA==','cnU=','L2'.'JpdHJpeC'.'9t'.'b2'.'R1'.'bGVzL21h'.'aW4vb'.'GFu'.'Zy91Y'.'Q==','dWE=','L'.'2JpdH'.'Jp'.'e'.'C9tb2'.'R1bGVz'.'L21'.'haW4vbGF'.'uZy9ieQ==','Yn'.'k=','L2JpdHJp'.'eC9t'.'b2R'.'1bGVzL21ha'.'W4vb'.'GFu'.'Zy9r'.'eg='.'=','a3o=',''.'L'.'2J'.'pdHJpeC9'.'t'.'b2'.'R1bG'.'Vz'.'L21haW'.'4vbGFuZy9y'.'dQ==','cnU'.'=',''.'bWF'.'pbg==','f'.'lBBU'.'kFNX1BBUlRORVJfSU'.'Q=','bWFp'.'bg==','UEF'.'SQ'.'U'.'1fTU'.'F'.'YX1'.'VT'.'RVJT','bWF'.'pbg'.'==','fkNPVU5U'.'X'.'0VYVF'.'JB',''.'Tg==','WQ'.'==','Z'.'X'.'h0'.'cmFuZXQ=','QU'.'5'.'EIFU'.'uTEFT'.'VF9MT0dJTi'.'A+'.'IA==',''.'QU5'.'EIFUuTEF'.'TVF9'.'M'.'T0dJTiBJUyBOT'.'1Q'.'g'.'T'.'lV'.'M'.'TA='.'=','aW5'.'0c'.'mFuZXQ=','ZXh'.'0cmFuZXQ=','Z'.'Xh0cmFu'.'ZXRfZ'.'3Jv'.'dX'.'A'.'=','bWFpb'.'g='.'=','f'.'mxp'.'Y2Vuc'.'2VfbmFt'.'ZQ==','bWFpbg'.'==',''.'fmxpY2Vuc'.'2V'.'fY29'.'kZXM=','','L'.'A='.'=');return base64_decode($_1099410530[$_1829454780]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1085891533= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1085891533 === null){ $_1686041461= Loader::getDocumentRoot(). ___1426001613(0); $LICENSE_KEY= ___1426001613(1); if($GLOBALS['____1067986140'][0]($_1686041461)){ include($_1686041461);} $this->_1085891533=($LICENSE_KEY == ___1426001613(2) || $GLOBALS['____1067986140'][1]($LICENSE_KEY) == ___1426001613(3)? ___1426001613(4): $LICENSE_KEY);} return $this->_1085891533;} public function getHashLicenseKey(): string{ return $GLOBALS['____1067986140'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1067986140'][3](___1426001613(5). $this->getKey(). ___1426001613(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1426001613(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1426001613(8). $this->getHashLicenseKey(). ___1426001613(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_116016798= $this->getRegion(); if($GLOBALS['____1067986140'][4]($_116016798,[___1426001613(10), ___1426001613(11), ___1426001613(12)])){ return ___1426001613(13);} return ___1426001613(14);} public function getRenewalLink(): string{ $_116016798= $this->getRegion(); if($GLOBALS['____1067986140'][5]($_116016798,[___1426001613(15), ___1426001613(16), ___1426001613(17), ___1426001613(18)])){ return self::URL_RENEWAL_LICENSE[$_116016798];} if($GLOBALS['____1067986140'][6]($_116016798,[___1426001613(19), ___1426001613(20), ___1426001613(21), ___1426001613(22), ___1426001613(23)])){ return self::URL_RENEWAL_LICENSE[___1426001613(24)];} return self::URL_RENEWAL_LICENSE[___1426001613(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1426001613(26)];} public function isDemo(): bool{ return $GLOBALS['____1067986140'][7](___1426001613(27)) && DEMO === ___1426001613(28);} public function isTimeBound(): bool{ return $GLOBALS['____1067986140'][8](___1426001613(29)) && TIMELIMIT_EDITION === ___1426001613(30);} public function isEncoded(): bool{ return $GLOBALS['____1067986140'][9](___1426001613(31)) && ENCODE === ___1426001613(32);} public function getExpireDate():?Date{ $_822935927= (int)($GLOBALS[___1426001613(33)] ??(190*2-380)); if($_822935927>(942-2*471)){ return Date::createFromTimestamp($_822935927);} return null;} public function getSupportExpireDate():?Date{ $_822935927= Option::get(___1426001613(34), ___1426001613(35)); if(Date::isCorrect($_822935927, ___1426001613(36))){ return new Date($_822935927, ___1426001613(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1426001613(38))){ return \CBitrix24::getPortalZone();} $_116016798= Option::get(___1426001613(39), ___1426001613(40)); if(!empty($_116016798)){ return $_116016798;} $_116016798= $this->__64333860(); if(!empty($_116016798)){ return $_116016798;} return $this->__1616971445();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1426001613(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1426001613(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1426001613(43)];} private function __64333860():?string{ $_399943457= Option::get(___1426001613(44), ___1426001613(45)); if($_399943457 === ___1426001613(46)){ return ___1426001613(47);} if($_399943457 === ___1426001613(48)){ return ___1426001613(49);} if($_399943457 === ___1426001613(50)){ return ___1426001613(51);} return null;} private function __1616971445():?string{ $_769231398= Application::getDocumentRoot(); if($GLOBALS['____1067986140'][10]($_769231398. ___1426001613(52))){ return ___1426001613(53);} if($GLOBALS['____1067986140'][11]($_769231398. ___1426001613(54))){ return ___1426001613(55);} if($GLOBALS['____1067986140'][12]($_769231398. ___1426001613(56))){ return ___1426001613(57);} if($GLOBALS['____1067986140'][13]($_769231398. ___1426001613(58))){ return ___1426001613(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1426001613(60), ___1426001613(61),(858-2*429));} public function getMaxUsers(): int{ return (int)Option::get(___1426001613(62), ___1426001613(63),(181*2-362));} public function isExtraCountable(): bool{ return Option::get(___1426001613(64), ___1426001613(65), ___1426001613(66)) === ___1426001613(67) && ModuleManager::isModuleInstalled(___1426001613(68));} public function getActiveUsersCount(Date $_852658914= null): int{ $_2065926564= Application::getConnection(); $_1640491730=(976-2*488); if($_852658914 !== null){  $_1604160477= ___1426001613(69).$_2065926564->getSqlHelper()->convertToDbDate($_852658914);} else{  $_1604160477= ___1426001613(70);} if(ModuleManager::isModuleInstalled(___1426001613(71))){ $_421116607="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1604160477}
			"; $_1640491730= (int)$_2065926564->queryScalar($_421116607); $_1623939373= (int)Option::get(___1426001613(72), ___1426001613(73)); if($_1623939373>(794-2*397) && $this->isExtraCountable()){ $_421116607="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1623939373}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1604160477}
							AND D.VALUE_ID IS NULL
					"; $_1640491730 += (int)$_2065926564->queryScalar($_421116607);}} return $_1640491730;}  public function getName(): string{ return Option::get(___1426001613(74), ___1426001613(75));}  public function getCodes(): array{ $_1656749785= Option::get(___1426001613(76), ___1426001613(77)); if($_1656749785 != ___1426001613(78)){ return $GLOBALS['____1067986140'][14](___1426001613(79), $_1656749785);} return[];}}?>