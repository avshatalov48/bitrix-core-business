{"version":3,"file":"basecard.bundle.js","sources":["../src/basecard.js"],"sourcesContent":["import {Cache, Dom, Tag, Text, Type, Event} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nimport 'ui.fonts.opensans';\nimport './css/base_card.css';\n\n/**\n * @memberOf BX.Landing.UI.Card\n */\nexport class BaseCard extends EventEmitter\n{\n\tconstructor(options = {})\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Card.BaseCard');\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.data = {...options};\n\t\tthis.options = this.data;\n\t\tthis.id = Type.isStringFilled(this.options.id) ? this.options.id : Text.getRandom();\n\t\tthis.hidden = Text.toBoolean(this.options.hidden);\n\n\t\tthis.layout = this.getLayout();\n\t\tthis.header = this.getHeader();\n\t\tthis.body = this.getBody();\n\n\t\tthis.setTitle(this.options.title || '');\n\t\tthis.setHidden(this.options.hidden);\n\n\t\tif (Type.isStringFilled(this.options.className))\n\t\t{\n\t\t\tDom.addClass(this.layout, this.options.className);\n\t\t}\n\n\t\tif (Type.isObject(this.options.attrs))\n\t\t{\n\t\t\tDom.adjust(this.layout, {attrs: this.options.attrs});\n\t\t}\n\n\t\tthis.onClickHandler = Type.isFunction(this.options.onClick) ? this.options.onClick : () => {};\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tEvent.bind(this.layout, 'click', this.onClick);\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card\">\n\t\t\t\t\t<div class=\"landing-ui-card-header-wrapper\">\n\t\t\t\t\t\t${this.getHeader()}\n\t\t\t\t\t</div>\n\t\t\t\t\t${this.getBody()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetRemoveButton(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('remove', () =>\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-block-remove\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('header', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-header\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetBody(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('body', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-card-body\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\taddWarning(warning: string)\n\t{\n\t\tDom.append(\n\t\t\tTag.render`\n\t\t\t\t<div class=\"landing-ui-card-body-warning\">${warning}</div>\n\t\t\t`,\n\t\t\tthis.getBody()\n\t\t);\n\t\tDom.addClass(this.getBody(), '--warning');\n\t}\n\n\tsetTitle(title: string)\n\t{\n\t\tthis.getHeader().textContent = title;\n\t}\n\n\tsetHidden(hidden: boolean)\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', hidden || null);\n\t}\n\n\tonClick()\n\t{\n\t\tthis.onClickHandler(this);\n\t\tthis.emit('onClick');\n\t}\n\n\t/**\n\t * Can be overwriting in child classes. Called at the added card to panel\n\t */\n\tonAppend()\n\t{}\n\n\tshow()\n\t{\n\t\tthis.setHidden(false);\n\t}\n\n\tisShown()\n\t{\n\t\treturn Dom.attr(this.getLayout(), 'hidden') === null;\n\t}\n\n\thide()\n\t{\n\t\tthis.setHidden(true);\n\t}\n\n\tgetNode(): HTMLDivElement\n\t{\n\t\treturn this.getLayout();\n\t}\n}"],"names":["BaseCard","options","setEventNamespace","cache","Cache","MemoryCache","data","id","Type","isStringFilled","Text","getRandom","hidden","toBoolean","layout","getLayout","header","getHeader","body","getBody","setTitle","title","setHidden","className","Dom","addClass","isObject","attrs","adjust","onClickHandler","isFunction","onClick","bind","Event","remember","Tag","render","warning","append","textContent","attr","emit","EventEmitter"],"mappings":"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"}