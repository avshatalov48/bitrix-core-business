{"version":3,"file":"smile-manager.bundle.map.js","names":["this","BX","Messenger","v2","exports","main_core","ui_dexie","im_v2_const","im_v2_application_core","rest_client","im_v2_lib_localStorage","sets","join","smiles","CACHE_VERSION","_instance","babelHelpers","classPrivateFieldLooseKey","_smileList","_db","_restClient","_localStorageManager","_lastUpdateTime","_recentEmoji","_fetchDataFromServer","_fetchDataFromStorage","_fillStorage","_shouldRequestFromServer","_loadRecentEmoji","SmileManager","static","_babelHelpers$classPr","classPrivateFieldLooseBase","getInstance","initSmileList","constructor","Object","defineProperty","value","_loadRecentEmoji2","_shouldRequestFromServer2","_fillStorage2","_fetchDataFromStorage2","_fetchDataFromServer2","writable","Dexie","version","stores","recentEmoji","Core","getRestClient","LocalStorageManager","lastUpdate","Extension","getSettings","Date","parse","Set","async","shouldRequestFromServer","set","LocalStorageKey","smileLastUpdateTime","err","console","error","remove","selectedSetId","setsDB","toCollection","modify","selected","id","map","symbols","put","smileList","result","callMethod","RestMethod","imSmilesGet","FULL_TYPINGS","data","forEach","smile","list","typing","split","alternative","code","push","length","setList","firstSmileInSet","find","setId","image","setsTbl","smilesTbl","transaction","Promise","all","toArray","setsToSave","clear","bulkAdd","lastUpdateTimeFromStorage","get","_storageData$symbols","storageData","Lib","Dexie3","Const","Application"],"sources":["smile-manager.bundle.js"],"mappings":"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"}