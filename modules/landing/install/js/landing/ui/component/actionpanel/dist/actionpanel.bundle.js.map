{"version":3,"file":"actionpanel.bundle.js","sources":["../src/actionpanel.js"],"sourcesContent":["import {Cache, Dom, Tag, Text, Type} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\n\nimport './css/style.css';\n\nexport type ActionPanelItemOptions = {\n\tid: string,\n\ttext: string,\n\talign: 'left' | 'center' | 'right',\n\tonClick: () => void,\n};\n\nexport class ActionPanel extends EventEmitter\n{\n\tconstructor(options)\n\t{\n\t\tsuper();\n\t\tthis.setEventNamespace('BX.Landing.UI.Component.ActionPanel');\n\t\tthis.options = {...options};\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tconst {left, center, right} = this.options;\n\n\t\tif (Type.isArray(left))\n\t\t{\n\t\t\tleft.forEach((item) => this.addItem({...item, align: 'left'}));\n\t\t}\n\n\t\tif (Type.isArray(center))\n\t\t{\n\t\t\tcenter.forEach((item) => this.addItem({...item, align: 'center'}));\n\t\t}\n\n\t\tif (Type.isArray(right))\n\t\t{\n\t\t\tright.forEach((item) => this.addItem({...item, align: 'right'}));\n\t\t}\n\n\t\tif (Type.isDomNode(this.options.renderTo))\n\t\t{\n\t\t\tDom.append(this.getLayout(), this.options.renderTo);\n\t\t}\n\n\t\tif (Type.isPlainObject(this.options.style))\n\t\t{\n\t\t\tDom.style(this.getLayout(), this.options.style);\n\t\t}\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('layout', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-component-action-panel\">\n\t\t\t\t\t${this.getLeftContainer()}\n\t\t\t\t\t${this.getCenterContainer()}\n\t\t\t\t\t${this.getRightContainer()}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetNode(): HTMLDivElement\n\t{\n\t\treturn this.getLayout();\n\t}\n\n\tgetLeftContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('leftContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-component-action-panel-left\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetCenterContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('centerContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-component-action-panel-center\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\tgetRightContainer(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('rightContainer', () => {\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"landing-ui-component-action-panel-right\"></div>\n\t\t\t`;\n\t\t});\n\t}\n\n\taddItem(itemOptions: ActionPanelItemOptions): HTMLDivElement\n\t{\n\t\tconst item = Tag.render`\n\t\t\t<div \n\t\t\t\tclass=\"landing-ui-component-action-panel-button\"\n\t\t\t\tonclick=\"${itemOptions.onClick}\"\n\t\t\t\tdata-id=\"${itemOptions.id}\"\n\t\t\t>${Text.encode(itemOptions.text)}</div>\n\t\t`;\n\n\t\tif (itemOptions.align === 'left')\n\t\t{\n\t\t\tDom.append(item, this.getLeftContainer());\n\t\t}\n\n\t\tif (itemOptions.align === 'center')\n\t\t{\n\t\t\tDom.append(item, this.getCenterContainer());\n\t\t}\n\n\t\tif (itemOptions.align === 'right')\n\t\t{\n\t\t\tDom.append(item, this.getRightContainer());\n\t\t}\n\t}\n}"],"names":["ActionPanel","options","setEventNamespace","cache","Cache","MemoryCache","left","center","right","Type","isArray","forEach","item","addItem","align","isDomNode","renderTo","Dom","append","getLayout","isPlainObject","style","remember","Tag","render","getLeftContainer","getCenterContainer","getRightContainer","itemOptions","onClick","id","Text","encode","text","EventEmitter"],"mappings":"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"}