{"version":3,"file":"baseform.bundle.js","sources":["../src/baseform.js"],"sourcesContent":["import 'ui.design-tokens';\nimport 'ui.fonts.opensans';\n\nimport {Type, Event, Text, Tag, Dom, Cache, Runtime} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {Env} from 'landing.env';\nimport typeof {BaseField} from 'landing.ui.field.basefield';\nimport type BaseFormOptions from './internal/type';\n\nimport './css/style.css';\n\nexport type {\n\tBaseFormOptions,\n};\n\n/**\n * @memberOf BX.Landing.UI.Form\n */\nexport class BaseForm extends EventEmitter\n{\n\tconstructor(data: BaseFormOptions = {})\n\t{\n\t\tsuper(data);\n\t\tthis.setEventNamespace('BX.Landing.UI.Form.BaseForm');\n\n\t\tthis.data = {...data};\n\t\tthis.options = this.data;\n\t\tthis.id = Reflect.has(this.data, 'id') ? this.data.id : Text.getRandom();\n\t\tthis.selector = Reflect.has(this.data, 'selector') ? this.data.selector : '';\n\t\tthis.title = Reflect.has(this.data, 'title') ? this.data.title : '';\n\t\tthis.label = Reflect.has(this.data, 'label') ? this.data.label : '';\n\t\tthis.type = Reflect.has(this.data, 'type') ? this.data.type : 'content';\n\t\tthis.code = Reflect.has(this.data, 'code') ? this.data.code : '';\n\t\tthis.descriptionText = Reflect.has(this.data, 'description') ? this.data.description : '';\n\t\tthis.descriptionHintStyle = Reflect.has(this.data, 'descriptionHintStyle') ? this.data.descriptionHintStyle : '';\n\t\tthis.serializeModifier = this.options.serializeModifier || ((value) => value);\n\t\tthis.headerCheckbox = this.data.headerCheckbox;\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.fields = new BX.Landing.Collection.BaseCollection();\n\t\tthis.cards = new BX.Landing.Collection.BaseCollection();\n\n\t\tthis.layout = BaseForm.createLayout();\n\t\tthis.header = BaseForm.createHeader();\n\t\tthis.body = BaseForm.createBody();\n\t\tthis.footer = BaseForm.createFooter();\n\n\t\tDom.append(this.header, this.layout);\n\n\t\tif (this.descriptionText !== null)\n\t\t{\n\t\t\tthis.description = BaseForm.createDescription();\n\t\t\tDom.append(this.description, this.layout);\n\t\t}\n\n\t\tDom.append(this.body, this.layout);\n\t\tDom.append(this.footer, this.layout);\n\n\t\tif (Type.isString(this.title) && this.title !== '')\n\t\t{\n\t\t\tDom.append(document.createTextNode(this.title), this.header);\n\t\t}\n\n\t\tif (Type.isString(this.descriptionText) && this.descriptionText !== '')\n\t\t{\n\t\t\tif (Type.isString(this.descriptionHintStyle) && this.descriptionHintStyle === 'blueHint')\n\t\t\t{\n\t\t\t\tthis.description.innerHTML = `<div class=\"landing-ui-form-description-blue-hint\">${this.descriptionText}</div`;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.description.innerHTML = this.descriptionText;\n\t\t\t}\n\t\t}\n\n\t\tif (Type.isArray(this.data.fields) && this.data.fields.length > 0)\n\t\t{\n\t\t\tthis.data.fields.forEach((field) => {\n\t\t\t\tthis.addField(field);\n\t\t\t});\n\t\t}\n\n\t\tconst {sources} = Env.getInstance().getOptions();\n\t\tif (\n\t\t\tType.isPlainObject(this.headerCheckbox)\n\t\t\t&& Type.isArray(sources)\n\t\t\t&& sources.length > 0\n\t\t)\n\t\t{\n\t\t\tDom.append(this.getHeaderCheckbox(), this.header);\n\t\t}\n\n\t\tif (this.options.hidden === true)\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tshow()\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', null);\n\t}\n\n\thide()\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', true);\n\t}\n\n\tstatic createLayout(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form\"></div>`;\n\t}\n\n\tstatic createHeader(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-header\"></div>`;\n\t}\n\n\tstatic createDescription(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-description\"></div>`;\n\t}\n\n\tstatic createBody(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-body\"></div>`;\n\t}\n\n\tstatic createFooter(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-footer\"></div>`;\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.layout;\n\t}\n\n\tgetHeaderCheckbox(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('headerCheckbox', () => {\n\t\t\tconst checkboxId = Text.getRandom();\n\t\t\tconst {text, help, state, onChange} = this.headerCheckbox;\n\n\t\t\tconst input = Tag.render`\n\t\t\t\t<input type=\"checkbox\" id=\"${checkboxId}\" class=\"landing-ui-form-header-checkbox-input\">\n\t\t\t`;\n\t\t\tconst label = Tag.render`\n\t\t\t\t<label for=\"${checkboxId}\" class=\"landing-ui-form-header-checkbox-label\">${text}</label>\n\t\t\t`;\n\t\t\tconst layout = Tag.render`\n\t\t\t\t<div class=\"landing-ui-form-header-checkbox\">${input}${label}</div>\n\t\t\t`;\n\n\t\t\tif (Text.toBoolean(state))\n\t\t\t{\n\t\t\t\tinput.setAttribute('checked', true);\n\t\t\t}\n\n\t\t\tif (Type.isFunction(onChange))\n\t\t\t{\n\t\t\t\tEvent.bind(input, 'change', () => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\tstate: input.checked === true,\n\t\t\t\t\t\tform: this,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (Type.isString(help) && help !== '')\n\t\t\t{\n\t\t\t\tconst helpButton = Tag.render`\n\t\t\t\t\t<a href=\"${help}\" class=\"landing-ui-form-header-checkbox-help\" target=\"_blank\"> </a>\n\t\t\t\t`;\n\n\t\t\t\tDom.append(helpButton, layout);\n\t\t\t}\n\n\t\t\treturn layout;\n\t\t});\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.header;\n\t}\n\n\tgetBody(): HTMLDivElement\n\t{\n\t\treturn this.body;\n\t}\n\n\tgetFooter(): HTMLDivElement\n\t{\n\t\treturn this.footer;\n\t}\n\n\tgetNode(): HTMLDivElement\n\t{\n\t\treturn this.layout;\n\t}\n\n\taddField(field: BaseField)\n\t{\n\t\tif (Type.isObject(field))\n\t\t{\n\t\t\tthis.fields.add(field);\n\t\t\tDom.append(field.getNode(), this.getBody());\n\t\t}\n\t}\n\n\taddCard(card: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tif (Type.isObject(card))\n\t\t{\n\t\t\tthis.cards.add(card);\n\t\t\tcard.fields.forEach((field) => {\n\t\t\t\tthis.fields.add(field);\n\t\t\t});\n\t\t\tDom.append(card.getNode(), this.getBody());\n\t\t}\n\t}\n\n\tremoveCard(card: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tif (Type.isObject(card))\n\t\t{\n\t\t\tcard.fields.forEach((field) => {\n\t\t\t\tthis.fields.remove(field);\n\t\t\t});\n\n\t\t\tthis.cards.remove(card);\n\t\t\tDom.remove(card.layout);\n\t\t}\n\t}\n\n\treplaceCard(oldCard: BX.Landing.UI.Card.BaseCard, newCard: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tthis.removeCard(oldCard);\n\t\tthis.addCard(newCard);\n\t}\n\n\treplaceField(oldField, newField)\n\t{\n\t\tif (Type.isObject(oldField) && Type.isObject(newField))\n\t\t{\n\t\t\tDom.replace(oldField.getNode(), newField.getNode());\n\t\t\tthis.fields.remove(oldField);\n\t\t\tthis.fields.add(newField);\n\t\t}\n\t}\n\n\tisCheckboxChecked(): boolean\n\t{\n\t\tconst checkbox = this.header.querySelector('input');\n\t\treturn Type.isDomNode(checkbox) && checkbox.checked;\n\t}\n\n\tclone(options: BaseFormOptions): BaseForm\n\t{\n\t\tconst instance = new this.constructor(\n\t\t\tRuntime.clone(options || this.data),\n\t\t);\n\n\t\tthis.fields.forEach((field) => {\n\t\t\tif (field instanceof BX.Landing.UI.Field.Date)\n\t\t\t{\n\t\t\t\tconst newFieldData = Runtime.clone(field.data);\n\t\t\t\tnewFieldData.selector = instance.selector;\n\t\t\t\tinstance.addField(field.clone(newFieldData));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinstance.addField(field.clone());\n\t\t});\n\n\t\treturn instance;\n\t}\n\n\tserialize(): {[key: string]: any}\n\t{\n\t\treturn this.serializeModifier(\n\t\t\tthis.fields.reduce((acc, field) => {\n\t\t\t\tif (Type.isFunction(field.getValue))\n\t\t\t\t{\n\t\t\t\t\tacc[field.selector] = field.getValue();\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}, {}),\n\t\t);\n\t}\n\n\tremoveField(field: BaseField)\n\t{\n\t\tthis.fields.remove(field);\n\t\tDom.remove(field.layout);\n\t}\n\n\tdisable()\n\t{\n\t\tDom.addClass(this.getLayout(), 'landing-ui-disabled');\n\t}\n\n\tenable()\n\t{\n\t\tDom.removeClass(this.getLayout(), 'landing-ui-disabled');\n\t}\n}"],"names":["BaseForm","data","setEventNamespace","options","id","Reflect","has","Text","getRandom","selector","title","label","type","code","descriptionText","description","descriptionHintStyle","serializeModifier","value","headerCheckbox","cache","Cache","MemoryCache","fields","BX","Landing","Collection","BaseCollection","cards","layout","createLayout","header","createHeader","body","createBody","footer","createFooter","Dom","append","createDescription","Type","isString","document","createTextNode","innerHTML","isArray","length","forEach","field","addField","Env","getInstance","getOptions","sources","isPlainObject","getHeaderCheckbox","hidden","hide","attr","getLayout","remember","checkboxId","text","help","state","onChange","input","Tag","render","toBoolean","setAttribute","isFunction","Event","bind","checked","form","helpButton","isObject","add","getNode","getBody","card","remove","oldCard","newCard","removeCard","addCard","oldField","newField","replace","checkbox","querySelector","isDomNode","instance","constructor","Runtime","clone","UI","Field","Date","newFieldData","reduce","acc","getValue","addClass","removeClass","EventEmitter"],"mappings":"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"}