{"version":3,"sources":["../src/wrap/start.js","../src/pinia.js","../src/wrap/end.js"],"names":["isVue2","set","object","key","value","Array","isArray","length","Math","max","splice","del","getDevtoolsGlobalHook","getTarget","__VUE_DEVTOOLS_GLOBAL_HOOK__","navigator","window","global","HOOK_SETUP","setupDevtoolsPlugin","pluginDescriptor","setupFn","hook","emit","target","list","__VUE_DEVTOOLS_PLUGINS__","push","activePinia","setActivePinia","pinia","getActivePinia","hasInjectionContext","inject","piniaSymbol","Symbol","isPlainObject","o","Object","prototype","toString","call","toJSON","MutationType","IS_CLIENT","_global","self","globalThis","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","name","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","_navigator","userAgent","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","createElement","rel","href","origin","location","URL","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","isChromeIOS","FileReader","reader","onloadend","result","Error","replace","assign","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","includes","actionGlobalCopyState","clipboard","writeText","JSON","stringify","state","actionGlobalPasteState","loadStoresState","parse","readText","actionGlobalSaveState","fileInput","getFileOpener","accept","openFile","Promise","resolve","reject","onchange","files","file","item","text","oncancel","actionGlobalOpenStateFile","storeState","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","id","label","$id","formatStoreForInspectorState","storeNames","from","_s","keys","storeMap","map","storeId","editable","getters","filter","get","_getters","reduce","$state","getterName","_customProperties","size","customProperties","formatEventData","events","data","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","now","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","nodeActions","nodeId","$reset","on","inspectComponent","payload","ctx","proxy","componentInstance","_pStores","piniaStores","values","forEach","instanceData","_isOptionsAPI","toRaw","getInspectorTree","inspectorId","stores","concat","rootNodes","$pinia","getInspectorState","inspectedStore","$store","editInspectorState","path","has","unshift","editComponentState","startsWith","addStoreToDevtools","settings","logStoreChanges","defaultValue","bind","Date","$onAction","after","onError","args","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","undefined","logType","watch","unref","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","markRaw","newStore","info","$dispose","getSettings","patchActionForGrouping","actionNames","wrapWithProxy","storeActions","actionName","_actionId","trackedStore","Proxy","Reflect","retValue","apply","arguments","devtoolsPlugin","options","_p","_testing","originalHotUpdate","_hmrPayload","createPinia","scope","effectScope","run","ref","toBeInstalled","install","_a","provide","config","globalProperties","plugin","use","_e","Map","disposePinia","stop","clear","isUseStore","fn","newState","oldState","subPatch","targetValue","isRef","isReactive","acceptHMRUpdate","initialUseStore","hot","newModule","_pinia","exportName","useStore","invalidate","existingStore","noop","addSubscription","subscriptions","callback","onCleanup","removeSubscription","idx","indexOf","getCurrentScope","onScopeDispose","triggerSubscriptions","slice","fallbackRunWithContext","ACTION_MARKER","ACTION_NAME","mergeReactiveObjects","patchToApply","Set","add","hasOwnProperty","skipHydrateSymbol","skipHydrate","obj","defineProperty","shouldHydrate","isComputed","effect","createOptionsStore","initialState","setup","localState","toRefs","computedGetters","computed","createSetupStore","isOptionsStore","optionsForPlugin","active","$subscribeOptions","onTrigger","isListening","debuggerEvents","_hotUpdating","isSyncListening","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","nextTick","then","delete","wrappedAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","reactive","runWithContext","setupStore","prop","toRef","actionValue","stateKey","newStateTarget","oldStateSource","actionFn","getter","getterValue","nonEnumerable","writable","configurable","enumerable","p","extender","extensions","constructor","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","hasContext","hotId","currentInstance","getCurrentInstance","vm","cache","mapStoreSuffix","setMapStoreSuffix","suffix","mapStores","reduced","mapState","keysOrMapper","storeKey","mapGetters","mapActions","mapWritableState","storeToRefs","refs","PiniaVuePlugin","_Vue","mixin","beforeCreate","$options","_provided","provideCache","v","parent","destroyed","version"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;CChBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CAaA,MAAMA,MAAM,GAAG,KAAK;CAEpB,SAASC,GAAG,CAACC,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAC/B;GACC,IAAIC,KAAK,CAACC,OAAO,CAACJ,MAAM,CAAC,EACzB;KACCA,MAAM,CAACK,MAAM,GAAGC,IAAI,CAACC,GAAG,CAACP,MAAM,CAACK,MAAM,EAAEJ,GAAG,CAAC;KAC5CD,MAAM,CAACQ,MAAM,CAACP,GAAG,EAAE,CAAC,EAAEC,KAAK,CAAC;IAC5B,MACI,IAAI,OAAOF,MAAM,KAAK,QAAQ,EACnC;KACCA,MAAM,CAACC,GAAG,CAAC,GAAGC,KAAK;;GAGpB,OAAOA,KAAK;CACb;CAEA,SAASO,GAAG,CAACT,MAAM,EAAEC,GAAG,EACxB;GACC,IAAIE,KAAK,CAACC,OAAO,CAACJ,MAAM,CAAC,EACzB;KACCA,MAAM,CAACQ,MAAM,CAACP,GAAG,EAAE,CAAC,CAAC;IACrB,MACI,IAAI,OAAOD,MAAM,KAAK,QAAQ,EACnC;KACC,OAAOA,MAAM,CAACC,GAAG,CAAC;;CAEpB;CAEA,SAASS,qBAAqB,GAAG;GAChC,OAAOC,SAAS,EAAE,CAACC,4BAA4B;CAChD;CACA,SAASD,SAAS,GAAG;;GAEpB,OAAO,OAAOE,SAAS,KAAK,WAAW,GACpCC,MAAM,GACN,OAAOC,MAAM,KAAK,WAAW,GAC5BA,MAAM,GACN,EAAE;CACP;CAEA,MAAMC,UAAU,GAAG,uBAAuB;CAE1C,SAASC,mBAAmB,CAACC,gBAAgB,EAAEC,OAAO,EAAE;GACvD,MAAMC,IAAI,GAAGV,qBAAqB,EAAE;GACpC,IAAIU,IAAI,EAAE;KACTA,IAAI,CAACC,IAAI,CAACL,UAAU,EAAEE,gBAAgB,EAAEC,OAAO,CAAC;IAChD,MACI;KACJ,MAAMG,MAAM,GAAGX,SAAS,EAAE;KAC1B,MAAMY,IAAI,GAAGD,MAAM,CAACE,wBAAwB,GAAGF,MAAM,CAACE,wBAAwB,IAAI,EAAE;KACpFD,IAAI,CAACE,IAAI,CAAC;OACTP,gBAAgB;OAChBC;MACA,CAAC;;CAEJ;;CAEA;CACA;CACA;CACA;CACA;CACA,IAAIO,WAAW;CACf;CACA;CACA;CACA;CACA;CACA;CACC;AACD,OAAMC,cAAc,GAAIC,KAAK,IAAMF,WAAW,GAAGE,KAAM;CACvD;CACA;CACA;AACA,OAAMC,cAAc,GAAG,MAAOC,2BAAmB,EAAE,IAAIC,cAAM,CAACC,WAAW,CAAC,IAAKN,WAAW;CAC1F,MAAMM,WAAW,GAAIC,MAAM,CAAC,OAAO,CAAG;CAEtC,SAASC,aAAa;CACrB;CACAC,CAAC,EAAE;GACH,OAAQA,CAAC,IACR,OAAOA,CAAC,KAAK,QAAQ,IACrBC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACJ,CAAC,CAAC,KAAK,iBAAiB,IACvD,OAAOA,CAAC,CAACK,MAAM,KAAK,UAAU;CAChC;CACA;CACA;CACA;CACA;CACA;AACA;CACA,CAAC,UAAUC,YAAY,EAAE;;CAEzB;CACA;CACA;CACA;CACA;CACA;GACCA,YAAY,CAAC,QAAQ,CAAC,GAAG,QAAQ;;CAElC;CACA;CACA;CACA;GACCA,YAAY,CAAC,aAAa,CAAC,GAAG,cAAc;;CAE7C;CACA;CACA;CACA;GACCA,YAAY,CAAC,eAAe,CAAC,GAAG,gBAAgB;;CAEjD,CAAC,EAAEA,oBAAY,KAAKA,oBAAY,GAAG,EAAE,CAAC,CAAC;CAEvC,MAAMC,SAAS,GAAG,OAAO5B,MAAM,KAAK,WAAW;;CAE/C;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,MAAM6B,OAAO,gBAAiB,CAAC,MAAM,OAAO7B,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACA,MAAM,KAAKA,MAAM,GACxFA,MAAM,GACN,OAAO8B,IAAI,KAAK,QAAQ,IAAIA,IAAI,CAACA,IAAI,KAAKA,IAAI,GAC7CA,IAAI,GACJ,OAAO7B,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACA,MAAM,KAAKA,MAAM,GACrDA,MAAM,GACN,OAAO8B,UAAU,KAAK,QAAQ,GAC7BA,UAAU,GACV;GAAEC,WAAW,EAAE;CAAK,CAAC,GAAG;CAC9B,SAASC,GAAG,CAACC,IAAI,EAAE;GAAEC,OAAO,GAAG;CAAM,CAAC,GAAG,EAAE,EAAE;;;GAG5C,IAAIA,OAAO,IACV,4EAA4E,CAACC,IAAI,CAACF,IAAI,CAACG,IAAI,CAAC,EAAE;KAC9F,OAAO,IAAIC,IAAI,CAAC,CAACC,MAAM,CAACC,YAAY,CAAC,MAAM,CAAC,EAAEN,IAAI,CAAC,EAAE;OAAEG,IAAI,EAAEH,IAAI,CAACG;MAAM,CAAC;;GAE1E,OAAOH,IAAI;CACZ;CACA,SAASO,QAAQ,CAACC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;GAClC,MAAMC,GAAG,GAAG,IAAIC,cAAc,EAAE;GAChCD,GAAG,CAACE,IAAI,CAAC,KAAK,EAAEL,GAAG,CAAC;GACpBG,GAAG,CAACG,YAAY,GAAG,MAAM;GACzBH,GAAG,CAACI,MAAM,GAAG,YAAY;KACxBC,MAAM,CAACL,GAAG,CAACM,QAAQ,EAAER,IAAI,EAAEC,IAAI,CAAC;IAChC;GACDC,GAAG,CAACO,OAAO,GAAG,YAAY;KACzBC,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC;IACxC;GACDT,GAAG,CAACU,IAAI,EAAE;CACX;CACA,SAASC,WAAW,CAACd,GAAG,EAAE;GACzB,MAAMG,GAAG,GAAG,IAAIC,cAAc,EAAE;;GAEhCD,GAAG,CAACE,IAAI,CAAC,MAAM,EAAEL,GAAG,EAAE,KAAK,CAAC;GAC5B,IAAI;KACHG,GAAG,CAACU,IAAI,EAAE;IACV,CACD,OAAOE,CAAC,EAAE;GACV,OAAOZ,GAAG,CAACa,MAAM,IAAI,GAAG,IAAIb,GAAG,CAACa,MAAM,IAAI,GAAG;CAC9C;CACA;CACA,SAASC,KAAK,CAACC,IAAI,EAAE;GACpB,IAAI;KACHA,IAAI,CAACC,aAAa,CAAC,IAAIC,UAAU,CAAC,OAAO,CAAC,CAAC;IAC3C,CACD,OAAOL,CAAC,EAAE;KACT,MAAMM,GAAG,GAAGC,QAAQ,CAACC,WAAW,CAAC,aAAa,CAAC;KAC/CF,GAAG,CAACG,cAAc,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAElE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC;KACrG4D,IAAI,CAACC,aAAa,CAACE,GAAG,CAAC;;CAEzB;CACA,MAAMI,UAAU,GAAG,OAAOpE,SAAS,KAAK,QAAQ,GAAGA,SAAS,GAAG;GAAEqE,SAAS,EAAE;CAAG,CAAC;CAChF;CACA;CACA;CACA,MAAMC,cAAc,gBAAiB,CAAC,MAAM,WAAW,CAACjC,IAAI,CAAC+B,UAAU,CAACC,SAAS,CAAC,IACjF,aAAa,CAAChC,IAAI,CAAC+B,UAAU,CAACC,SAAS,CAAC,IACxC,CAAC,QAAQ,CAAChC,IAAI,CAAC+B,UAAU,CAACC,SAAS,CAAC,GAAG;CACxC,MAAMlB,MAAM,GAAG,CAACtB,SAAS,GACtB,MAAM,EAAG;CAAC;CACV;CACF,OAAO0C,iBAAiB,KAAK,WAAW,IACxC,UAAU,IAAIA,iBAAiB,CAAC/C,SAAS,IACzC,CAAC8C,cAAc,GACZE,cAAc;CACd;CACF,kBAAkB,IAAIJ,UAAU,GAC7BK,QAAQ;CACR;CACFC,eAAe;CAClB,SAASF,cAAc,CAACrC,IAAI,EAAES,IAAI,GAAG,UAAU,EAAEC,IAAI,EAAE;GACtD,MAAM8B,CAAC,GAAGV,QAAQ,CAACW,aAAa,CAAC,GAAG,CAAC;GACrCD,CAAC,CAACjC,QAAQ,GAAGE,IAAI;GACjB+B,CAAC,CAACE,GAAG,GAAG,UAAU,CAAC;;;GAGnB,IAAI,OAAO1C,IAAI,KAAK,QAAQ,EAAE;;KAE7BwC,CAAC,CAACG,IAAI,GAAG3C,IAAI;KACb,IAAIwC,CAAC,CAACI,MAAM,KAAKC,QAAQ,CAACD,MAAM,EAAE;OACjC,IAAItB,WAAW,CAACkB,CAAC,CAACG,IAAI,CAAC,EAAE;SACxBpC,QAAQ,CAACP,IAAI,EAAES,IAAI,EAAEC,IAAI,CAAC;QAC1B,MACI;SACJ8B,CAAC,CAAClE,MAAM,GAAG,QAAQ;SACnBmD,KAAK,CAACe,CAAC,CAAC;;MAET,MACI;OACJf,KAAK,CAACe,CAAC,CAAC;;IAET,MACI;;KAEJA,CAAC,CAACG,IAAI,GAAGG,GAAG,CAACC,eAAe,CAAC/C,IAAI,CAAC;KAClCgD,UAAU,CAAC,YAAY;OACtBF,GAAG,CAACG,eAAe,CAACT,CAAC,CAACG,IAAI,CAAC;MAC3B,EAAE,GAAG,CAAC,CAAC;KACRK,UAAU,CAAC,YAAY;OACtBvB,KAAK,CAACe,CAAC,CAAC;MACR,EAAE,CAAC,CAAC;;CAEP;CACA,SAASF,QAAQ,CAACtC,IAAI,EAAES,IAAI,GAAG,UAAU,EAAEC,IAAI,EAAE;GAChD,IAAI,OAAOV,IAAI,KAAK,QAAQ,EAAE;KAC7B,IAAIsB,WAAW,CAACtB,IAAI,CAAC,EAAE;OACtBO,QAAQ,CAACP,IAAI,EAAES,IAAI,EAAEC,IAAI,CAAC;MAC1B,MACI;OACJ,MAAM8B,CAAC,GAAGV,QAAQ,CAACW,aAAa,CAAC,GAAG,CAAC;OACrCD,CAAC,CAACG,IAAI,GAAG3C,IAAI;OACbwC,CAAC,CAAClE,MAAM,GAAG,QAAQ;OACnB0E,UAAU,CAAC,YAAY;SACtBvB,KAAK,CAACe,CAAC,CAAC;QACR,CAAC;;IAEH,MACI;;KAEJ3E,SAAS,CAACqF,gBAAgB,CAACnD,GAAG,CAACC,IAAI,EAAEU,IAAI,CAAC,EAAED,IAAI,CAAC;;CAEnD;CACA,SAAS8B,eAAe,CAACvC,IAAI,EAAES,IAAI,EAAEC,IAAI,EAAEyC,KAAK,EAAE;;;GAGjDA,KAAK,GAAGA,KAAK,IAAItC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC;GACnC,IAAIsC,KAAK,EAAE;KACVA,KAAK,CAACrB,QAAQ,CAACsB,KAAK,GAAGD,KAAK,CAACrB,QAAQ,CAACuB,IAAI,CAACC,SAAS,GAAG,gBAAgB;;GAExE,IAAI,OAAOtD,IAAI,KAAK,QAAQ,EAC3B,OAAOO,QAAQ,CAACP,IAAI,EAAES,IAAI,EAAEC,IAAI,CAAC;GAClC,MAAM6C,KAAK,GAAGvD,IAAI,CAACG,IAAI,KAAK,0BAA0B;GACtD,MAAMqD,QAAQ,GAAG,cAAc,CAACtD,IAAI,CAACG,MAAM,CAACV,OAAO,CAACG,WAAW,CAAC,CAAC,IAAI,QAAQ,IAAIH,OAAO;GACxF,MAAM8D,WAAW,GAAG,cAAc,CAACvD,IAAI,CAACrC,SAAS,CAACqE,SAAS,CAAC;GAC5D,IAAI,CAACuB,WAAW,IAAKF,KAAK,IAAIC,QAAS,IAAIrB,cAAc,KACxD,OAAOuB,UAAU,KAAK,WAAW,EAAE;;KAEnC,MAAMC,MAAM,GAAG,IAAID,UAAU,EAAE;KAC/BC,MAAM,CAACC,SAAS,GAAG,YAAY;OAC9B,IAAIpD,GAAG,GAAGmD,MAAM,CAACE,MAAM;OACvB,IAAI,OAAOrD,GAAG,KAAK,QAAQ,EAAE;SAC5B2C,KAAK,GAAG,IAAI;SACZ,MAAM,IAAIW,KAAK,CAAC,0BAA0B,CAAC;;OAE5CtD,GAAG,GAAGiD,WAAW,GACdjD,GAAG,GACHA,GAAG,CAACuD,OAAO,CAAC,cAAc,EAAE,uBAAuB,CAAC;OACvD,IAAIZ,KAAK,EAAE;SACVA,KAAK,CAACN,QAAQ,CAACF,IAAI,GAAGnC,GAAG;QACzB,MACI;SACJqC,QAAQ,CAACmB,MAAM,CAACxD,GAAG,CAAC;;OAErB2C,KAAK,GAAG,IAAI,CAAC;MACb;;KACDQ,MAAM,CAACM,aAAa,CAACjE,IAAI,CAAC;IAC1B,MACI;KACJ,MAAMQ,GAAG,GAAGsC,GAAG,CAACC,eAAe,CAAC/C,IAAI,CAAC;KACrC,IAAImD,KAAK,EACRA,KAAK,CAACN,QAAQ,CAACmB,MAAM,CAACxD,GAAG,CAAC,CAAC,KAE3BqC,QAAQ,CAACF,IAAI,GAAGnC,GAAG;KACpB2C,KAAK,GAAG,IAAI,CAAC;KACbH,UAAU,CAAC,YAAY;OACtBF,GAAG,CAACG,eAAe,CAACzC,GAAG,CAAC;MACxB,EAAE,GAAG,CAAC,CAAC;;CAEV;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA,SAAS0D,YAAY,CAACC,OAAO,EAAEhE,IAAI,EAAE;GACpC,MAAMiE,YAAY,GAAG,KAAK,GAAGD,OAAO;GACpC,IAAI,OAAOE,sBAAsB,KAAK,UAAU,EAAE;;KAEjDA,sBAAsB,CAACD,YAAY,EAAEjE,IAAI,CAAC;IAC1C,MACI,IAAIA,IAAI,KAAK,OAAO,EAAE;KAC1BgB,OAAO,CAACC,KAAK,CAACgD,YAAY,CAAC;IAC3B,MACI,IAAIjE,IAAI,KAAK,MAAM,EAAE;KACzBgB,OAAO,CAACmD,IAAI,CAACF,YAAY,CAAC;IAC1B,MACI;KACJjD,OAAO,CAACoD,GAAG,CAACH,YAAY,CAAC;;CAE3B;CACA,SAASI,OAAO,CAACrF,CAAC,EAAE;GACnB,OAAO,IAAI,IAAIA,CAAC,IAAI,SAAS,IAAIA,CAAC;CACnC;;CAEA;CACA;CACA;CACA;CACA,SAASsF,oBAAoB,GAAG;GAC/B,IAAI,EAAE,WAAW,IAAI5G,SAAS,CAAC,EAAE;KAChCqG,YAAY,CAAE,gDAA+C,EAAE,OAAO,CAAC;KACvE,OAAO,IAAI;;CAEb;CACA,SAASQ,oBAAoB,CAACtD,KAAK,EAAE;GACpC,IAAIA,KAAK,YAAY0C,KAAK,IACzB1C,KAAK,CAAC+C,OAAO,CAACQ,WAAW,EAAE,CAACC,QAAQ,CAAC,yBAAyB,CAAC,EAAE;KACjEV,YAAY,CAAC,iGAAiG,EAAE,MAAM,CAAC;KACvH,OAAO,IAAI;;GAEZ,OAAO,KAAK;CACb;CACA,eAAeW,qBAAqB,CAACjG,KAAK,EAAE;GAC3C,IAAI6F,oBAAoB,EAAE,EACzB;GACD,IAAI;KACH,MAAM5G,SAAS,CAACiH,SAAS,CAACC,SAAS,CAACC,IAAI,CAACC,SAAS,CAACrG,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC,CAAC;KACtEgH,YAAY,CAAC,mCAAmC,CAAC;IACjD,CACD,OAAO9C,KAAK,EAAE;KACb,IAAIsD,oBAAoB,CAACtD,KAAK,CAAC,EAC9B;KACD8C,YAAY,CAAE,oEAAmE,EAAE,OAAO,CAAC;KAC3F/C,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;;CAEtB;CACA,eAAe+D,sBAAsB,CAACvG,KAAK,EAAE;GAC5C,IAAI6F,oBAAoB,EAAE,EACzB;GACD,IAAI;KACHW,eAAe,CAACxG,KAAK,EAAEoG,IAAI,CAACK,KAAK,CAAC,MAAMxH,SAAS,CAACiH,SAAS,CAACQ,QAAQ,EAAE,CAAC,CAAC;KACxEpB,YAAY,CAAC,qCAAqC,CAAC;IACnD,CACD,OAAO9C,KAAK,EAAE;KACb,IAAIsD,oBAAoB,CAACtD,KAAK,CAAC,EAC9B;KACD8C,YAAY,CAAE,qFAAoF,EAAE,OAAO,CAAC;KAC5G/C,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;;CAEtB;CACA,eAAemE,qBAAqB,CAAC3G,KAAK,EAAE;GAC3C,IAAI;KACHoC,MAAM,CAAC,IAAIZ,IAAI,CAAC,CAAC4E,IAAI,CAACC,SAAS,CAACrG,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC,CAAC,EAAE;OACpDiD,IAAI,EAAE;MACN,CAAC,EAAE,kBAAkB,CAAC;IACvB,CACD,OAAOiB,KAAK,EAAE;KACb8C,YAAY,CAAE,yEAAwE,EAAE,OAAO,CAAC;KAChG/C,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;;CAEtB;CACA,IAAIoE,SAAS;CACb,SAASC,aAAa,GAAG;GACxB,IAAI,CAACD,SAAS,EAAE;KACfA,SAAS,GAAG1D,QAAQ,CAACW,aAAa,CAAC,OAAO,CAAC;KAC3C+C,SAAS,CAACrF,IAAI,GAAG,MAAM;KACvBqF,SAAS,CAACE,MAAM,GAAG,OAAO;;GAE3B,SAASC,QAAQ,GAAG;KACnB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;OACvCN,SAAS,CAACO,QAAQ,GAAG,YAAY;SAChC,MAAMC,KAAK,GAAGR,SAAS,CAACQ,KAAK;SAC7B,IAAI,CAACA,KAAK,EACT,OAAOH,OAAO,CAAC,IAAI,CAAC;SACrB,MAAMI,IAAI,GAAGD,KAAK,CAACE,IAAI,CAAC,CAAC,CAAC;SAC1B,IAAI,CAACD,IAAI,EACR,OAAOJ,OAAO,CAAC,IAAI,CAAC;SACrB,OAAOA,OAAO,CAAC;WAAEM,IAAI,EAAE,MAAMF,IAAI,CAACE,IAAI,EAAE;WAAEF;UAAM,CAAC;QACjD;;OAEDT,SAAS,CAACY,QAAQ,GAAG,MAAMP,OAAO,CAAC,IAAI,CAAC;OACxCL,SAAS,CAACtE,OAAO,GAAG4E,MAAM;OAC1BN,SAAS,CAAC/D,KAAK,EAAE;MACjB,CAAC;;GAEH,OAAOkE,QAAQ;CAChB;CACA,eAAeU,yBAAyB,CAACzH,KAAK,EAAE;GAC/C,IAAI;KACH,MAAMiC,IAAI,GAAG4E,aAAa,EAAE;KAC5B,MAAM5B,MAAM,GAAG,MAAMhD,IAAI,EAAE;KAC3B,IAAI,CAACgD,MAAM,EACV;KACD,MAAM;OAAEsC,IAAI;OAAEF;MAAM,GAAGpC,MAAM;KAC7BuB,eAAe,CAACxG,KAAK,EAAEoG,IAAI,CAACK,KAAK,CAACc,IAAI,CAAC,CAAC;KACxCjC,YAAY,CAAE,+BAA8B+B,IAAI,CAACxF,IAAK,IAAG,CAAC;IAC1D,CACD,OAAOW,KAAK,EAAE;KACb8C,YAAY,CAAE,2EAA0E,EAAE,OAAO,CAAC;KAClG/C,OAAO,CAACC,KAAK,CAACA,KAAK,CAAC;;CAEtB;CACA,SAASgE,eAAe,CAACxG,KAAK,EAAEsG,KAAK,EAAE;GACtC,KAAK,MAAMjI,GAAG,IAAIiI,KAAK,EAAE;KACxB,MAAMoB,UAAU,GAAG1H,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAACD,GAAG,CAAC;;KAEzC,IAAIqJ,UAAU,EAAE;OACflH,MAAM,CAAC4E,MAAM,CAACsC,UAAU,EAAEpB,KAAK,CAACjI,GAAG,CAAC,CAAC;MACrC,MACI;;OAEJ2B,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAACD,GAAG,CAAC,GAAGiI,KAAK,CAACjI,GAAG,CAAC;;;CAGtC;CAEA,SAASsJ,aAAa,CAACC,OAAO,EAAE;GAC/B,OAAO;KACNC,OAAO,EAAE;OACRD;;IAED;CACF;CACA,MAAME,gBAAgB,GAAG,iBAAiB;CAC1C,MAAMC,aAAa,GAAG,OAAO;CAC7B,SAASC,2BAA2B,CAACC,KAAK,EAAE;GAC3C,OAAOrC,OAAO,CAACqC,KAAK,CAAC,GAClB;KACDC,EAAE,EAAEH,aAAa;KACjBI,KAAK,EAAEL;IACP,GACC;KACDI,EAAE,EAAED,KAAK,CAACG,GAAG;KACbD,KAAK,EAAEF,KAAK,CAACG;IACb;CACH;CACA,SAASC,4BAA4B,CAACJ,KAAK,EAAE;GAC5C,IAAIrC,OAAO,CAACqC,KAAK,CAAC,EAAE;KACnB,MAAMK,UAAU,GAAG/J,KAAK,CAACgK,IAAI,CAACN,KAAK,CAACO,EAAE,CAACC,IAAI,EAAE,CAAC;KAC9C,MAAMC,QAAQ,GAAGT,KAAK,CAACO,EAAE;KACzB,MAAMlC,KAAK,GAAG;OACbA,KAAK,EAAEgC,UAAU,CAACK,GAAG,CAAEC,OAAO,KAAM;SACnCC,QAAQ,EAAE,IAAI;SACdxK,GAAG,EAAEuK,OAAO;SACZtK,KAAK,EAAE2J,KAAK,CAAC3B,KAAK,CAAChI,KAAK,CAACsK,OAAO;QAChC,CAAC,CAAC;OACHE,OAAO,EAAER,UAAU,CACjBS,MAAM,CAAEb,EAAE,IAAKQ,QAAQ,CAACM,GAAG,CAACd,EAAE,CAAC,CAACe,QAAQ,CAAC,CACzCN,GAAG,CAAET,EAAE,IAAK;SACZ,MAAMD,KAAK,GAAGS,QAAQ,CAACM,GAAG,CAACd,EAAE,CAAC;SAC9B,OAAO;WACNW,QAAQ,EAAE,KAAK;WACfxK,GAAG,EAAE6J,EAAE;WACP5J,KAAK,EAAE2J,KAAK,CAACgB,QAAQ,CAACC,MAAM,CAAC,CAACJ,OAAO,EAAEzK,GAAG,KAAK;aAC9CyK,OAAO,CAACzK,GAAG,CAAC,GAAG4J,KAAK,CAAC5J,GAAG,CAAC;aACzB,OAAOyK,OAAO;YACd,EAAE,EAAE;UACL;QACD;MACF;KACD,OAAOxC,KAAK;;GAEb,MAAMA,KAAK,GAAG;KACbA,KAAK,EAAE9F,MAAM,CAACiI,IAAI,CAACR,KAAK,CAACkB,MAAM,CAAC,CAACR,GAAG,CAAEtK,GAAG,KAAM;OAC9CwK,QAAQ,EAAE,IAAI;OACdxK,GAAG;OACHC,KAAK,EAAE2J,KAAK,CAACkB,MAAM,CAAC9K,GAAG;MACvB,CAAC;IACF;;GAED,IAAI4J,KAAK,CAACgB,QAAQ,IAAIhB,KAAK,CAACgB,QAAQ,CAACxK,MAAM,EAAE;KAC5C6H,KAAK,CAACwC,OAAO,GAAGb,KAAK,CAACgB,QAAQ,CAACN,GAAG,CAAES,UAAU,KAAM;OACnDP,QAAQ,EAAE,KAAK;OACfxK,GAAG,EAAE+K,UAAU;OACf9K,KAAK,EAAE2J,KAAK,CAACmB,UAAU;MACvB,CAAC,CAAC;;GAEJ,IAAInB,KAAK,CAACoB,iBAAiB,CAACC,IAAI,EAAE;KACjChD,KAAK,CAACiD,gBAAgB,GAAGhL,KAAK,CAACgK,IAAI,CAACN,KAAK,CAACoB,iBAAiB,CAAC,CAACV,GAAG,CAAEtK,GAAG,KAAM;OAC1EwK,QAAQ,EAAE,IAAI;OACdxK,GAAG;OACHC,KAAK,EAAE2J,KAAK,CAAC5J,GAAG;MAChB,CAAC,CAAC;;GAEJ,OAAOiI,KAAK;CACb;CACA,SAASkD,eAAe,CAACC,MAAM,EAAE;GAChC,IAAI,CAACA,MAAM,EACV,OAAO,EAAE;GACV,IAAIlL,KAAK,CAACC,OAAO,CAACiL,MAAM,CAAC,EAAE;;KAE1B,OAAOA,MAAM,CAACP,MAAM,CAAC,CAACQ,IAAI,EAAEC,KAAK,KAAK;OACrCD,IAAI,CAACjB,IAAI,CAAC5I,IAAI,CAAC8J,KAAK,CAACtL,GAAG,CAAC;OACzBqL,IAAI,CAACE,UAAU,CAAC/J,IAAI,CAAC8J,KAAK,CAACpI,IAAI,CAAC;OAChCmI,IAAI,CAACG,QAAQ,CAACF,KAAK,CAACtL,GAAG,CAAC,GAAGsL,KAAK,CAACE,QAAQ;OACzCH,IAAI,CAACI,QAAQ,CAACH,KAAK,CAACtL,GAAG,CAAC,GAAGsL,KAAK,CAACG,QAAQ;OACzC,OAAOJ,IAAI;MACX,EAAE;OACFG,QAAQ,EAAE,EAAE;OACZpB,IAAI,EAAE,EAAE;OACRmB,UAAU,EAAE,EAAE;OACdE,QAAQ,EAAE;MACV,CAAC;IACF,MACI;KACJ,OAAO;OACNC,SAAS,EAAEpC,aAAa,CAAC8B,MAAM,CAAClI,IAAI,CAAC;OACrClD,GAAG,EAAEsJ,aAAa,CAAC8B,MAAM,CAACpL,GAAG,CAAC;OAC9BwL,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;OACzBC,QAAQ,EAAEL,MAAM,CAACK;MACjB;;CAEH;CACA,SAASE,kBAAkB,CAACzI,IAAI,EAAE;GACjC,QAAQA,IAAI;KACX,KAAKV,oBAAY,CAACoJ,MAAM;OACvB,OAAO,UAAU;KAClB,KAAKpJ,oBAAY,CAACqJ,aAAa;OAC9B,OAAO,QAAQ;KAChB,KAAKrJ,oBAAY,CAACsJ,WAAW;OAC5B,OAAO,QAAQ;KAChB;OACC,OAAO,SAAS;;CAEnB;;CAEA;CACA,IAAIC,gBAAgB,GAAG,IAAI;CAC3B,MAAMC,mBAAmB,GAAG,EAAE;CAC9B,MAAMC,kBAAkB,GAAG,iBAAiB;CAC5C,MAAMC,YAAY,GAAG,OAAO;CAC5B,MAAM;GAAEnF,MAAM,EAAEoF;CAAS,CAAC,GAAGhK,MAAM;CACnC;CACA;CACA;CACA;CACA;CACA;CACA,MAAMiK,YAAY,GAAIvC,EAAE,IAAK,KAAK,GAAGA,EAAE;CACvC;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASwC,qBAAqB,CAACC,GAAG,EAAE3K,KAAK,EAAE;GAC1CX,mBAAmB,CAAC;KACnB6I,EAAE,EAAE,eAAe;KACnBC,KAAK,EAAE,UAAU;KACjByC,IAAI,EAAE,kCAAkC;KACxCC,WAAW,EAAE,OAAO;KACpBC,QAAQ,EAAE,yBAAyB;KACnCT,mBAAmB;KACnBM;IACA,EAAGI,GAAG,IAAK;KACX,IAAI,OAAOA,GAAG,CAACC,GAAG,KAAK,UAAU,EAAE;OAClC1F,YAAY,CAAC,yMAAyM,CAAC;;KAExNyF,GAAG,CAACE,gBAAgB,CAAC;OACpB/C,EAAE,EAAEoC,kBAAkB;OACtBnC,KAAK,EAAG,UAAS;OACjB+C,KAAK,EAAE;MACP,CAAC;KACFH,GAAG,CAACI,YAAY,CAAC;OAChBjD,EAAE,EAAEqC,YAAY;OAChBpC,KAAK,EAAE,UAAU;OACjBiD,IAAI,EAAE,SAAS;OACfC,qBAAqB,EAAE,eAAe;OACtCC,OAAO,EAAE,CACR;SACCF,IAAI,EAAE,cAAc;SACpBG,MAAM,EAAE,MAAM;WACbtF,qBAAqB,CAACjG,KAAK,CAAC;UAC5B;SACDwL,OAAO,EAAE;QACT,EACD;SACCJ,IAAI,EAAE,eAAe;SACrBG,MAAM,EAAE,YAAY;WACnB,MAAMhF,sBAAsB,CAACvG,KAAK,CAAC;WACnC+K,GAAG,CAACU,iBAAiB,CAAClB,YAAY,CAAC;WACnCQ,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;UACpC;SACDiB,OAAO,EAAE;QACT,EACD;SACCJ,IAAI,EAAE,MAAM;SACZG,MAAM,EAAE,MAAM;WACb5E,qBAAqB,CAAC3G,KAAK,CAAC;UAC5B;SACDwL,OAAO,EAAE;QACT,EACD;SACCJ,IAAI,EAAE,aAAa;SACnBG,MAAM,EAAE,YAAY;WACnB,MAAM9D,yBAAyB,CAACzH,KAAK,CAAC;WACtC+K,GAAG,CAACU,iBAAiB,CAAClB,YAAY,CAAC;WACnCQ,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;UACpC;SACDiB,OAAO,EAAE;QACT,CACD;OACDG,WAAW,EAAE,CACZ;SACCP,IAAI,EAAE,SAAS;SACfI,OAAO,EAAE,iCAAiC;SAC1CD,MAAM,EAAGK,MAAM,IAAK;WACnB,MAAM3D,KAAK,GAAGjI,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAAC4C,MAAM,CAAC;WAClC,IAAI,CAAC3D,KAAK,EAAE;aACX3C,YAAY,CAAE,iBAAgBsG,MAAO,kCAAiC,EAAE,MAAM,CAAC;YAC/E,MACI,IAAI,OAAO3D,KAAK,CAAC4D,MAAM,KAAK,UAAU,EAAE;aAC5CvG,YAAY,CAAE,iBAAgBsG,MAAO,gEAA+D,EAAE,MAAM,CAAC;YAC7G,MACI;aACJ3D,KAAK,CAAC4D,MAAM,EAAE;aACdvG,YAAY,CAAE,UAASsG,MAAO,UAAS,CAAC;;;QAG1C;MAEF,CAAC;KACFb,GAAG,CAACe,EAAE,CAACC,gBAAgB,CAAC,CAACC,OAAO,EAAEC,GAAG,KAAK;OACzC,MAAMC,KAAK,GAAIF,OAAO,CAACG,iBAAiB,IACvCH,OAAO,CAACG,iBAAiB,CAACD,KAAM;OACjC,IAAIA,KAAK,IAAIA,KAAK,CAACE,QAAQ,EAAE;SAC5B,MAAMC,WAAW,GAAGL,OAAO,CAACG,iBAAiB,CAACD,KAAK,CAACE,QAAQ;SAC5D5L,MAAM,CAAC8L,MAAM,CAACD,WAAW,CAAC,CAACE,OAAO,CAAEtE,KAAK,IAAK;WAC7C+D,OAAO,CAACQ,YAAY,CAAClG,KAAK,CAACzG,IAAI,CAAC;aAC/B0B,IAAI,EAAEkJ,YAAY,CAACxC,KAAK,CAACG,GAAG,CAAC;aAC7B/J,GAAG,EAAE,OAAO;aACZwK,QAAQ,EAAE,IAAI;aACdvK,KAAK,EAAE2J,KAAK,CAACwE,aAAa,GACvB;eACD5E,OAAO,EAAE;iBACRvJ,KAAK,EAAEoO,aAAK,CAACzE,KAAK,CAACkB,MAAM,CAAC;iBAC1BmC,OAAO,EAAE,CACR;mBACCF,IAAI,EAAE,SAAS;mBACfI,OAAO,EAAE,+BAA+B;mBACxCD,MAAM,EAAE,MAAMtD,KAAK,CAAC4D,MAAM;kBAC1B;;cAGH;;aAEDrL,MAAM,CAACiI,IAAI,CAACR,KAAK,CAACkB,MAAM,CAAC,CAACD,MAAM,CAAC,CAAC5C,KAAK,EAAEjI,GAAG,KAAK;eAChDiI,KAAK,CAACjI,GAAG,CAAC,GAAG4J,KAAK,CAACkB,MAAM,CAAC9K,GAAG,CAAC;eAC9B,OAAOiI,KAAK;cACZ,EAAE,EAAE;YACN,CAAC;WACF,IAAI2B,KAAK,CAACgB,QAAQ,IAAIhB,KAAK,CAACgB,QAAQ,CAACxK,MAAM,EAAE;aAC5CuN,OAAO,CAACQ,YAAY,CAAClG,KAAK,CAACzG,IAAI,CAAC;eAC/B0B,IAAI,EAAEkJ,YAAY,CAACxC,KAAK,CAACG,GAAG,CAAC;eAC7B/J,GAAG,EAAE,SAAS;eACdwK,QAAQ,EAAE,KAAK;eACfvK,KAAK,EAAE2J,KAAK,CAACgB,QAAQ,CAACC,MAAM,CAAC,CAACJ,OAAO,EAAEzK,GAAG,KAAK;iBAC9C,IAAI;mBACHyK,OAAO,CAACzK,GAAG,CAAC,GAAG4J,KAAK,CAAC5J,GAAG,CAAC;kBACzB,CACD,OAAOmE,KAAK,EAAE;;mBAEbsG,OAAO,CAACzK,GAAG,CAAC,GAAGmE,KAAK;;iBAErB,OAAOsG,OAAO;gBACd,EAAE,EAAE;cACL,CAAC;;UAEH,CAAC;;MAEH,CAAC;KACFiC,GAAG,CAACe,EAAE,CAACa,gBAAgB,CAAEX,OAAO,IAAK;OACpC,IAAIA,OAAO,CAACrB,GAAG,KAAKA,GAAG,IAAIqB,OAAO,CAACY,WAAW,KAAKrC,YAAY,EAAE;SAChE,IAAIsC,MAAM,GAAG,CAAC7M,KAAK,CAAC;SACpB6M,MAAM,GAAGA,MAAM,CAACC,MAAM,CAACvO,KAAK,CAACgK,IAAI,CAACvI,KAAK,CAACwI,EAAE,CAAC8D,MAAM,EAAE,CAAC,CAAC;SACrDN,OAAO,CAACe,SAAS,GAAG,CAACf,OAAO,CAACjD,MAAM,GAChC8D,MAAM,CAAC9D,MAAM,CAAEd,KAAK,IAAK,KAAK,IAAIA,KAAK,GACtCA,KAAK,CAACG,GAAG,CACTrC,WAAW,EAAE,CACbC,QAAQ,CAACgG,OAAO,CAACjD,MAAM,CAAChD,WAAW,EAAE,CAAC,GACtC+B,gBAAgB,CAAC/B,WAAW,EAAE,CAACC,QAAQ,CAACgG,OAAO,CAACjD,MAAM,CAAChD,WAAW,EAAE,CAAC,CAAC,GACvE8G,MAAM,EAAElE,GAAG,CAACX,2BAA2B,CAAC;;MAE5C,CAAC;;KAEF/G,UAAU,CAAC+L,MAAM,GAAGhN,KAAK;KACzB+K,GAAG,CAACe,EAAE,CAACmB,iBAAiB,CAAEjB,OAAO,IAAK;OACrC,IAAIA,OAAO,CAACrB,GAAG,KAAKA,GAAG,IAAIqB,OAAO,CAACY,WAAW,KAAKrC,YAAY,EAAE;SAChE,MAAM2C,cAAc,GAAGlB,OAAO,CAACJ,MAAM,KAAK7D,aAAa,GACpD/H,KAAK,GACLA,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACgD,OAAO,CAACJ,MAAM,CAAC;SAC/B,IAAI,CAACsB,cAAc,EAAE;;;WAGpB;;SAED,IAAIA,cAAc,EAAE;;WAEnB,IAAIlB,OAAO,CAACJ,MAAM,KAAK7D,aAAa,EACnC9G,UAAU,CAACkM,MAAM,GAAGT,aAAK,CAACQ,cAAc,CAAC;WAC1ClB,OAAO,CAAC1F,KAAK,GAAG+B,4BAA4B,CAAC6E,cAAc,CAAC;;;MAG9D,CAAC;KACFnC,GAAG,CAACe,EAAE,CAACsB,kBAAkB,CAAC,CAACpB,OAAO,EAAEC,GAAG,KAAK;OAC3C,IAAID,OAAO,CAACrB,GAAG,KAAKA,GAAG,IAAIqB,OAAO,CAACY,WAAW,KAAKrC,YAAY,EAAE;SAChE,MAAM2C,cAAc,GAAGlB,OAAO,CAACJ,MAAM,KAAK7D,aAAa,GACpD/H,KAAK,GACLA,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACgD,OAAO,CAACJ,MAAM,CAAC;SAC/B,IAAI,CAACsB,cAAc,EAAE;WACpB,OAAO5H,YAAY,CAAE,UAAS0G,OAAO,CAACJ,MAAO,aAAY,EAAE,OAAO,CAAC;;SAEpE,MAAM;WAAEyB;UAAM,GAAGrB,OAAO;SACxB,IAAI,CAACpG,OAAO,CAACsH,cAAc,CAAC,EAAE;;WAE7B,IAAIG,IAAI,CAAC5O,MAAM,KAAK,CAAC,IACpB,CAACyO,cAAc,CAAC7D,iBAAiB,CAACiE,GAAG,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,IAC9CA,IAAI,CAAC,CAAC,CAAC,IAAIH,cAAc,CAAC/D,MAAM,EAAE;aAClCkE,IAAI,CAACE,OAAO,CAAC,QAAQ,CAAC;;UAEvB,MACI;;WAEJF,IAAI,CAACE,OAAO,CAAC,OAAO,CAAC;;SAEtBnD,gBAAgB,GAAG,KAAK;SACxB4B,OAAO,CAAC7N,GAAG,CAAC+O,cAAc,EAAEG,IAAI,EAAErB,OAAO,CAAC1F,KAAK,CAAChI,KAAK,CAAC;SACtD8L,gBAAgB,GAAG,IAAI;;MAExB,CAAC;KACFW,GAAG,CAACe,EAAE,CAAC0B,kBAAkB,CAAExB,OAAO,IAAK;OACtC,IAAIA,OAAO,CAACzK,IAAI,CAACkM,UAAU,CAAC,IAAI,CAAC,EAAE;SAClC,MAAM7E,OAAO,GAAGoD,OAAO,CAACzK,IAAI,CAAC4D,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;SAClD,MAAM8C,KAAK,GAAGjI,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACJ,OAAO,CAAC;SACnC,IAAI,CAACX,KAAK,EAAE;WACX,OAAO3C,YAAY,CAAE,UAASsD,OAAQ,aAAY,EAAE,OAAO,CAAC;;SAE7D,MAAM;WAAEyE;UAAM,GAAGrB,OAAO;SACxB,IAAIqB,IAAI,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;WACxB,OAAO/H,YAAY,CAAE,2BAA0BsD,OAAQ,OAAMyE,IAAK,+BAA8B,CAAC;;;;SAIlGA,IAAI,CAAC,CAAC,CAAC,GAAG,QAAQ;SAClBjD,gBAAgB,GAAG,KAAK;SACxB4B,OAAO,CAAC7N,GAAG,CAAC8J,KAAK,EAAEoF,IAAI,EAAErB,OAAO,CAAC1F,KAAK,CAAChI,KAAK,CAAC;SAC7C8L,gBAAgB,GAAG,IAAI;;MAExB,CAAC;IACF,CAAC;CACH;CACA,SAASsD,kBAAkB,CAAC/C,GAAG,EAAE1C,KAAK,EAAE;GACvC,IAAI,CAACoC,mBAAmB,CAACrE,QAAQ,CAACyE,YAAY,CAACxC,KAAK,CAACG,GAAG,CAAC,CAAC,EAAE;KAC3DiC,mBAAmB,CAACxK,IAAI,CAAC4K,YAAY,CAACxC,KAAK,CAACG,GAAG,CAAC,CAAC;;GAElD/I,mBAAmB,CAAC;KACnB6I,EAAE,EAAE,eAAe;KACnBC,KAAK,EAAE,UAAU;KACjByC,IAAI,EAAE,kCAAkC;KACxCC,WAAW,EAAE,OAAO;KACpBC,QAAQ,EAAE,yBAAyB;KACnCT,mBAAmB;KACnBM,GAAG;KACHgD,QAAQ,EAAE;OACTC,eAAe,EAAE;SAChBzF,KAAK,EAAE,iCAAiC;SACxC5G,IAAI,EAAE,SAAS;SACfsM,YAAY,EAAE;;;;;;;;IAQhB,EAAG9C,GAAG,IAAK;;KAEX,MAAMC,GAAG,GAAG,OAAOD,GAAG,CAACC,GAAG,KAAK,UAAU,GAAGD,GAAG,CAACC,GAAG,CAAC8C,IAAI,CAAC/C,GAAG,CAAC,GAAGgD,IAAI,CAAC/C,GAAG;KACxE/C,KAAK,CAAC+F,SAAS,CAAC,CAAC;OAAEC,KAAK;OAAEC,OAAO;OAAErM,IAAI;OAAEsM;MAAM,KAAK;OACnD,MAAMC,OAAO,GAAGC,eAAe,EAAE;OACjCtD,GAAG,CAACuD,gBAAgB,CAAC;SACpBC,OAAO,EAAEjE,kBAAkB;SAC3BX,KAAK,EAAE;WACN6E,IAAI,EAAExD,GAAG,EAAE;WACXxG,KAAK,EAAE,KAAK,GAAG3C,IAAI;WACnB4M,QAAQ,EAAE,OAAO;WACjB/E,IAAI,EAAE;aACLzB,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAG,CAAC;aAC/BmD,MAAM,EAAE5D,aAAa,CAAC9F,IAAI,CAAC;aAC3BsM;YACA;WACDC;;QAED,CAAC;OACFH,KAAK,CAAEhJ,MAAM,IAAK;SACjByJ,YAAY,GAAGC,SAAS;SACxB5D,GAAG,CAACuD,gBAAgB,CAAC;WACpBC,OAAO,EAAEjE,kBAAkB;WAC3BX,KAAK,EAAE;aACN6E,IAAI,EAAExD,GAAG,EAAE;aACXxG,KAAK,EAAE,KAAK,GAAG3C,IAAI;aACnB4M,QAAQ,EAAE,KAAK;aACf/E,IAAI,EAAE;eACLzB,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAG,CAAC;eAC/BmD,MAAM,EAAE5D,aAAa,CAAC9F,IAAI,CAAC;eAC3BsM,IAAI;eACJlJ;cACA;aACDmJ;;UAED,CAAC;QACF,CAAC;OACFF,OAAO,CAAE1L,KAAK,IAAK;SAClBkM,YAAY,GAAGC,SAAS;SACxB5D,GAAG,CAACuD,gBAAgB,CAAC;WACpBC,OAAO,EAAEjE,kBAAkB;WAC3BX,KAAK,EAAE;aACN6E,IAAI,EAAExD,GAAG,EAAE;aACX4D,OAAO,EAAE,OAAO;aAChBpK,KAAK,EAAE,KAAK,GAAG3C,IAAI;aACnB4M,QAAQ,EAAE,KAAK;aACf/E,IAAI,EAAE;eACLzB,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAG,CAAC;eAC/BmD,MAAM,EAAE5D,aAAa,CAAC9F,IAAI,CAAC;eAC3BsM,IAAI;eACJ3L;cACA;aACD4L;;UAED,CAAC;QACF,CAAC;MACF,EAAE,IAAI,CAAC;KACRnG,KAAK,CAACoB,iBAAiB,CAACkD,OAAO,CAAE1K,IAAI,IAAK;OACzCgN,aAAK,CAAC,MAAMC,aAAK,CAAC7G,KAAK,CAACpG,IAAI,CAAC,CAAC,EAAE,CAACiI,QAAQ,EAAED,QAAQ,KAAK;SACvDkB,GAAG,CAACgE,qBAAqB,EAAE;SAC3BhE,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;SACpC,IAAIH,gBAAgB,EAAE;WACrBW,GAAG,CAACuD,gBAAgB,CAAC;aACpBC,OAAO,EAAEjE,kBAAkB;aAC3BX,KAAK,EAAE;eACN6E,IAAI,EAAExD,GAAG,EAAE;eACXxG,KAAK,EAAE,QAAQ;eACfiK,QAAQ,EAAE5M,IAAI;eACd6H,IAAI,EAAE;iBACLI,QAAQ;iBACRD;gBACA;eACDuE,OAAO,EAAEM;;YAEV,CAAC;;QAEH,EAAE;SAAEM,IAAI,EAAE;QAAM,CAAC;MAClB,CAAC;KACF/G,KAAK,CAACgH,UAAU,CAAC,CAAC;OAAExF,MAAM;OAAElI;MAAM,EAAE+E,KAAK,KAAK;OAC7CyE,GAAG,CAACgE,qBAAqB,EAAE;OAC3BhE,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;OACpC,IAAI,CAACH,gBAAgB,EACpB;;OAED,MAAM8E,SAAS,GAAG;SACjBV,IAAI,EAAExD,GAAG,EAAE;SACXxG,KAAK,EAAEwF,kBAAkB,CAACzI,IAAI,CAAC;SAC/BmI,IAAI,EAAEc,QAAQ,CAAC;WAAEvC,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAG;UAAG,EAAEoB,eAAe,CAACC,MAAM,CAAC,CAAC;SAC5E2E,OAAO,EAAEM;QACT;OACD,IAAInN,IAAI,KAAKV,oBAAY,CAACqJ,aAAa,EAAE;SACxCgF,SAAS,CAACT,QAAQ,GAAG,IAAI;QACzB,MACI,IAAIlN,IAAI,KAAKV,oBAAY,CAACsJ,WAAW,EAAE;SAC3C+E,SAAS,CAACT,QAAQ,GAAG,IAAI;QACzB,MACI,IAAIhF,MAAM,IAAI,CAAClL,KAAK,CAACC,OAAO,CAACiL,MAAM,CAAC,EAAE;SAC1CyF,SAAS,CAACT,QAAQ,GAAGhF,MAAM,CAAClI,IAAI;;OAEjC,IAAIkI,MAAM,EAAE;SACXyF,SAAS,CAACxF,IAAI,CAAC,aAAa,CAAC,GAAG;WAC/B7B,OAAO,EAAE;aACRD,OAAO,EAAE,eAAe;aACxBrG,IAAI,EAAE,QAAQ;aACdiK,OAAO,EAAE,qBAAqB;aAC9BlN,KAAK,EAAEmL;;UAER;;OAEFsB,GAAG,CAACuD,gBAAgB,CAAC;SACpBC,OAAO,EAAEjE,kBAAkB;SAC3BX,KAAK,EAAEuF;QACP,CAAC;MACF,EAAE;OAAEC,QAAQ,EAAE,IAAI;OAAEC,KAAK,EAAE;MAAQ,CAAC;KACrC,MAAMC,SAAS,GAAGpH,KAAK,CAACqH,UAAU;KAClCrH,KAAK,CAACqH,UAAU,GAAGC,eAAO,CAAEC,QAAQ,IAAK;OACxCH,SAAS,CAACG,QAAQ,CAAC;OACnBzE,GAAG,CAACuD,gBAAgB,CAAC;SACpBC,OAAO,EAAEjE,kBAAkB;SAC3BX,KAAK,EAAE;WACN6E,IAAI,EAAExD,GAAG,EAAE;WACXxG,KAAK,EAAE,KAAK,GAAGyD,KAAK,CAACG,GAAG;WACxBqG,QAAQ,EAAE,YAAY;WACtB/E,IAAI,EAAE;aACLzB,KAAK,EAAEN,aAAa,CAACM,KAAK,CAACG,GAAG,CAAC;aAC/BqH,IAAI,EAAE9H,aAAa,CAAE,YAAW;;;QAGlC,CAAC;;OAEFoD,GAAG,CAACgE,qBAAqB,EAAE;OAC3BhE,GAAG,CAACU,iBAAiB,CAAClB,YAAY,CAAC;OACnCQ,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;MACpC,CAAC;KACF,MAAM;OAAEmF;MAAU,GAAGzH,KAAK;KAC1BA,KAAK,CAACyH,QAAQ,GAAG,MAAM;OACtBA,QAAQ,EAAE;OACV3E,GAAG,CAACgE,qBAAqB,EAAE;OAC3BhE,GAAG,CAACU,iBAAiB,CAAClB,YAAY,CAAC;OACnCQ,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;OACpCQ,GAAG,CAAC4E,WAAW,EAAE,CAAC/B,eAAe,IACjCtI,YAAY,CAAE,aAAY2C,KAAK,CAACG,GAAI,YAAW,CAAC;MAChD;;KAED2C,GAAG,CAACgE,qBAAqB,EAAE;KAC3BhE,GAAG,CAACU,iBAAiB,CAAClB,YAAY,CAAC;KACnCQ,GAAG,CAACW,kBAAkB,CAACnB,YAAY,CAAC;KACpCQ,GAAG,CAAC4E,WAAW,EAAE,CAAC/B,eAAe,IACjCtI,YAAY,CAAE,IAAG2C,KAAK,CAACG,GAAI,sBAAqB,CAAC;IACjD,CAAC;CACH;CACA,IAAIiG,eAAe,GAAG,CAAC;CACvB,IAAIK,YAAY;CAChB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASkB,sBAAsB,CAAC3H,KAAK,EAAE4H,WAAW,EAAEC,aAAa,EAAE;;GAElE,MAAMxE,OAAO,GAAGuE,WAAW,CAAC3G,MAAM,CAAC,CAAC6G,YAAY,EAAEC,UAAU,KAAK;;KAEhED,YAAY,CAACC,UAAU,CAAC,GAAGtD,aAAK,CAACzE,KAAK,CAAC,CAAC+H,UAAU,CAAC;KACnD,OAAOD,YAAY;IACnB,EAAE,EAAE,CAAC;GACN,KAAK,MAAMC,UAAU,IAAI1E,OAAO,EAAE;KACjCrD,KAAK,CAAC+H,UAAU,CAAC,GAAG,YAAY;;OAE/B,MAAMC,SAAS,GAAG5B,eAAe;OACjC,MAAM6B,YAAY,GAAGJ,aAAa,GAC/B,IAAIK,KAAK,CAAClI,KAAK,EAAE;SAClBe,GAAG,CAAC,GAAGmF,IAAI,EAAE;WACZO,YAAY,GAAGuB,SAAS;WACxB,OAAOG,OAAO,CAACpH,GAAG,CAAC,GAAGmF,IAAI,CAAC;UAC3B;SACDhQ,GAAG,CAAC,GAAGgQ,IAAI,EAAE;WACZO,YAAY,GAAGuB,SAAS;WACxB,OAAOG,OAAO,CAACjS,GAAG,CAAC,GAAGgQ,IAAI,CAAC;;QAE5B,CAAC,GACAlG,KAAK;;OAERyG,YAAY,GAAGuB,SAAS;OACxB,MAAMI,QAAQ,GAAG/E,OAAO,CAAC0E,UAAU,CAAC,CAACM,KAAK,CAACJ,YAAY,EAAEK,SAAS,CAAC;;OAEnE7B,YAAY,GAAGC,SAAS;OACxB,OAAO0B,QAAQ;MACf;;CAEH;CACA;CACA;CACA;CACA,SAASG,cAAc,CAAC;GAAE7F,GAAG;GAAE1C,KAAK;GAAEwI;CAAQ,CAAC,EAAE;;GAEhD,IAAIxI,KAAK,CAACG,GAAG,CAACqF,UAAU,CAAC,QAAQ,CAAC,EAAE;KACnC;;;GAGDxF,KAAK,CAACwE,aAAa,GAAG,CAAC,CAACgE,OAAO,CAACnK,KAAK;;GAErC,IAAI,CAAC2B,KAAK,CAACyI,EAAE,CAACC,QAAQ,EAAE;KACvBf,sBAAsB,CAAC3H,KAAK,EAAEzH,MAAM,CAACiI,IAAI,CAACgI,OAAO,CAACnF,OAAO,CAAC,EAAErD,KAAK,CAACwE,aAAa,CAAC;;KAEhF,MAAMmE,iBAAiB,GAAG3I,KAAK,CAACqH,UAAU;KAC1C5C,aAAK,CAACzE,KAAK,CAAC,CAACqH,UAAU,GAAG,UAAUE,QAAQ,EAAE;OAC7CoB,iBAAiB,CAACN,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;OACxCX,sBAAsB,CAAC3H,KAAK,EAAEzH,MAAM,CAACiI,IAAI,CAAC+G,QAAQ,CAACqB,WAAW,CAACvF,OAAO,CAAC,EAAE,CAAC,CAACrD,KAAK,CAACwE,aAAa,CAAC;MAC/F;;GAEFiB,kBAAkB,CAAC/C,GAAG;;GAErB1C,KAAK,CAAC;CACR;;CAEA;CACA;CACA;CACA,SAAS6I,WAAW,GAAG;GACtB,MAAMC,KAAK,GAAGC,mBAAW,CAAC,IAAI,CAAC;;;GAG/B,MAAM1K,KAAK,GAAGyK,KAAK,CAACE,GAAG,CAAC,MAAMC,WAAG,CAAC,EAAE,CAAC,CAAC;GACtC,IAAIR,EAAE,GAAG,EAAE;;GAEX,IAAIS,aAAa,GAAG,EAAE;GACtB,MAAMnR,KAAK,GAAGuP,eAAO,CAAC;KACrB6B,OAAO,CAACzG,GAAG,EAAE;;;OAGZ5K,cAAc,CAACC,KAAK,CAAC;OACrB,AAAa;SACZA,KAAK,CAACqR,EAAE,GAAG1G,GAAG;SACdA,GAAG,CAAC2G,OAAO,CAAClR,WAAW,EAAEJ,KAAK,CAAC;SAC/B2K,GAAG,CAAC4G,MAAM,CAACC,gBAAgB,CAACxE,MAAM,GAAGhN,KAAK;;SAE1C,IAAIc,SAAS,EAAE;WACd4J,qBAAqB,CAACC,GAAG,EAAE3K,KAAK,CAAC;;SAElCmR,aAAa,CAAC5E,OAAO,CAAEkF,MAAM,IAAKf,EAAE,CAAC7Q,IAAI,CAAC4R,MAAM,CAAC,CAAC;SAClDN,aAAa,GAAG,EAAE;;MAEnB;KACDO,GAAG,CAACD,MAAM,EAAE;OACX,IAAI,CAAC,IAAI,CAACJ,EAAE,IAAI,CAACnT,MAAM,EAAE;SACxBiT,aAAa,CAACtR,IAAI,CAAC4R,MAAM,CAAC;QAC1B,MACI;SACJf,EAAE,CAAC7Q,IAAI,CAAC4R,MAAM,CAAC;;OAEhB,OAAO,IAAI;MACX;KACDf,EAAE;;;KAGFW,EAAE,EAAE,IAAI;KACRM,EAAE,EAAEZ,KAAK;KACTvI,EAAE,EAAE,IAAIoJ,GAAG,EAAE;KACbtL;IACA,CAAC;;;GAGF,IAAI,OAAO6J,KAAK,KAAK,WAAW,EAAE;KACjCnQ,KAAK,CAAC0R,GAAG,CAAClB,cAAc,CAAC;;GAE1B,OAAOxQ,KAAK;CACb;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAAS6R,YAAY,CAAC7R,KAAK,EAAE;GAC5BA,KAAK,CAAC2R,EAAE,CAACG,IAAI,EAAE;GACf9R,KAAK,CAACwI,EAAE,CAACuJ,KAAK,EAAE;GAChB/R,KAAK,CAAC0Q,EAAE,CAAC9R,MAAM,CAAC,CAAC,CAAC;GAClBoB,KAAK,CAACsG,KAAK,CAAChI,KAAK,GAAG,EAAE;;GAEtB0B,KAAK,CAACqR,EAAE,GAAG,IAAI;CAChB;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA,MAAMW,UAAU,GAAIC,EAAE,IAAK;GAC1B,OAAO,OAAOA,EAAE,KAAK,UAAU,IAAI,OAAOA,EAAE,CAAC7J,GAAG,KAAK,QAAQ;CAC9D,CAAC;CACD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAAS+B,WAAW,CAAC+H,QAAQ,EAAEC,QAAQ,EAAE;;GAExC,KAAK,MAAM9T,GAAG,IAAI8T,QAAQ,EAAE;KAC3B,MAAMC,QAAQ,GAAGD,QAAQ,CAAC9T,GAAG,CAAC;;KAE9B,IAAI,EAAEA,GAAG,IAAI6T,QAAQ,CAAC,EAAE;OACvB;;KAED,MAAMG,WAAW,GAAGH,QAAQ,CAAC7T,GAAG,CAAC;KACjC,IAAIiC,aAAa,CAAC+R,WAAW,CAAC,IAC7B/R,aAAa,CAAC8R,QAAQ,CAAC,IACvB,CAACE,aAAK,CAACF,QAAQ,CAAC,IAChB,CAACG,kBAAU,CAACH,QAAQ,CAAC,EAAE;OACvBF,QAAQ,CAAC7T,GAAG,CAAC,GAAG8L,WAAW,CAACkI,WAAW,EAAED,QAAQ,CAAC;MAClD,MACI;;;OAGJ,AAGK;SACJF,QAAQ,CAAC7T,GAAG,CAAC,GAAG+T,QAAQ;;;;GAI3B,OAAOF,QAAQ;CAChB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASM,eAAe,CAACC,eAAe,EAAEC,GAAG,EAAE;GAC9C,OAAQC,SAAS,IAAK;KACrB,MAAM3S,KAAK,GAAG0S,GAAG,CAAChJ,IAAI,CAAC1J,KAAK,IAAIyS,eAAe,CAACG,MAAM;KACtD,IAAI,CAAC5S,KAAK,EAAE;;OAEX;;;KAGD0S,GAAG,CAAChJ,IAAI,CAAC1J,KAAK,GAAGA,KAAK;;KAEtB,KAAK,MAAM6S,UAAU,IAAIF,SAAS,EAAE;OACnC,MAAMG,QAAQ,GAAGH,SAAS,CAACE,UAAU,CAAC;;OAEtC,IAAIb,UAAU,CAACc,QAAQ,CAAC,IAAI9S,KAAK,CAACwI,EAAE,CAAC8E,GAAG,CAACwF,QAAQ,CAAC1K,GAAG,CAAC,EAAE;;SAEvD,MAAMF,EAAE,GAAG4K,QAAQ,CAAC1K,GAAG;SACvB,IAAIF,EAAE,KAAKuK,eAAe,CAACrK,GAAG,EAAE;WAC/B7F,OAAO,CAACmD,IAAI,CAAE,qCAAoC+M,eAAe,CAACrK,GAAI,SAAQF,EAAG,eAAc,CAAC;;WAEhG,OAAOwK,GAAG,CAACK,UAAU,EAAE;;SAExB,MAAMC,aAAa,GAAGhT,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACd,EAAE,CAAC;SACtC,IAAI,CAAC8K,aAAa,EAAE;WACnBzQ,OAAO,CAACoD,GAAG,CAAE,uDAAsD,CAAC;WACpE;;SAEDmN,QAAQ,CAAC9S,KAAK,EAAEgT,aAAa,CAAC;;;IAGhC;CACF;CAEA,MAAMC,IAAI,GAAG,MAAM,EAAG;CACtB,SAASC,eAAe,CAACC,aAAa,EAAEC,QAAQ,EAAEjE,QAAQ,EAAEkE,SAAS,GAAGJ,IAAI,EAAE;GAC7EE,aAAa,CAACtT,IAAI,CAACuT,QAAQ,CAAC;GAC5B,MAAME,kBAAkB,GAAG,MAAM;KAChC,MAAMC,GAAG,GAAGJ,aAAa,CAACK,OAAO,CAACJ,QAAQ,CAAC;KAC3C,IAAIG,GAAG,GAAG,CAAC,CAAC,EAAE;OACbJ,aAAa,CAACvU,MAAM,CAAC2U,GAAG,EAAE,CAAC,CAAC;OAC5BF,SAAS,EAAE;;IAEZ;GACD,IAAI,CAAClE,QAAQ,IAAIsE,uBAAe,EAAE,EAAE;KACnCC,sBAAc,CAACJ,kBAAkB,CAAC;;GAEnC,OAAOA,kBAAkB;CAC1B;CACA,SAASK,oBAAoB,CAACR,aAAa,EAAE,GAAGhF,IAAI,EAAE;GACrDgF,aAAa,CAACS,KAAK,EAAE,CAACrH,OAAO,CAAE6G,QAAQ,IAAK;KAC3CA,QAAQ,CAAC,GAAGjF,IAAI,CAAC;IACjB,CAAC;CACH;CAEA,MAAM0F,sBAAsB,GAAI5B,EAAE,IAAKA,EAAE,EAAE;CAC3C;CACA;CACA;CACA;CACA,MAAM6B,aAAa,GAAGzT,MAAM,EAAE;CAC9B;CACA;CACA;CACA;CACA,MAAM0T,WAAW,GAAG1T,MAAM,EAAE;CAC5B,SAAS2T,oBAAoB,CAACtU,MAAM,EAAEuU,YAAY,EAAE;;GAEnD,IAAIvU,MAAM,YAAYkS,GAAG,IAAIqC,YAAY,YAAYrC,GAAG,EAAE;KACzDqC,YAAY,CAAC1H,OAAO,CAAC,CAACjO,KAAK,EAAED,GAAG,KAAKqB,MAAM,CAACvB,GAAG,CAACE,GAAG,EAAEC,KAAK,CAAC,CAAC;IAC5D,MACI,IAAIoB,MAAM,YAAYwU,GAAG,IAAID,YAAY,YAAYC,GAAG,EAAE;;KAE9DD,YAAY,CAAC1H,OAAO,CAAC7M,MAAM,CAACyU,GAAG,EAAEzU,MAAM,CAAC;;;GAGzC,KAAK,MAAMrB,GAAG,IAAI4V,YAAY,EAAE;KAC/B,IAAI,CAACA,YAAY,CAACG,cAAc,CAAC/V,GAAG,CAAC,EACpC;KACD,MAAM+T,QAAQ,GAAG6B,YAAY,CAAC5V,GAAG,CAAC;KAClC,MAAMgU,WAAW,GAAG3S,MAAM,CAACrB,GAAG,CAAC;KAC/B,IAAIiC,aAAa,CAAC+R,WAAW,CAAC,IAC7B/R,aAAa,CAAC8R,QAAQ,CAAC,IACvB1S,MAAM,CAAC0U,cAAc,CAAC/V,GAAG,CAAC,IAC1B,CAACiU,aAAK,CAACF,QAAQ,CAAC,IAChB,CAACG,kBAAU,CAACH,QAAQ,CAAC,EAAE;;;;OAIvB1S,MAAM,CAACrB,GAAG,CAAC,GAAG2V,oBAAoB,CAAC3B,WAAW,EAAED,QAAQ,CAAC;MACzD,MACI;;OAEJ1S,MAAM,CAACrB,GAAG,CAAC,GAAG+T,QAAQ;;;GAGxB,OAAO1S,MAAM;CACd;CACA,MAAM2U,iBAAiB,GAAGhU,MAAM,CAAC,qBAAqB,CAAC;AAEvD,CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASiU,WAAW,CAACC,GAAG,EAAE;GACzB,OAAOrW,AAGJsC,MAAM,CAACgU,cAAc,CAACD,GAAG,EAAEF,iBAAiB,EAAE,EAAE,CAAC;CACrD;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASI,aAAa,CAACF,GAAG,EAAE;GAC3B,OAAOrW,AAEJ,CAACoC,aAAa,CAACiU,GAAG,CAAC,IAAI,CAACA,GAAG,CAACH,cAAc,CAACC,iBAAiB,CAAC;CACjE;CACA,MAAM;GAAEjP;CAAO,CAAC,GAAG5E,MAAM;CACzB,SAASkU,UAAU,CAACnU,CAAC,EAAE;GACtB,OAAO,CAAC,EAAE+R,aAAK,CAAC/R,CAAC,CAAC,IAAIA,CAAC,CAACoU,MAAM,CAAC;CAChC;CACA,SAASC,kBAAkB,CAAC1M,EAAE,EAAEuI,OAAO,EAAEzQ,KAAK,EAAE0S,GAAG,EAAE;GACpD,MAAM;KAAEpM,KAAK;KAAEgF,OAAO;KAAExC;IAAS,GAAG2H,OAAO;GAC3C,MAAMoE,YAAY,GAAG7U,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC4J,EAAE,CAAC;GAC1C,IAAID,KAAK;GACT,SAAS6M,KAAK,GAAG;KAChB,IAAI,CAACD,YAAY,IAAK,CAACnC,GAAI,EAAE;;OAE5B,AAGK;SACJ1S,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC4J,EAAE,CAAC,GAAG5B,KAAK,GAAGA,KAAK,EAAE,GAAG,EAAE;;;;KAI9C,MAAMyO,UAAU,GAAGrC,GAAG;;KAErBsC,cAAM,CAAC9D,WAAG,CAAC5K,KAAK,GAAGA,KAAK,EAAE,GAAG,EAAE,CAAC,CAAChI,KAAK,CAAC,GACrC0W,cAAM,CAAChV,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC4J,EAAE,CAAC,CAAC;KAChC,OAAO9C,MAAM,CAAC2P,UAAU,EAAEzJ,OAAO,EAAE9K,MAAM,CAACiI,IAAI,CAACK,OAAO,IAAI,EAAE,CAAC,CAACI,MAAM,CAAC,CAAC+L,eAAe,EAAEpT,IAAI,KAAK;OAC/F,IAAIA,IAAI,IAAIkT,UAAU,EAAE;SACvBxS,OAAO,CAACmD,IAAI,CAAE,uGAAsG7D,IAAK,eAAcqG,EAAG,IAAG,CAAC;;OAE/I+M,eAAe,CAACpT,IAAI,CAAC,GAAG0N,eAAO,CAAC2F,gBAAQ,CAAC,MAAM;SAC9CnV,cAAc,CAACC,KAAK,CAAC;;SAErB,MAAMiI,KAAK,GAAGjI,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACd,EAAE,CAAC;;;;SAQ9B,OAAOY,OAAO,CAACjH,IAAI,CAAC,CAAClB,IAAI,CAACsH,KAAK,EAAEA,KAAK,CAAC;QACvC,CAAC,CAAC;OACH,OAAOgN,eAAe;MACtB,EAAE,EAAE,CAAC,CAAC;;GAERhN,KAAK,GAAGkN,gBAAgB,CAACjN,EAAE,EAAE4M,KAAK,EAAErE,OAAO,EAAEzQ,KAAK,EAAE0S,GAAG,EAAE,IAAI,CAAC;GAC9D,OAAOzK,KAAK;CACb;CACA,SAASkN,gBAAgB,CAAC/M,GAAG,EAAE0M,KAAK,EAAErE,OAAO,GAAG,EAAE,EAAEzQ,KAAK,EAAE0S,GAAG,EAAE0C,cAAc,EAAE;GAC/E,IAAIrE,KAAK;GACT,MAAMsE,gBAAgB,GAAGjQ,MAAM,CAAC;KAAEkG,OAAO,EAAE;IAAI,EAAEmF,OAAO,CAAC;;GAEzD,IAAI,CAACzQ,KAAK,CAAC2R,EAAE,CAAC2D,MAAM,EAAE;KACrB,MAAM,IAAIpQ,KAAK,CAAC,iBAAiB,CAAC;;;GAGnC,MAAMqQ,iBAAiB,GAAG;KAAEvG,IAAI,EAAE;IAAM;;GAExC,AAAa;KACZuG,iBAAiB,CAACC,SAAS,GAAI7L,KAAK,IAAK;;OAExC,IAAI8L,WAAW,EAAE;SAChBC,cAAc,GAAG/L,KAAK;;QAEtB,MACI,IAAI8L,WAAW,IAAI,KAAK,IAAI,CAACxN,KAAK,CAAC0N,YAAY,EAAE;;;SAGrD,IAAIpX,KAAK,CAACC,OAAO,CAACkX,cAAc,CAAC,EAAE;WAClCA,cAAc,CAAC7V,IAAI,CAAC8J,KAAK,CAAC;UAC1B,MACI;WACJpH,OAAO,CAACC,KAAK,CAAC,kFAAkF,CAAC;;;MAGnG;;;GAGF,IAAIiT,WAAW,CAAC;GAChB,IAAIG,eAAe,CAAC;GACpB,IAAIzC,aAAa,GAAG,EAAE;GACtB,IAAI0C,mBAAmB,GAAG,EAAE;GAC5B,IAAIH,cAAc;GAClB,MAAMb,YAAY,GAAG7U,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC;;;GAG3C,IAAI,CAACgN,cAAc,IAAI,CAACP,YAAY,IAAK,CAACnC,GAAI,EAAE;;KAE/C,AAGK;OACJ1S,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,GAAG,EAAE;;;GAG7B,MAAM0N,QAAQ,GAAG5E,WAAG,CAAC,EAAE,CAAC;;;GAGxB,IAAI6E,cAAc;GAClB,SAASC,MAAM,CAACC,qBAAqB,EAAE;KACtC,IAAIC,oBAAoB;KACxBT,WAAW,GAAGG,eAAe,GAAG,KAAK;;;KAGrC;OACCF,cAAc,GAAG,EAAE;;KAEpB,IAAI,OAAOO,qBAAqB,KAAK,UAAU,EAAE;OAChDA,qBAAqB,CAACjW,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,CAAC;OAC7C8N,oBAAoB,GAAG;SACtB3U,IAAI,EAAEV,oBAAY,CAACqJ,aAAa;SAChCtB,OAAO,EAAER,GAAG;SACZqB,MAAM,EAAEiM;QACR;MACD,MACI;OACJ1B,oBAAoB,CAAChU,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,EAAE6N,qBAAqB,CAAC;OACnEC,oBAAoB,GAAG;SACtB3U,IAAI,EAAEV,oBAAY,CAACsJ,WAAW;SAC9B6B,OAAO,EAAEiK,qBAAqB;SAC9BrN,OAAO,EAAER,GAAG;SACZqB,MAAM,EAAEiM;QACR;;KAEF,MAAMS,YAAY,GAAIJ,cAAc,GAAG1V,MAAM,EAAG;KAChD+V,gBAAQ,EAAE,CAACC,IAAI,CAAC,MAAM;OACrB,IAAIN,cAAc,KAAKI,YAAY,EAAE;SACpCV,WAAW,GAAG,IAAI;;MAEnB,CAAC;KACFG,eAAe,GAAG,IAAI;;KAEtBjC,oBAAoB,CAACR,aAAa,EAAE+C,oBAAoB,EAAElW,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,CAAC;;GAElF,MAAMyD,MAAM,GAAGuJ,cAAc,GAC1B,SAASvJ,MAAM,GAAG;KACnB,MAAM;OAAEvF;MAAO,GAAGmK,OAAO;KACzB,MAAMyB,QAAQ,GAAG5L,KAAK,GAAGA,KAAK,EAAE,GAAG,EAAE;;KAErC,IAAI,CAAC0P,MAAM,CAAE7M,MAAM,IAAK;;OAEvB/D,MAAM,CAAC+D,MAAM,EAAE+I,QAAQ,CAAC;MACxB,CAAC;IACF;GAED,MAAM;KACL,MAAM,IAAIhN,KAAK,CAAE,cAAakD,GAAI,oEAAmE,CAAC;IACtG;GAEF,SAASsH,QAAQ,GAAG;KACnBqB,KAAK,CAACe,IAAI,EAAE;KACZqB,aAAa,GAAG,EAAE;KAClB0C,mBAAmB,GAAG,EAAE;KACxB7V,KAAK,CAACwI,EAAE,CAAC8N,MAAM,CAAClO,GAAG,CAAC;;;CAGtB;CACA;CACA;CACA;GACC,MAAMmD,MAAM,GAAG,CAAC0G,EAAE,EAAEpQ,IAAI,GAAG,EAAE,KAAK;KACjC,IAAIiS,aAAa,IAAI7B,EAAE,EAAE;OACxBA,EAAE,CAAC8B,WAAW,CAAC,GAAGlS,IAAI;OACtB,OAAOoQ,EAAE;;KAEV,MAAMsE,aAAa,GAAG,YAAY;OACjCxW,cAAc,CAACC,KAAK,CAAC;OACrB,MAAMmO,IAAI,GAAG5P,KAAK,CAACgK,IAAI,CAACgI,SAAS,CAAC;OAClC,MAAMiG,iBAAiB,GAAG,EAAE;OAC5B,MAAMC,mBAAmB,GAAG,EAAE;OAC9B,SAASxI,KAAK,CAACmF,QAAQ,EAAE;SACxBoD,iBAAiB,CAAC3W,IAAI,CAACuT,QAAQ,CAAC;;OAEjC,SAASlF,OAAO,CAACkF,QAAQ,EAAE;SAC1BqD,mBAAmB,CAAC5W,IAAI,CAACuT,QAAQ,CAAC;;;OAGnCO,oBAAoB,CAACkC,mBAAmB,EAAE;SACzC1H,IAAI;SACJtM,IAAI,EAAE0U,aAAa,CAACxC,WAAW,CAAC;SAChC9L,KAAK;SACLgG,KAAK;SACLC;QACA,CAAC;OACF,IAAIwI,GAAG;OACP,IAAI;SACHA,GAAG,GAAGzE,EAAE,CAAC3B,KAAK,CAAC,IAAI,IAAI,IAAI,CAAClI,GAAG,KAAKA,GAAG,GAAG,IAAI,GAAGH,KAAK,EAAEkG,IAAI,CAAC;;QAE7D,CACD,OAAO3L,KAAK,EAAE;SACbmR,oBAAoB,CAAC8C,mBAAmB,EAAEjU,KAAK,CAAC;SAChD,MAAMA,KAAK;;OAEZ,IAAIkU,GAAG,YAAY1P,OAAO,EAAE;SAC3B,OAAO0P,GAAG,CACRL,IAAI,CAAE/X,KAAK,IAAK;WAChBqV,oBAAoB,CAAC6C,iBAAiB,EAAElY,KAAK,CAAC;WAC9C,OAAOA,KAAK;UACZ,CAAC,CACDqY,KAAK,CAAEnU,KAAK,IAAK;WACjBmR,oBAAoB,CAAC8C,mBAAmB,EAAEjU,KAAK,CAAC;WAChD,OAAOwE,OAAO,CAACE,MAAM,CAAC1E,KAAK,CAAC;UAC5B,CAAC;;;OAGJmR,oBAAoB,CAAC6C,iBAAiB,EAAEE,GAAG,CAAC;OAC5C,OAAOA,GAAG;MACV;KACDH,aAAa,CAACzC,aAAa,CAAC,GAAG,IAAI;KACnCyC,aAAa,CAACxC,WAAW,CAAC,GAAGlS,IAAI,CAAC;;;KAGlC,OAAO0U,aAAa;IACpB;GACD,MAAM1F,WAAW,gBAAiBtB,eAAO,CAAC;KACzCjE,OAAO,EAAE,EAAE;KACXxC,OAAO,EAAE,EAAE;KACXxC,KAAK,EAAE,EAAE;KACTwP;IACA,CAAC;GACF,MAAMc,YAAY,GAAG;KACpBlG,EAAE,EAAE1Q,KAAK;;KAEToI,GAAG;KACH4F,SAAS,EAAEkF,eAAe,CAACpF,IAAI,CAAC,IAAI,EAAE+H,mBAAmB,CAAC;KAC1DG,MAAM;KACNnK,MAAM;KACNoD,UAAU,CAACmE,QAAQ,EAAE3C,OAAO,GAAG,EAAE,EAAE;OAClC,MAAM6C,kBAAkB,GAAGJ,eAAe,CAACC,aAAa,EAAEC,QAAQ,EAAE3C,OAAO,CAACtB,QAAQ,EAAE,MAAM0H,WAAW,EAAE,CAAC;OAC1G,MAAMA,WAAW,GAAG9F,KAAK,CAACE,GAAG,CAAC,MAAMpC,aAAK,CAAC,MAAM7O,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,EAAG9B,KAAK,IAAK;SAClF,IAAImK,OAAO,CAACrB,KAAK,KAAK,MAAM,GAAGwG,eAAe,GAAGH,WAAW,EAAE;WAC7DrC,QAAQ,CAAC;aACRxK,OAAO,EAAER,GAAG;aACZ7G,IAAI,EAAEV,oBAAY,CAACoJ,MAAM;aACzBR,MAAM,EAAEiM;YACR,EAAEpP,KAAK,CAAC;;QAEV,EAAElB,MAAM,CAAC,EAAE,EAAEmQ,iBAAiB,EAAE9E,OAAO,CAAC,CAAC,CAAC;OAC3C,OAAO6C,kBAAkB;MACzB;KACD5D;IACA;GAMD,MAAMzH,KAAK,GAAG6O,gBAAQ,CAAC1R,MAAM,CAAC;KAC3ByL,WAAW;KACXxH,iBAAiB,EAAEkG,eAAO,CAAC,IAAI2E,GAAG,EAAE,CAAC;IACrC,EAAE0C;;;IAGH,CACD;;;GAGD5W,KAAK,CAACwI,EAAE,CAACrK,GAAG,CAACiK,GAAG,EAAEH,KAAK,CAAC;GACxB,MAAM8O,cAAc,GAAI/W,KAAK,CAACqR,EAAE,IAAIrR,KAAK,CAACqR,EAAE,CAAC0F,cAAc,IAAKlD,sBAAsB;;GAEtF,MAAMmD,UAAU,GAAGD,cAAc,CAAC,MAAM/W,KAAK,CAAC2R,EAAE,CAACV,GAAG,CAAC,MAAM,CAACF,KAAK,GAAGC,mBAAW,EAAE,EAAEC,GAAG,CAAC,MAAM6D,KAAK,CAAC;KAAEvJ;IAAQ,CAAC,CAAC,CAAC,CAAC;;GAEjH,KAAK,MAAMlN,GAAG,IAAI2Y,UAAU,EAAE;KAC7B,MAAMC,IAAI,GAAGD,UAAU,CAAC3Y,GAAG,CAAC;KAC5B,IAAKiU,aAAK,CAAC2E,IAAI,CAAC,IAAI,CAACvC,UAAU,CAACuC,IAAI,CAAC,IAAK1E,kBAAU,CAAC0E,IAAI,CAAC,EAAE;;OAE3D,IAAIvE,GAAG,EAAE;SACRvU,GAAG,CAAC2X,QAAQ,CAACxX,KAAK,EAAED,GAAG,EAAE6Y,aAAK,CAACF,UAAU,EAAE3Y,GAAG,CAAC,CAAC;;;QAGhD,MACI,IAAI,CAAC+W,cAAc,EAAE;;SAEzB,IAAIP,YAAY,IAAIJ,aAAa,CAACwC,IAAI,CAAC,EAAE;WACxC,IAAI3E,aAAK,CAAC2E,IAAI,CAAC,EAAE;aAChBA,IAAI,CAAC3Y,KAAK,GAAGuW,YAAY,CAACxW,GAAG,CAAC;YAC9B,MACI;;;aAGJ2V,oBAAoB,CAACiD,IAAI,EAAEpC,YAAY,CAACxW,GAAG,CAAC,CAAC;;;;;SAK/C,AAGK;WACJ2B,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,CAAC/J,GAAG,CAAC,GAAG4Y,IAAI;;;;OAIpC;SACCpG,WAAW,CAACvK,KAAK,CAACzG,IAAI,CAACxB,GAAG,CAAC;;;MAG5B,MACI,IAAI,OAAO4Y,IAAI,KAAK,UAAU,EAAE;OACpC,MAAME,WAAW,GAAGzE,GAAG,GAAGuE,IAAI,GAAG1L,MAAM,CAAC0L,IAAI,EAAE5Y,GAAG,CAAC;;;;OAIlD,AAGK;;SAEJ2Y,UAAU,CAAC3Y,GAAG,CAAC,GAAG8Y,WAAW;;;OAG9B;SACCtG,WAAW,CAACvF,OAAO,CAACjN,GAAG,CAAC,GAAG4Y,IAAI;;;;OAIhC5B,gBAAgB,CAAC/J,OAAO,CAACjN,GAAG,CAAC,GAAG4Y,IAAI;MACpC,MACI;;OAEJ,IAAIvC,UAAU,CAACuC,IAAI,CAAC,EAAE;SACrBpG,WAAW,CAAC/H,OAAO,CAACzK,GAAG,CAAC,GAAG+W,cAAc;;SAExC3E,OAAO,CAAC3H,OAAO,CAACzK,GAAG,CAAC,GAClB4Y,IAAI;SACP,IAAInW,SAAS,EAAE;WACd,MAAMgI,OAAO,GAAGkO,UAAU,CAAC/N,QAAQ;;WAEjC+N,UAAU,CAAC/N,QAAQ,GAAGsG,eAAO,CAAC,EAAE,CAAC,CAAC;WACpCzG,OAAO,CAACjJ,IAAI,CAACxB,GAAG,CAAC;;;;;;;GAOrB,AAKK;KACJ+G,MAAM,CAAC6C,KAAK,EAAE+O,UAAU,CAAC;;;KAGzB5R,MAAM,CAACsH,aAAK,CAACzE,KAAK,CAAC,EAAE+O,UAAU,CAAC;;;;;GAKjCxW,MAAM,CAACgU,cAAc,CAACvM,KAAK,EAAE,QAAQ,EAAE;KACtCe,GAAG,EAAE,MAAO0J,GAAG,GAAGoD,QAAQ,CAACxX,KAAK,GAAG0B,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAE;KAC1DjK,GAAG,EAAGmI,KAAK,IAAK;;OAEf,IAAIoM,GAAG,EAAE;SACR,MAAM,IAAIxN,KAAK,CAAC,qBAAqB,CAAC;;OAEvC8Q,MAAM,CAAE7M,MAAM,IAAK;;SAElB/D,MAAM,CAAC+D,MAAM,EAAE7C,KAAK,CAAC;QACrB,CAAC;;IAEH,CAAC;;;GAGF;KACC2B,KAAK,CAACqH,UAAU,GAAGC,eAAO,CAAEC,QAAQ,IAAK;OACxCvH,KAAK,CAAC0N,YAAY,GAAG,IAAI;OACzBnG,QAAQ,CAACqB,WAAW,CAACvK,KAAK,CAACiG,OAAO,CAAE6K,QAAQ,IAAK;SAChD,IAAIA,QAAQ,IAAInP,KAAK,CAACkB,MAAM,EAAE;WAC7B,MAAMkO,cAAc,GAAG7H,QAAQ,CAACrG,MAAM,CAACiO,QAAQ,CAAC;WAChD,MAAME,cAAc,GAAGrP,KAAK,CAACkB,MAAM,CAACiO,QAAQ,CAAC;WAC7C,IAAI,OAAOC,cAAc,KAAK,QAAQ,IACrC/W,aAAa,CAAC+W,cAAc,CAAC,IAC7B/W,aAAa,CAACgX,cAAc,CAAC,EAAE;aAC/BnN,WAAW,CAACkN,cAAc,EAAEC,cAAc,CAAC;YAC3C,MACI;;aAEJ9H,QAAQ,CAACrG,MAAM,CAACiO,QAAQ,CAAC,GAAGE,cAAc;;;;;SAK5CnZ,GAAG,CAAC8J,KAAK,EAAEmP,QAAQ,EAAEF,aAAK,CAAC1H,QAAQ,CAACrG,MAAM,EAAEiO,QAAQ,CAAC,CAAC;QACtD,CAAC;;OAEF5W,MAAM,CAACiI,IAAI,CAACR,KAAK,CAACkB,MAAM,CAAC,CAACoD,OAAO,CAAE6K,QAAQ,IAAK;SAC/C,IAAI,EAAEA,QAAQ,IAAI5H,QAAQ,CAACrG,MAAM,CAAC,EAAE;WACnCtK,GAAG,CAACoJ,KAAK,EAAEmP,QAAQ,CAAC;;QAErB,CAAC;;OAEF3B,WAAW,GAAG,KAAK;OACnBG,eAAe,GAAG,KAAK;OACvB5V,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAAC8J,GAAG,CAAC,GAAG8O,aAAK,CAAC1H,QAAQ,CAACqB,WAAW,EAAE,UAAU,CAAC;OAChE+E,eAAe,GAAG,IAAI;OACtBQ,gBAAQ,EAAE,CAACC,IAAI,CAAC,MAAM;SACrBZ,WAAW,GAAG,IAAI;QAClB,CAAC;OACF,KAAK,MAAMzF,UAAU,IAAIR,QAAQ,CAACqB,WAAW,CAACvF,OAAO,EAAE;SACtD,MAAMiM,QAAQ,GAAG/H,QAAQ,CAACQ,UAAU,CAAC;SACrC7R,GAAG,CAAC8J,KAAK,EAAE+H,UAAU,EAAEzE,MAAM,CAACgM,QAAQ,EAAEvH,UAAU,CAAC,CAAC;;;OAGrD,KAAK,MAAM5G,UAAU,IAAIoG,QAAQ,CAACqB,WAAW,CAAC/H,OAAO,EAAE;SACtD,MAAM0O,MAAM,GAAGhI,QAAQ,CAACqB,WAAW,CAAC/H,OAAO,CAACM,UAAU,CAAC;SACvD,MAAMqO,WAAW,GAAGrC,cAAc;;SAEjCF,gBAAQ,CAAC,MAAM;WACdnV,cAAc,CAACC,KAAK,CAAC;WACrB,OAAOwX,MAAM,CAAC7W,IAAI,CAACsH,KAAK,EAAEA,KAAK,CAAC;UAChC,CAAC,GACAuP,MAAM;SACTrZ,GAAG,CAAC8J,KAAK,EAAEmB,UAAU,EAAEqO,WAAW,CAAC;;;OAGpCjX,MAAM,CAACiI,IAAI,CAACR,KAAK,CAAC4I,WAAW,CAAC/H,OAAO,CAAC,CAACyD,OAAO,CAAElO,GAAG,IAAK;SACvD,IAAI,EAAEA,GAAG,IAAImR,QAAQ,CAACqB,WAAW,CAAC/H,OAAO,CAAC,EAAE;WAC3CjK,GAAG,CAACoJ,KAAK,EAAE5J,GAAG,CAAC;;QAEhB,CAAC;;OAEFmC,MAAM,CAACiI,IAAI,CAACR,KAAK,CAAC4I,WAAW,CAACvF,OAAO,CAAC,CAACiB,OAAO,CAAElO,GAAG,IAAK;SACvD,IAAI,EAAEA,GAAG,IAAImR,QAAQ,CAACqB,WAAW,CAACvF,OAAO,CAAC,EAAE;WAC3CzM,GAAG,CAACoJ,KAAK,EAAE5J,GAAG,CAAC;;QAEhB,CAAC;;OAEF4J,KAAK,CAAC4I,WAAW,GAAGrB,QAAQ,CAACqB,WAAW;OACxC5I,KAAK,CAACgB,QAAQ,GAAGuG,QAAQ,CAACvG,QAAQ;OAClChB,KAAK,CAAC0N,YAAY,GAAG,KAAK;MAC1B,CAAC;;GAEH,IAAI7U,SAAS,EAAE;KACd,MAAM4W,aAAa,GAAG;OACrBC,QAAQ,EAAE,IAAI;OACdC,YAAY,EAAE,IAAI;;OAElBC,UAAU,EAAE;MACZ;KACD,CAAC,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,mBAAmB,CAAC,CAACtL,OAAO,CAAEuL,CAAC,IAAK;OACrEtX,MAAM,CAACgU,cAAc,CAACvM,KAAK,EAAE6P,CAAC,EAAE1S,MAAM,CAAC;SAAE9G,KAAK,EAAE2J,KAAK,CAAC6P,CAAC;QAAG,EAAEJ,aAAa,CAAC,CAAC;MAC3E,CAAC;;;GAQH1X,KAAK,CAAC0Q,EAAE,CAACnE,OAAO,CAAEwL,QAAQ,IAAK;;KAE9B,IAAIjX,SAAS,EAAE;OACd,MAAMkX,UAAU,GAAGjH,KAAK,CAACE,GAAG,CAAC,MAAM8G,QAAQ,CAAC;SAC3C9P,KAAK,EAAEA,KAAK;SACZ0C,GAAG,EAAE3K,KAAK,CAACqR,EAAE;SACbrR,KAAK;SACLyQ,OAAO,EAAE4E;QACT,CAAC,CAAC;OACH7U,MAAM,CAACiI,IAAI,CAACuP,UAAU,IAAI,EAAE,CAAC,CAACzL,OAAO,CAAElO,GAAG,IAAK4J,KAAK,CAACoB,iBAAiB,CAAC8K,GAAG,CAAC9V,GAAG,CAAC,CAAC;OAChF+G,MAAM,CAAC6C,KAAK,EAAE+P,UAAU,CAAC;MACzB,MACI;OACJ5S,MAAM,CAAC6C,KAAK,EAAE8I,KAAK,CAACE,GAAG,CAAC,MAAM8G,QAAQ,CAAC;SACtC9P,KAAK,EAAEA,KAAK;SACZ0C,GAAG,EAAE3K,KAAK,CAACqR,EAAE;SACbrR,KAAK;SACLyQ,OAAO,EAAE4E;QACT,CAAC,CAAC,CAAC;;IAEL,CAAC;GACF,IAAIpN,KAAK,CAACkB,MAAM,IACf,OAAOlB,KAAK,CAACkB,MAAM,KAAK,QAAQ,IAChC,OAAOlB,KAAK,CAACkB,MAAM,CAAC8O,WAAW,KAAK,UAAU,IAC9C,CAAChQ,KAAK,CAACkB,MAAM,CAAC8O,WAAW,CAACvX,QAAQ,EAAE,CAACsF,QAAQ,CAAC,eAAe,CAAC,EAAE;KAChEzD,OAAO,CAACmD,IAAI,CAAE,0DAAyD,GACrE,gCAA+B,GAC/B,mBAAkBuC,KAAK,CAACG,GAAI,IAAG,CAAC;;;GAGnC,IAAIyM,YAAY,IACfO,cAAc,IACd3E,OAAO,CAACyH,OAAO,EAAE;KACjBzH,OAAO,CAACyH,OAAO,CAACjQ,KAAK,CAACkB,MAAM,EAAE0L,YAAY,CAAC;;GAE5CY,WAAW,GAAG,IAAI;GAClBG,eAAe,GAAG,IAAI;GACtB,OAAO3N,KAAK;CACb;CACA;CACA;CACA,SAASkQ,WAAW;CACnB;CACAC,WAAW,EAAEtD,KAAK,EAAEuD,YAAY,EAAE;GAClC,IAAInQ,EAAE;GACN,IAAIuI,OAAO;GACX,MAAM6H,YAAY,GAAG,OAAOxD,KAAK,KAAK,UAAU;GAChD,IAAI,OAAOsD,WAAW,KAAK,QAAQ,EAAE;KACpClQ,EAAE,GAAGkQ,WAAW;;KAEhB3H,OAAO,GAAG6H,YAAY,GAAGD,YAAY,GAAGvD,KAAK;IAC7C,MACI;KACJrE,OAAO,GAAG2H,WAAW;KACrBlQ,EAAE,GAAGkQ,WAAW,CAAClQ,EAAE;KACnB,IAAI,OAAOA,EAAE,KAAK,QAAQ,EAAE;OAC3B,MAAM,IAAIhD,KAAK,CAAE,wEAAuE,CAAC;;;GAG3F,SAAS4N,QAAQ,CAAC9S,KAAK,EAAE0S,GAAG,EAAE;KAC7B,MAAM6F,UAAU,GAAGrY,2BAAmB,EAAE;KACxCF,KAAK;;;KAGHA,KAAK,KACLuY,UAAU,GAAGpY,cAAM,CAACC,WAAW,EAAE,IAAI,CAAC,GAAG,IAAI,CAAC;KAChD,IAAIJ,KAAK,EACRD,cAAc,CAACC,KAAK,CAAC;KACtB,IAAI,CAACF,WAAW,EAAE;OACjB,MAAM,IAAIoF,KAAK,CAAE,qIAAoI,GACnJ,oFAAmF,GACnF,+BAA8B,CAAC;;KAElClF,KAAK,GAAGF,WAAW;KACnB,IAAI,CAACE,KAAK,CAACwI,EAAE,CAAC8E,GAAG,CAACpF,EAAE,CAAC,EAAE;;OAEtB,IAAIoQ,YAAY,EAAE;SACjBnD,gBAAgB,CAACjN,EAAE,EAAE4M,KAAK,EAAErE,OAAO,EAAEzQ,KAAK,CAAC;QAC3C,MACI;SACJ4U,kBAAkB,CAAC1M,EAAE,EAAEuI,OAAO,EAAEzQ,KAAK,CAAC;;;OAGvC;;SAEC8S,QAAQ,CAACF,MAAM,GAAG5S,KAAK;;;KAGzB,MAAMiI,KAAK,GAAGjI,KAAK,CAACwI,EAAE,CAACQ,GAAG,CAACd,EAAE,CAAC;KAC9B,IAAIwK,GAAG,EAAE;OACR,MAAM8F,KAAK,GAAG,QAAQ,GAAGtQ,EAAE;OAC3B,MAAMsH,QAAQ,GAAG8I,YAAY,GAC1BnD,gBAAgB,CAACqD,KAAK,EAAE1D,KAAK,EAAErE,OAAO,EAAEzQ,KAAK,EAAE,IAAI,CAAC,GACpD4U,kBAAkB,CAAC4D,KAAK,EAAEpT,MAAM,CAAC,EAAE,EAAEqL,OAAO,CAAC,EAAEzQ,KAAK,EAAE,IAAI,CAAC;OAC9D0S,GAAG,CAACpD,UAAU,CAACE,QAAQ,CAAC;;OAExB,OAAOxP,KAAK,CAACsG,KAAK,CAAChI,KAAK,CAACka,KAAK,CAAC;OAC/BxY,KAAK,CAACwI,EAAE,CAAC8N,MAAM,CAACkC,KAAK,CAAC;;KAEvB,IAAI1X,SAAS,EAAE;OACd,MAAM2X,eAAe,GAAGC,0BAAkB,EAAE;;OAE5C,IAAID,eAAe,IAClBA,eAAe,CAACvM,KAAK;;OAErB,CAACwG,GAAG,EAAE;SACN,MAAMiG,EAAE,GAAGF,eAAe,CAACvM,KAAK;SAChC,MAAM0M,KAAK,GAAG,UAAU,IAAID,EAAE,GAAGA,EAAE,CAACvM,QAAQ,GAAIuM,EAAE,CAACvM,QAAQ,GAAG,EAAG;SACjEwM,KAAK,CAAC1Q,EAAE,CAAC,GAAGD,KAAK;;;;KAInB,OAAOA,KAAK;;GAEb6K,QAAQ,CAAC1K,GAAG,GAAGF,EAAE;GACjB,OAAO4K,QAAQ;CAChB;CAEA,IAAI+F,cAAc,GAAG,OAAO;CAC5B;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASC,iBAAiB,CAACC,MAAM;CAAC,EAChC;GACDF,cAAc,GAAGE,MAAM;CACxB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASC,SAAS,CAAC,GAAGnM,MAAM,EAAE;GAC7B,IAAItO,KAAK,CAACC,OAAO,CAACqO,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;KAC7BtK,OAAO,CAACmD,IAAI,CAAE,qFAAoF,GAChG,WAAU,GACV,6CAA4C,GAC5C,QAAO,GACP,2CAA0C,GAC1C,4CAA2C,CAAC;KAC9CmH,MAAM,GAAGA,MAAM,CAAC,CAAC,CAAC;;GAEnB,OAAOA,MAAM,CAAC3D,MAAM,CAAC,CAAC+P,OAAO,EAAEnG,QAAQ,KAAK;;KAE3CmG,OAAO,CAACnG,QAAQ,CAAC1K,GAAG,GAAGyQ,cAAc,CAAC,GAAG,YAAY;OACpD,OAAO/F,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC;MAC5B;KACD,OAAOiM,OAAO;IACd,EAAE,EAAE,CAAC;CACP;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASC,QAAQ,CAACpG,QAAQ,EAAEqG,YAAY,EAAE;GACzC,OAAO5a,KAAK,CAACC,OAAO,CAAC2a,YAAY,CAAC,GAC/BA,YAAY,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;KACvC4a,OAAO,CAAC5a,GAAG,CAAC,GAAG,YAAY;OAC1B,OAAOyU,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAAC3O,GAAG,CAAC;MACjC;KACD,OAAO4a,OAAO;IACd,EAAE,EAAE,CAAC,GACJzY,MAAM,CAACiI,IAAI,CAAC0Q,YAAY,CAAC,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;;KAEpD4a,OAAO,CAAC5a,GAAG,CAAC,GAAG,YAAY;OAC1B,MAAM4J,KAAK,GAAG6K,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC;OACnC,MAAMoM,QAAQ,GAAGD,YAAY,CAAC9a,GAAG,CAAC;;;OAGlC,OAAO,OAAO+a,QAAQ,KAAK,UAAU,GAClCA,QAAQ,CAACzY,IAAI,CAAC,IAAI,EAAEsH,KAAK,CAAC,GAC1BA,KAAK,CAACmR,QAAQ,CAAC;MAClB;KACD,OAAOH,OAAO;IACd,EAAE,EAAE,CAAC;CACR;CACA;CACA;CACA;CACA;AACA,OAAMI,UAAU,GAAGH,QAAQ;CAC3B;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASI,UAAU,CAACxG,QAAQ,EAAEqG,YAAY,EAAE;GAC3C,OAAO5a,KAAK,CAACC,OAAO,CAAC2a,YAAY,CAAC,GAC/BA,YAAY,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;;KAEvC4a,OAAO,CAAC5a,GAAG,CAAC,GAAG,UAAU,GAAG8P,IAAI,EAAE;;OAEjC,OAAO2E,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAAC3O,GAAG,CAAC,CAAC,GAAG8P,IAAI,CAAC;MAC1C;KACD,OAAO8K,OAAO;IACd,EAAE,EAAE,CAAC,GACJzY,MAAM,CAACiI,IAAI,CAAC0Q,YAAY,CAAC,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;;KAEpD4a,OAAO,CAAC5a,GAAG,CAAC,GAAG,UAAU,GAAG8P,IAAI,EAAE;;OAEjC,OAAO2E,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAACmM,YAAY,CAAC9a,GAAG,CAAC,CAAC,CAAC,GAAG8P,IAAI,CAAC;MACxD;KACD,OAAO8K,OAAO;IACd,EAAE,EAAE,CAAC;CACR;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASM,gBAAgB,CAACzG,QAAQ,EAAEqG,YAAY,EAAE;GACjD,OAAO5a,KAAK,CAACC,OAAO,CAAC2a,YAAY,CAAC,GAC/BA,YAAY,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;;KAEvC4a,OAAO,CAAC5a,GAAG,CAAC,GAAG;OACd2K,GAAG,GAAG;;SAEL,OAAO8J,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAAC3O,GAAG,CAAC;QACjC;OACDF,GAAG,CAACG,KAAK,EAAE;;SAEV,OAAQwU,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAAC3O,GAAG,CAAC,GAAGC,KAAK;;MAE3C;KACD,OAAO2a,OAAO;IACd,EAAE,EAAE,CAAC,GACJzY,MAAM,CAACiI,IAAI,CAAC0Q,YAAY,CAAC,CAACjQ,MAAM,CAAC,CAAC+P,OAAO,EAAE5a,GAAG,KAAK;;KAEpD4a,OAAO,CAAC5a,GAAG,CAAC,GAAG;OACd2K,GAAG,GAAG;;SAEL,OAAO8J,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAACmM,YAAY,CAAC9a,GAAG,CAAC,CAAC;QAC/C;OACDF,GAAG,CAACG,KAAK,EAAE;;SAEV,OAAQwU,QAAQ,CAAC,IAAI,CAAC9F,MAAM,CAAC,CAACmM,YAAY,CAAC9a,GAAG,CAAC,CAAC,GAAGC,KAAK;;MAEzD;KACD,OAAO2a,OAAO;IACd,EAAE,EAAE,CAAC;CACR;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,SAASO,WAAW,CAACvR,KAAK,EAAE;;;GAG3B,AAIK;KACJA,KAAK,GAAGyE,aAAK,CAACzE,KAAK,CAAC;KACpB,MAAMwR,IAAI,GAAG,EAAE;KACf,KAAK,MAAMpb,GAAG,IAAI4J,KAAK,EAAE;OACxB,MAAM3J,KAAK,GAAG2J,KAAK,CAAC5J,GAAG,CAAC;OACxB,IAAIiU,aAAK,CAAChU,KAAK,CAAC,IAAIiU,kBAAU,CAACjU,KAAK,CAAC,EAAE;;SAEtCmb,IAAI,CAACpb,GAAG,CAAC;;SAER6Y,aAAK,CAACjP,KAAK,EAAE5J,GAAG,CAAC;;;KAGpB,OAAOob,IAAI;;CAEb;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;AACA,OAAMC,cAAc,GAAG,UAAUC,IAAI,EAAE;;;GAGtCA,IAAI,CAACC,KAAK,CAAC;KACVC,YAAY,GAAG;OACd,MAAMpJ,OAAO,GAAG,IAAI,CAACqJ,QAAQ;OAC7B,IAAIrJ,OAAO,CAACzQ,KAAK,EAAE;SAClB,MAAMA,KAAK,GAAGyQ,OAAO,CAACzQ,KAAK;;;SAG3B,IAAI,CAAC,IAAI,CAAC+Z,SAAS,EAAE;WACpB,MAAMC,YAAY,GAAG,EAAE;WACvBxZ,MAAM,CAACgU,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE;aACxCxL,GAAG,EAAE,MAAMgR,YAAY;aACvB7b,GAAG,EAAG8b,CAAC,IAAKzZ,MAAM,CAAC4E,MAAM,CAAC4U,YAAY,EAAEC,CAAC;YACzC,CAAC;;SAEH,IAAI,CAACF,SAAS,CAAC3Z,WAAW,CAAC,GAAGJ,KAAK;;;;SAInC,IAAI,CAAC,IAAI,CAACgN,MAAM,EAAE;WACjB,IAAI,CAACA,MAAM,GAAGhN,KAAK;;SAEpBA,KAAK,CAACqR,EAAE,GAAG,IAAI;SACf,IAAIvQ,SAAS,EAAE;;;WAGdf,cAAc,CAACC,KAAK,CAAC;;SAEtB,IAAIc,SAAS,EAAE;WACd4J,qBAAqB,CAAC1K,KAAK,CAACqR,EAAE,EAAErR,KAAK,CAAC;;QAEvC,MACI,IAAI,CAAC,IAAI,CAACgN,MAAM,IAAIyD,OAAO,CAACyJ,MAAM,IAAIzJ,OAAO,CAACyJ,MAAM,CAAClN,MAAM,EAAE;SACjE,IAAI,CAACA,MAAM,GAAGyD,OAAO,CAACyJ,MAAM,CAAClN,MAAM;;MAEpC;KACDmN,SAAS,GAAG;OACX,OAAO,IAAI,CAAC/N,QAAQ;;IAErB,CAAC;CACH,CAAC;AAED,CACA;AACA,OAAMgO,OAAO,GAAG,OAAO;;;;;;;;;;;;;;;;;;;;;;;ACzjEvB","file":"pinia.bundle.js.map","sourcesContent":[null,"/**\n * pinia v2.2.2\n * (c) 2024 Eduardo San Martin Morote\n * @license MIT\n *\n * @source: https://unpkg.com/pinia@2.2.2/dist/pinia.esm-browser.js\n * @source: https://github.com/vueuse/vue-demi/blob/master/lib/v3/index.cjs\n */\n\n/**\n * Modify list for integration with Bitrix Framework:\n * - remove vue-demi library from global import, replace to 'ui.vue3';\n * - remove import '@vue/devtools-api', add function setupDevtoolsPlugin\n * - replace emoji 'pineapple' to ':Pinia:', replace all emoji to text\n * - added const 'isVue2'\n * - added 'set' and 'del' functions similar to functions from the vue-demi library\n */\n\nimport { getCurrentInstance, inject, toRaw, watch, unref, markRaw, effectScope, ref, isRef, isReactive, onUnmounted, reactive, toRef, nextTick, computed, toRefs, hasInjectionContext, getCurrentScope, onScopeDispose } from 'ui.vue3';\n\nconst isVue2 = false;\n\nfunction set(object, key, value): any\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.length = Math.max(object.length, key);\n\t\tobject.splice(key, 1, value);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tobject[key] = value;\n\t}\n\n\treturn value;\n}\n\nfunction del(object, key): void\n{\n\tif (Array.isArray(object))\n\t{\n\t\tobject.splice(key, 1);\n\t}\n\telse if (typeof object === 'object')\n\t{\n\t\tdelete object[key];\n\t}\n}\n\nfunction getDevtoolsGlobalHook() {\n\treturn getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__;\n}\nfunction getTarget() {\n\t// @ts-ignore\n\treturn typeof navigator !== 'undefined'\n\t\t? window\n\t\t: typeof global !== 'undefined'\n\t\t\t? global\n\t\t\t: {};\n}\n\nconst HOOK_SETUP = 'devtools-plugin:setup';\n\nfunction setupDevtoolsPlugin(pluginDescriptor, setupFn) {\n\tconst hook = getDevtoolsGlobalHook();\n\tif (hook) {\n\t\thook.emit(HOOK_SETUP, pluginDescriptor, setupFn);\n\t}\n\telse {\n\t\tconst target = getTarget();\n\t\tconst list = target.__VUE_DEVTOOLS_PLUGINS__ = target.__VUE_DEVTOOLS_PLUGINS__ || [];\n\t\tlist.push({\n\t\t\tpluginDescriptor,\n\t\t\tsetupFn\n\t\t});\n\t}\n}\n\n// origin-start\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\n\t// @ts-expect-error: cannot constrain the type of the return\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (hasInjectionContext() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = (Symbol('pinia') );\n\nfunction isPlainObject(\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\to) {\n\treturn (o &&\n\t\ttypeof o === 'object' &&\n\t\tObject.prototype.toString.call(o) === '[object Object]' &&\n\t\ttypeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n\t/**\n\t * Direct mutation of the state:\n\t *\n\t * - `store.name = 'new name'`\n\t * - `store.$state.name = 'new name'`\n\t * - `store.list.push('new item')`\n\t */\n\tMutationType[\"direct\"] = \"direct\";\n\t/**\n\t * Mutated the state with `$patch` and an object\n\t *\n\t * - `store.$patch({ name: 'newName' })`\n\t */\n\tMutationType[\"patchObject\"] = \"patch object\";\n\t/**\n\t * Mutated the state with `$patch` and a function\n\t *\n\t * - `store.$patch(state => state.name = 'newName')`\n\t */\n\tMutationType[\"patchFunction\"] = \"patch function\";\n\t// maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n\t? window\n\t: typeof self === 'object' && self.self === self\n\t\t? self\n\t\t: typeof global === 'object' && global.global === global\n\t\t\t? global\n\t\t\t: typeof globalThis === 'object'\n\t\t\t\t? globalThis\n\t\t\t\t: { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\tif (autoBom &&\n\t\t/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\treturn new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n\t}\n\treturn blob;\n}\nfunction download(url, name, opts) {\n\tconst xhr = new XMLHttpRequest();\n\txhr.open('GET', url);\n\txhr.responseType = 'blob';\n\txhr.onload = function () {\n\t\tsaveAs(xhr.response, name, opts);\n\t};\n\txhr.onerror = function () {\n\t\tconsole.error('could not download file');\n\t};\n\txhr.send();\n}\nfunction corsEnabled(url) {\n\tconst xhr = new XMLHttpRequest();\n\t// use sync to avoid popup blocker\n\txhr.open('HEAD', url, false);\n\ttry {\n\t\txhr.send();\n\t}\n\tcatch (e) { }\n\treturn xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n\ttry {\n\t\tnode.dispatchEvent(new MouseEvent('click'));\n\t}\n\tcatch (e) {\n\t\tconst evt = document.createEvent('MouseEvents');\n\t\tevt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n\t\tnode.dispatchEvent(evt);\n\t}\n}\nconst _navigator = typeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n\t/AppleWebKit/.test(_navigator.userAgent) &&\n\t!/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n\t? () => { } // noop\n\t: // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n\ttypeof HTMLAnchorElement !== 'undefined' &&\n\t'download' in HTMLAnchorElement.prototype &&\n\t!isMacOSWebView\n\t\t? downloadSaveAs\n\t\t: // Use msSaveOrOpenBlob as a second approach\n\t\t'msSaveOrOpenBlob' in _navigator\n\t\t\t? msSaveAs\n\t\t\t: // Fallback to using FileReader and a popup\n\t\t\tfileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n\tconst a = document.createElement('a');\n\ta.download = name;\n\ta.rel = 'noopener'; // tabnabbing\n\t// TODO: detect chrome extensions & packaged apps\n\t// a.target = '_blank'\n\tif (typeof blob === 'string') {\n\t\t// Support regular links\n\t\ta.href = blob;\n\t\tif (a.origin !== location.origin) {\n\t\t\tif (corsEnabled(a.href)) {\n\t\t\t\tdownload(blob, name, opts);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta.target = '_blank';\n\t\t\t\tclick(a);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tclick(a);\n\t\t}\n\t}\n\telse {\n\t\t// Support blobs\n\t\ta.href = URL.createObjectURL(blob);\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(a.href);\n\t\t}, 4e4); // 40s\n\t\tsetTimeout(function () {\n\t\t\tclick(a);\n\t\t}, 0);\n\t}\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n\tif (typeof blob === 'string') {\n\t\tif (corsEnabled(blob)) {\n\t\t\tdownload(blob, name, opts);\n\t\t}\n\t\telse {\n\t\t\tconst a = document.createElement('a');\n\t\t\ta.href = blob;\n\t\t\ta.target = '_blank';\n\t\t\tsetTimeout(function () {\n\t\t\t\tclick(a);\n\t\t\t});\n\t\t}\n\t}\n\telse {\n\t\t// @ts-ignore: works on windows\n\t\tnavigator.msSaveOrOpenBlob(bom(blob, opts), name);\n\t}\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n\t// Open a popup immediately do go around popup blocker\n\t// Mostly only available on user interaction and the fileReader is async so...\n\tpopup = popup || open('', '_blank');\n\tif (popup) {\n\t\tpopup.document.title = popup.document.body.innerText = 'downloading...';\n\t}\n\tif (typeof blob === 'string')\n\t\treturn download(blob, name, opts);\n\tconst force = blob.type === 'application/octet-stream';\n\tconst isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n\tconst isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n\tif ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n\t\ttypeof FileReader !== 'undefined') {\n\t\t// Safari doesn't allow downloading of blob URLs\n\t\tconst reader = new FileReader();\n\t\treader.onloadend = function () {\n\t\t\tlet url = reader.result;\n\t\t\tif (typeof url !== 'string') {\n\t\t\t\tpopup = null;\n\t\t\t\tthrow new Error('Wrong reader.result type');\n\t\t\t}\n\t\t\turl = isChromeIOS\n\t\t\t\t? url\n\t\t\t\t: url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\tif (popup) {\n\t\t\t\tpopup.location.href = url;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlocation.assign(url);\n\t\t\t}\n\t\t\tpopup = null; // reverse-tabnabbing #460\n\t\t};\n\t\treader.readAsDataURL(blob);\n\t}\n\telse {\n\t\tconst url = URL.createObjectURL(blob);\n\t\tif (popup)\n\t\t\tpopup.location.assign(url);\n\t\telse\n\t\t\tlocation.href = url;\n\t\tpopup = null; // reverse-tabnabbing #460\n\t\tsetTimeout(function () {\n\t\t\tURL.revokeObjectURL(url);\n\t\t}, 4e4); // 40s\n\t}\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n\tconst piniaMessage = ' ' + message;\n\tif (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n\t\t// No longer available :(\n\t\t__VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n\t}\n\telse if (type === 'error') {\n\t\tconsole.error(piniaMessage);\n\t}\n\telse if (type === 'warn') {\n\t\tconsole.warn(piniaMessage);\n\t}\n\telse {\n\t\tconsole.log(piniaMessage);\n\t}\n}\nfunction isPinia(o) {\n\treturn '_a' in o && 'install' in o;\n}\n\n/**\n * This file contain devtools actions, they are not Pinia actions.\n */\n// ---\nfunction checkClipboardAccess() {\n\tif (!('clipboard' in navigator)) {\n\t\ttoastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n\t\treturn true;\n\t}\n}\nfunction checkNotFocusedError(error) {\n\tif (error instanceof Error &&\n\t\terror.message.toLowerCase().includes('document is not focused')) {\n\t\ttoastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n\t\treturn true;\n\t}\n\treturn false;\n}\nasync function actionGlobalCopyState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tawait navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n\t\ttoastMessage('Global state copied to clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalPasteState(pinia) {\n\tif (checkClipboardAccess())\n\t\treturn;\n\ttry {\n\t\tloadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));\n\t\ttoastMessage('Global state pasted from clipboard.');\n\t}\n\tcatch (error) {\n\t\tif (checkNotFocusedError(error))\n\t\t\treturn;\n\t\ttoastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nasync function actionGlobalSaveState(pinia) {\n\ttry {\n\t\tsaveAs(new Blob([JSON.stringify(pinia.state.value)], {\n\t\t\ttype: 'text/plain;charset=utf-8',\n\t\t}), 'pinia-state.json');\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nlet fileInput;\nfunction getFileOpener() {\n\tif (!fileInput) {\n\t\tfileInput = document.createElement('input');\n\t\tfileInput.type = 'file';\n\t\tfileInput.accept = '.json';\n\t}\n\tfunction openFile() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfileInput.onchange = async () => {\n\t\t\t\tconst files = fileInput.files;\n\t\t\t\tif (!files)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\tconst file = files.item(0);\n\t\t\t\tif (!file)\n\t\t\t\t\treturn resolve(null);\n\t\t\t\treturn resolve({ text: await file.text(), file });\n\t\t\t};\n\t\t\t// @ts-ignore: TODO: changed from 4.3 to 4.4\n\t\t\tfileInput.oncancel = () => resolve(null);\n\t\t\tfileInput.onerror = reject;\n\t\t\tfileInput.click();\n\t\t});\n\t}\n\treturn openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n\ttry {\n\t\tconst open = getFileOpener();\n\t\tconst result = await open();\n\t\tif (!result)\n\t\t\treturn;\n\t\tconst { text, file } = result;\n\t\tloadStoresState(pinia, JSON.parse(text));\n\t\ttoastMessage(`Global state imported from \"${file.name}\".`);\n\t}\n\tcatch (error) {\n\t\ttoastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');\n\t\tconsole.error(error);\n\t}\n}\nfunction loadStoresState(pinia, state) {\n\tfor (const key in state) {\n\t\tconst storeState = pinia.state.value[key];\n\t\t// store is already instantiated, patch it\n\t\tif (storeState) {\n\t\t\tObject.assign(storeState, state[key]);\n\t\t}\n\t\telse {\n\t\t\t// store is not instantiated, set the initial state\n\t\t\tpinia.state.value[key] = state[key];\n\t\t}\n\t}\n}\n\nfunction formatDisplay(display) {\n\treturn {\n\t\t_custom: {\n\t\t\tdisplay,\n\t\t},\n\t};\n}\nconst PINIA_ROOT_LABEL = ' Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n\treturn isPinia(store)\n\t\t? {\n\t\t\tid: PINIA_ROOT_ID,\n\t\t\tlabel: PINIA_ROOT_LABEL,\n\t\t}\n\t\t: {\n\t\t\tid: store.$id,\n\t\t\tlabel: store.$id,\n\t\t};\n}\nfunction formatStoreForInspectorState(store) {\n\tif (isPinia(store)) {\n\t\tconst storeNames = Array.from(store._s.keys());\n\t\tconst storeMap = store._s;\n\t\tconst state = {\n\t\t\tstate: storeNames.map((storeId) => ({\n\t\t\t\teditable: true,\n\t\t\t\tkey: storeId,\n\t\t\t\tvalue: store.state.value[storeId],\n\t\t\t})),\n\t\t\tgetters: storeNames\n\t\t\t\t.filter((id) => storeMap.get(id)._getters)\n\t\t\t\t.map((id) => {\n\t\t\t\t\tconst store = storeMap.get(id);\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\tkey: id,\n\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t}, {}),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t};\n\t\treturn state;\n\t}\n\tconst state = {\n\t\tstate: Object.keys(store.$state).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store.$state[key],\n\t\t})),\n\t};\n\t// avoid adding empty getters\n\tif (store._getters && store._getters.length) {\n\t\tstate.getters = store._getters.map((getterName) => ({\n\t\t\teditable: false,\n\t\t\tkey: getterName,\n\t\t\tvalue: store[getterName],\n\t\t}));\n\t}\n\tif (store._customProperties.size) {\n\t\tstate.customProperties = Array.from(store._customProperties).map((key) => ({\n\t\t\teditable: true,\n\t\t\tkey,\n\t\t\tvalue: store[key],\n\t\t}));\n\t}\n\treturn state;\n}\nfunction formatEventData(events) {\n\tif (!events)\n\t\treturn {};\n\tif (Array.isArray(events)) {\n\t\t// TODO: handle add and delete for arrays and objects\n\t\treturn events.reduce((data, event) => {\n\t\t\tdata.keys.push(event.key);\n\t\t\tdata.operations.push(event.type);\n\t\t\tdata.oldValue[event.key] = event.oldValue;\n\t\t\tdata.newValue[event.key] = event.newValue;\n\t\t\treturn data;\n\t\t}, {\n\t\t\toldValue: {},\n\t\t\tkeys: [],\n\t\t\toperations: [],\n\t\t\tnewValue: {},\n\t\t});\n\t}\n\telse {\n\t\treturn {\n\t\t\toperation: formatDisplay(events.type),\n\t\t\tkey: formatDisplay(events.key),\n\t\t\toldValue: events.oldValue,\n\t\t\tnewValue: events.newValue,\n\t\t};\n\t}\n}\nfunction formatMutationType(type) {\n\tswitch (type) {\n\t\tcase MutationType.direct:\n\t\t\treturn 'mutation';\n\t\tcase MutationType.patchFunction:\n\t\t\treturn '$patch';\n\t\tcase MutationType.patchObject:\n\t\t\treturn '$patch';\n\t\tdefault:\n\t\t\treturn 'unknown';\n\t}\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\nconst { assign: assign$1 } = Object;\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => ' ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia ',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t}, (api) => {\n\t\tif (typeof api.now !== 'function') {\n\t\t\ttoastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n\t\t}\n\t\tapi.addTimelineLayer({\n\t\t\tid: MUTATIONS_LAYER_ID,\n\t\t\tlabel: `Pinia `,\n\t\t\tcolor: 0xe5df88,\n\t\t});\n\t\tapi.addInspector({\n\t\t\tid: INSPECTOR_ID,\n\t\t\tlabel: 'Pinia ',\n\t\t\ticon: 'storage',\n\t\t\ttreeFilterPlaceholder: 'Search stores',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_copy',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalCopyState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Serialize and copy the state',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'content_paste',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalPasteState(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Replace the state with the content of your clipboard',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'save',\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tactionGlobalSaveState(pinia);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Save the state as a JSON file',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ticon: 'folder_open',\n\t\t\t\t\taction: async () => {\n\t\t\t\t\t\tawait actionGlobalOpenStateFile(pinia);\n\t\t\t\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\t\t},\n\t\t\t\t\ttooltip: 'Import the state from a JSON file',\n\t\t\t\t},\n\t\t\t],\n\t\t\tnodeActions: [\n\t\t\t\t{\n\t\t\t\t\ticon: 'restore',\n\t\t\t\t\ttooltip: 'Reset the state (with \"$reset\")',\n\t\t\t\t\taction: (nodeId) => {\n\t\t\t\t\t\tconst store = pinia._s.get(nodeId);\n\t\t\t\t\t\tif (!store) {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof store.$reset !== 'function') {\n\t\t\t\t\t\t\ttoastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, 'warn');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tstore.$reset();\n\t\t\t\t\t\t\ttoastMessage(`Store \"${nodeId}\" reset.`);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tapi.on.inspectComponent((payload, ctx) => {\n\t\t\tconst proxy = (payload.componentInstance &&\n\t\t\t\tpayload.componentInstance.proxy);\n\t\t\tif (proxy && proxy._pStores) {\n\t\t\t\tconst piniaStores = payload.componentInstance.proxy._pStores;\n\t\t\t\tObject.values(piniaStores).forEach((store) => {\n\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\tkey: 'state',\n\t\t\t\t\t\teditable: true,\n\t\t\t\t\t\tvalue: store._isOptionsAPI\n\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t_custom: {\n\t\t\t\t\t\t\t\t\tvalue: toRaw(store.$state),\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'restore',\n\t\t\t\t\t\t\t\t\t\t\ttooltip: 'Reset the state of this store',\n\t\t\t\t\t\t\t\t\t\t\taction: () => store.$reset(),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t: // NOTE: workaround to unwrap transferred refs\n\t\t\t\t\t\t\tObject.keys(store.$state).reduce((state, key) => {\n\t\t\t\t\t\t\t\tstate[key] = store.$state[key];\n\t\t\t\t\t\t\t\treturn state;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t});\n\t\t\t\t\tif (store._getters && store._getters.length) {\n\t\t\t\t\t\tpayload.instanceData.state.push({\n\t\t\t\t\t\t\ttype: getStoreType(store.$id),\n\t\t\t\t\t\t\tkey: 'getters',\n\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\tvalue: store._getters.reduce((getters, key) => {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tgetters[key] = store[key];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcatch (error) {\n\t\t\t\t\t\t\t\t\t// @ts-expect-error: we just want to show it in devtools\n\t\t\t\t\t\t\t\t\tgetters[key] = error;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn getters;\n\t\t\t\t\t\t\t}, {}),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tapi.on.getInspectorTree((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tlet stores = [pinia];\n\t\t\t\tstores = stores.concat(Array.from(pinia._s.values()));\n\t\t\t\tpayload.rootNodes = (payload.filter\n\t\t\t\t\t? stores.filter((store) => '$id' in store\n\t\t\t\t\t\t? store.$id\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(payload.filter.toLowerCase())\n\t\t\t\t\t\t: PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n\t\t\t\t\t: stores).map(formatStoreForInspectorTree);\n\t\t\t}\n\t\t});\n\t\t// Expose pinia instance as $pinia to window\n\t\tglobalThis.$pinia = pinia;\n\t\tapi.on.getInspectorState((payload) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\t// this could be the selected store restored for a different project\n\t\t\t\t\t// so it's better not to say anything here\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (inspectedStore) {\n\t\t\t\t\t// Expose selected store as $store to window\n\t\t\t\t\tif (payload.nodeId !== PINIA_ROOT_ID)\n\t\t\t\t\t\tglobalThis.$store = toRaw(inspectedStore);\n\t\t\t\t\tpayload.state = formatStoreForInspectorState(inspectedStore);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tapi.on.editInspectorState((payload, ctx) => {\n\t\t\tif (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n\t\t\t\tconst inspectedStore = payload.nodeId === PINIA_ROOT_ID\n\t\t\t\t\t? pinia\n\t\t\t\t\t: pinia._s.get(payload.nodeId);\n\t\t\t\tif (!inspectedStore) {\n\t\t\t\t\treturn toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (!isPinia(inspectedStore)) {\n\t\t\t\t\t// access only the state\n\t\t\t\t\tif (path.length !== 1 ||\n\t\t\t\t\t\t!inspectedStore._customProperties.has(path[0]) ||\n\t\t\t\t\t\tpath[0] in inspectedStore.$state) {\n\t\t\t\t\t\tpath.unshift('$state');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Root access, we can omit the `.value` because the devtools API does it for us\n\t\t\t\t\tpath.unshift('state');\n\t\t\t\t}\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(inspectedStore, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t\tapi.on.editComponentState((payload) => {\n\t\t\tif (payload.type.startsWith('')) {\n\t\t\t\tconst storeId = payload.type.replace(/^\\s*/, '');\n\t\t\t\tconst store = pinia._s.get(storeId);\n\t\t\t\tif (!store) {\n\t\t\t\t\treturn toastMessage(`store \"${storeId}\" not found`, 'error');\n\t\t\t\t}\n\t\t\t\tconst { path } = payload;\n\t\t\t\tif (path[0] !== 'state') {\n\t\t\t\t\treturn toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n\t\t\t\t}\n\t\t\t\t// rewrite the first entry to be able to directly set the state as\n\t\t\t\t// well as any other path\n\t\t\t\tpath[0] = '$state';\n\t\t\t\tisTimelineActive = false;\n\t\t\t\tpayload.set(store, path, payload.state.value);\n\t\t\t\tisTimelineActive = true;\n\t\t\t}\n\t\t});\n\t});\n}\nfunction addStoreToDevtools(app, store) {\n\tif (!componentStateTypes.includes(getStoreType(store.$id))) {\n\t\tcomponentStateTypes.push(getStoreType(store.$id));\n\t}\n\tsetupDevtoolsPlugin({\n\t\tid: 'dev.esm.pinia',\n\t\tlabel: 'Pinia ',\n\t\tlogo: 'https://pinia.vuejs.org/logo.svg',\n\t\tpackageName: 'pinia',\n\t\thomepage: 'https://pinia.vuejs.org',\n\t\tcomponentStateTypes,\n\t\tapp,\n\t\tsettings: {\n\t\t\tlogStoreChanges: {\n\t\t\t\tlabel: 'Notify about new/deleted stores',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tdefaultValue: true,\n\t\t\t},\n\t\t\t// useEmojis: {\n\t\t\t//   label: 'Use emojis in messages ',\n\t\t\t//   type: 'boolean',\n\t\t\t//   defaultValue: true,\n\t\t\t// },\n\t\t},\n\t}, (api) => {\n\t\t// gracefully handle errors\n\t\tconst now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n\t\tstore.$onAction(({ after, onError, name, args }) => {\n\t\t\tconst groupId = runningActionId++;\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: ' ' + name,\n\t\t\t\t\tsubtitle: 'start',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\targs,\n\t\t\t\t\t},\n\t\t\t\t\tgroupId,\n\t\t\t\t},\n\t\t\t});\n\t\t\tafter((result) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\ttitle: ' ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\tresult,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t\tonError((error) => {\n\t\t\t\tactiveAction = undefined;\n\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\tlogType: 'error',\n\t\t\t\t\t\ttitle: ' ' + name,\n\t\t\t\t\t\tsubtitle: 'end',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\t\taction: formatDisplay(name),\n\t\t\t\t\t\t\targs,\n\t\t\t\t\t\t\terror,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgroupId,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\t\t}, true);\n\t\tstore._customProperties.forEach((name) => {\n\t\t\twatch(() => unref(store[name]), (newValue, oldValue) => {\n\t\t\t\tapi.notifyComponentUpdate();\n\t\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\t\tif (isTimelineActive) {\n\t\t\t\t\tapi.addTimelineEvent({\n\t\t\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\t\t\tevent: {\n\t\t\t\t\t\t\ttime: now(),\n\t\t\t\t\t\t\ttitle: 'Change',\n\t\t\t\t\t\t\tsubtitle: name,\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tnewValue,\n\t\t\t\t\t\t\t\toldValue,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgroupId: activeAction,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, { deep: true });\n\t\t});\n\t\tstore.$subscribe(({ events, type }, state) => {\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tif (!isTimelineActive)\n\t\t\t\treturn;\n\t\t\t// rootStore.state[store.id] = state\n\t\t\tconst eventData = {\n\t\t\t\ttime: now(),\n\t\t\t\ttitle: formatMutationType(type),\n\t\t\t\tdata: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),\n\t\t\t\tgroupId: activeAction,\n\t\t\t};\n\t\t\tif (type === MutationType.patchFunction) {\n\t\t\t\teventData.subtitle = '';\n\t\t\t}\n\t\t\telse if (type === MutationType.patchObject) {\n\t\t\t\teventData.subtitle = '';\n\t\t\t}\n\t\t\telse if (events && !Array.isArray(events)) {\n\t\t\t\teventData.subtitle = events.type;\n\t\t\t}\n\t\t\tif (events) {\n\t\t\t\teventData.data['rawEvent(s)'] = {\n\t\t\t\t\t_custom: {\n\t\t\t\t\t\tdisplay: 'DebuggerEvent',\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\ttooltip: 'raw DebuggerEvent[]',\n\t\t\t\t\t\tvalue: events,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: eventData,\n\t\t\t});\n\t\t}, { detached: true, flush: 'sync' });\n\t\tconst hotUpdate = store._hotUpdate;\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\thotUpdate(newStore);\n\t\t\tapi.addTimelineEvent({\n\t\t\t\tlayerId: MUTATIONS_LAYER_ID,\n\t\t\t\tevent: {\n\t\t\t\t\ttime: now(),\n\t\t\t\t\ttitle: ' ' + store.$id,\n\t\t\t\t\tsubtitle: 'HMR update',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstore: formatDisplay(store.$id),\n\t\t\t\t\t\tinfo: formatDisplay(`HMR update`),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\t// update the devtools too\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t});\n\t\tconst { $dispose } = store;\n\t\tstore.$dispose = () => {\n\t\t\t$dispose();\n\t\t\tapi.notifyComponentUpdate();\n\t\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\t\tapi.getSettings().logStoreChanges &&\n\t\t\ttoastMessage(`Disposed \"${store.$id}\" store `);\n\t\t};\n\t\t// trigger an update so it can display new registered stores\n\t\tapi.notifyComponentUpdate();\n\t\tapi.sendInspectorTree(INSPECTOR_ID);\n\t\tapi.sendInspectorState(INSPECTOR_ID);\n\t\tapi.getSettings().logStoreChanges &&\n\t\ttoastMessage(`\"${store.$id}\" store installed `);\n\t});\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n\t// original actions of the store as they are given by pinia. We are going to override them\n\tconst actions = actionNames.reduce((storeActions, actionName) => {\n\t\t// use toRaw to avoid tracking #541\n\t\tstoreActions[actionName] = toRaw(store)[actionName];\n\t\treturn storeActions;\n\t}, {});\n\tfor (const actionName in actions) {\n\t\tstore[actionName] = function () {\n\t\t\t// the running action id is incremented in a before action hook\n\t\t\tconst _actionId = runningActionId;\n\t\t\tconst trackedStore = wrapWithProxy\n\t\t\t\t? new Proxy(store, {\n\t\t\t\t\tget(...args) {\n\t\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\t\treturn Reflect.get(...args);\n\t\t\t\t\t},\n\t\t\t\t\tset(...args) {\n\t\t\t\t\t\tactiveAction = _actionId;\n\t\t\t\t\t\treturn Reflect.set(...args);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t: store;\n\t\t\t// For Setup Stores we need https://github.com/tc39/proposal-async-context\n\t\t\tactiveAction = _actionId;\n\t\t\tconst retValue = actions[actionName].apply(trackedStore, arguments);\n\t\t\t// this is safer as async actions in Setup Stores would associate mutations done outside of the action\n\t\t\tactiveAction = undefined;\n\t\t\treturn retValue;\n\t\t};\n\t}\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n\t// HMR module\n\tif (store.$id.startsWith('__hot:')) {\n\t\treturn;\n\t}\n\t// detect option api vs setup api\n\tstore._isOptionsAPI = !!options.state;\n\t// Do not overwrite actions mocked by @pinia/testing (#2298)\n\tif (!store._p._testing) {\n\t\tpatchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n\t\t// Upgrade the HMR to also update the new actions\n\t\tconst originalHotUpdate = store._hotUpdate;\n\t\ttoRaw(store)._hotUpdate = function (newStore) {\n\t\t\toriginalHotUpdate.apply(this, arguments);\n\t\t\tpatchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n\t\t};\n\t}\n\taddStoreToDevtools(app,\n\t\t// FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n\t\tstore);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n\tconst scope = effectScope(true);\n\t// NOTE: here we could check the window object for a state and directly set it\n\t// if there is anything like it with Vue 3 SSR\n\tconst state = scope.run(() => ref({}));\n\tlet _p = [];\n\t// plugins added before calling app.use(pinia)\n\tlet toBeInstalled = [];\n\tconst pinia = markRaw({\n\t\tinstall(app) {\n\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t// installing pinia's plugin\n\t\t\tsetActivePinia(pinia);\n\t\t\tif (!isVue2) {\n\t\t\t\tpinia._a = app;\n\t\t\t\tapp.provide(piniaSymbol, pinia);\n\t\t\t\tapp.config.globalProperties.$pinia = pinia;\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tregisterPiniaDevtools(app, pinia);\n\t\t\t\t}\n\t\t\t\ttoBeInstalled.forEach((plugin) => _p.push(plugin));\n\t\t\t\ttoBeInstalled = [];\n\t\t\t}\n\t\t},\n\t\tuse(plugin) {\n\t\t\tif (!this._a && !isVue2) {\n\t\t\t\ttoBeInstalled.push(plugin);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_p.push(plugin);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t_p,\n\t\t// it's actually undefined here\n\t\t// @ts-expect-error\n\t\t_a: null,\n\t\t_e: scope,\n\t\t_s: new Map(),\n\t\tstate,\n\t});\n\t// pinia devtools rely on dev only features so they cannot be forced unless\n\t// the dev build of Vue is used. Avoid old browsers like IE11.\n\tif (typeof Proxy !== 'undefined') {\n\t\tpinia.use(devtoolsPlugin);\n\t}\n\treturn pinia;\n}\n/**\n * Dispose a Pinia instance by stopping its effectScope and removing the state, plugins and stores. This is mostly\n * useful in tests, with both a testing pinia or a regular pinia and in applications that use multiple pinia instances.\n * Once disposed, the pinia instance cannot be used anymore.\n *\n * @param pinia - pinia instance\n */\nfunction disposePinia(pinia) {\n\tpinia._e.stop();\n\tpinia._s.clear();\n\tpinia._p.splice(0);\n\tpinia.state.value = {};\n\t// @ts-expect-error: non valid\n\tpinia._a = null;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n\treturn typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in oldState) {\n\t\tconst subPatch = oldState[key];\n\t\t// skip the whole sub tree\n\t\tif (!(key in newState)) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst targetValue = newState[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\tnewState[key] = patchObject(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// objects are either a bit more complex (e.g. refs) or primitives, so we\n\t\t\t// just set the whole thing\n\t\t\tif (isVue2) {\n\t\t\t\tset(newState, key, subPatch);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewState[key] = subPatch;\n\t\t\t}\n\t\t}\n\t}\n\treturn newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n\treturn (newModule) => {\n\t\tconst pinia = hot.data.pinia || initialUseStore._pinia;\n\t\tif (!pinia) {\n\t\t\t// this store is still not used\n\t\t\treturn;\n\t\t}\n\t\t// preserve the pinia instance across loads\n\t\thot.data.pinia = pinia;\n\t\t// console.log('got data', newStore)\n\t\tfor (const exportName in newModule) {\n\t\t\tconst useStore = newModule[exportName];\n\t\t\t// console.log('checking for', exportName)\n\t\t\tif (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n\t\t\t\t// console.log('Accepting update for', useStore.$id)\n\t\t\t\tconst id = useStore.$id;\n\t\t\t\tif (id !== initialUseStore.$id) {\n\t\t\t\t\tconsole.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n\t\t\t\t\t// return import.meta.hot.invalidate()\n\t\t\t\t\treturn hot.invalidate();\n\t\t\t\t}\n\t\t\t\tconst existingStore = pinia._s.get(id);\n\t\t\t\tif (!existingStore) {\n\t\t\t\t\tconsole.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuseStore(pinia, existingStore);\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n\tsubscriptions.push(callback);\n\tconst removeSubscription = () => {\n\t\tconst idx = subscriptions.indexOf(callback);\n\t\tif (idx > -1) {\n\t\t\tsubscriptions.splice(idx, 1);\n\t\t\tonCleanup();\n\t\t}\n\t};\n\tif (!detached && getCurrentScope()) {\n\t\tonScopeDispose(removeSubscription);\n\t}\n\treturn removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n\tsubscriptions.slice().forEach((callback) => {\n\t\tcallback(...args);\n\t});\n}\n\nconst fallbackRunWithContext = (fn) => fn();\n/**\n * Marks a function as an action for `$onAction`\n * @internal\n */\nconst ACTION_MARKER = Symbol();\n/**\n * Action name symbol. Allows to add a name to an action after defining it\n * @internal\n */\nconst ACTION_NAME = Symbol();\nfunction mergeReactiveObjects(target, patchToApply) {\n\t// Handle Map instances\n\tif (target instanceof Map && patchToApply instanceof Map) {\n\t\tpatchToApply.forEach((value, key) => target.set(key, value));\n\t}\n\telse if (target instanceof Set && patchToApply instanceof Set) {\n\t\t// Handle Set instances\n\t\tpatchToApply.forEach(target.add, target);\n\t}\n\t// no need to go through symbols because they cannot be serialized anyway\n\tfor (const key in patchToApply) {\n\t\tif (!patchToApply.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tconst subPatch = patchToApply[key];\n\t\tconst targetValue = target[key];\n\t\tif (isPlainObject(targetValue) &&\n\t\t\tisPlainObject(subPatch) &&\n\t\t\ttarget.hasOwnProperty(key) &&\n\t\t\t!isRef(subPatch) &&\n\t\t\t!isReactive(subPatch)) {\n\t\t\t// NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n\t\t\t// start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n\t\t\t// to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n\t\t\ttarget[key] = mergeReactiveObjects(targetValue, subPatch);\n\t\t}\n\t\telse {\n\t\t\t// @ts-expect-error: subPatch is a valid value\n\t\t\ttarget[key] = subPatch;\n\t\t}\n\t}\n\treturn target;\n}\nconst skipHydrateSymbol = Symbol('pinia:skipHydration')\n;\nconst skipHydrateMap = /*#__PURE__*/ new WeakMap();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n\treturn isVue2\n\t\t? // in @vue/composition-api, the refs are sealed so defineProperty doesn't work...\n\t\t/* istanbul ignore next */ skipHydrateMap.set(obj, 1) && obj\n\t\t: Object.defineProperty(obj, skipHydrateSymbol, {});\n}\n/**\n * Returns whether a value should be hydrated\n *\n * @param obj - target variable\n * @returns true if `obj` should be hydrated\n */\nfunction shouldHydrate(obj) {\n\treturn isVue2\n\t\t? /* istanbul ignore next */ !skipHydrateMap.has(obj)\n\t\t: !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n\treturn !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n\tconst { state, actions, getters } = options;\n\tconst initialState = pinia.state.value[id];\n\tlet store;\n\tfunction setup() {\n\t\tif (!initialState && (!hot)) {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(pinia.state.value, id, state ? state() : {});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpinia.state.value[id] = state ? state() : {};\n\t\t\t}\n\t\t}\n\t\t// avoid creating a state in pinia.state.value\n\t\tconst localState = hot\n\t\t\t? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n\t\t\ttoRefs(ref(state ? state() : {}).value)\n\t\t\t: toRefs(pinia.state.value[id]);\n\t\treturn assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n\t\t\tif (name in localState) {\n\t\t\t\tconsole.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n\t\t\t}\n\t\t\tcomputedGetters[name] = markRaw(computed(() => {\n\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t// it was created just before\n\t\t\t\tconst store = pinia._s.get(id);\n\t\t\t\t// allow cross using stores\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (isVue2 && !store._r)\n\t\t\t\t\treturn;\n\t\t\t\t// @ts-expect-error\n\t\t\t\t// return getters![name].call(context, context)\n\t\t\t\t// TODO: avoid reading the getter while assigning with a global variable\n\t\t\t\treturn getters[name].call(store, store);\n\t\t\t}));\n\t\t\treturn computedGetters;\n\t\t}, {}));\n\t}\n\tstore = createSetupStore(id, setup, options, pinia, hot, true);\n\treturn store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n\tlet scope;\n\tconst optionsForPlugin = assign({ actions: {} }, options);\n\t/* istanbul ignore if */\n\tif (!pinia._e.active) {\n\t\tthrow new Error('Pinia destroyed');\n\t}\n\t// watcher options for $subscribe\n\tconst $subscribeOptions = { deep: true };\n\t/* istanbul ignore else */\n\tif (!isVue2) {\n\t\t$subscribeOptions.onTrigger = (event) => {\n\t\t\t/* istanbul ignore else */\n\t\t\tif (isListening) {\n\t\t\t\tdebuggerEvents = event;\n\t\t\t\t// avoid triggering this while the store is being built and the state is being set in pinia\n\t\t\t}\n\t\t\telse if (isListening == false && !store._hotUpdating) {\n\t\t\t\t// let patch send all the events together later\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (Array.isArray(debuggerEvents)) {\n\t\t\t\t\tdebuggerEvents.push(event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.error(' debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t// internal state\n\tlet isListening; // set to true at the end\n\tlet isSyncListening; // set to true at the end\n\tlet subscriptions = [];\n\tlet actionSubscriptions = [];\n\tlet debuggerEvents;\n\tconst initialState = pinia.state.value[$id];\n\t// avoid setting the state for option stores if it is set\n\t// by the setup\n\tif (!isOptionsStore && !initialState && (!hot)) {\n\t\t/* istanbul ignore if */\n\t\tif (isVue2) {\n\t\t\tset(pinia.state.value, $id, {});\n\t\t}\n\t\telse {\n\t\t\tpinia.state.value[$id] = {};\n\t\t}\n\t}\n\tconst hotState = ref({});\n\t// avoid triggering too many listeners\n\t// https://github.com/vuejs/pinia/issues/1129\n\tlet activeListener;\n\tfunction $patch(partialStateOrMutator) {\n\t\tlet subscriptionMutation;\n\t\tisListening = isSyncListening = false;\n\t\t// reset the debugger events since patches are sync\n\t\t/* istanbul ignore else */\n\t\t{\n\t\t\tdebuggerEvents = [];\n\t\t}\n\t\tif (typeof partialStateOrMutator === 'function') {\n\t\t\tpartialStateOrMutator(pinia.state.value[$id]);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchFunction,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\telse {\n\t\t\tmergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n\t\t\tsubscriptionMutation = {\n\t\t\t\ttype: MutationType.patchObject,\n\t\t\t\tpayload: partialStateOrMutator,\n\t\t\t\tstoreId: $id,\n\t\t\t\tevents: debuggerEvents,\n\t\t\t};\n\t\t}\n\t\tconst myListenerId = (activeListener = Symbol());\n\t\tnextTick().then(() => {\n\t\t\tif (activeListener === myListenerId) {\n\t\t\t\tisListening = true;\n\t\t\t}\n\t\t});\n\t\tisSyncListening = true;\n\t\t// because we paused the watcher, we need to manually call the subscriptions\n\t\ttriggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n\t}\n\tconst $reset = isOptionsStore\n\t\t? function $reset() {\n\t\t\tconst { state } = options;\n\t\t\tconst newState = state ? state() : {};\n\t\t\t// we use a patch to group all changes into one single subscription\n\t\t\tthis.$patch(($state) => {\n\t\t\t\t// @ts-expect-error: FIXME: shouldn't error?\n\t\t\t\tassign($state, newState);\n\t\t\t});\n\t\t}\n\t\t: /* istanbul ignore next */\n\t\t() => {\n\t\t\tthrow new Error(`: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n\t\t}\n\t;\n\tfunction $dispose() {\n\t\tscope.stop();\n\t\tsubscriptions = [];\n\t\tactionSubscriptions = [];\n\t\tpinia._s.delete($id);\n\t}\n\t/**\n\t * Helper that wraps function so it can be tracked with $onAction\n\t * @param fn - action to wrap\n\t * @param name - name of the action\n\t */\n\tconst action = (fn, name = '') => {\n\t\tif (ACTION_MARKER in fn) {\n\t\t\tfn[ACTION_NAME] = name;\n\t\t\treturn fn;\n\t\t}\n\t\tconst wrappedAction = function () {\n\t\t\tsetActivePinia(pinia);\n\t\t\tconst args = Array.from(arguments);\n\t\t\tconst afterCallbackList = [];\n\t\t\tconst onErrorCallbackList = [];\n\t\t\tfunction after(callback) {\n\t\t\t\tafterCallbackList.push(callback);\n\t\t\t}\n\t\t\tfunction onError(callback) {\n\t\t\t\tonErrorCallbackList.push(callback);\n\t\t\t}\n\t\t\t// @ts-expect-error\n\t\t\ttriggerSubscriptions(actionSubscriptions, {\n\t\t\t\targs,\n\t\t\t\tname: wrappedAction[ACTION_NAME],\n\t\t\t\tstore,\n\t\t\t\tafter,\n\t\t\t\tonError,\n\t\t\t});\n\t\t\tlet ret;\n\t\t\ttry {\n\t\t\t\tret = fn.apply(this && this.$id === $id ? this : store, args);\n\t\t\t\t// handle sync errors\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t\tif (ret instanceof Promise) {\n\t\t\t\treturn ret\n\t\t\t\t\t.then((value) => {\n\t\t\t\t\t\ttriggerSubscriptions(afterCallbackList, value);\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\ttriggerSubscriptions(onErrorCallbackList, error);\n\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// trigger after callbacks\n\t\t\ttriggerSubscriptions(afterCallbackList, ret);\n\t\t\treturn ret;\n\t\t};\n\t\twrappedAction[ACTION_MARKER] = true;\n\t\twrappedAction[ACTION_NAME] = name; // will be set later\n\t\t// @ts-expect-error: we are intentionally limiting the returned type to just Fn\n\t\t// because all the added properties are internals that are exposed through `$onAction()` only\n\t\treturn wrappedAction;\n\t};\n\tconst _hmrPayload = /*#__PURE__*/ markRaw({\n\t\tactions: {},\n\t\tgetters: {},\n\t\tstate: [],\n\t\thotState,\n\t});\n\tconst partialStore = {\n\t\t_p: pinia,\n\t\t// _s: scope,\n\t\t$id,\n\t\t$onAction: addSubscription.bind(null, actionSubscriptions),\n\t\t$patch,\n\t\t$reset,\n\t\t$subscribe(callback, options = {}) {\n\t\t\tconst removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n\t\t\tconst stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n\t\t\t\tif (options.flush === 'sync' ? isSyncListening : isListening) {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tstoreId: $id,\n\t\t\t\t\t\ttype: MutationType.direct,\n\t\t\t\t\t\tevents: debuggerEvents,\n\t\t\t\t\t}, state);\n\t\t\t\t}\n\t\t\t}, assign({}, $subscribeOptions, options)));\n\t\t\treturn removeSubscription;\n\t\t},\n\t\t$dispose,\n\t};\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// start as non ready\n\t\tpartialStore._r = false;\n\t}\n\tconst store = reactive(assign({\n\t\t\t\t_hmrPayload,\n\t\t\t\t_customProperties: markRaw(new Set()), // devtools custom properties\n\t\t\t}, partialStore\n\t\t\t// must be added later\n\t\t\t// setupStore\n\t\t)\n\t);\n\t// store the partial store now so the setup of stores can instantiate each other before they are finished without\n\t// creating infinite loops.\n\tpinia._s.set($id, store);\n\tconst runWithContext = (pinia._a && pinia._a.runWithContext) || fallbackRunWithContext;\n\t// TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n\tconst setupStore = runWithContext(() => pinia._e.run(() => (scope = effectScope()).run(() => setup({ action }))));\n\t// overwrite existing actions to support $onAction\n\tfor (const key in setupStore) {\n\t\tconst prop = setupStore[key];\n\t\tif ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n\t\t\t// mark it as a piece of state to be serialized\n\t\t\tif (hot) {\n\t\t\t\tset(hotState.value, key, toRef(setupStore, key));\n\t\t\t\t// createOptionStore directly sets the state in pinia.state.value so we\n\t\t\t\t// can just skip that\n\t\t\t}\n\t\t\telse if (!isOptionsStore) {\n\t\t\t\t// in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n\t\t\t\tif (initialState && shouldHydrate(prop)) {\n\t\t\t\t\tif (isRef(prop)) {\n\t\t\t\t\t\tprop.value = initialState[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// probably a reactive object, lets recursively assign\n\t\t\t\t\t\t// @ts-expect-error: prop is unknown\n\t\t\t\t\t\tmergeReactiveObjects(prop, initialState[key]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transfer the ref to the pinia state to keep everything in sync\n\t\t\t\t/* istanbul ignore if */\n\t\t\t\tif (isVue2) {\n\t\t\t\t\tset(pinia.state.value[$id], key, prop);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tpinia.state.value[$id][key] = prop;\n\t\t\t\t}\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.state.push(key);\n\t\t\t}\n\t\t\t// action\n\t\t}\n\t\telse if (typeof prop === 'function') {\n\t\t\tconst actionValue = hot ? prop : action(prop, key);\n\t\t\t// this a hot module replacement store because the hotUpdate method needs\n\t\t\t// to do it with the right context\n\t\t\t/* istanbul ignore if */\n\t\t\tif (isVue2) {\n\t\t\t\tset(setupStore, key, actionValue);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// @ts-expect-error\n\t\t\t\tsetupStore[key] = actionValue;\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t_hmrPayload.actions[key] = prop;\n\t\t\t}\n\t\t\t// list actions so they can be used in plugins\n\t\t\t// @ts-expect-error\n\t\t\toptionsForPlugin.actions[key] = prop;\n\t\t}\n\t\telse {\n\t\t\t// add getters for devtools\n\t\t\tif (isComputed(prop)) {\n\t\t\t\t_hmrPayload.getters[key] = isOptionsStore\n\t\t\t\t\t? // @ts-expect-error\n\t\t\t\t\toptions.getters[key]\n\t\t\t\t\t: prop;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tconst getters = setupStore._getters ||\n\t\t\t\t\t\t// @ts-expect-error: same\n\t\t\t\t\t\t(setupStore._getters = markRaw([]));\n\t\t\t\t\tgetters.push(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// add the state, getters, and action properties\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\tObject.keys(setupStore).forEach((key) => {\n\t\t\tset(store, key, setupStore[key]);\n\t\t});\n\t}\n\telse {\n\t\tassign(store, setupStore);\n\t\t// allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n\t\t// Make `storeToRefs()` work with `reactive()` #799\n\t\tassign(toRaw(store), setupStore);\n\t}\n\t// use this instead of a computed with setter to be able to create it anywhere\n\t// without linking the computed lifespan to wherever the store is first\n\t// created.\n\tObject.defineProperty(store, '$state', {\n\t\tget: () => (hot ? hotState.value : pinia.state.value[$id]),\n\t\tset: (state) => {\n\t\t\t/* istanbul ignore if */\n\t\t\tif (hot) {\n\t\t\t\tthrow new Error('cannot set hotState');\n\t\t\t}\n\t\t\t$patch(($state) => {\n\t\t\t\t// @ts-expect-error: FIXME: shouldn't error?\n\t\t\t\tassign($state, state);\n\t\t\t});\n\t\t},\n\t});\n\t// add the hotUpdate before plugins to allow them to override it\n\t/* istanbul ignore else */\n\t{\n\t\tstore._hotUpdate = markRaw((newStore) => {\n\t\t\tstore._hotUpdating = true;\n\t\t\tnewStore._hmrPayload.state.forEach((stateKey) => {\n\t\t\t\tif (stateKey in store.$state) {\n\t\t\t\t\tconst newStateTarget = newStore.$state[stateKey];\n\t\t\t\t\tconst oldStateSource = store.$state[stateKey];\n\t\t\t\t\tif (typeof newStateTarget === 'object' &&\n\t\t\t\t\t\tisPlainObject(newStateTarget) &&\n\t\t\t\t\t\tisPlainObject(oldStateSource)) {\n\t\t\t\t\t\tpatchObject(newStateTarget, oldStateSource);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// transfer the ref\n\t\t\t\t\t\tnewStore.$state[stateKey] = oldStateSource;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// patch direct access properties to allow store.stateProperty to work as\n\t\t\t\t// store.$state.stateProperty\n\t\t\t\tset(store, stateKey, toRef(newStore.$state, stateKey));\n\t\t\t});\n\t\t\t// remove deleted state properties\n\t\t\tObject.keys(store.$state).forEach((stateKey) => {\n\t\t\t\tif (!(stateKey in newStore.$state)) {\n\t\t\t\t\tdel(store, stateKey);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// avoid devtools logging this as a mutation\n\t\t\tisListening = false;\n\t\t\tisSyncListening = false;\n\t\t\tpinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n\t\t\tisSyncListening = true;\n\t\t\tnextTick().then(() => {\n\t\t\t\tisListening = true;\n\t\t\t});\n\t\t\tfor (const actionName in newStore._hmrPayload.actions) {\n\t\t\t\tconst actionFn = newStore[actionName];\n\t\t\t\tset(store, actionName, action(actionFn, actionName));\n\t\t\t}\n\t\t\t// TODO: does this work in both setup and option store?\n\t\t\tfor (const getterName in newStore._hmrPayload.getters) {\n\t\t\t\tconst getter = newStore._hmrPayload.getters[getterName];\n\t\t\t\tconst getterValue = isOptionsStore\n\t\t\t\t\t? // special handling of options api\n\t\t\t\t\tcomputed(() => {\n\t\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t\t\treturn getter.call(store, store);\n\t\t\t\t\t})\n\t\t\t\t\t: getter;\n\t\t\t\tset(store, getterName, getterValue);\n\t\t\t}\n\t\t\t// remove deleted getters\n\t\t\tObject.keys(store._hmrPayload.getters).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.getters)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// remove old actions\n\t\t\tObject.keys(store._hmrPayload.actions).forEach((key) => {\n\t\t\t\tif (!(key in newStore._hmrPayload.actions)) {\n\t\t\t\t\tdel(store, key);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// update the values used in devtools and to allow deleting new properties later on\n\t\t\tstore._hmrPayload = newStore._hmrPayload;\n\t\t\tstore._getters = newStore._getters;\n\t\t\tstore._hotUpdating = false;\n\t\t});\n\t}\n\tif (IS_CLIENT) {\n\t\tconst nonEnumerable = {\n\t\t\twritable: true,\n\t\t\tconfigurable: true,\n\t\t\t// avoid warning on devtools trying to display this property\n\t\t\tenumerable: false,\n\t\t};\n\t\t['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n\t\t\tObject.defineProperty(store, p, assign({ value: store[p] }, nonEnumerable));\n\t\t});\n\t}\n\t/* istanbul ignore if */\n\tif (isVue2) {\n\t\t// mark the store as ready before plugins\n\t\tstore._r = true;\n\t}\n\t// apply all plugins\n\tpinia._p.forEach((extender) => {\n\t\t/* istanbul ignore else */\n\t\tif (IS_CLIENT) {\n\t\t\tconst extensions = scope.run(() => extender({\n\t\t\t\tstore: store,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t}));\n\t\t\tObject.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n\t\t\tassign(store, extensions);\n\t\t}\n\t\telse {\n\t\t\tassign(store, scope.run(() => extender({\n\t\t\t\tstore: store,\n\t\t\t\tapp: pinia._a,\n\t\t\t\tpinia,\n\t\t\t\toptions: optionsForPlugin,\n\t\t\t})));\n\t\t}\n\t});\n\tif (store.$state &&\n\t\ttypeof store.$state === 'object' &&\n\t\ttypeof store.$state.constructor === 'function' &&\n\t\t!store.$state.constructor.toString().includes('[native code]')) {\n\t\tconsole.warn(`[]: The \"state\" must be a plain object. It cannot be\\n` +\n\t\t\t`\\tstate: () => new MyClass()\\n` +\n\t\t\t`Found in store \"${store.$id}\".`);\n\t}\n\t// only apply hydrate to option stores with an initial state in pinia\n\tif (initialState &&\n\t\tisOptionsStore &&\n\t\toptions.hydrate) {\n\t\toptions.hydrate(store.$state, initialState);\n\t}\n\tisListening = true;\n\tisSyncListening = true;\n\treturn store;\n}\n// improves tree shaking\n/*#__NO_SIDE_EFFECTS__*/\nfunction defineStore(\n\t// TODO: add proper types from above\n\tidOrOptions, setup, setupOptions) {\n\tlet id;\n\tlet options;\n\tconst isSetupStore = typeof setup === 'function';\n\tif (typeof idOrOptions === 'string') {\n\t\tid = idOrOptions;\n\t\t// the option store setup will contain the actual options in this case\n\t\toptions = isSetupStore ? setupOptions : setup;\n\t}\n\telse {\n\t\toptions = idOrOptions;\n\t\tid = idOrOptions.id;\n\t\tif (typeof id !== 'string') {\n\t\t\tthrow new Error(`[]: \"defineStore()\" must be passed a store id as its first argument.`);\n\t\t}\n\t}\n\tfunction useStore(pinia, hot) {\n\t\tconst hasContext = hasInjectionContext();\n\t\tpinia =\n\t\t\t// in test mode, ignore the argument provided as we can always retrieve a\n\t\t\t// pinia instance with getActivePinia()\n\t\t\t(pinia) ||\n\t\t\t(hasContext ? inject(piniaSymbol, null) : null);\n\t\tif (pinia)\n\t\t\tsetActivePinia(pinia);\n\t\tif (!activePinia) {\n\t\t\tthrow new Error(`[]: \"getActivePinia()\" was called but there was no active Pinia. Are you trying to use a store before calling \"app.use(pinia)\"?\\n` +\n\t\t\t\t`See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\\n` +\n\t\t\t\t`This will fail in production.`);\n\t\t}\n\t\tpinia = activePinia;\n\t\tif (!pinia._s.has(id)) {\n\t\t\t// creating the store registers it in `pinia._s`\n\t\t\tif (isSetupStore) {\n\t\t\t\tcreateSetupStore(id, setup, options, pinia);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcreateOptionsStore(id, options, pinia);\n\t\t\t}\n\t\t\t/* istanbul ignore else */\n\t\t\t{\n\t\t\t\t// @ts-expect-error: not the right inferred type\n\t\t\t\tuseStore._pinia = pinia;\n\t\t\t}\n\t\t}\n\t\tconst store = pinia._s.get(id);\n\t\tif (hot) {\n\t\t\tconst hotId = '__hot:' + id;\n\t\t\tconst newStore = isSetupStore\n\t\t\t\t? createSetupStore(hotId, setup, options, pinia, true)\n\t\t\t\t: createOptionsStore(hotId, assign({}, options), pinia, true);\n\t\t\thot._hotUpdate(newStore);\n\t\t\t// cleanup the state properties and the store from the cache\n\t\t\tdelete pinia.state.value[hotId];\n\t\t\tpinia._s.delete(hotId);\n\t\t}\n\t\tif (IS_CLIENT) {\n\t\t\tconst currentInstance = getCurrentInstance();\n\t\t\t// save stores in instances to access them devtools\n\t\t\tif (currentInstance &&\n\t\t\t\tcurrentInstance.proxy &&\n\t\t\t\t// avoid adding stores that are just built for hot module replacement\n\t\t\t\t!hot) {\n\t\t\t\tconst vm = currentInstance.proxy;\n\t\t\t\tconst cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n\t\t\t\tcache[id] = store;\n\t\t\t}\n\t\t}\n\t\t// StoreGeneric cannot be casted towards Store\n\t\treturn store;\n\t}\n\tuseStore.$id = id;\n\treturn useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n\tmapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n\tif (Array.isArray(stores[0])) {\n\t\tconsole.warn(`[]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n\t\t\t`Replace\\n` +\n\t\t\t`\\tmapStores([useAuthStore, useCartStore])\\n` +\n\t\t\t`with\\n` +\n\t\t\t`\\tmapStores(useAuthStore, useCartStore)\\n` +\n\t\t\t`This will fail in production if not fixed.`);\n\t\tstores = stores[0];\n\t}\n\treturn stores.reduce((reduced, useStore) => {\n\t\t// @ts-expect-error: $id is added by defineStore\n\t\treduced[useStore.$id + mapStoreSuffix] = function () {\n\t\t\treturn useStore(this.$pinia);\n\t\t};\n\t\treturn reduced;\n\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\treduced[key] = function () {\n\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function () {\n\t\t\t\tconst store = useStore(this.$pinia);\n\t\t\t\tconst storeKey = keysOrMapper[key];\n\t\t\t\t// for some reason TS is unable to infer the type of storeKey to be a\n\t\t\t\t// function\n\t\t\t\treturn typeof storeKey === 'function'\n\t\t\t\t\t? storeKey.call(this, store)\n\t\t\t\t\t: store[storeKey];\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\treturn useStore(this.$pinia)[key](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-expect-error\n\t\t\treduced[key] = function (...args) {\n\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]](...args);\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n\treturn Array.isArray(keysOrMapper)\n\t\t? keysOrMapper.reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\t\treturn useStore(this.$pinia)[key];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\t\treturn (useStore(this.$pinia)[key] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {})\n\t\t: Object.keys(keysOrMapper).reduce((reduced, key) => {\n\t\t\t// @ts-ignore\n\t\t\treduced[key] = {\n\t\t\t\tget() {\n\t\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\t\treturn useStore(this.$pinia)[keysOrMapper[key]];\n\t\t\t\t},\n\t\t\t\tset(value) {\n\t\t\t\t\t// @ts-expect-error: FIXME: should work?\n\t\t\t\t\treturn (useStore(this.$pinia)[keysOrMapper[key]] = value);\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn reduced;\n\t\t}, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n\t// See https://github.com/vuejs/pinia/issues/852\n\t// It's easier to just use toRefs() even if it includes more stuff\n\tif (isVue2) {\n\t\t// @ts-expect-error: toRefs include methods and others\n\t\treturn toRefs(store);\n\t}\n\telse {\n\t\tstore = toRaw(store);\n\t\tconst refs = {};\n\t\tfor (const key in store) {\n\t\t\tconst value = store[key];\n\t\t\tif (isRef(value) || isReactive(value)) {\n\t\t\t\t// @ts-expect-error: the key is state or getter\n\t\t\t\trefs[key] =\n\t\t\t\t\t// ---\n\t\t\t\t\ttoRef(store, key);\n\t\t\t}\n\t\t}\n\t\treturn refs;\n\t}\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n\t// Equivalent of\n\t// app.config.globalProperties.$pinia = pinia\n\t_Vue.mixin({\n\t\tbeforeCreate() {\n\t\t\tconst options = this.$options;\n\t\t\tif (options.pinia) {\n\t\t\t\tconst pinia = options.pinia;\n\t\t\t\t// HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this._provided) {\n\t\t\t\t\tconst provideCache = {};\n\t\t\t\t\tObject.defineProperty(this, '_provided', {\n\t\t\t\t\t\tget: () => provideCache,\n\t\t\t\t\t\tset: (v) => Object.assign(provideCache, v),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis._provided[piniaSymbol] = pinia;\n\t\t\t\t// propagate the pinia instance in an SSR friendly way\n\t\t\t\t// avoid adding it to nuxt twice\n\t\t\t\t/* istanbul ignore else */\n\t\t\t\tif (!this.$pinia) {\n\t\t\t\t\tthis.$pinia = pinia;\n\t\t\t\t}\n\t\t\t\tpinia._a = this;\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\t// this allows calling useStore() outside of a component setup after\n\t\t\t\t\t// installing pinia's plugin\n\t\t\t\t\tsetActivePinia(pinia);\n\t\t\t\t}\n\t\t\t\tif (IS_CLIENT) {\n\t\t\t\t\tregisterPiniaDevtools(pinia._a, pinia);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!this.$pinia && options.parent && options.parent.$pinia) {\n\t\t\t\tthis.$pinia = options.parent.$pinia;\n\t\t\t}\n\t\t},\n\t\tdestroyed() {\n\t\t\tdelete this._pStores;\n\t\t},\n\t});\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, disposePinia, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, skipHydrate, storeToRefs };\n// origin-end\nconst version = '2.2.2';\nexport { version };",null]}