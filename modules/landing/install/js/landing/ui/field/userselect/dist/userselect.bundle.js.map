{"version":3,"file":"userselect.bundle.js","sources":["../src/userselect.js"],"sourcesContent":["import {BaseField} from 'landing.ui.field.basefield';\nimport {Dom} from 'main.core';\nimport {TagSelector} from 'ui.entity-selector';\n\nexport class UserSelect extends BaseField\n{\n\tconstructor(options)\n\t{\n\t\tsuper(options);\n\t\tthis.setEventNamespace('BX.Landing.UI.Field.UserSelectField');\n\n\t\tthis.userId = parseInt(options.userId ?? 0);\n\n\t\tDom.addClass(this.layout, 'landing-ui-field-userselect');\n\t\tthis.createDialog();\n\t}\n\n\tcreateDialog()\n\t{\n\t\tthis.dialog = new TagSelector({\n\t\t\tmultiple: false,\n\t\t\tdialogOptions: {\n\t\t\t\tpreselectedItems: [\n\t\t\t\t\t['user', this.userId],\n\t\t\t\t],\n\t\t\t\tenableSearch: true,\n\t\t\t\tmultiple: false,\n\t\t\t\tautoHide: true,\n\t\t\t\thideByEsc: true,\n\t\t\t\tcontext: 'LANDING_USER_SELECT',\n\t\t\t\tentities: [{\n\t\t\t\t\tid: 'user',\n\t\t\t\t}],\n\t\t\t\tpopupOptions: {\n\t\t\t\t\ttargetContainer: parent.document.body,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tthis.dialog.renderTo(this.input);\n\t}\n\n\treset()\n\t{\n\t\tthis.setValue(0);\n\t}\n\n\tgetValue()\n\t{\n\t\tthis.dialog.getTags().forEach(tag => {\n\t\t\tthis.userId = tag.getId();\n\t\t});\n\n\t\treturn this.userId;\n\t}\n\n\tsetValue(userId: number)\n\t{\n\t\tthis.userId = Math.max(0, userId);\n\t}\n}"],"names":["UserSelect","options","setEventNamespace","userId","parseInt","Dom","addClass","layout","createDialog","dialog","TagSelector","multiple","dialogOptions","preselectedItems","enableSearch","autoHide","hideByEsc","context","entities","id","popupOptions","targetContainer","parent","document","body","renderTo","input","setValue","getTags","forEach","tag","getId","Math","max","BaseField"],"mappings":";;;;;;KAIaA,UAAU;GAAA;GAEtB,oBAAYC,OAAO,EACnB;KAAA;KAAA;KAAA;KACC,wGAAMA,OAAO;KACb,MAAKC,iBAAiB,CAAC,qCAAqC,CAAC;KAE7D,MAAKC,MAAM,GAAGC,QAAQ,oBAACH,OAAO,CAACE,MAAM,6DAAI,CAAC,CAAC;KAE3CE,aAAG,CAACC,QAAQ,CAAC,MAAKC,MAAM,EAAE,6BAA6B,CAAC;KACxD,MAAKC,YAAY,EAAE;KAAC;;GACpB;KAAA;KAAA,+BAGD;OACC,IAAI,CAACC,MAAM,GAAG,IAAIC,6BAAW,CAAC;SAC7BC,QAAQ,EAAE,KAAK;SACfC,aAAa,EAAE;WACdC,gBAAgB,EAAE,CACjB,CAAC,MAAM,EAAE,IAAI,CAACV,MAAM,CAAC,CACrB;WACDW,YAAY,EAAE,IAAI;WAClBH,QAAQ,EAAE,KAAK;WACfI,QAAQ,EAAE,IAAI;WACdC,SAAS,EAAE,IAAI;WACfC,OAAO,EAAE,qBAAqB;WAC9BC,QAAQ,EAAE,CAAC;aACVC,EAAE,EAAE;YACJ,CAAC;WACFC,YAAY,EAAE;aACbC,eAAe,EAAEC,MAAM,CAACC,QAAQ,CAACC;;;QAGnC,CAAC;OACF,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,IAAI,CAACC,KAAK,CAAC;;;KAChC;KAAA,wBAGD;OACC,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;;;KAChB;KAAA,2BAGD;OAAA;OACC,IAAI,CAAClB,MAAM,CAACmB,OAAO,EAAE,CAACC,OAAO,CAAC,UAAAC,GAAG,EAAI;SACpC,MAAI,CAAC3B,MAAM,GAAG2B,GAAG,CAACC,KAAK,EAAE;QACzB,CAAC;OAEF,OAAO,IAAI,CAAC5B,MAAM;;;KAClB;KAAA,yBAEQA,MAAc,EACvB;OACC,IAAI,CAACA,MAAM,GAAG6B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE9B,MAAM,CAAC;;;GACjC;CAAA,EAtD8B+B,oCAAS;;;;;;;;"}