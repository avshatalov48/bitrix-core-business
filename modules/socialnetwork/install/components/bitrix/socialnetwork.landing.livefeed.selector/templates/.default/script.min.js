(function(){var e=window.BX;if(e.SocialnetworkLandingLivefeedSelector){return}e.SocialnetworkLandingLivefeedSelector=function(){this.id=""};e.SocialnetworkLandingLivefeedSelector.create=function(t,i){e.SocialnetworkLandingLivefeedSelector.Instance=new e.SocialnetworkLandingLivefeedSelector;e.SocialnetworkLandingLivefeedSelector.Instance.initialize(t,i);return e.SocialnetworkLandingLivefeedSelector.Instance};e.SocialnetworkLandingLivefeedSelector.createWorkgroup=function(){e.SidePanel.Instance.open(this.urlToGroupCreate)};e.SocialnetworkLandingLivefeedSelector.prototype={initialize:function(t,i){this.id=t;this.filter=[];this.urlToGroupCreate="";if(e.type.isNotEmptyObject(i)&&e.type.isNotEmptyObject(i.filterValue)){this.filter=i.filterValue}if(e.type.isNotEmptyObject(i)&&e.type.isNotEmptyString(i.urlToGroupCreate)){this.urlToGroupCreate=i.urlToGroupCreate}this.isProjectFeatureEnabled=i.isProjectFeatureEnabled===true;e.addCustomEvent("BX.Main.Filter:beforeApply",function(t,i,n,o){if(t!=this.id){return}e.onCustomEvent(window,"BX.Livefeed.Filter:beforeApply",[i,o])}.bind(this));e.addCustomEvent("BX.Main.Filter:apply",function(t,i,n,o,r){if(t!=this.id){return}var a=n.getFilterFieldsValues();this.filter=[];if(e.type.isNotEmptyString(a.GROUP_ID)){this.filter.push({name:e.type.isNotEmptyString(a.GROUP_ID_label)?a.GROUP_ID_label:"",value:a.GROUP_ID,key:"GROUP_ID"})}if(e.type.isNotEmptyString(a.AUTHOR_ID)){this.filter.push({name:e.type.isNotEmptyString(a.AUTHOR_ID_label)?a.AUTHOR_ID_label:"",value:a.AUTHOR_ID,key:"AUTHOR_ID"})}e.onCustomEvent(window,"BX.Livefeed.Filter:apply",[i,o,r])}.bind(this));e.addCustomEvent("BX.Filter.Search:input",function(t,i){if(t!=this.id){return}var n=e.type.isNotEmptyString(i)?e.util.trim(i):"";if(this.actualSearchString.length>0){e.onCustomEvent(window,"BX.Livefeed.Filter:searchInput",[i])}}.bind(this));e.addCustomEvent(e.UI.ButtonPanel,"button-click",function(t){if(e.type.isNotEmptyObject(t)){if(t.TYPE=="save"){if(this.filter.length>0){top.BX.SidePanel.Instance.postMessageTop(window,"save",{filter:this.filter})}var i=top.BX.SidePanel.Instance.getSliderByWindow(window);if(i){i.destroy()}}}}.bind(this));e.addCustomEvent("SidePanel.Slider:onMessage",function(t){if(t.getEventId()=="sonetGroupEvent"){var i=t.getData();if(e.type.isNotEmptyString(i.code)&&i.code=="afterCreate"){var n=e.Main.filterManager.getById(this.id);if(!!n&&n instanceof e.Main.Filter){var o=n.getApi();o.setFields({GROUP_ID:"SG"+parseInt(i.data.group.ID),GROUP_ID_label:i.data.group.FIELDS.NAME});o.apply()}}}}.bind(this));if(e("slls_group_create")){e.bind(e("slls_group_create"),"click",function(){if(this.isProjectFeatureEnabled){e.SidePanel.Instance.open(this.urlToGroupCreate)}else{top.BX.Runtime.loadExtension("socialnetwork.limit").then((e=>{const{Limit:t}=e;t.showInstance({featureId:"socialnetwork_projects_groups"})}))}}.bind(this))}}}})();
//# sourceMappingURL=script.map.js