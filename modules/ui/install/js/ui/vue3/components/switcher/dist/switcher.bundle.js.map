{"version":3,"file":"switcher.bundle.js","sources":["../src/switcher.js"],"sourcesContent":["import { Dom } from 'main.core';\nimport { Switcher as UISwitcher, type SwitcherOptions } from 'ui.switcher';\n\n/*\nExample:\n\n<Switcher\n\t:is-checked=\"myBoolData\"\n\t@check=\"myBoolData = true\"\n\t@uncheck=\"myBoolData = false\"\n\t:options=\"{\n\t\tsize: 'extra-small',\n\t\tcolor: 'green',\n\t}\"\n/>\n */\n\nexport const Switcher = {\n\tname: 'Switcher',\n\temits: ['check', 'uncheck'],\n\tprops: {\n\t\tisChecked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\toptions: {\n\t\t\t/** @type SwitcherOptions */\n\t\t\ttype: Object,\n\t\t\tdefault: {},\n\t\t},\n\t},\n\tswitcher: null,\n\tmounted()\n\t{\n\t\tthis.renderSwitcher();\n\t},\n\twatch: {\n\t\tisChecked(): void {\n\t\t\tthis.switcher.check(this.isChecked, false);\n\t\t},\n\t\toptions(newOptions, oldOptions): void {\n\t\t\tif (this.isOptionsEqual(newOptions, oldOptions))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// re-render switcher since options has changed\n\t\t\tthis.switcher = null;\n\t\t\tDom.clean(this.$refs.container);\n\t\t\tthis.renderSwitcher();\n\t\t},\n\t},\n\tmethods: {\n\t\trenderSwitcher(): void {\n\t\t\tthis.switcher = new UISwitcher(\n\t\t\t\t{\n\t\t\t\t\t...this.options,\n\t\t\t\t\tchecked: this.isChecked,\n\t\t\t\t\thandlers: {\n\t\t\t\t\t\t// checked for when the switcher is made off and unchecked for when the switcher is made on\n\t\t\t\t\t\t// it looks like a bug, but I'm not sure\n\t\t\t\t\t\tchecked: () => {\n\t\t\t\t\t\t\t// switch it back until the state is muted and we reactively change it to a new state\n\t\t\t\t\t\t\tthis.switcher.check(this.isChecked, false);\n\t\t\t\t\t\t\tthis.$emit('uncheck');\n\t\t\t\t\t\t},\n\t\t\t\t\t\tunchecked: () => {\n\t\t\t\t\t\t\t// switch it back until the state is muted and we reactively change it to a new state\n\t\t\t\t\t\t\tthis.switcher.check(this.isChecked, false);\n\t\t\t\t\t\t\tthis.$emit('check');\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t);\n\n\t\t\tthis.switcher.renderTo(this.$refs.container);\n\t\t},\n\t\tisOptionsEqual(newOptions: SwitcherOptions, oldOptions: SwitcherOptions): boolean {\n\t\t\tif (Object.keys(newOptions).length !== Object.keys(oldOptions).length)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfor (const [key, value] of Object.entries(newOptions))\n\t\t\t{\n\t\t\t\tif (!Object.hasOwn(oldOptions, key))\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (value !== oldOptions[key])\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const [key, value] of Object.entries(oldOptions))\n\t\t\t{\n\t\t\t\tif (!Object.hasOwn(newOptions, key))\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (value !== newOptions[key])\n\t\t\t\t{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t},\n\ttemplate: '<a ref=\"container\"></a>',\n};\n"],"names":["Switcher","name","emits","props","isChecked","type","Boolean","required","options","Object","default","switcher","mounted","renderSwitcher","watch","check","newOptions","oldOptions","isOptionsEqual","Dom","clean","$refs","container","methods","UISwitcher","checked","handlers","$emit","unchecked","renderTo","keys","length","key","value","entries","hasOwn","template"],"mappings":";;;;;;;CAGA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;AAEA,OAAaA,QAAQ,GAAG;GACvBC,IAAI,EAAE,UAAU;GAChBC,KAAK,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC;GAC3BC,KAAK,EAAE;KACNC,SAAS,EAAE;OACVC,IAAI,EAAEC,OAAO;OACbC,QAAQ,EAAE;MACV;KACDC,OAAO,EAAE;;OAERH,IAAI,EAAEI,MAAM;OACZC,OAAO,EAAE;;IAEV;GACDC,QAAQ,EAAE,IAAI;GACdC,OAAO,GACP;KACC,IAAI,CAACC,cAAc,EAAE;IACrB;GACDC,KAAK,EAAE;KACNV,SAAS,GAAS;OACjB,IAAI,CAACO,QAAQ,CAACI,KAAK,CAAC,IAAI,CAACX,SAAS,EAAE,KAAK,CAAC;MAC1C;KACDI,OAAO,CAACQ,UAAU,EAAEC,UAAU,EAAQ;OACrC,IAAI,IAAI,CAACC,cAAc,CAACF,UAAU,EAAEC,UAAU,CAAC,EAC/C;SACC;;;;OAID,IAAI,CAACN,QAAQ,GAAG,IAAI;OACpBQ,aAAG,CAACC,KAAK,CAAC,IAAI,CAACC,KAAK,CAACC,SAAS,CAAC;OAC/B,IAAI,CAACT,cAAc,EAAE;;IAEtB;GACDU,OAAO,EAAE;KACRV,cAAc,GAAS;OACtB,IAAI,CAACF,QAAQ,GAAG,IAAIa,oBAAU,CAC7B;SACC,GAAG,IAAI,CAAChB,OAAO;SACfiB,OAAO,EAAE,IAAI,CAACrB,SAAS;SACvBsB,QAAQ,EAAE;;;WAGTD,OAAO,EAAE,MAAM;;aAEd,IAAI,CAACd,QAAQ,CAACI,KAAK,CAAC,IAAI,CAACX,SAAS,EAAE,KAAK,CAAC;aAC1C,IAAI,CAACuB,KAAK,CAAC,SAAS,CAAC;YACrB;WACDC,SAAS,EAAE,MAAM;;aAEhB,IAAI,CAACjB,QAAQ,CAACI,KAAK,CAAC,IAAI,CAACX,SAAS,EAAE,KAAK,CAAC;aAC1C,IAAI,CAACuB,KAAK,CAAC,OAAO,CAAC;;;QAGrB,CACD;OAED,IAAI,CAAChB,QAAQ,CAACkB,QAAQ,CAAC,IAAI,CAACR,KAAK,CAACC,SAAS,CAAC;MAC5C;KACDJ,cAAc,CAACF,UAA2B,EAAEC,UAA2B,EAAW;OACjF,IAAIR,MAAM,CAACqB,IAAI,CAACd,UAAU,CAAC,CAACe,MAAM,KAAKtB,MAAM,CAACqB,IAAI,CAACb,UAAU,CAAC,CAACc,MAAM,EACrE;SACC,OAAO,KAAK;;OAGb,KAAK,MAAM,CAACC,GAAG,EAAEC,KAAK,CAAC,IAAIxB,MAAM,CAACyB,OAAO,CAAClB,UAAU,CAAC,EACrD;SACC,IAAI,CAACP,MAAM,CAAC0B,MAAM,CAAClB,UAAU,EAAEe,GAAG,CAAC,EACnC;WACC,OAAO,KAAK;;SAGb,IAAIC,KAAK,KAAKhB,UAAU,CAACe,GAAG,CAAC,EAC7B;WACC,OAAO,KAAK;;;OAId,KAAK,MAAM,CAACA,GAAG,EAAEC,KAAK,CAAC,IAAIxB,MAAM,CAACyB,OAAO,CAACjB,UAAU,CAAC,EACrD;SACC,IAAI,CAACR,MAAM,CAAC0B,MAAM,CAACnB,UAAU,EAAEgB,GAAG,CAAC,EACnC;WACC,OAAO,KAAK;;SAGb,IAAIC,KAAK,KAAKjB,UAAU,CAACgB,GAAG,CAAC,EAC7B;WACC,OAAO,KAAK;;;OAId,OAAO,IAAI;;IAEZ;GACDI,QAAQ,EAAE;CACX,CAAC;;;;;;;;"}