{"version":3,"file":"script.js","sources":["src/index.js"],"sourcesContent":["import { Dom, Loc, Reflection, Tag, Text, Type, ajax, Runtime, Uri, Event } from 'main.core';\nimport { DateTimeFormat } from 'main.date';\nimport { Button, ButtonSize, ButtonColor } from 'ui.buttons';\nimport { MessageBox } from 'ui.dialogs.messagebox';\nimport 'ui.tooltip';\nimport 'ui.icons.b24';\n\nimport './css/style.css';\n\nconst namespace = Reflection.namespace('BX.Lists.Component');\n\nconst HTML_ELEMENT_ID = 'lists-element-creation-guide';\nconst BP_STATE_FORM_NAME = 'lists_element_creation_guide_bp';\nconst BP_STATE_CONSTANTS_FORM_NAME = 'lists_element_creation_guide_bp_constants';\nconst AJAX_COMPONENT = 'bitrix:lists.element.creation_guide';\n\nconst STEPS = Object.freeze({\n\tDESCRIPTION: 'description',\n\tCONSTANTS: 'constants',\n\tFIELDS: 'fields',\n});\n\ntype ComponentData = {\n\tname: string,\n\tdescription: string,\n\tduration: ?number,\n\tsignedParameters: string,\n\tbpTemplateIds: [],\n\thasFieldsToShow: boolean,\n\thasStatesToTuning: boolean,\n\tcanUserTuningStates: boolean,\n};\n\ntype Step = {\n\tstep: string,\n\tcontentNode: HTMLElement,\n\tprogressBarNode: HTMLElement,\n};\n\nclass ElementCreationGuide\n{\n\t#steps: Array<Step> = [];\n\n\t#name: string;\n\t#description: string;\n\t#duration: ?number = null;\n\t#signedParameters: string;\n\t#templateIds: [] = [];\n\n\t#currentStep: ?string;\n\t#startTime: number;\n\t#descriptionNode: HTMLElement;\n\t#durationNode: HTMLElement;\n\t#difference: number;\n\t#canUserTuningStates: boolean;\n\t#isAdminLoaded: boolean = false;\n\t#isLoading: boolean = false;\n\t#stepsEnterTime: Map<string, number> = new Map();\n\t#formData: FormData;\n\t#messageBox: MessageBox;\n\t#canClose: boolean = false;\n\n\tconstructor(props: ComponentData)\n\t{\n\t\tif (!Type.isStringFilled(props.signedParameters))\n\t\t{\n\t\t\tthrow new TypeError('signedParameters must be filled string');\n\t\t}\n\t\tthis.#signedParameters = props.signedParameters;\n\n\t\tthis.#name = Type.isString(props.name) ? props.name : '';\n\t\tthis.#description = Type.isString(props.description) ? props.description : '';\n\n\t\tif (Type.isInteger(props.duration) && props.duration >= 0)\n\t\t{\n\t\t\tthis.#duration = props.duration;\n\t\t}\n\n\t\tif (Type.isArrayFilled(props.bpTemplateIds))\n\t\t{\n\t\t\tthis.#templateIds = props.bpTemplateIds;\n\t\t}\n\n\t\tthis.#canUserTuningStates = Type.isBoolean(props.canUserTuningStates) ? props.canUserTuningStates : false;\n\n\t\tthis.#startTime = Math.round(Date.now() / 1000);\n\n\t\tthis.#setCurrentStep(STEPS.DESCRIPTION);\n\t\tthis.#fillSteps(props);\n\t\tthis.#toggleButtons();\n\t\tthis.#renderProgressBar();\n\t\tthis.#renderFirstStep();\n\n\t\tEvent.EventEmitter.subscribe('SidePanel.Slider:onClose', (event) => {\n\t\t\tif (event.target.getWindow() === window && this.#isChangedFormData() && !this.#canClose)\n\t\t\t{\n\t\t\t\tevent.getCompatData()[0].denyAction();\n\t\t\t\tif (!this.#messageBox?.getPopupWindow().isShown())\n\t\t\t\t{\n\t\t\t\t\tthis.#showConfirmDialog(event.target);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t#setCurrentStep(step: ?string): void\n\t{\n\t\tthis.#currentStep = step;\n\n\t\tif (this.#currentStep === STEPS.DESCRIPTION)\n\t\t{\n\t\t\tthis.#stepsEnterTime.set(STEPS.DESCRIPTION, Date.now());\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.#stepsEnterTime.has(STEPS.DESCRIPTION))\n\t\t\t{\n\t\t\t\tconst diffTime = Date.now() - this.#stepsEnterTime.get(STEPS.DESCRIPTION);\n\n\t\t\t\tRuntime.loadExtension('ui.analytics')\n\t\t\t\t\t.then(({ sendData }) => {\n\t\t\t\t\t\tsendData({\n\t\t\t\t\t\t\ttool: 'automation',\n\t\t\t\t\t\t\tcategory: 'bizproc_operations',\n\t\t\t\t\t\t\tevent: 'process_instructions_read',\n\t\t\t\t\t\t\tp1: this.#name,\n\t\t\t\t\t\t\tp4: Math.round(diffTime / 1000),\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(() => {})\n\t\t\t\t;\n\t\t\t}\n\n\t\t\tthis.#stepsEnterTime.delete(STEPS.DESCRIPTION);\n\t\t}\n\t}\n\n\t#fillSteps(props)\n\t{\n\t\tconst contentNode = document.querySelectorAll('.list-el-cg__content >.list-el-cg__content-body');\n\n\t\tconst showBPConstantsStep = Type.isBoolean(props.hasStatesToTuning) ? props.hasStatesToTuning : false;\n\t\tconst showFieldsStep = Type.isBoolean(props.hasFieldsToShow) ? props.hasFieldsToShow : false;\n\n\t\tthis.#steps.push({\n\t\t\tstep: STEPS.DESCRIPTION,\n\t\t\tcontentNode: contentNode.item(0),\n\t\t\tprogressBarNode: null,\n\t\t});\n\n\t\tif (showBPConstantsStep)\n\t\t{\n\t\t\tthis.#steps.push({\n\t\t\t\tstep: STEPS.CONSTANTS,\n\t\t\t\tcontentNode: contentNode.item(1),\n\t\t\t\tprogressBarNode: null,\n\t\t\t});\n\t\t}\n\n\t\tif (showFieldsStep)\n\t\t{\n\t\t\tthis.#steps.push({\n\t\t\t\tstep: STEPS.FIELDS,\n\t\t\t\tcontentNode: contentNode.item(2),\n\t\t\t\tprogressBarNode: null,\n\t\t\t});\n\t\t}\n\t}\n\n\t#toggleButtons()\n\t{\n\t\tconst backButton = document.getElementById(`${HTML_ELEMENT_ID}-back-button`);\n\t\tconst nextButton = document.getElementById(`${HTML_ELEMENT_ID}-next-button`);\n\t\tconst createButton = document.getElementById(`${HTML_ELEMENT_ID}-create-button`);\n\n\t\tthis.#removeNotTunedConstantsHint(createButton);\n\t\tthis.#removeNotTunedConstantsHint(nextButton);\n\n\t\tif (this.#isFirstStep())\n\t\t{\n\t\t\tconst showNextStep = this.#steps.length > 1;\n\t\t\tthis.#hideButton(showNextStep ? createButton : nextButton);\n\t\t\tthis.#showButton(showNextStep ? nextButton : createButton);\n\t\t}\n\t\telse if (this.#isLastStep())\n\t\t{\n\t\t\tthis.#hideButton(nextButton);\n\t\t\tthis.#showButton(createButton);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#hideButton(createButton);\n\t\t\tthis.#showButton(nextButton);\n\t\t}\n\n\t\tif (this.#currentStep === STEPS.CONSTANTS && !this.#canUserTuningStates)\n\t\t{\n\t\t\tthis.#disableButton(createButton);\n\t\t\tthis.#disableButton(nextButton);\n\t\t\tthis.#addNotTunedConstantsHint(createButton);\n\t\t\tthis.#addNotTunedConstantsHint(nextButton);\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tthis.#removeWaitFromButton(backButton);\n\t\t\tthis.#removeWaitFromButton(nextButton);\n\t\t\tthis.#removeWaitFromButton(createButton);\n\t\t}, 100);\n\t}\n\n\t#isFirstStep(): boolean\n\t{\n\t\treturn this.#currentStep === STEPS.DESCRIPTION;\n\t}\n\n\t#isLastStep(): boolean\n\t{\n\t\treturn (\n\t\t\t(this.#currentStep === STEPS.DESCRIPTION && this.#steps.length === 1)\n\t\t\t|| (this.#currentStep === STEPS.CONSTANTS && this.#steps.length === 2)\n\t\t\t|| (this.#currentStep === STEPS.FIELDS)\n\t\t);\n\t}\n\n\t#hideButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.addClass(button, ['--hidden']);\n\t\t\tthis.#disableButton(button);\n\t\t}\n\t}\n\n\t#disableButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.addClass(button, ['ui-btn-disabled']);\n\t\t\tDom.attr(button, 'disabled', 'disabled');\n\t\t}\n\t}\n\n\t#removeWaitFromButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.removeClass(button, 'ui-btn-wait');\n\t\t}\n\t}\n\n\t#setWaitToButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.addClass(button, 'ui-btn-wait');\n\t\t}\n\t}\n\n\t#showButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.removeClass(button, ['--hidden']);\n\t\t\tthis.#enableButton(button);\n\t\t}\n\t}\n\n\t#enableButton(button)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.removeClass(button, ['ui-btn-disabled']);\n\t\t\tDom.attr(button, 'disabled', null);\n\t\t}\n\t}\n\n\t#renderProgressBar(): void\n\t{\n\t\tconst container = document.getElementById(`${HTML_ELEMENT_ID}-breadcrumbs`);\n\t\tif (!container)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst { step0, step1, step2 } = Tag.render`\n\t\t\t<div>\n\t\t\t\t<div class=\"list-el-cg__breadcrumbs-item --active\" ref=\"step0\">\n\t\t\t\t\t<span>${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_STEP_RECOMMENDATION'))}</span>\n\t\t\t\t\t<span class=\"ui-icon-set --chevron-right\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-el-cg__breadcrumbs-item\" ref=\"step1\">\n\t\t\t\t\t<span>${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_STEP_CONSTANTS'))}</span>\n\t\t\t\t\t<span class=\"ui-icon-set --chevron-right\"></span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-el-cg__breadcrumbs-item\" ref=\"step2\">\n\t\t\t\t\t<span>${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_STEP_FIELDS'))}</span>\n\t\t\t\t\t<span class=\"ui-icon-set --chevron-right\"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.#steps[0].progressBarNode = step0;\n\t\tDom.append(step0, container);\n\n\t\tconst constantsStep = this.#steps.find((step) => step.step === STEPS.CONSTANTS);\n\t\tif (constantsStep)\n\t\t{\n\t\t\tconstantsStep.progressBarNode = step1;\n\t\t\tDom.append(step1, container);\n\t\t}\n\n\t\tconst fieldsStep = this.#steps.find((step) => step.step === STEPS.FIELDS);\n\t\tif (fieldsStep)\n\t\t{\n\t\t\tfieldsStep.progressBarNode = step2;\n\t\t\tDom.append(step2, container);\n\t\t}\n\t}\n\n\t#renderFirstStep()\n\t{\n\t\tconst container = document.getElementById(`${HTML_ELEMENT_ID}-container`);\n\t\tconst contentNode = this.#steps[0].contentNode;\n\t\tif (container && contentNode)\n\t\t{\n\t\t\tconst description = this.#renderDescription();\n\t\t\tthis.#descriptionNode = description;\n\t\t\tDom.append(description, contentNode);\n\n\t\t\tconst expandNode = this.#renderExpandDescriptionNode();\n\t\t\tDom.append(expandNode, contentNode);\n\n\t\t\tthis.#durationNode = this.#renderDuration();\n\t\t\tDom.append(this.#durationNode, container);\n\n\t\t\tconst slider = document.querySelector('.ui-page-slider-workarea-content-padding');\n\t\t\tconst difference = slider ? (slider.offsetHeight - window.innerHeight) : 0;\n\t\t\tthis.#difference = difference;\n\t\t\tif (difference > 0)\n\t\t\t{\n\t\t\t\tthis.#toggleDescription({ target: expandNode });\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tDom.remove(expandNode);\n\t\t\t}\n\t\t}\n\t}\n\n\t#renderDescription(): HTMLElement\n\t{\n\t\tif (Type.isStringFilled(this.#description))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"list-el-cg__content-wrapper\">\n\t\t\t\t\t${BX.util.nl2br(this.#description)}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"list-el-cg__content-wrapper\">\n\t\t\t\t<span class=\"list-el-cg__text-empty\">${Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EMPTY_DESCRIPTION')}</span>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#renderExpandDescriptionNode(): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"list-el-cg__content-open\" onclick=\"${this.#toggleDescription.bind(this)}\">\n\t\t\t\t${Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXPAND_DESCRIPTION')}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#toggleDescription(event)\n\t{\n\t\tconst target = event.target;\n\t\tif (target && this.#difference > 0)\n\t\t{\n\t\t\tDom.clean(target);\n\t\t\tif (Dom.hasClass(this.#descriptionNode, '--hide'))\n\t\t\t{\n\t\t\t\ttarget.innerText = Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_COLLAPSE_DESCRIPTION');\n\t\t\t\tDom.style(this.#descriptionNode, 'height', `${this.#descriptionNode.scrollHeight}px`);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttarget.innerText = Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXPAND_DESCRIPTION');\n\t\t\t\tDom.style(\n\t\t\t\t\tthis.#descriptionNode,\n\t\t\t\t\t'height',\n\t\t\t\t\t`${this.#descriptionNode.offsetHeight - this.#difference}px`,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tDom.toggleClass(this.#descriptionNode, ['--hide']);\n\t\t}\n\t}\n\n\t#renderDuration(): HTMLElement\n\t{\n\t\tif (Type.isNil(this.#duration))\n\t\t{\n\t\t\treturn Tag.render`\n\t\t\t\t<div class=\"list-el-cg__informer\">\n\t\t\t\t\t<div class=\"list-el-cg__informer-header\">\n\t\t\t\t\t\t<div class=\"list-el-cg__informer-title\">\n\t\t\t\t\t\t\t${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_AVERAGE_DURATION_TITLE'))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"list-el-cg__informer-time\">\n\t\t\t\t\t\t\t<span class=\"list-el-cg__text-empty\">${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EMPTY_DURATION'))}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"list-el-cg__informer-message\">${Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_AVERAGE_DURATION_UNDEFINED_DESCRIPTION')}</div>\n\t\t\t\t\t<div class=\"list-el-cg__informer-bottom\"></div>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tlet formattedDuration = Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_ZERO_DURATION');\n\n\t\tif (this.#duration > 0)\n\t\t{\n\t\t\tformattedDuration = DateTimeFormat.format(\n\t\t\t\t[['s', 'sdiff'], ['i', 'idiff'], ['H', 'Hdiff'], ['d', 'ddiff'], ['m', 'mdiff'], ['Y', 'Ydiff']],\n\t\t\t\t0,\n\t\t\t\tthis.#duration,\n\t\t\t);\n\t\t}\n\n\t\treturn Tag.render`\n\t\t\t<div class=\"list-el-cg__informer\">\n\t\t\t\t<div class=\"list-el-cg__informer-header\">\n\t\t\t\t\t<div class=\"list-el-cg__informer-title\">\n\t\t\t\t\t\t${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_AVERAGE_DURATION_TITLE'))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"list-el-cg__informer-time\">\n\t\t\t\t\t\t<span>${Text.encode(formattedDuration)}</span>\n\t\t\t\t\t\t<div class=\"ui-icon-set --time-picker\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-el-cg__informer-message\">${Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_AVERAGE_DURATION_DESCRIPTION')}</div>\n\t\t\t\t<div class=\"list-el-cg__informer-bottom\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"list-el-cg__link\" href=\"#\"\n\t\t\t\t\t\tonclick=\"${this.#handleDurationHintClick}\"\n\t\t\t\t\t>${Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_AVERAGE_DURATION_HINT')}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#handleDurationHintClick(event)\n\t{\n\t\tevent.preventDefault();\n\n\t\tconst ARTICLE_ID = '18783714';\n\n\t\tconst helper = Reflection.getClass('top.BX.Helper');\n\n\t\tif (helper)\n\t\t{\n\t\t\thelper.show(`redirect=detail&code=${ARTICLE_ID}`);\n\t\t}\n\t}\n\n\tnext()\n\t{\n\t\tif (this.#isLoading || this.#isLastStep())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.#formData)\n\t\t{\n\t\t\tconst form = document.forms.form_lists_element_creation_guide_element;\n\t\t\tthis.#formData = form ? new FormData(form) : new FormData();\n\t\t\tthis.#appendSectionFormData(this.#formData);\n\t\t\tthis.#appendBPFormData(this.#formData);\n\t\t}\n\n\t\tconst currentStepIndex = this.#steps.findIndex((step) => step.step === this.#currentStep);\n\n\t\tconst currentStep = this.#steps[currentStepIndex];\n\t\tconst nextStep = this.#steps[currentStepIndex + 1];\n\n\t\tconst changeStep = () => {\n\t\t\tDom.toggleClass(currentStep.progressBarNode, ['--active', '--complete']);\n\t\t\tDom.addClass(nextStep.progressBarNode, '--active');\n\n\t\t\tthis.#cleanErrors();\n\n\t\t\tDom.addClass(currentStep.contentNode, '--hidden');\n\t\t\tDom.removeClass(nextStep.contentNode, '--hidden');\n\n\t\t\tif (this.#currentStep === STEPS.DESCRIPTION)\n\t\t\t{\n\t\t\t\tDom.addClass(this.#durationNode, '--hidden');\n\t\t\t}\n\n\t\t\tthis.#setCurrentStep(nextStep.step);\n\t\t\tthis.#toggleButtons();\n\t\t};\n\n\t\tif (currentStep.step === STEPS.CONSTANTS && this.#canUserTuningStates)\n\t\t{\n\t\t\tthis.#startLoading();\n\t\t\tthis.#setAllConstants()\n\t\t\t\t.then(() => {\n\t\t\t\t\tchangeStep();\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.#toggleButtons();\n\t\t\t\t})\n\t\t\t\t.finally(this.#finishLoading.bind(this))\n\t\t\t;\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (nextStep.step === STEPS.CONSTANTS && !this.#canUserTuningStates && !this.#isAdminLoaded)\n\t\t{\n\t\t\tthis.#startLoading();\n\t\t\tthis.#loadAdminList()\n\t\t\t\t.then(() => {})\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.#isAdminLoaded = true;\n\t\t\t\t\tthis.#finishLoading();\n\t\t\t\t\tchangeStep();\n\t\t\t\t})\n\t\t\t;\n\n\t\t\treturn;\n\t\t}\n\n\t\tchangeStep();\n\t}\n\n\t#loadAdminList(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst constantStep = this.#steps.find((step) => step.step === STEPS.CONSTANTS);\n\t\t\tajax.runComponentAction(\n\t\t\t\tAJAX_COMPONENT,\n\t\t\t\t'getListAdmin',\n\t\t\t\t{ json: { signedParameters: this.#signedParameters } },\n\t\t\t)\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tif (Type.isArrayFilled(data?.admins))\n\t\t\t\t\t{\n\t\t\t\t\t\tDom.append(this.#renderAdminList(data.admins, data.canNotify), constantStep.contentNode);\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve();\n\t\t\t\t})\n\t\t\t\t.catch(reject)\n\t\t\t;\n\t\t});\n\t}\n\n\t#renderAdminList(admins: [], canNotify: boolean = false): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div>\n\t\t\t\t<div class=\"list-el-cg__const-desc\">\n\t\t\t\t\t${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_NOT_TUNING_CONSTANTS_NOTIFY_ADMIN'))}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"list-el-cg__const-title\">\n\t\t\t\t\t${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_NOT_TUNING_CONSTANTS_NOTIFY'))}\n\t\t\t\t</div>\n\t\t\t\t${admins.map((admin) => {\n\t\t\t\t\tlet button = null;\n\t\t\t\t\tif (canNotify)\n\t\t\t\t\t{\n\t\t\t\t\t\tbutton = new Button({\n\t\t\t\t\t\t\ttext: Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_NOT_TUNING_CONSTANTS_NOTIFY_BUTTON'),\n\t\t\t\t\t\t\tsize: ButtonSize.MEDIUM,\n\t\t\t\t\t\t\tcolor: ButtonColor.PRIMARY,\n\t\t\t\t\t\t\tonclick: this.#notifyAdmin.bind(this, admin),\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Tag.render`\n\t\t\t\t\t\t<div class=\"list-el-cg__const-box\">\n\t\t\t\t\t\t\t<div class=\"list-el-cg__const-user\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"ui-icon ui-icon-common-user list-el-cg__const-icon\"\n\t\t\t\t\t\t\t\t\tbx-tooltip-user-id=\"${admin.id}\"\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<i style=\"background-image: url('${admin.img ? encodeURI(Text.encode(admin.img)) : '/bitrix/js/ui/icons/b24/images/ui-user.svg?v2'}');\"></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class=\"list-el-cg__const-name\">${Text.encode(admin.name)}</span>\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t${button?.render()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`;\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\t#notifyAdmin(admin: {}, button: Button)\n\t{\n\t\tbutton.setWaiting(true);\n\n\t\tajax.runComponentAction(\n\t\t\tAJAX_COMPONENT,\n\t\t\t'notifyAdmin',\n\t\t\t{\n\t\t\t\tjson: {\n\t\t\t\t\tsignedParameters: this.#signedParameters,\n\t\t\t\t\tadminId: admin.id,\n\t\t\t\t},\n\t\t\t},\n\t\t)\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (data.success === true)\n\t\t\t\t{\n\t\t\t\t\tDom.replace(\n\t\t\t\t\t\tbutton.getContainer(),\n\t\t\t\t\t\tTag.render`\n\t\t\t\t\t\t\t<span class=\"list-el-cg__const-success-text\">\n\t\t\t\t\t\t\t\t${Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_NOT_TUNING_CONSTANTS_NOTIFY_SUCCESS'))}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t`,\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tbutton.setWaiting(false);\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\tbutton.setWaiting(false);\n\t\t\t})\n\t\t;\n\t}\n\n\t#setAllConstants(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst formData = new FormData();\n\t\t\tthis.#appendBPFormData(formData, true);\n\n\t\t\tthis.#setConstants(formData)\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(({ errors }) => {\n\t\t\t\t\tif (Array.isArray(errors))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.#showErrors(errors);\n\t\t\t\t\t}\n\n\t\t\t\t\treject();\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\t#setConstants(formData: FormData): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tformData.set('signedParameters', this.#signedParameters);\n\n\t\t\tajax.runComponentAction(AJAX_COMPONENT, 'setConstants', { data: formData })\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(reject)\n\t\t\t;\n\t\t});\n\t}\n\n\tback()\n\t{\n\t\tif (this.#isFirstStep())\n\t\t{\n\t\t\tif (Reflection.getClass('BX.SidePanel') && BX.SidePanel.Instance.getSliderByWindow(window))\n\t\t\t{\n\t\t\t\tBX.SidePanel.Instance.getSliderByWindow(window).close(false);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.#setCurrentStep();\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentStepIndex = this.#steps.findIndex((step) => step.step === this.#currentStep);\n\t\tconst currentStep = this.#steps[currentStepIndex];\n\t\tconst previousStep = this.#steps[currentStepIndex - 1];\n\n\t\tDom.removeClass(currentStep.progressBarNode, '--active');\n\t\tDom.toggleClass(previousStep.progressBarNode, ['--active', '--complete']);\n\n\t\tthis.#cleanErrors();\n\n\t\tDom.addClass(currentStep.contentNode, '--hidden');\n\t\tDom.removeClass(previousStep.contentNode, '--hidden');\n\n\t\tif (previousStep.step === STEPS.DESCRIPTION)\n\t\t{\n\t\t\tDom.removeClass(this.#durationNode, '--hidden');\n\t\t}\n\n\t\tthis.#setCurrentStep(previousStep.step);\n\t\tthis.#toggleButtons();\n\t}\n\n\tasync create()\n\t{\n\t\tif (\n\t\t\tthis.#isLoading\n\t\t\t|| !this.#isLastStep()\n\t\t\t|| (this.#currentStep === STEPS.CONSTANTS && !this.#canUserTuningStates)\n\t\t)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#currentStep === STEPS.CONSTANTS)\n\t\t{\n\t\t\tthis.#startLoading();\n\n\t\t\tlet hasErrors = false;\n\t\t\tawait this.#setAllConstants()\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.#toggleButtons();\n\t\t\t\t\thasErrors = true;\n\t\t\t\t})\n\t\t\t;\n\n\t\t\tthis.#finishLoading();\n\t\t\tif (hasErrors)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.#startLoading();\n\t\tthis.#createElement()\n\t\t\t.then(({ data }) => {\n\t\t\t\tif (Reflection.getClass('BX.SidePanel') && BX.SidePanel.Instance.getSliderByWindow(window))\n\t\t\t\t{\n\t\t\t\t\tthis.#canClose = true;\n\t\t\t\t\tBX.SidePanel.Instance.getSliderByWindow(window).close(false);\n\t\t\t\t\tthis.#showSuccessNotification(data.elementUrl);\n\t\t\t\t}\n\t\t\t\tthis.#sendCreationAnalytics();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tthis.#toggleButtons();\n\t\t\t\tthis.#sendCreationAnalytics(error);\n\t\t\t})\n\t\t\t.finally(this.#finishLoading.bind(this))\n\t\t;\n\t}\n\n\t#showSuccessNotification(href)\n\t{\n\t\tconst topRuntime: Runtime = Reflection.getClass('top.BX.Runtime');\n\t\tif (topRuntime)\n\t\t{\n\t\t\ttopRuntime.loadExtension('ui.notification')\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (Reflection.getClass('top.BX.UI.Notification.Center'))\n\t\t\t\t\t{\n\t\t\t\t\t\tconst actions = [];\n\t\t\t\t\t\tif (Type.isStringFilled(href))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tactions.push({\n\t\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t\ttitle: Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_SUCCESS_CREATE_SEE'),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttop.BX.UI.Notification.Center.notify({\n\t\t\t\t\t\t\tcontent: Text.encode(Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_SUCCESS_CREATE')),\n\t\t\t\t\t\t\tactions,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(() => {})\n\t\t\t;\n\t\t}\n\t}\n\n\tsaveConstants(templateId: number, button: HTMLButtonElement)\n\t{\n\t\tif (!this.#templateIds.includes(templateId) || !Type.isDomNode(button) || this.#isLoading)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#setWaitToButton(button);\n\n\t\tconst formData = new FormData();\n\t\tthis.#appendStateFormData(formData, `form_${BP_STATE_CONSTANTS_FORM_NAME}_${templateId}`);\n\t\tformData.append('templateIds[]', templateId);\n\n\t\tconst errorsNode = document.getElementById(`${HTML_ELEMENT_ID}-constants-${templateId}-errors`);\n\n\t\tthis.#startLoading();\n\t\tthis.#setConstants(formData)\n\t\t\t.then(() => {\n\t\t\t\tif (errorsNode)\n\t\t\t\t{\n\t\t\t\t\tthis.#cleanErrors(errorsNode);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(({ errors }) => {\n\t\t\t\tif (Type.isArrayFilled(errors) && errorsNode)\n\t\t\t\t{\n\t\t\t\t\tthis.#showErrors(errors, errorsNode);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis.#finishLoading();\n\t\t\t\tthis.#removeWaitFromButton(button);\n\t\t\t})\n\t\t;\n\t}\n\n\t#createElement(): Promise\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst form: HTMLFormElement = document.forms.form_lists_element_creation_guide_element;\n\t\t\tconst formData: FormData = form ? new FormData(form) : new FormData();\n\n\t\t\tthis.#appendSectionFormData(formData);\n\t\t\tthis.#appendBPFormData(formData);\n\n\t\t\tformData.set('signedParameters', this.#signedParameters);\n\t\t\tformData.set('time', Math.round(Date.now() / 1000) - this.#startTime);\n\n\t\t\tajax.runComponentAction(\n\t\t\t\tAJAX_COMPONENT,\n\t\t\t\t'create',\n\t\t\t\t{ data: formData },\n\t\t\t)\n\t\t\t\t.then(resolve)\n\t\t\t\t.catch(({ errors }) => {\n\t\t\t\t\tif (Array.isArray(errors))\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.#showErrors(errors);\n\t\t\t\t\t}\n\n\t\t\t\t\treject(new Error(errors[0].message));\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\t}\n\n\t#appendSectionFormData(formData: FormData)\n\t{\n\t\tconst form: HTMLFormElement = document.forms.form_lists_element_creation_guide_section;\n\t\tif (form)\n\t\t{\n\t\t\tformData.set('IBLOCK_SECTION_ID', new FormData(form).get('IBLOCK_SECTION_ID'));\n\t\t}\n\t}\n\n\t#appendBPFormData(formData: FormData, isConstantsForms: boolean = false)\n\t{\n\t\tthis.#templateIds.forEach((id) => {\n\t\t\tconst formId = `form_${isConstantsForms ? BP_STATE_CONSTANTS_FORM_NAME : BP_STATE_FORM_NAME}_${id}`;\n\t\t\tif (document.forms[formId])\n\t\t\t{\n\t\t\t\tthis.#appendStateFormData(formData, formId);\n\t\t\t\tformData.append('templateIds[]', id);\n\t\t\t}\n\t\t});\n\t}\n\n\t#appendStateFormData(formData: FormData, formId: number)\n\t{\n\t\tconst form = document.forms[formId];\n\t\tif (form)\n\t\t{\n\t\t\tfor (const [key, value] of (new FormData(form)).entries())\n\t\t\t{\n\t\t\t\tif (key !== 'sessid')\n\t\t\t\t{\n\t\t\t\t\tformData.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t#showErrors(errors: [], toNode: HTMLElement = null)\n\t{\n\t\tthis.#cleanErrors(toNode);\n\n\t\tconst errorsNode = Type.isDomNode(toNode) ? toNode : document.getElementById(`${HTML_ELEMENT_ID}-errors`);\n\t\tif (errorsNode)\n\t\t{\n\t\t\tlet message = '';\n\t\t\terrors.forEach((error) => {\n\t\t\t\tif (error.message)\n\t\t\t\t{\n\t\t\t\t\tmessage += Text.encode(error.message);\n\t\t\t\t\tmessage += '<br/>';\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tDom.append(\n\t\t\t\tTag.render`\n\t\t\t\t\t<div class=\"ui-alert ui-alert-danger\">\n\t\t\t\t\t\t<span class=\"ui-alert-message\">${message}</span>\n\t\t\t\t\t</div>\n\t\t\t\t`,\n\t\t\t\terrorsNode,\n\t\t\t);\n\t\t\tBX.scrollToNode(errorsNode);\n\t\t}\n\t}\n\n\t#cleanErrors(fromNode: HTMLElement = null)\n\t{\n\t\tif (Type.isDomNode(fromNode))\n\t\t{\n\t\t\tDom.clean(fromNode);\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst errorsNode = document.getElementById(`${HTML_ELEMENT_ID}-errors`);\n\t\tif (errorsNode)\n\t\t{\n\t\t\tDom.clean(errorsNode);\n\t\t}\n\n\t\tthis.#templateIds.forEach((templateId) => {\n\t\t\tconst node = document.getElementById(`${HTML_ELEMENT_ID}-constants-${templateId}-errors`);\n\t\t\tif (node)\n\t\t\t{\n\t\t\t\tDom.clean(node);\n\t\t\t}\n\t\t});\n\t}\n\n\t#startLoading()\n\t{\n\t\tthis.#isLoading = true;\n\t\tthis.#disableAllButtons();\n\t}\n\n\t#disableAllButtons()\n\t{\n\t\tfor (const button of document.getElementsByClassName('ui-btn'))\n\t\t{\n\t\t\tthis.#disableButton(button);\n\t\t}\n\t}\n\n\t#finishLoading()\n\t{\n\t\tthis.#isLoading = false;\n\t\tthis.#enableAllButtons();\n\t}\n\n\t#enableAllButtons()\n\t{\n\t\tfor (const button of document.getElementsByClassName('ui-btn'))\n\t\t{\n\t\t\tthis.#enableButton(button);\n\t\t}\n\t}\n\n\t#addNotTunedConstantsHint(button: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.attr(button, 'title', Loc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_NOT_TUNING_CONSTANTS_HINT'));\n\t\t}\n\t}\n\n\t#removeNotTunedConstantsHint(button: HTMLElement)\n\t{\n\t\tif (Type.isDomNode(button))\n\t\t{\n\t\t\tDom.attr(button, 'title', null);\n\t\t}\n\t}\n\n\t#sendCreationAnalytics(error?: Error)\n\t{\n\t\tRuntime.loadExtension('ui.analytics')\n\t\t\t.then(({ sendData }) => {\n\t\t\t\tsendData({\n\t\t\t\t\ttool: 'automation',\n\t\t\t\t\tcategory: 'bizproc_operations',\n\t\t\t\t\tevent: 'process_run',\n\t\t\t\t\ttype: 'run',\n\t\t\t\t\tc_section: this.#getAnalyticsSection(),\n\t\t\t\t\tp1: this.#name,\n\t\t\t\t\tstatus: error ? 'error' : 'success',\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(() => {})\n\t\t;\n\t}\n\n\t#getAnalyticsSection(): string\n\t{\n\t\treturn ((new Uri(window.location.href)).getQueryParam('analyticsSection')) || 'bizproc';\n\t}\n\n\t#isChangedFormData(): boolean\n\t{\n\t\tif (!this.#formData)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\tconst form: HTMLFormElement = document.forms.form_lists_element_creation_guide_element;\n\t\tconst formData = form ? new FormData(form) : new FormData();\n\t\tthis.#appendSectionFormData(formData);\n\t\tthis.#appendBPFormData(formData);\n\n\t\tconst originFormData = Object.fromEntries(this.#formData.entries());\n\t\tfor (const [key, value] of formData.entries())\n\t\t{\n\t\t\tif (Type.isFile(value))\n\t\t\t{\n\t\t\t\tif (!this.checkEqualFileField(value, originFormData[key]))\n\t\t\t\t{\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (value !== originFormData[key])\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tcheckEqualFileField(fileFieldA: File, fileFieldB: File): boolean\n\t{\n\t\tif (!fileFieldB)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn fileFieldA.name === fileFieldB.name;\n\t}\n\n\t#showConfirmDialog(slider)\n\t{\n\t\tthis.#messageBox = MessageBox.confirm(\n\t\t\tLoc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXIT_DIALOG_DESCRIPTION'),\n\t\t\tLoc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXIT_DIALOG_TITLE'),\n\t\t\t() => {\n\t\t\t\tthis.#canClose = true;\n\t\t\t\tslider.close();\n\t\t\t},\n\t\t\tLoc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXIT_DIALOG_CONFIRM'),\n\t\t\t() => {\n\t\t\t\tthis.#messageBox.close();\n\t\t\t\tthis.#messageBox = null;\n\t\t\t},\n\t\t\tLoc.getMessage('LISTS_ELEMENT_CREATION_GUIDE_CMP_EXIT_DIALOG_CANCEL'),\n\t\t);\n\t}\n}\n\nnamespace.ElementCreationGuide = ElementCreationGuide;\n"],"names":["namespace","Reflection","HTML_ELEMENT_ID","BP_STATE_FORM_NAME","BP_STATE_CONSTANTS_FORM_NAME","AJAX_COMPONENT","STEPS","Object","freeze","DESCRIPTION","CONSTANTS","FIELDS","ElementCreationGuide","constructor","props","Map","Type","isStringFilled","signedParameters","TypeError","isString","name","description","isInteger","duration","isArrayFilled","bpTemplateIds","isBoolean","canUserTuningStates","Math","round","Date","now","Event","EventEmitter","subscribe","event","target","getWindow","window","getCompatData","denyAction","getPopupWindow","isShown","next","form","document","forms","form_lists_element_creation_guide_element","FormData","currentStepIndex","findIndex","step","currentStep","nextStep","changeStep","Dom","toggleClass","progressBarNode","addClass","contentNode","removeClass","then","catch","finally","bind","back","getClass","BX","SidePanel","Instance","getSliderByWindow","close","previousStep","create","hasErrors","data","elementUrl","error","saveConstants","templateId","button","includes","isDomNode","formData","append","errorsNode","getElementById","errors","checkEqualFileField","fileFieldA","fileFieldB","set","has","diffTime","get","Runtime","loadExtension","sendData","tool","category","p1","p4","delete","querySelectorAll","showBPConstantsStep","hasStatesToTuning","showFieldsStep","hasFieldsToShow","push","item","backButton","nextButton","createButton","showNextStep","length","setTimeout","attr","container","step0","step1","step2","Tag","render","Text","encode","Loc","getMessage","constantsStep","find","fieldsStep","expandNode","slider","querySelector","difference","offsetHeight","innerHeight","remove","util","nl2br","clean","hasClass","innerText","style","scrollHeight","isNil","formattedDuration","DateTimeFormat","format","preventDefault","ARTICLE_ID","helper","show","Promise","resolve","reject","constantStep","ajax","runComponentAction","json","admins","canNotify","map","admin","Button","text","size","ButtonSize","MEDIUM","color","ButtonColor","PRIMARY","onclick","id","img","encodeURI","setWaiting","adminId","success","replace","getContainer","Array","isArray","href","topRuntime","actions","title","top","UI","Notification","Center","notify","content","Error","message","form_lists_element_creation_guide_section","isConstantsForms","forEach","formId","key","value","entries","toNode","scrollToNode","fromNode","node","getElementsByClassName","type","c_section","status","Uri","location","getQueryParam","originFormData","fromEntries","isFile","MessageBox","confirm"],"mappings":"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"}