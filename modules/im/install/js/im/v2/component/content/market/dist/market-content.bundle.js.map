{"version":3,"file":"market-content.bundle.js","sources":["../src/market-content.js"],"sourcesContent":["import {Runtime} from 'main.core';\nimport {MarketManager} from 'im.v2.lib.market';\nimport {Spinner, SpinnerSize} from 'im.v2.component.elements';\n\nimport './market-content.css';\n\n// @vue/component\nexport const MarketContent = {\n\tname: 'MarketContent',\n\tcomponents: {Spinner},\n\tprops:\n\t{\n\t\tentityId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: true,\n\t\t\thandleResult: true\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tSpinnerSize: () => SpinnerSize\n\t},\n\twatch:\n\t{\n\t\tentityId(newValue: string)\n\t\t{\n\t\t\tthis.isLoading = true;\n\t\t\tthis.load(newValue);\n\t\t}\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.marketManager.unloadPlacement(this.entityId);\n\t\tthis.handleResult = false;\n\t},\n\tcreated()\n\t{\n\t\tthis.marketManager = MarketManager.getInstance();\n\t},\n\tmounted()\n\t{\n\t\tthis.load(this.entityId);\n\t},\n\tmethods:\n\t{\n\t\tload(placementId: string)\n\t\t{\n\t\t\tthis.marketManager.loadPlacement(placementId)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!this.handleResult || this.entityId !== placementId)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tRuntime.html(this.$refs['im-messenger-placement'], response);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-content-market__container\">\n\t\t\t<div v-if=\"isLoading\" class=\"bx-content-market__loader-container\">\n\t\t\t\t<Spinner :size=\"SpinnerSize.L\" />\n\t\t\t</div>\n\t\t\t<div \n\t\t\t\tv-show=\"!isLoading\" \n\t\t\t\tclass=\"bx-content-market__placement-container\" \n\t\t\t\tref=\"im-messenger-placement\"\n\t\t\t></div>\n\t\t</div>\n\t`\n};"],"names":["MarketContent","name","components","Spinner","props","entityId","type","String","required","data","isLoading","handleResult","computed","SpinnerSize","watch","newValue","load","beforeUnmount","marketManager","unloadPlacement","created","MarketManager","getInstance","mounted","methods","placementId","loadPlacement","then","response","Runtime","html","$refs","finally","template"],"mappings":";;;;;;;;CAMA;AACA,OAAaA,aAAa,GAAG;GAC5BC,IAAI,EAAE,eAAe;GACrBC,UAAU,EAAE;cAACC;IAAQ;GACrBC,KAAK,EACL;KACCC,QAAQ,EAAE;OACTC,IAAI,EAAEC,MAAM;OACZC,QAAQ,EAAE;;IAEX;GACDC,IAAI,GAAG;KACN,OAAO;OACNC,SAAS,EAAE,IAAI;OACfC,YAAY,EAAE;MACd;IACD;GACDC,QAAQ,EACR;KACCC,WAAW,EAAE,MAAMA;IACnB;GACDC,KAAK,EACL;KACCT,QAAQ,CAACU,QAAgB,EACzB;OACC,IAAI,CAACL,SAAS,GAAG,IAAI;OACrB,IAAI,CAACM,IAAI,CAACD,QAAQ,CAAC;;IAEpB;GACDE,aAAa,GACb;KACC,IAAI,CAACC,aAAa,CAACC,eAAe,CAAC,IAAI,CAACd,QAAQ,CAAC;KACjD,IAAI,CAACM,YAAY,GAAG,KAAK;IACzB;GACDS,OAAO,GACP;KACC,IAAI,CAACF,aAAa,GAAGG,8BAAa,CAACC,WAAW,EAAE;IAChD;GACDC,OAAO,GACP;KACC,IAAI,CAACP,IAAI,CAAC,IAAI,CAACX,QAAQ,CAAC;IACxB;GACDmB,OAAO,EACP;KACCR,IAAI,CAACS,WAAmB,EACxB;OACC,IAAI,CAACP,aAAa,CAACQ,aAAa,CAACD,WAAW,CAAC,CAC3CE,IAAI,CAAEC,QAAQ,IAAK;SACnB,IAAI,CAAC,IAAI,CAACjB,YAAY,IAAI,IAAI,CAACN,QAAQ,KAAKoB,WAAW,EACvD;WACC;;SAEDI,iBAAO,CAACC,IAAI,CAAC,IAAI,CAACC,KAAK,CAAC,wBAAwB,CAAC,EAAEH,QAAQ,CAAC;QAC5D,CAAC,CACDI,OAAO,CAAC,MAAM;SACd,IAAI,CAACtB,SAAS,GAAG,KAAK;QACtB,CAAC;;IAEJ;GACDuB,QAAQ,EAAG;;;;;;;;;;;;CAYZ,CAAC;;;;;;;;"}