this.BX=this.BX||{};(function(e,s,t,a,i,l,r,o,n){"use strict";let p=e=>e,d,c,h,b,u;var v=babelHelpers.classPrivateFieldLooseKey("pausePlayerWidth");var m=babelHelpers.classPrivateFieldLooseKey("scale");var P=babelHelpers.classPrivateFieldLooseKey("videos");var y=babelHelpers.classPrivateFieldLooseKey("loop");var B=babelHelpers.classPrivateFieldLooseKey("autoplay");var g=babelHelpers.classPrivateFieldLooseKey("muted");var L=babelHelpers.classPrivateFieldLooseKey("content");var H=babelHelpers.classPrivateFieldLooseKey("videoNode");var f=babelHelpers.classPrivateFieldLooseKey("playerNode");var F=babelHelpers.classPrivateFieldLooseKey("progressBar");var k=babelHelpers.classPrivateFieldLooseKey("barPadding");var _=babelHelpers.classPrivateFieldLooseKey("posterUrl");var w=babelHelpers.classPrivateFieldLooseKey("loader");var T=babelHelpers.classPrivateFieldLooseKey("currentPlayState");var x=babelHelpers.classPrivateFieldLooseKey("playButton");var C=babelHelpers.classPrivateFieldLooseKey("stopButton");var D=babelHelpers.classPrivateFieldLooseKey("wrapper");var O=babelHelpers.classPrivateFieldLooseKey("analyticsCallback");var $=babelHelpers.classPrivateFieldLooseKey("onInitVideoMetadata");var j=babelHelpers.classPrivateFieldLooseKey("onTick");var K=babelHelpers.classPrivateFieldLooseKey("onClickPlayer");var E=babelHelpers.classPrivateFieldLooseKey("onClickStopButton");var S=babelHelpers.classPrivateFieldLooseKey("onVideoEnded");var A=babelHelpers.classPrivateFieldLooseKey("scaleTo");var I=babelHelpers.classPrivateFieldLooseKey("onPause");var W=babelHelpers.classPrivateFieldLooseKey("onPlay");class N{constructor(e){var s;Object.defineProperty(this,W,{value:q});Object.defineProperty(this,I,{value:Y});Object.defineProperty(this,A,{value:G});Object.defineProperty(this,S,{value:z});Object.defineProperty(this,E,{value:R});Object.defineProperty(this,K,{value:M});Object.defineProperty(this,j,{value:U});Object.defineProperty(this,$,{value:X});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,m,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,y,{writable:true,value:void 0});Object.defineProperty(this,B,{writable:true,value:void 0});Object.defineProperty(this,g,{writable:true,value:void 0});Object.defineProperty(this,L,{writable:true,value:void 0});Object.defineProperty(this,H,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:void 0});Object.defineProperty(this,F,{writable:true,value:void 0});Object.defineProperty(this,k,{writable:true,value:3});Object.defineProperty(this,_,{writable:true,value:void 0});Object.defineProperty(this,w,{writable:true,value:void 0});Object.defineProperty(this,T,{writable:true,value:N.PLAY_STATE_BACKGROUND});Object.defineProperty(this,x,{writable:true,value:void 0});Object.defineProperty(this,C,{writable:true,value:void 0});Object.defineProperty(this,D,{writable:true,value:void 0});Object.defineProperty(this,O,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,D)[D]=e.wrapper;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=(s=e.width)!=null?s:86;babelHelpers.classPrivateFieldLooseBase(this,m)[m]=o.Type.isNumber(e.scale)?e.scale:1;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=o.Type.isArrayFilled(e.videos)?e.videos:[];babelHelpers.classPrivateFieldLooseBase(this,y)[y]=o.Type.isBoolean(e.loop)?e.loop:true;babelHelpers.classPrivateFieldLooseBase(this,B)[B]=o.Type.isBoolean(e.autoplay)?e.autoplay:true;babelHelpers.classPrivateFieldLooseBase(this,g)[g]=o.Type.isBoolean(e.muted)?e.muted:true;babelHelpers.classPrivateFieldLooseBase(this,_)[_]=e.posterUrl;babelHelpers.classPrivateFieldLooseBase(this,O)[O]=o.Type.isFunction(e.analyticsCallback)?e.analyticsCallback:null;babelHelpers.classPrivateFieldLooseBase(this,f)[f]=o.Tag.render(d||(d=p`<div class="ui-popupcomponentmaker__round-player"></div>`));babelHelpers.classPrivateFieldLooseBase(this,x)[x]=o.Tag.render(c||(c=p`<div class="ui-popupcomponentmaker__round-player-btn"></div>`));babelHelpers.classPrivateFieldLooseBase(this,C)[C]=o.Tag.render(h||(h=p`<div class="ui-popupcomponentmaker__round-player-btn --stop-btn"></div>`));let a="";if(o.Type.isStringFilled(babelHelpers.classPrivateFieldLooseBase(this,_)[_])){babelHelpers.classPrivateFieldLooseBase(this,f)[f].style.backgroundImage='url("'+o.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,_)[_])+'")';a='poster="'+o.Text.encode(babelHelpers.classPrivateFieldLooseBase(this,_)[_])+'"'}const i=babelHelpers.classPrivateFieldLooseBase(this,B)[B]?"autoplay":"";const l=babelHelpers.classPrivateFieldLooseBase(this,g)[g]?"muted":"";babelHelpers.classPrivateFieldLooseBase(this,H)[H]=o.Tag.render(b||(b=p`<video ${0} ${0} ${0}></video>`),a,i,l);babelHelpers.classPrivateFieldLooseBase(this,H)[H].muted=babelHelpers.classPrivateFieldLooseBase(this,g)[g];babelHelpers.classPrivateFieldLooseBase(this,H)[H].autoplay=babelHelpers.classPrivateFieldLooseBase(this,B)[B];babelHelpers.classPrivateFieldLooseBase(this,w)[w]=new t.Loader({size:40});babelHelpers.classPrivateFieldLooseBase(this,f)[f].style.width=babelHelpers.classPrivateFieldLooseBase(this,v)[v]+"px";babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("timeupdate",babelHelpers.classPrivateFieldLooseBase(this,j)[j].bind(this));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("loadedmetadata",babelHelpers.classPrivateFieldLooseBase(this,$)[$].bind(this));babelHelpers.classPrivateFieldLooseBase(this,f)[f].addEventListener("click",babelHelpers.classPrivateFieldLooseBase(this,K)[K].bind(this));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("ended",babelHelpers.classPrivateFieldLooseBase(this,S)[S].bind(this));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("play",babelHelpers.classPrivateFieldLooseBase(this,W)[W].bind(this));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("pause",babelHelpers.classPrivateFieldLooseBase(this,I)[I].bind(this));babelHelpers.classPrivateFieldLooseBase(this,x)[x].addEventListener("click",babelHelpers.classPrivateFieldLooseBase(this,K)[K].bind(this));babelHelpers.classPrivateFieldLooseBase(this,C)[C].addEventListener("click",babelHelpers.classPrivateFieldLooseBase(this,E)[E].bind(this));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("canplay",(()=>{babelHelpers.classPrivateFieldLooseBase(this,w)[w].hide()}));babelHelpers.classPrivateFieldLooseBase(this,H)[H].addEventListener("waiting",(()=>{babelHelpers.classPrivateFieldLooseBase(this,w)[w].show(babelHelpers.classPrivateFieldLooseBase(this,f)[f])}))}render(){if(babelHelpers.classPrivateFieldLooseBase(this,L)[L]){return babelHelpers.classPrivateFieldLooseBase(this,L)[L]}babelHelpers.classPrivateFieldLooseBase(this,P)[P].forEach((e=>{o.Dom.append(o.Tag.render(u||(u=p`<source src="${0}" type="${0}">`),e.url,e.type),babelHelpers.classPrivateFieldLooseBase(this,H)[H])}));o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,H)[H],babelHelpers.classPrivateFieldLooseBase(this,f)[f]);o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,x)[x],babelHelpers.classPrivateFieldLooseBase(this,D)[D]);o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,C)[C],babelHelpers.classPrivateFieldLooseBase(this,D)[D]);o.Dom.append(babelHelpers.classPrivateFieldLooseBase(this,f)[f],babelHelpers.classPrivateFieldLooseBase(this,D)[D]);babelHelpers.classPrivateFieldLooseBase(this,L)[L]=babelHelpers.classPrivateFieldLooseBase(this,D)[D];return babelHelpers.classPrivateFieldLooseBase(this,L)[L]}renderTo(e){o.Dom.append(e,this.render());return e}play(){babelHelpers.classPrivateFieldLooseBase(this,H)[H].play();o.Dom.removeClass(this.render(),"--stop")}setMute(e){babelHelpers.classPrivateFieldLooseBase(this,H)[H].muted=e}getPlayState(){return babelHelpers.classPrivateFieldLooseBase(this,T)[T]}pause(){babelHelpers.classPrivateFieldLooseBase(this,H)[H].pause()}stop(){this.pause();babelHelpers.classPrivateFieldLooseBase(this,T)[T]=N.PLAY_STATE_BACKGROUND;babelHelpers.classPrivateFieldLooseBase(this,H)[H].currentTime=0;o.Dom.addClass(this.render(),"--stop")}userPlay(){this.stop();babelHelpers.classPrivateFieldLooseBase(this,T)[T]=N.PLAY_STATE_USER;babelHelpers.classPrivateFieldLooseBase(this,F)[F].setValue(0);o.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,F)[F].getContainer());babelHelpers.classPrivateFieldLooseBase(this,F)[F].renderTo(babelHelpers.classPrivateFieldLooseBase(this,f)[f]);this.setMute(false);this.play()}}function X(e){babelHelpers.classPrivateFieldLooseBase(this,F)[F]=new a.ProgressRound({width:babelHelpers.classPrivateFieldLooseBase(this,v)[v]-2*babelHelpers.classPrivateFieldLooseBase(this,k)[k],lineSize:2,maxValue:babelHelpers.classPrivateFieldLooseBase(this,H)[H].duration,value:babelHelpers.classPrivateFieldLooseBase(this,H)[H].currentTime,colorBar:"#fff",colorTrack:"rgba(0, 0, 0, 0)"});if(babelHelpers.classPrivateFieldLooseBase(this,B)[B]){this.play()}}function U(){babelHelpers.classPrivateFieldLooseBase(this,F)[F].update(babelHelpers.classPrivateFieldLooseBase(this,H)[H].currentTime)}function M(){if(babelHelpers.classPrivateFieldLooseBase(this,T)[T]===N.PLAY_STATE_BACKGROUND){this.userPlay();o.Dom.removeClass(this.render(),"--stop")}else{babelHelpers.classPrivateFieldLooseBase(this,H)[H].paused?this.play():this.pause()}if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){babelHelpers.classPrivateFieldLooseBase(this,O)[O]("click-player")}}function R(){if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){babelHelpers.classPrivateFieldLooseBase(this,O)[O]("click-player")}this.stop()}function z(){this.stop();o.Dom.remove(babelHelpers.classPrivateFieldLooseBase(this,F)[F].getContainer());this.setMute(true);if(babelHelpers.classPrivateFieldLooseBase(this,y)[y]){this.play()}}function G(e){babelHelpers.classPrivateFieldLooseBase(this,f)[f].style.transform=`scale(${e})`}function Y(){babelHelpers.classPrivateFieldLooseBase(this,A)[A](1);if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){babelHelpers.classPrivateFieldLooseBase(this,O)[O]("on-pause")}}function q(){babelHelpers.classPrivateFieldLooseBase(this,A)[A](babelHelpers.classPrivateFieldLooseBase(this,m)[m]);if(babelHelpers.classPrivateFieldLooseBase(this,O)[O]){babelHelpers.classPrivateFieldLooseBase(this,O)[O]("on-play")}}N.PLAY_STATE_BACKGROUND="background";N.PLAY_STATE_USER="user";let V=e=>e,J,Q,Z,ee,se,te,ae,ie,le,re,oe,ne,pe;var de=babelHelpers.classPrivateFieldLooseKey("options");var ce=babelHelpers.classPrivateFieldLooseKey("content");var he=babelHelpers.classPrivateFieldLooseKey("player");class be{constructor(e){Object.defineProperty(this,de,{writable:true,value:null});Object.defineProperty(this,ce,{writable:true,value:void 0});Object.defineProperty(this,he,{writable:true,value:void 0});babelHelpers.classPrivateFieldLooseBase(this,de)[de]=e}buildPlayer(e){return new N({wrapper:e.wrapper,pausePlayerWidth:e.width,scale:e.scale,posterUrl:e.posterUrl,videos:e.videos,loop:e.loop,autoplay:e.autoplay,muted:e.muted,analyticsCallback:babelHelpers.classPrivateFieldLooseBase(this,de)[de].analyticsCallback})}renderPlayer(e){if(babelHelpers.classPrivateFieldLooseBase(this,he)[he]){return babelHelpers.classPrivateFieldLooseBase(this,he)[he]}const s=o.Tag.render(J||(J=V`<div class="ui-popupcomponentsmaker__round-player-box"/>`));babelHelpers.classPrivateFieldLooseBase(this,he)[he]=this.buildPlayer({...e,wrapper:s});if(babelHelpers.classPrivateFieldLooseBase(this,he)[he]){return babelHelpers.classPrivateFieldLooseBase(this,he)[he].render()}return o.Tag.render(Q||(Q=V``))}getPlayer(){return babelHelpers.classPrivateFieldLooseBase(this,he)[he]}renderTitle(e){const s=o.Tag.render(Z||(Z=V`
			<div class="ui-popupcomponentsmaker-header-tariff__header-content">
				<div class="ui-popupcomponentsmaker-header-tariff__title">${0}</div>
			</div>
		`),e.title);if(!o.Type.isNil(e.subtitle)){o.Dom.append(o.Tag.render(ee||(ee=V`<div class="ui-popupcomponentsmaker-header-tariff__subtitle">${0}</div>`),e.subtitle),s)}return s}renderDescription(e){const s=o.Tag.render(se||(se=V`
		<div class="ui-popupcomponentsmaker-header-tariff__box">
			<div class="ui-popupcomponentsmaker-header-tariff__title">${0}</div>
		</div>`),e.title);if(!o.Type.isNil(e.subtitle)){o.Dom.append(o.Tag.render(te||(te=V`<div class="ui-popupcomponentsmaker-header-tariff__subtitle">${0}</div>`),e.subtitle),s)}if(!o.Type.isNil(e.subtitleDescription)){o.Dom.append(o.Tag.render(ae||(ae=V`<div class="ui-popupcomponentsmaker-header-tariff__text">${0}</div>`),e.subtitleDescription),s)}if(!o.Type.isNil(e.code)){const t=s=>{s.stopPropagation();BX.UI.InfoHelper.getInstance({code:e.code}).show()};o.Dom.append(o.Tag.render(ie||(ie=V`<a onclick="${0}" target="_blank" class="ui-popupcomponentsmaker-header-tariff__more">${0}<div class="ui-icon-set --chevron-right ui-popupcomponentsmaker-header-tariff__more-icon"></div></a>`),t,e.moreLabel),s)}let t="";if(o.Type.isObject(e.roundContent)){t=this.renderPlayer(e.roundContent)}else if(o.Type.isStringFilled(e.roundContent)){t=this.renderIcon(e.roundContent)}const a=o.Tag.render(le||(le=V`
			<div class="ui-popupcomponentsmaker-header-tariff__message-wrapper">
				${0}
				${0}
			</div>
		`),t,s);const l=new i.PopupComponentsMakerItem({html:a,withoutBackground:false});o.Dom.addClass(l.getContainer(),"ui-popupcomponentsmaker-header-tariff__section-message-wrapper");l.getContainer().style.marginTop="14px";l.getContainer().classList.add("--transparent");return l.getContainer()}renderBtn(e){const s=new n.Button({text:e.label,color:n.ButtonColor.LIGHT_BORDER,size:n.ButtonSize.SMALL,link:e.url,onclick:()=>{if(babelHelpers.classPrivateFieldLooseBase(this,de)[de].analyticsCallback){babelHelpers.classPrivateFieldLooseBase(this,de)[de].analyticsCallback("click-button-header",e.url)}},round:true,noCaps:true,className:"ui-popupcomponentsmaker-header-tariff__button ui-btn-themes"});return s.render()}renderIcon(e){if(o.Type.isStringFilled(e)){return o.Tag.render(re||(re=V`
				<div class="ui-popupcomponentsmaker-header-tariff__icon">
					<div class="ui-icon-set ${0}"></div>
				</div>
			`),e)}return o.Tag.render(oe||(oe=V``))}render(){if(babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]){return babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]}let e="";if(babelHelpers.classPrivateFieldLooseBase(this,de)[de].button){e=o.Tag.render(ne||(ne=V`
				<div class="ui-popupcomponentsmaker-header-tariff__button-bar">
					${0}
				</div>`),this.renderBtn(babelHelpers.classPrivateFieldLooseBase(this,de)[de].button))}babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]=o.Tag.render(pe||(pe=V`
			<div class="ui-popupcomponentsmaker-header-tariff__wrapper">
				<div class="ui-popupcomponentsmaker-header-tariff__title-section">
					${0}
					${0}
				</div>
				
				${0}
				${0}
				
			</div>
		`),this.renderIcon(babelHelpers.classPrivateFieldLooseBase(this,de)[de].iconClass),this.renderTitle(babelHelpers.classPrivateFieldLooseBase(this,de)[de].top),this.renderDescription(babelHelpers.classPrivateFieldLooseBase(this,de)[de].info),e);return babelHelpers.classPrivateFieldLooseBase(this,ce)[ce]}}let ue=e=>e,ve,me;var Pe=babelHelpers.classPrivateFieldLooseKey("getThemePicker");var ye=babelHelpers.classPrivateFieldLooseKey("applyTheme");class Be extends i.PopupComponentsMakerItem{constructor(e={}){e.withoutBackground=true;e.backgroundColor=null;e.backgroundImage=null;super(e);Object.defineProperty(this,ye,{value:Le});Object.defineProperty(this,Pe,{value:ge})}getContainer(){if(!this.layout.container){const e=babelHelpers.classPrivateFieldLooseBase(this,Pe)[Pe]().getAppliedTheme();this.layout.container=o.Tag.render(ve||(ve=ue`<div class="ui-popupcomponentsmaker__header">${0}</div>`),this.getContent());this.bacgroundNode=o.Tag.render(me||(me=ue`<div class="ui-popupcomponentsmaker__header-background"></div>`));o.Dom.append(this.bacgroundNode,this.layout.container);babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](this.bacgroundNode,e);s.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(e=>{babelHelpers.classPrivateFieldLooseBase(this,ye)[ye](this.bacgroundNode,e.data.theme)}))}return super.getContainer()}static createByJson(e,t){const a=new be(t);const i=new Be({html:a.render()});s.EventEmitter.subscribe("BX.Main.Popup:onClose",(s=>{if(e===s.target.uniquePopupId){var t;(t=a.getPlayer())==null?void 0:t.stop()}}));return i}}function ge(){var e;return(e=BX.Intranet.Bitrix24.ThemePicker.Singleton)!=null?e:top.BX.Intranet.Bitrix24.ThemePicker.Singleton}function Le(e,s){const t=`url('${o.Text.encode(s.previewImage)}')`;o.Dom.style(e,"backgroundImage",t);o.Dom.removeClass(this.layout.container,"bitrix24-theme-default bitrix24-theme-dark bitrix24-theme-light");let a="bitrix24-theme-default";if(s.id!=="default"){a=String(s.id).indexOf("dark:")===0?"bitrix24-theme-dark":"bitrix24-theme-light"}o.Dom.addClass(this.layout.container,a)}let He=e=>e,fe,Fe,ke,_e,we,Te;var xe=babelHelpers.classPrivateFieldLooseKey("getThemePicker");var Ce=babelHelpers.classPrivateFieldLooseKey("applyTheme");class De extends i.PopupComponentsMaker{constructor(e){super(e);Object.defineProperty(this,Ce,{value:$e});Object.defineProperty(this,xe,{value:Oe});this.header=e.header instanceof Be?e.header:null;this.template=e.template instanceof r.BaseTemplate?e.template:null;this.asyncData=e.asyncData instanceof BX.Promise?e.asyncData:null;this.analyticsCallback=o.Type.isFunction(e.analyticsCallback)?e.analyticsCallback:null}getPopup(){if(!this.popup){const e=this.width?this.width:344;const t=this.id?`${this.id}-popup`:null;let a=[];if(!this.asyncData){a=o.Tag.render(fe||(fe=He`
					<div>
						${0}
					<div>
				`),this.getHeaderWrapper());if(this.content.length>0){a.append(o.Tag.render(Fe||(Fe=He`<div style="padding: 0 ${0}px ${0}px ${0}px">${0}</div>`),this.padding,this.padding,this.padding,this.getContentWrapper()))}}this.popup=new l.Popup(t,this.target,{className:"ui-popupcomponentmaker",contentBackground:"transparent",contentPadding:this.contentPadding,angle:this.useAngle?{offset:e/2-16}:false,offsetTop:this.offsetTop,width:e,offsetLeft:-(e/2)+(this.target?this.target.offsetWidth/2:0)+40,autoHide:true,closeByEsc:true,padding:0,animation:"fading-slide",content:a,cacheable:this.cacheable});if(this.blurBlackground){o.Dom.addClass(this.popup.getPopupContainer(),"popup-with-radius");this.setBlurBackground();s.EventEmitter.subscribe(s.EventEmitter.GLOBAL_TARGET,"BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(()=>{setTimeout((()=>{this.setBlurBackground()}),200)}))}if(this.asyncData){const e=this.popup.getContentContainer();o.Dom.clean(e);o.Dom.append(this.getSkeleton(),e);this.preparePopupAngly(e);if(o.Type.isDomNode(e.parentNode)){o.Dom.addClass(e.parentNode,"--with-header")}this.asyncData.then((s=>{this.popup.show();o.Dom.clean(e);s.data.header.analyticsCallback=this.analyticsCallback;this.header=Be.createByJson(t,s.data.header);a=o.Tag.render(ke||(ke=He`
						<div>
							${0}
						<div>
					`),this.getHeaderWrapper());let i=s.data.items&&this.template;if(i){this.template.setOptions({items:s.data.items,analyticsCallback:this.analyticsCallback});this.content=this.template.getContent();this.contentWrapper=null;if(o.Dom.hasClass(this.getHeaderWrapper(),"--empty-content")){o.Dom.removeClass(this.getHeaderWrapper(),"--empty-content")}if(!this.getHeaderWrapper().querySelector(".ui-popupcomponentsmaker__round-player-box")&&!o.Dom.hasClass(this.getHeaderWrapper(),"--without-video")){o.Dom.addClass(this.getHeaderWrapper(),"--without-video")}if(this.content.length>0){a.append(o.Tag.render(_e||(_e=He`<div class="ui-popupcomponentmaker__content-wrap">${0}</div>`),this.getContentWrapper()))}else{i=false}}o.Dom.append(a,e);if(i){o.Dom.addClass(this.getContentWrapper(),"ui-popup-with-header__content");if(this.popup.isBottomAngle()){o.Dom.style(this.getContentWrapper(),"transition","none")}if(this.getContentWrapper().scrollHeight>287&&!o.Dom.hasClass(this.getContentWrapper(),"--active-scroll")){o.Dom.style(this.getContentWrapper(),"height","287px");o.Dom.style(this.getContentWrapper(),"overflow-y","scroll");o.Dom.addClass(a,"active-scroll")}else{o.Dom.style(this.getContentWrapper(),"height",`${this.getContentWrapper().scrollHeight}px`)}this.popup.adjustPosition({forceBindPosition:true,position:this.popup.isBottomAngle()?"top":"bottom"})}else{this.popup.adjustPosition({forceBindPosition:true,position:this.popup.isBottomAngle()?"top":"bottom"})}}))}this.popup.getContentContainer().style.overflowX=null}return this.popup}getSkeleton(){if(!this.skeleton){this.skeleton=o.Tag.render(we||(we=He`
				<div class="popup-with-header-skeleton__wrap">
					<div class="popup-with-header-skeleton__header">
						<div class="popup-with-header-skeleton__header-top">
							<div class="popup-with-header-skeleton__header-circle">
								<div class="popup-with-header-skeleton__header-circle-inner"></div>
							</div>
							<div style="width: 100%;">
								<div style="margin-bottom: 12px; max-width: 219px; height: 6px; background: rgba(255,255,255,.8);" class="popup-with-header-skeleton__line"></div>
								<div style="max-width: 119px; height: 4px;" class="popup-with-header-skeleton__line"></div>
							</div>
						</div>
						<div class="popup-with-header-skeleton__header-bottom">
							<div class="popup-with-header-skeleton__header-bottom-circle-box">
								<div class="popup-with-header-skeleton__header-bottom-circle"></div>
								<div class="popup-with-header-skeleton__header-bottom-circle-blue"></div>
							</div>
							<div style="width: 100%;">
								<div style="margin-bottom: 9px; max-width: 193px; height: 5px;" class="popup-with-header-skeleton__line"></div>
								<div style="margin-bottom: 15px; max-width: 163px; height: 5px;" class="popup-with-header-skeleton__line"></div>
								<div style="margin-bottom: 9px; max-width: 156px; height: 2px;" class="popup-with-header-skeleton__line"></div>
								<div style="margin-bottom: 9px; max-width: 93px; height: 2px;" class="popup-with-header-skeleton__line"></div>
							</div>
						</div>
					</div>
					<div class="popup-with-header-skeleton__bottom">
						<div class="popup-with-header-skeleton__bottom-inner">
							<div class="popup-with-header-skeleton__bottom-left">
								<div style="margin-bottom: 11px; max-width: 193px; height: 5px;" class="popup-with-header-skeleton__line"></div>
								<div style="margin-bottom: 17px; max-width: 163px; height: 5px;" class="popup-with-header-skeleton__line"></div>
								<div style="margin-bottom: 9px; max-width: 168px; height: 3px; background: rgba(149,156,164,.23);" class="popup-with-header-skeleton__line --dark-animation"></div>
								<div style="margin-bottom: 9px; max-width: 131px; height: 3px; background: rgba(149,156,164,.23);" class="popup-with-header-skeleton__line --dark-animation"></div>
								<div style="margin-bottom: 9px; max-width: 150px; height: 3px; background: rgba(149,156,164,.23);" class="popup-with-header-skeleton__line --dark-animation"></div>
								<div style="margin-bottom: 9px; max-width: 56px; height: 5px; background: rgba(32,102,176,.23);" class="popup-with-header-skeleton__line"></div>
							</div>
							<div class="popup-with-header-skeleton__bottom-right">
								<div class="popup-with-header-skeleton-btn"></div>
								<div style="margin: 0 auto; max-width: 36px; height: 3px; background: #d9d9d9;" class="popup-with-header-skeleton__line"></div>
							</div>
						</div>
					</div>
				</div>
			`));const e=babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]().getAppliedTheme();const t=this.skeleton.querySelector(".popup-with-header-skeleton__header");babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce](t,e);s.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce](t,e.data.theme)}))}return this.skeleton}preparePopupAngly(e){var t;const a=e==null?void 0:(t=e.parentNode)==null?void 0:t.querySelector(".popup-window-angly--arrow");if(o.Type.isDomNode(a)){const t=babelHelpers.classPrivateFieldLooseBase(this,xe)[xe]().getAppliedTheme();babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce](a,t);s.EventEmitter.subscribe("BX.Intranet.Bitrix24:ThemePicker:onThemeApply",(e=>{babelHelpers.classPrivateFieldLooseBase(this,Ce)[Ce](a,e.data.theme)}));o.Dom.style(a,"background-position","center top");o.Dom.addClass(e==null?void 0:e.parentNode,"--with-header")}}getHeaderWrapper(){if(!this.header){return null}if(!this.headerWrapper){var e,s,t,a,i;this.headerWrapper=o.Tag.render(Te||(Te=He`
				<div class="ui-popupcomponentmaker__header-content"></div>
			`));if(this.content.length<=0){this.headerWrapper.classList.add("--empty-content")}const l=this.getSection();if((e=this.header)!=null&&e.marginBottom){o.Type.isNumber(this.header.marginBottom)?l.style.marginBottom=`${this.header.marginBottom}px`:null}if((s=this.header)!=null&&s.className){o.Dom.addClass(l,this.header.className)}if(o.Type.isDomNode((t=this.header)==null?void 0:t.html)){l.appendChild(this.getItem(this.header).getContainer());this.headerWrapper.appendChild(l)}if(o.Type.isFunction((a=this.header)==null?void 0:(i=a.html)==null?void 0:i.then)){this.adjustPromise(this.header,l);this.headerWrapper.appendChild(l)}}return this.headerWrapper}}function Oe(){var e;return(e=BX.Intranet.Bitrix24.ThemePicker.Singleton)!=null?e:top.BX.Intranet.Bitrix24.ThemePicker.Singleton}function $e(e,s){const t=`url('${o.Text.encode(s.previewImage)}')`;o.Dom.style(e,"backgroundImage",t);o.Dom.removeClass(e,"bitrix24-theme-default bitrix24-theme-dark bitrix24-theme-light");let a="bitrix24-theme-default";if(s.id!=="default"){a=String(s.id).indexOf("dark:")===0?"bitrix24-theme-dark":"bitrix24-theme-light"}o.Dom.addClass(e,a)}class je{getContent(){throw new Error("Must be implemented in a child class")}setOptions(e){this.options=e}}let Ke=e=>e,Ee,Se,Ae,Ie,We,Ne;var Xe=babelHelpers.classPrivateFieldLooseKey("cache");var Ue=babelHelpers.classPrivateFieldLooseKey("getItemContent");var Me=babelHelpers.classPrivateFieldLooseKey("getTitle");var Re=babelHelpers.classPrivateFieldLooseKey("getIcon");var ze=babelHelpers.classPrivateFieldLooseKey("getDescription");var Ge=babelHelpers.classPrivateFieldLooseKey("getMoreLink");var Ye=babelHelpers.classPrivateFieldLooseKey("getButton");var qe=babelHelpers.classPrivateFieldLooseKey("getButtonDescription");var Ve=babelHelpers.classPrivateFieldLooseKey("setTextStyles");class Je extends je{constructor(e={}){super();Object.defineProperty(this,Ve,{value:ls});Object.defineProperty(this,qe,{value:is});Object.defineProperty(this,Ye,{value:as});Object.defineProperty(this,Ge,{value:ts});Object.defineProperty(this,ze,{value:ss});Object.defineProperty(this,Re,{value:es});Object.defineProperty(this,Me,{value:Ze});Object.defineProperty(this,Ue,{value:Qe});Object.defineProperty(this,Xe,{writable:true,value:new o.Cache.MemoryCache});this.options=e}getContent(){return babelHelpers.classPrivateFieldLooseBase(this,Xe)[Xe].remember("popup-content",(()=>{const e=[];this.options.items.forEach(((s,t)=>{var a,i;const l=babelHelpers.classPrivateFieldLooseBase(this,Ue)[Ue](s);if((a=s.styles)!=null&&a.color){o.Dom.style(l,"color",s.styles.color)}e.push({html:l,background:(i=s.styles)==null?void 0:i.background,margin:t===0?"12px 0 0 0":null})}));return e}))}}function Qe(e){return o.Tag.render(Ee||(Ee=Ke`
			<div class="ui-popupconstructor-content-item-wrapper">
				<div class="ui-popupconstructor-content-item-wrapper_information">
					<div class="ui-popupconstructor-content-item-wrapper-title">
						${0}
						${0}
					</div>
					<div>
						${0}
						${0}
					</div>
				</div>
				<div class="ui-popupconstructor-content-item-wrapper_button">
					${0}
					${0}
				</div>
			</div>
		`),e.icon?babelHelpers.classPrivateFieldLooseBase(this,Re)[Re](e.icon):null,e.title?babelHelpers.classPrivateFieldLooseBase(this,Me)[Me](e.title):null,e.description?babelHelpers.classPrivateFieldLooseBase(this,ze)[ze](e.description):null,e.more?babelHelpers.classPrivateFieldLooseBase(this,Ge)[Ge](e.more):null,e.button?babelHelpers.classPrivateFieldLooseBase(this,Ye)[Ye](e.button):null,e.button.description?babelHelpers.classPrivateFieldLooseBase(this,qe)[qe](e.button.description):null)}function Ze(e){const s=o.Tag.render(Se||(Se=Ke`
			<div class="ui-popupconstructor-content-item__title">${0}</div>
		`),e.text);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](s,e);return s}function es(e){const s=o.Tag.render(Ae||(Ae=Ke`
			<div class="ui-popupconstructor-content-item__icon ui-icon-set --${0}"></div>
		`),e.name);if(e.color){o.Dom.style(s,"background-color",e.color)}return s}function ss(e){const s=o.Tag.render(Ie||(Ie=Ke`
			<div class="ui-popupconstructor-content-item__description">
				${0}
			</div>
		`),e.text);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](s,e);return s}function ts(e){const s=()=>{top.BX.Helper.show(`redirect=detail&code=${e.code}`)};const t=o.Tag.render(We||(We=Ke`
			<div class="ui-popupconstructor-content-item__more-link" onclick="${0}">${0}</div>
		`),s,e.text.text);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](t,e.text);return t}function as(e){const s=new n.Button({round:true,text:e.text,size:n.Button.Size.EXTRA_SMALL,color:n.Button.Color.SUCCESS,noCaps:true,link:e.url,onclick:()=>{var s;if((s=this.options)!=null&&s.analyticsCallback){this.options.analyticsCallback("click-button",e.url)}}});if(e.backgroundColor){o.Dom.style(s.render(),"background-color",e.backgroundColor);s.setColor(n.Button.Color.LIGHT)}return s.render()}function is(e){const s=o.Tag.render(Ne||(Ne=Ke`
			<div class="ui-popupconstructor-content-item__button-description">
				${0}
			</div>
		`),e.text);babelHelpers.classPrivateFieldLooseBase(this,Ve)[Ve](s,e);return s}function ls(e,s){if(s.color){o.Dom.style(e,"color",s.color)}if(s.fontSize){o.Dom.style(e,"font-size",s.fontSize)}if(s.weight){o.Dom.style(e,"font-weight",s.weight)}}e.PopupWithHeader=De;e.PopupHeader=Be;e.SaleTemplate=Je;e.BaseTemplate=je})(this.BX.UI=this.BX.UI||{},BX.Event,BX,BX.UI,BX.UI,BX.Main,BX.UI,BX,BX.UI);
//# sourceMappingURL=popup-with-header.bundle.map.js