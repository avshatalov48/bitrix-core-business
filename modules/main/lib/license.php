<? namespace Bitrix\Main;$GLOBALS['____1143631396']= array(base64_decode('Z'.'mlsZV9leG'.'l'.'zdH'.'M='),base64_decode('c3Ryd'.'G91'.'cHBlc'.'g'.'=='),base64_decode('bWQ1'),base64_decode('b'.'WQ1'),base64_decode(''.'aW5'.'fYX'.'JyYX'.'k='),base64_decode('aW5f'.'YX'.'JyYXk='),base64_decode('a'.'W5fYXJy'.'YX'.'k='),base64_decode('Z'.'GVmaW5lZA=='),base64_decode('Z'.'G'.'Vm'.'aW5lZA=='),base64_decode('Z'.'G'.'VmaW5lZA'.'=='),base64_decode('ZmlsZV9l'.'eGlzdHM='),base64_decode('ZmlsZV9leGlzd'.'H'.'M='),base64_decode('ZmlsZV'.'9le'.'GlzdHM='),base64_decode('Zml'.'sZV9leG'.'lzdHM'.'='),base64_decode('ZX'.'hwb'.'G9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___674594535')){function ___674594535($_1325154103){static $_1004064362= false; if($_1004064362 == false) $_1004064362=array(''.'L2J'.'p'.'d'.'HJpeC9sa'.'WNlbnNlX'.'2tle'.'S5wa'.'HA=','','','RE'.'V'.'N'.'Tw='.'=','RE'.'V'.'NTw='.'=','QklUUklY','TElDRU5DRQ'.'==',''.'RE'.'V'.'NTw'.'==','L2tleV91'.'cGRhdGUu'.'cGh'.'wP2xpY'.'2Vuc2'.'Vfa2V5PQ==','JnRvYmF'.'za2V0P'.'X'.'kmbGF'.'uZz0=','cn'.'U=','a3o=','Ynk'.'=','aHR0cHM6Ly9k'.'ZXY'.'uMWMtYm'.'l'.'0cml4LnJ1L2'.'xlYXJuaW5n'.'L2Nvd'.'XJzZS9pbmRleC5waHA/'.'Q09VUl'.'NFX0lEPTEz'.'NSZMRVNTT05f'.'SUQ9MjU3'.'M'.'jA'.'=','aHR'.'0'.'cH'.'M6'.'Ly90cm'.'Fp'.'bml'.'uZy5iaX'.'Ry'.'a'.'Xgy'.'NC5jb20'.'vc3'.'V'.'wcG9ydC90cmF'.'pbmlu'.'Zy9jb3Vyc2UvaW5kZXgucGhwP0N'.'PVVJTRV9JRD0xNz'.'g'.'mTEVTU09OX0l'.'EPTI1OTMyJ'.'kx'.'F'.'U1N'.'PT'.'l9QQ'.'VRIPT'.'E3NTIwLj'.'E3N'.'TYy'.'LjI1'.'OT'.'M'.'wLjI'.'1O'.'TMy','c'.'nU'.'=','Ynk=','a'.'3o'.'=','ZGU=','ZXU=','Zn'.'I=','cG'.'w'.'=','aX'.'Q=','dWs'.'=','ZXU=','Y29'.'t','ZW4=','REVNTw'.'==','WQ==','VElN'.'RU'.'xJTU'.'lUX0VE'.'SVRJT04=','WQ'.'==',''.'RU5DT0'.'RF','WQ'.'==','U2l'.'0'.'ZUV4cGlyZ'.'U'.'RhdGU=','bWFpbg='.'=',''.'fnN1'.'cHBvcn'.'RfZ'.'mluaX'.'NoX2'.'R'.'hdGU=','WS1tLWQ=',''.'W'.'S1'.'t'.'L'.'WQ=','Yml0'.'cml4MjQ=','bWFp'.'bg==','f'.'l'.'BB'.'UkFN'.'X0NMSUVOVF9M'.'QU5H','aW'.'5'.'0'.'cmF'.'u'.'Z'.'XQ=','ZW'.'4'.'=','cnU'.'=',''.'b'.'WFpb'.'g'.'='.'=','dmVu'.'ZG9'.'y','dWFfYml0cm'.'l'.'4'.'X3'.'Bvc'.'nRhbA==',''.'dW'.'E'.'=','Y'.'ml0'.'cml4X3B'.'vcnRhbA==','ZW4=','MWNfY'.'ml0cml4X3'.'BvcnRhbA='.'=','cnU=','L2JpdH'.'J'.'peC9tb2R1bGVzL2'.'1h'.'aW4vb'.'GFuZy9'.'1YQ'.'==','dW'.'E=','L2J'.'pdH'.'J'.'p'.'eC9t'.'b2R1b'.'GVzL21ha'.'W4'.'vbGFuZ'.'y9i'.'e'.'Q='.'=',''.'Yn'.'k=','L'.'2Jp'.'dHJpeC'.'9tb2R1b'.'GV'.'zL'.'21h'.'aW4'.'vbG'.'F'.'uZy9r'.'eg'.'='.'=','a3o=','L2JpdHJ'.'p'.'eC'.'9tb2R'.'1bGV'.'z'.'L21haW4'.'vbGFuZy9yd'.'Q'.'==','cnU'.'=','bWFp'.'bg'.'==','flBB'.'UkFNX1BBUlRO'.'RVJ'.'fSUQ=','b'.'WFpbg'.'==','UEFSQU1f'.'T'.'UFYX1VT'.'R'.'VJT','bWFpbg'.'='.'=','fkNPVU5UX0VYV'.'FJB','Tg'.'==','WQ==','ZXh'.'0cm'.'FuZX'.'Q'.'=','QU5E'.'I'.'FU'.'u'.'TEFTV'.'F9MT0dJTi'.'A+'.'IA==','Q'.'U5EI'.'FUuTEFTVF'.'9M'.'T0dJTiB'.'JUy'.'BOT1'.'QgTlVMTA='.'=','aW5'.'0'.'cmFu'.'ZX'.'Q=','bWFp'.'bg==','f'.'mxp'.'Y2Vu'.'c2V'.'fbmF'.'tZQ'.'='.'=','bWF'.'pbg==','fmxp'.'Y2Vuc2VfY'.'29kZXM=','','LA'.'==');return base64_decode($_1004064362[$_1325154103]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1518486920= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1518486920 === null){ $_531008154= Loader::getDocumentRoot(). ___674594535(0); $LICENSE_KEY= ___674594535(1); if($GLOBALS['____1143631396'][0]($_531008154)){ include($_531008154);} $this->_1518486920=($LICENSE_KEY == ___674594535(2) || $GLOBALS['____1143631396'][1]($LICENSE_KEY) == ___674594535(3)? ___674594535(4): $LICENSE_KEY);} return $this->_1518486920;} public function getHashLicenseKey(): string{ return $GLOBALS['____1143631396'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____1143631396'][3](___674594535(5). $this->getKey(). ___674594535(6));} public function isDemoKey(): bool{ return $this->getKey() == ___674594535(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___674594535(8). $this->getHashLicenseKey(). ___674594535(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_620462282= $this->getRegion(); if($GLOBALS['____1143631396'][4]($_620462282,[___674594535(10), ___674594535(11), ___674594535(12)])){ return ___674594535(13);} return ___674594535(14);} public function getRenewalLink(): string{ $_620462282= $this->getRegion(); if($GLOBALS['____1143631396'][5]($_620462282,[___674594535(15), ___674594535(16), ___674594535(17), ___674594535(18)])){ return self::URL_RENEWAL_LICENSE[$_620462282];} if($GLOBALS['____1143631396'][6]($_620462282,[___674594535(19), ___674594535(20), ___674594535(21), ___674594535(22), ___674594535(23)])){ return self::URL_RENEWAL_LICENSE[___674594535(24)];} return self::URL_RENEWAL_LICENSE[___674594535(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___674594535(26)];} public function isDemo(): bool{ return $GLOBALS['____1143631396'][7](___674594535(27)) && DEMO === ___674594535(28);} public function isTimeBound(): bool{ return $GLOBALS['____1143631396'][8](___674594535(29)) && TIMELIMIT_EDITION === ___674594535(30);} public function isEncoded(): bool{ return $GLOBALS['____1143631396'][9](___674594535(31)) && ENCODE === ___674594535(32);} public function getExpireDate():?Date{ $_386086392= (int)($GLOBALS[___674594535(33)] ??(1308/2-654)); if($_386086392>(956-2*478)){ return Date::createFromTimestamp($_386086392);} return null;} public function getSupportExpireDate():?Date{ $_386086392= Option::get(___674594535(34), ___674594535(35)); if(Date::isCorrect($_386086392, ___674594535(36))){ return new Date($_386086392, ___674594535(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___674594535(38))){ return \CBitrix24::getPortalZone();} $_620462282= Option::get(___674594535(39), ___674594535(40)); if(!empty($_620462282)){ return $_620462282;} $_620462282= $this->__450953582(); if(!empty($_620462282)){ return $_620462282;} return $this->__166222545();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___674594535(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___674594535(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___674594535(43)];} private function __450953582():?string{ $_1739694063= Option::get(___674594535(44), ___674594535(45)); if($_1739694063 === ___674594535(46)){ return ___674594535(47);} if($_1739694063 === ___674594535(48)){ return ___674594535(49);} if($_1739694063 === ___674594535(50)){ return ___674594535(51);} return null;} private function __166222545():?string{ $_1952992356= Application::getDocumentRoot(); if($GLOBALS['____1143631396'][10]($_1952992356. ___674594535(52))){ return ___674594535(53);} if($GLOBALS['____1143631396'][11]($_1952992356. ___674594535(54))){ return ___674594535(55);} if($GLOBALS['____1143631396'][12]($_1952992356. ___674594535(56))){ return ___674594535(57);} if($GLOBALS['____1143631396'][13]($_1952992356. ___674594535(58))){ return ___674594535(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___674594535(60), ___674594535(61), min(20,0,6.6666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___674594535(62), ___674594535(63),(960-2*480));} public function isExtraCountable(): bool{ return Option::get(___674594535(64), ___674594535(65), ___674594535(66)) === ___674594535(67) && ModuleManager::isModuleInstalled(___674594535(68));} public function getActiveUsersCount(Date $_1410885218= null): int{ $_543303808= Application::getConnection(); $_1054015924=(940-2*470); if($_1410885218 !== null){  $_298738967= ___674594535(69).$_543303808->getSqlHelper()->convertToDbDate($_1410885218);} else{  $_298738967= ___674594535(70);} if(ModuleManager::isModuleInstalled(___674594535(71))){ $_954004415="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_298738967}
			"; $_1054015924= (int)$_543303808->queryScalar($_954004415); if($this->isExtraCountable()){ $_954004415="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_298738967}
							AND D.VALUE_ID IS NULL
					"; $_1054015924 += (int)$_543303808->queryScalar($_954004415);}} return $_1054015924;}  public function getName(): string{ return Option::get(___674594535(72), ___674594535(73));}  public function getCodes(): array{ $_2096810079= Option::get(___674594535(74), ___674594535(75)); if($_2096810079 != ___674594535(76)){ return $GLOBALS['____1143631396'][14](___674594535(77), $_2096810079);} return[];}}?>