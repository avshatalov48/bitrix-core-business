(function(){"use strict";var t={};BX.namespace("BX.Currency");BX.Currency.MoneyInput=function(e){t[e.controlId]=this;this.currency=e.currency;this.input=e.input;this.resultInput=e.resultInput;this.editor=null;BX.bind(this.input,"focus",BX.once(this.input,"focus",BX.delegate(function(){this.getEditor()},this)))};BX.Currency.MoneyInput.getByNode=function(t){if(!t._bxmoneyeditcode){t._bxmoneyeditcode=Math.random()}return BX.Currency.MoneyInput.get(t._bxmoneyeditcode)};BX.Currency.MoneyInput.get=function(e){if(typeof t[e]==="undefined"){t[e]=new BX.Currency.MoneyInput}return t[e]};BX.Currency.MoneyInput.prototype.getEditor=function(){if(!this.editor){this.editor=new BX.Currency.Editor({input:this.input,currency:this.currency,callback:BX.defer(this.setValue,this)})}return this.editor};BX.Currency.MoneyInput.prototype.setCurrency=function(t){this.getEditor().setCurrency(t);this.currency=t};BX.Currency.MoneyInput.prototype.setValue=function(t){if(!!this.resultInput){this.resultInput.value=t.length>0?t+"|"+this.currency:"";BX.fireEvent(this.resultInput,"change")}}})();