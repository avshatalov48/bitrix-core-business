{"version":3,"file":"baseform.bundle.js","sources":["../src/baseform.js"],"sourcesContent":["import 'ui.design-tokens';\nimport 'ui.fonts.opensans';\n\nimport {Type, Event, Text, Tag, Dom, Cache, Runtime} from 'main.core';\nimport {EventEmitter} from 'main.core.events';\nimport {Env} from 'landing.env';\nimport typeof {BaseField} from 'landing.ui.field.basefield';\nimport type BaseFormOptions from './internal/type';\n\nimport './css/style.css';\n\nexport type {\n\tBaseFormOptions,\n};\n\n/**\n * @memberOf BX.Landing.UI.Form\n */\nexport class BaseForm extends EventEmitter\n{\n\tconstructor(data: BaseFormOptions = {})\n\t{\n\t\tsuper(data);\n\t\tthis.setEventNamespace('BX.Landing.UI.Form.BaseForm');\n\n\t\tthis.data = {...data};\n\t\tthis.options = this.data;\n\t\tthis.id = Reflect.has(this.data, 'id') ? this.data.id : Text.getRandom();\n\t\tthis.selector = Reflect.has(this.data, 'selector') ? this.data.selector : '';\n\t\tthis.title = Reflect.has(this.data, 'title') ? this.data.title : '';\n\t\tthis.label = Reflect.has(this.data, 'label') ? this.data.label : '';\n\t\tthis.type = Reflect.has(this.data, 'type') ? this.data.type : 'content';\n\t\tthis.code = Reflect.has(this.data, 'code') ? this.data.code : '';\n\t\tthis.descriptionText = Reflect.has(this.data, 'description') ? this.data.description : '';\n\t\tthis.serializeModifier = this.options.serializeModifier || ((value) => value);\n\t\tthis.headerCheckbox = this.data.headerCheckbox;\n\t\tthis.cache = new Cache.MemoryCache();\n\n\t\tthis.fields = new BX.Landing.Collection.BaseCollection();\n\t\tthis.cards = new BX.Landing.Collection.BaseCollection();\n\n\t\tthis.layout = BaseForm.createLayout();\n\t\tthis.header = BaseForm.createHeader();\n\t\tthis.body = BaseForm.createBody();\n\t\tthis.footer = BaseForm.createFooter();\n\n\t\tDom.append(this.header, this.layout);\n\n\t\tif (this.descriptionText !== null)\n\t\t{\n\t\t\tthis.description = BaseForm.createDescription();\n\t\t\tDom.append(this.description, this.layout);\n\t\t}\n\n\t\tDom.append(this.body, this.layout);\n\t\tDom.append(this.footer, this.layout);\n\n\t\tif (Type.isString(this.title) && this.title !== '')\n\t\t{\n\t\t\tDom.append(document.createTextNode(this.title), this.header);\n\t\t}\n\n\t\tif (Type.isString(this.descriptionText) && this.descriptionText !== '')\n\t\t{\n\t\t\tthis.description.innerHTML = this.descriptionText;\n\t\t}\n\n\t\tif (Type.isArray(this.data.fields) && this.data.fields.length > 0)\n\t\t{\n\t\t\tthis.data.fields.forEach((field) => {\n\t\t\t\tthis.addField(field);\n\t\t\t});\n\t\t}\n\n\t\tconst {sources} = Env.getInstance().getOptions();\n\t\tif (\n\t\t\tType.isPlainObject(this.headerCheckbox)\n\t\t\t&& Type.isArray(sources)\n\t\t\t&& sources.length > 0\n\t\t)\n\t\t{\n\t\t\tDom.append(this.getHeaderCheckbox(), this.header);\n\t\t}\n\n\t\tif (this.options.hidden === true)\n\t\t{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\tshow()\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', null);\n\t}\n\n\thide()\n\t{\n\t\tDom.attr(this.getLayout(), 'hidden', true);\n\t}\n\n\tstatic createLayout(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form\"></div>`;\n\t}\n\n\tstatic createHeader(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-header\"></div>`;\n\t}\n\n\tstatic createDescription(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-description\"></div>`;\n\t}\n\n\tstatic createBody(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-body\"></div>`;\n\t}\n\n\tstatic createFooter(): HTMLDivElement\n\t{\n\t\treturn Tag.render`<div class=\"landing-ui-form-footer\"></div>`;\n\t}\n\n\tgetLayout(): HTMLDivElement\n\t{\n\t\treturn this.layout;\n\t}\n\n\tgetHeaderCheckbox(): HTMLDivElement\n\t{\n\t\treturn this.cache.remember('headerCheckbox', () => {\n\t\t\tconst checkboxId = Text.getRandom();\n\t\t\tconst {text, help, state, onChange} = this.headerCheckbox;\n\n\t\t\tconst input = Tag.render`\n\t\t\t\t<input type=\"checkbox\" id=\"${checkboxId}\" class=\"landing-ui-form-header-checkbox-input\">\n\t\t\t`;\n\t\t\tconst label = Tag.render`\n\t\t\t\t<label for=\"${checkboxId}\" class=\"landing-ui-form-header-checkbox-label\">${text}</label>\n\t\t\t`;\n\t\t\tconst layout = Tag.render`\n\t\t\t\t<div class=\"landing-ui-form-header-checkbox\">${input}${label}</div>\n\t\t\t`;\n\n\t\t\tif (Text.toBoolean(state))\n\t\t\t{\n\t\t\t\tinput.setAttribute('checked', true);\n\t\t\t}\n\n\t\t\tif (Type.isFunction(onChange))\n\t\t\t{\n\t\t\t\tEvent.bind(input, 'change', () => {\n\t\t\t\t\tonChange({\n\t\t\t\t\t\tstate: input.checked === true,\n\t\t\t\t\t\tform: this,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (Type.isString(help) && help !== '')\n\t\t\t{\n\t\t\t\tconst helpButton = Tag.render`\n\t\t\t\t\t<a href=\"${help}\" class=\"landing-ui-form-header-checkbox-help\" target=\"_blank\"> </a>\n\t\t\t\t`;\n\n\t\t\t\tDom.append(helpButton, layout);\n\t\t\t}\n\n\t\t\treturn layout;\n\t\t});\n\t}\n\n\tgetHeader(): HTMLDivElement\n\t{\n\t\treturn this.header;\n\t}\n\n\tgetBody(): HTMLDivElement\n\t{\n\t\treturn this.body;\n\t}\n\n\tgetFooter(): HTMLDivElement\n\t{\n\t\treturn this.footer;\n\t}\n\n\tgetNode(): HTMLDivElement\n\t{\n\t\treturn this.layout;\n\t}\n\n\taddField(field: BaseField)\n\t{\n\t\tif (Type.isObject(field))\n\t\t{\n\t\t\tthis.fields.add(field);\n\t\t\tDom.append(field.getNode(), this.getBody());\n\t\t}\n\t}\n\n\taddCard(card: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tif (Type.isObject(card))\n\t\t{\n\t\t\tthis.cards.add(card);\n\t\t\tcard.fields.forEach((field) => {\n\t\t\t\tthis.fields.add(field);\n\t\t\t});\n\t\t\tDom.append(card.getNode(), this.getBody());\n\t\t}\n\t}\n\n\tremoveCard(card: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tif (Type.isObject(card))\n\t\t{\n\t\t\tcard.fields.forEach((field) => {\n\t\t\t\tthis.fields.remove(field);\n\t\t\t});\n\n\t\t\tthis.cards.remove(card);\n\t\t\tDom.remove(card.layout);\n\t\t}\n\t}\n\n\treplaceCard(oldCard: BX.Landing.UI.Card.BaseCard, newCard: BX.Landing.UI.Card.BaseCard)\n\t{\n\t\tthis.removeCard(oldCard);\n\t\tthis.addCard(newCard);\n\t}\n\n\treplaceField(oldField, newField)\n\t{\n\t\tif (Type.isObject(oldField) && Type.isObject(newField))\n\t\t{\n\t\t\tDom.replace(oldField.getNode(), newField.getNode());\n\t\t\tthis.fields.remove(oldField);\n\t\t\tthis.fields.add(newField);\n\t\t}\n\t}\n\n\tisCheckboxChecked(): boolean\n\t{\n\t\tconst checkbox = this.header.querySelector('input');\n\t\treturn Type.isDomNode(checkbox) && checkbox.checked;\n\t}\n\n\tclone(options: BaseFormOptions): BaseForm\n\t{\n\t\tconst instance = new this.constructor(\n\t\t\tRuntime.clone(options || this.data),\n\t\t);\n\n\t\tthis.fields.forEach((field) => {\n\t\t\tif (field instanceof BX.Landing.UI.Field.Date)\n\t\t\t{\n\t\t\t\tconst newFieldData = Runtime.clone(field.data);\n\t\t\t\tnewFieldData.selector = instance.selector;\n\t\t\t\tinstance.addField(field.clone(newFieldData));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tinstance.addField(field.clone());\n\t\t});\n\n\t\treturn instance;\n\t}\n\n\tserialize(): {[key: string]: any}\n\t{\n\t\treturn this.serializeModifier(\n\t\t\tthis.fields.reduce((acc, field) => {\n\t\t\t\tif (Type.isFunction(field.getValue))\n\t\t\t\t{\n\t\t\t\t\tacc[field.selector] = field.getValue();\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}, {}),\n\t\t);\n\t}\n\n\tremoveField(field: BaseField)\n\t{\n\t\tthis.fields.remove(field);\n\t\tDom.remove(field.layout);\n\t}\n\n\tdisable()\n\t{\n\t\tDom.addClass(this.getLayout(), 'landing-ui-disabled');\n\t}\n\n\tenable()\n\t{\n\t\tDom.removeClass(this.getLayout(), 'landing-ui-disabled');\n\t}\n}"],"names":["BaseForm","data","setEventNamespace","options","id","Reflect","has","Text","getRandom","selector","title","label","type","code","descriptionText","description","serializeModifier","value","headerCheckbox","cache","Cache","MemoryCache","fields","BX","Landing","Collection","BaseCollection","cards","layout","createLayout","header","createHeader","body","createBody","footer","createFooter","Dom","append","createDescription","Type","isString","document","createTextNode","innerHTML","isArray","length","forEach","field","addField","Env","getInstance","getOptions","sources","isPlainObject","getHeaderCheckbox","hidden","hide","attr","getLayout","remember","checkboxId","text","help","state","onChange","input","Tag","render","toBoolean","setAttribute","isFunction","Event","bind","checked","form","helpButton","isObject","add","getNode","getBody","card","remove","oldCard","newCard","removeCard","addCard","oldField","newField","replace","checkbox","querySelector","isDomNode","instance","constructor","Runtime","clone","UI","Field","Date","newFieldData","reduce","acc","getValue","addClass","removeClass","EventEmitter"],"mappings":"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"}