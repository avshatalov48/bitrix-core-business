this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,s){"use strict";const t={TAB:9,SPACE:32,NBSP:160,NEW_LINE:10,RETURN:13,LINE_FEED:12,EXCLAMATION:33,DOUBLE_QUOTE:34,HASH:35,SINGLE_QUOTE:39,ASTERISK:42,COMMA:44,DOT:46,COLON:58,SEMI_COLON:59,QUESTION:63,ROUND_BRACKET_OPEN:40,ROUND_BRACKET_CLOSE:41,SQUARE_BRACKET_OPEN:91,SQUARE_BRACKET_CLOSE:93,CURLY_BRACKET_OPEN:123,PIPE:124,CURLY_BRACKET_CLOSE:125,HYPHEN:45};var i=babelHelpers.classPrivateFieldLooseKey("currentPosition");var a=babelHelpers.classPrivateFieldLooseKey("text");var r=babelHelpers.classPrivateFieldLooseKey("textStart");var l=babelHelpers.classPrivateFieldLooseKey("textEnd");var o=babelHelpers.classPrivateFieldLooseKey("moveNext");class n{constructor(e,s=0){Object.defineProperty(this,o,{value:b});Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,a,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:-1});Object.defineProperty(this,l,{writable:true,value:-1});babelHelpers.classPrivateFieldLooseBase(this,a)[a]=e;babelHelpers.classPrivateFieldLooseBase(this,i)[i]=s}getCurrentPosition(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}tryChangePosition(e){const s=babelHelpers.classPrivateFieldLooseBase(this,i)[i];const t=e();if(!t){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=s}return t}peek(){return babelHelpers.classPrivateFieldLooseBase(this,a)[a].codePointAt(babelHelpers.classPrivateFieldLooseBase(this,i)[i])}moveNext(){return this.hasNext()?babelHelpers.classPrivateFieldLooseBase(this,o)[o](this.peek()):NaN}peekPrevious(){return babelHelpers.classPrivateFieldLooseBase(this,a)[a].codePointAt(babelHelpers.classPrivateFieldLooseBase(this,i)[i]-1)}hasNext(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]<babelHelpers.classPrivateFieldLooseBase(this,a)[a].length}hasPendingText(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]!==babelHelpers.classPrivateFieldLooseBase(this,l)[l]}flushText(){if(this.hasPendingText()){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=-1;babelHelpers.classPrivateFieldLooseBase(this,l)[l]=-1}}consume(e){const t=this.peek();const i=s.Type.isFunction(e)?e(t):t===e;if(i){this.moveNext(t)}return i}consumeWhile(e){const s=babelHelpers.classPrivateFieldLooseBase(this,i)[i];while(this.hasNext()&&this.consume(e)){}return babelHelpers.classPrivateFieldLooseBase(this,i)[i]!==s}consumePoints(e){const s=babelHelpers.classPrivateFieldLooseBase(this,i)[i];for(const t of e){const e=this.moveNext();if(t!==e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=s;return false}}return true}consumeTree(e){const t=babelHelpers.classPrivateFieldLooseBase(this,i)[i];let a=e;while(this.hasNext()){const e=this.moveNext();const t=a.get(e);if(s.Type.isUndefined(t)){break}const[i,r]=t;if(i===true){this.consumeTree(r);return true}a=r}babelHelpers.classPrivateFieldLooseBase(this,i)[i]=t;return false}consumeText(){if(babelHelpers.classPrivateFieldLooseBase(this,r)[r]===-1){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=babelHelpers.classPrivateFieldLooseBase(this,i)[i];babelHelpers.classPrivateFieldLooseBase(this,l)[l]=babelHelpers.classPrivateFieldLooseBase(this,i)[i]}this.moveNext();babelHelpers.classPrivateFieldLooseBase(this,l)[l]=babelHelpers.classPrivateFieldLooseBase(this,i)[i];return true}isWordBoundary(){if(babelHelpers.classPrivateFieldLooseBase(this,i)[i]===0){return true}if(this.hasPendingText()){return u(this.peekPrevious())}return false}}function b(e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]+=e>65535?2:1;return e}const c=new Set([t.DOT,t.COMMA,t.SEMI_COLON,t.COLON,t.EXCLAMATION,t.QUESTION,t.HASH,t.HYPHEN,t.ASTERISK,t.PIPE,t.ROUND_BRACKET_OPEN,t.ROUND_BRACKET_CLOSE,t.SQUARE_BRACKET_OPEN,t.SQUARE_BRACKET_CLOSE,t.CURLY_BRACKET_OPEN,t.CURLY_BRACKET_CLOSE]);function h(e){return c.has(e)}function P(e){return s.Type.isUndefined(e)||Number.isNaN(e)||L(e)||d(e)}function u(e){return P(e)||h(e)}function d(e){return e===t.SPACE||e===t.TAB||e===t.NBSP}function L(e){return e===t.NEW_LINE||e===t.RETURN||e===t.LINE_FEED}var v=babelHelpers.classPrivateFieldLooseKey("index");class B{constructor(){Object.defineProperty(this,v,{writable:true,value:new Map})}getTreeIndex(){return babelHelpers.classPrivateFieldLooseBase(this,v)[v]}addToken(e){if(!s.Type.isStringFilled(e)){return}let t=babelHelpers.classPrivateFieldLooseBase(this,v)[v];for(let s=0;s<e.length;s++){const i=e.codePointAt(s);if(s===e.length-1){if(t.has(i)){t.get(i)[0]=true}else{t.set(i,[true,new Map])}}else{if(!t.has(i)){t.set(i,[false,new Map])}[,t]=t.get(i)}}}}e.TextParser=n;e.isWordBoundary=h;e.isTextBound=P;e.isDelimiter=u;e.isWhitespace=d;e.isNewLine=L;e.TokenTree=B;e.CodePoint=t})(this.BX.UI.TextParser=this.BX.UI.TextParser||{},BX);
//# sourceMappingURL=text-parser.bundle.map.js