this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e){"use strict";const t={WHITESPACE:"whitespace",SEMICOLON:"semicolon",OPERATOR:"operator",BRACE:"brace",BRACKET:"bracket",PARENTHESES:"parentheses",WORD:"word",REGEX:"regex",STRING_DOUBLE:"string-double",STRING_SINGLE:"string-single",STRING_TEMPLATE:"string-template",XML_COMMENT:"comment-xml",COMMENT_MULTILINE:"comment-multiline",COMMENT_SLASH:"comment-slash",COMMENT_HASH:"comment-hash"};const r=new Set([t.XML_COMMENT,t.COMMENT_MULTILINE,t.COMMENT_SLASH,t.COMMENT_HASH]);const n=new Set([t.STRING_SINGLE,t.STRING_DOUBLE,t.STRING_TEMPLATE]);const s=e=>{const t=[];let r=null;e.forEach((e=>{if((e.type==="whitespace"||e.type==="word")&&r!==null&&(r.type==="whitespace"||r.type==="word")){r.type="word";r.content+=e.content;return}if(e.type==="operator"&&r!==null&&r.type==="operator"){r.content+=e.content;return}r=e;t.push(e)}));return t};const i=/[\p{L}\p{N}0-9_$]/u;const a=new Set(["abstract","alias","and","arguments","array","asm","assert","auto","base","begin","bool","boolean","break","byte","case","catch","char","checked","class","clone","compl","const","continue","debugger","decimal","declare","def","default","defer","deinit","del","delegate","delete","do","double","echo","elif","else","elseif","elsif","end","ensure","enum","event","except","exec","explicit","export","extends","extension","extern","fallthrough","false","final","finally","fixed","float","for","foreach","friend","from","func","function","global","goto","guard","if","implements","implicit","import","include","include_once","init","inline","inout","instanceof","int","interface","internal","is","lambda","let","lock","long","module","mutable","namespace","NaN","native","new","next","nil","none","not","null","object","operator","or","out","override","package","params","pass","private","protected","protocol","public","raise","readonly","redo","ref","register","repeat","require","require_once","rescue","restrict","retry","return","sbyte","sealed","self","short","signed","sizeof","static","string","struct","subscript","super","switch","synchronized","template","then","this","throw","throws","transient","true","try","typealias","typedef","typeid","typename","typeof","unchecked","undef","undefined","union","unless","unsigned","until","use","using","var","virtual","void","volatile","wchar_t","when","where","while","with","xor","yield"]);var l=babelHelpers.classPrivateFieldLooseKey("normalizeTokenType");class o{constructor(){Object.defineProperty(this,l,{value:u})}parse(e,n=true){let a=0;let o=e[0];let u=1;let c=null;let E=null;let T="";let f=null;let d=null;let p=null;const M=[];const S=()=>{if(!u){return true}switch(f){case t.WHITESPACE:return/\S/.test(u);case t.OPERATOR:case t.SEMICOLON:case t.BRACKET:case t.BRACE:case t.PARENTHESES:return true;case t.WORD:return!i.test(u);case t.REGEX:return(c==="/"||c==="\n")&&p;case t.STRING_DOUBLE:return c==='"'&&p;case t.STRING_SINGLE:return c==="'"&&p;case t.STRING_TEMPLATE:return c==="`"&&p;case t.XML_COMMENT:return e[a-4]+E+c==="--\x3e";case t.COMMENT_MULTILINE:return E+c==="*/";case t.COMMENT_SLASH:case t.COMMENT_HASH:return u==="\n";default:return false}};const h=()=>{if(u==="#"){return t.COMMENT_HASH}if(u+o==="//"){return t.COMMENT_SLASH}if(u+o==="/*"){return t.COMMENT_MULTILINE}if(u+o+e[a+1]+e[a+2]==="\x3c!--"){return t.XML_COMMENT}if(u==="`"){return t.STRING_TEMPLATE}if(u==="'"){return t.STRING_SINGLE}if(u==='"'){return t.STRING_DOUBLE}if(u==="/"&&[t.WHITESPACE,t.OPERATOR].includes(d)&&c!=="<"){return t.REGEX}if(u==="("||u===")"){return t.PARENTHESES}if(u==="["||u==="]"){return t.BRACKET}if(u==="{"||u==="}"){return t.BRACE}if(i.test(u)){return t.WORD}if(u===";"){return t.SEMICOLON}if(/[!&*+,./:;<=>?@\\|~-]/.test(u)){return t.OPERATOR}return t.WHITESPACE};while(c=!r.has(f)&&c==="\\"?true:u){u=o;o=e[++a];p=T.length>1;if(f===null){f=h()}if(S()){if(T){M.push({content:T,type:babelHelpers.classPrivateFieldLooseBase(this,l)[l](f,T)})}if(f!==t.WHITESPACE&&!r.has(f)){d=f}T="";f=h()}T+=u;E=c}return n?s(M):M}}function u(e,s){if(r.has(e)){return"comment"}if(n.has(e)){return"string"}if(e===t.WORD){if(a.has(s)){return"keyword"}if(/^\d+/.test(s)){return"number"}}return e}e.TokenType=t;e.CommentTokenTypes=r;e.StringTokenTypes=n;e.CodeParser=o})(this.BX.UI.CodeParser=this.BX.UI.CodeParser||{});
//# sourceMappingURL=code-parser.bundle.map.js