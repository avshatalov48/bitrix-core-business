this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,s,a){"use strict";var t=babelHelpers.classPrivateFieldLooseKey("name");var l=babelHelpers.classPrivateFieldLooseKey("image");var i=babelHelpers.classPrivateFieldLooseKey("typing");var r=babelHelpers.classPrivateFieldLooseKey("width");var o=babelHelpers.classPrivateFieldLooseKey("height");class b{constructor(e){Object.defineProperty(this,t,{writable:true,value:void 0});Object.defineProperty(this,l,{writable:true,value:void 0});Object.defineProperty(this,i,{writable:true,value:void 0});Object.defineProperty(this,r,{writable:true,value:void 0});Object.defineProperty(this,o,{writable:true,value:void 0});const s=a.Type.isPlainObject(e)?e:{};this.setName(s.name);this.setImage(s.image);this.setTyping(s.typing);this.setWidth(s.width);this.setHeight(s.height)}getName(){return babelHelpers.classPrivateFieldLooseBase(this,t)[t]}setName(e){babelHelpers.classPrivateFieldLooseBase(this,t)[t]=e}getImage(){return babelHelpers.classPrivateFieldLooseBase(this,l)[l]}setImage(e){babelHelpers.classPrivateFieldLooseBase(this,l)[l]=e}getTyping(){return babelHelpers.classPrivateFieldLooseBase(this,i)[i]}setTyping(e){babelHelpers.classPrivateFieldLooseBase(this,i)[i]=e}getWidth(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}setWidth(e){babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e}getHeight(){return babelHelpers.classPrivateFieldLooseBase(this,o)[o]}setHeight(e){babelHelpers.classPrivateFieldLooseBase(this,o)[o]=e}}var n=babelHelpers.classPrivateFieldLooseKey("splitOffsets");var c=babelHelpers.classPrivateFieldLooseKey("tokenTree");var d=babelHelpers.classPrivateFieldLooseKey("textParser");var v=babelHelpers.classPrivateFieldLooseKey("parseSmileys");var h=babelHelpers.classPrivateFieldLooseKey("consumeSmiley");var p=babelHelpers.classPrivateFieldLooseKey("isWordBoundary");var P=babelHelpers.classPrivateFieldLooseKey("isNextWordBoundary");var u=babelHelpers.classPrivateFieldLooseKey("parseEmoji");class H{constructor(e){Object.defineProperty(this,u,{value:f});Object.defineProperty(this,P,{value:B});Object.defineProperty(this,p,{value:y});Object.defineProperty(this,h,{value:L});Object.defineProperty(this,v,{value:F});Object.defineProperty(this,n,{writable:true,value:[]});Object.defineProperty(this,c,{writable:true,value:null});Object.defineProperty(this,d,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,c)[c]=new s.TokenTree;e.forEach((e=>{babelHelpers.classPrivateFieldLooseBase(this,c)[c].addToken(e.getTyping())}))}parse(e){babelHelpers.classPrivateFieldLooseBase(this,n)[n]=[];babelHelpers.classPrivateFieldLooseBase(this,d)[d]=new s.TextParser(e);while(babelHelpers.classPrivateFieldLooseBase(this,d)[d].hasNext()){let e=false;e=e||babelHelpers.classPrivateFieldLooseBase(this,u)[u]();e=e||babelHelpers.classPrivateFieldLooseBase(this,v)[v]();e=e||babelHelpers.classPrivateFieldLooseBase(this,d)[d].consumeText()}return babelHelpers.classPrivateFieldLooseBase(this,n)[n]}}function F(){if(babelHelpers.classPrivateFieldLooseBase(this,p)[p]()){return babelHelpers.classPrivateFieldLooseBase(this,d)[d].tryChangePosition((()=>{const e=babelHelpers.classPrivateFieldLooseBase(this,d)[d].getCurrentPosition();if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]()&&babelHelpers.classPrivateFieldLooseBase(this,P)[P]()){babelHelpers.classPrivateFieldLooseBase(this,n)[n].push({start:e,end:babelHelpers.classPrivateFieldLooseBase(this,d)[d].getCurrentPosition()});babelHelpers.classPrivateFieldLooseBase(this,d)[d].flushText();return true}return false}))}return false}function L(){return babelHelpers.classPrivateFieldLooseBase(this,d)[d].consumeTree(babelHelpers.classPrivateFieldLooseBase(this,c)[c].getTreeIndex())}function y(){if(!babelHelpers.classPrivateFieldLooseBase(this,d)[d].hasPendingText()){const e=babelHelpers.classPrivateFieldLooseBase(this,n)[n].at(-1);if(e&&e.end===babelHelpers.classPrivateFieldLooseBase(this,d)[d].getCurrentPosition()){return true}}return babelHelpers.classPrivateFieldLooseBase(this,d)[d].isWordBoundary()}function B(){let e=false;babelHelpers.classPrivateFieldLooseBase(this,d)[d].tryChangePosition((()=>{if(babelHelpers.classPrivateFieldLooseBase(this,h)[h]()){e=true}return false}));if(e){return true}return s.isDelimiter(babelHelpers.classPrivateFieldLooseBase(this,d)[d].peek())}function f(){return false}var g=babelHelpers.classPrivateFieldLooseKey("smileys");class m{static getSize(){return babelHelpers.classPrivateFieldLooseBase(this,g)[g].size}static get(e){return babelHelpers.classPrivateFieldLooseBase(this,g)[g].get(e)||null}static getAll(){return[...babelHelpers.classPrivateFieldLooseBase(this,g)[g].values()]}}Object.defineProperty(m,g,{writable:true,value:new Map});(()=>{const e=a.Extension.getSettings("ui.smiley");const s=e.get("smileys",[]);for(const e of s){babelHelpers.classPrivateFieldLooseBase(m,g)[g].set(e.typing,new b(e))}})();e.Smiley=b;e.SmileyParser=H;e.SmileyManager=m})(this.BX.UI.Smiley=this.BX.UI.Smiley||{},BX.UI.TextParser,BX);
//# sourceMappingURL=smiley.bundle.map.js