this.BX=this.BX||{};(function(e,o,s,t,i,l){"use strict";let r=e=>e,a;const n=Object.freeze({TOP:"top",LEFT:"left",BOTTOM:"bottom",RIGHT:"right"});const p=Object.freeze({ACCEPT:"accept",HIDE:"hide"});var c=babelHelpers.classPrivateFieldLooseKey("videoSrc");var d=babelHelpers.classPrivateFieldLooseKey("title");var b=babelHelpers.classPrivateFieldLooseKey("text");var u=babelHelpers.classPrivateFieldLooseKey("icon");var v=babelHelpers.classPrivateFieldLooseKey("colors");var P=babelHelpers.classPrivateFieldLooseKey("targetOptions");var h=babelHelpers.classPrivateFieldLooseKey("angleOptions");var f=babelHelpers.classPrivateFieldLooseKey("offset");var y=babelHelpers.classPrivateFieldLooseKey("popup");var H=babelHelpers.classPrivateFieldLooseKey("iniPopup");var L=babelHelpers.classPrivateFieldLooseKey("getPopupClassname");var m=babelHelpers.classPrivateFieldLooseKey("getAnimationCloseClassName");var B=babelHelpers.classPrivateFieldLooseKey("renderPopupContent");var F=babelHelpers.classPrivateFieldLooseKey("renderAcceptButton");var w=babelHelpers.classPrivateFieldLooseKey("renderIcon");var O=babelHelpers.classPrivateFieldLooseKey("getPopupContentVariablesStyles");var g=babelHelpers.classPrivateFieldLooseKey("getOptionsTitleColor");var _=babelHelpers.classPrivateFieldLooseKey("getOptionsIconColor");var T=babelHelpers.classPrivateFieldLooseKey("getOptionsButtonColor");var j=babelHelpers.classPrivateFieldLooseKey("validateOptions");var I=babelHelpers.classPrivateFieldLooseKey("isIconExist");class E extends s.EventEmitter{constructor(e){super(e);Object.defineProperty(this,I,{value:M});Object.defineProperty(this,j,{value:k});Object.defineProperty(this,T,{value:R});Object.defineProperty(this,_,{value:$});Object.defineProperty(this,g,{value:X});Object.defineProperty(this,O,{value:A});Object.defineProperty(this,w,{value:x});Object.defineProperty(this,F,{value:U});Object.defineProperty(this,B,{value:V});Object.defineProperty(this,m,{value:S});Object.defineProperty(this,L,{value:K});Object.defineProperty(this,H,{value:C});Object.defineProperty(this,c,{writable:true,value:void 0});Object.defineProperty(this,d,{writable:true,value:void 0});Object.defineProperty(this,b,{writable:true,value:void 0});Object.defineProperty(this,u,{writable:true,value:void 0});Object.defineProperty(this,v,{writable:true,value:void 0});Object.defineProperty(this,P,{writable:true,value:void 0});Object.defineProperty(this,h,{writable:true,value:void 0});Object.defineProperty(this,f,{writable:true,value:void 0});Object.defineProperty(this,y,{writable:true,value:void 0});this.setEventNamespace("UI.PromoVideoPopup");babelHelpers.classPrivateFieldLooseBase(this,j)[j](e);babelHelpers.classPrivateFieldLooseBase(this,c)[c]=e.videoSrc;babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e.title;babelHelpers.classPrivateFieldLooseBase(this,b)[b]=e.text;babelHelpers.classPrivateFieldLooseBase(this,u)[u]=babelHelpers.classPrivateFieldLooseBase(this,I)[I](e.icon)?e.icon:i.Main.B_24;babelHelpers.classPrivateFieldLooseBase(this,v)[v]=e.colors;babelHelpers.classPrivateFieldLooseBase(this,P)[P]=e.targetOptions;babelHelpers.classPrivateFieldLooseBase(this,h)[h]=e.angleOptions||false;babelHelpers.classPrivateFieldLooseBase(this,f)[f]=e.offset}static getWidth(){return 498}show(){if(!babelHelpers.classPrivateFieldLooseBase(this,y)[y]){babelHelpers.classPrivateFieldLooseBase(this,H)[H]()}if(babelHelpers.classPrivateFieldLooseBase(this,y)[y].isShown()){return}babelHelpers.classPrivateFieldLooseBase(this,y)[y].show()}hide(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,y)[y])==null?void 0:e.close()}isShown(){var e;return Boolean((e=babelHelpers.classPrivateFieldLooseBase(this,y)[y])==null?void 0:e.isShown())}adjustPosition(){var e;(e=babelHelpers.classPrivateFieldLooseBase(this,y)[y])==null?void 0:e.adjustPosition({forceBindPosition:true})}}function C(){var e,o;const s=getComputedStyle(document.body);const i=s.getPropertyValue("--ui-color-background-primary");const l=s.getPropertyValue("--ui-color-background-primary-rgb");babelHelpers.classPrivateFieldLooseBase(this,y)[y]=new t.Popup({bindElement:babelHelpers.classPrivateFieldLooseBase(this,P)[P],cacheable:false,width:E.getWidth(),borderRadius:"16px",angle:babelHelpers.classPrivateFieldLooseBase(this,h)[h],content:babelHelpers.classPrivateFieldLooseBase(this,B)[B](),closeByEsc:true,autoHide:true,closeIcon:true,background:`rgba(${l}, 0.5)`,contentBackground:i,contentPadding:12,contentBorderRadius:"8px",className:babelHelpers.classPrivateFieldLooseBase(this,L)[L](),events:{onPopupClose:()=>{setTimeout((()=>{this.emit(p.HIDE);babelHelpers.classPrivateFieldLooseBase(this,y)[y].destroy();babelHelpers.classPrivateFieldLooseBase(this,y)[y]=null}),300)}},animation:{showClassName:"--show",closeClassName:babelHelpers.classPrivateFieldLooseBase(this,m)[m](),closeAnimationType:"animation"}});babelHelpers.classPrivateFieldLooseBase(this,y)[y].setOffset({offsetTop:(e=babelHelpers.classPrivateFieldLooseBase(this,f)[f])==null?void 0:e.top,offsetLeft:(o=babelHelpers.classPrivateFieldLooseBase(this,f)[f])==null?void 0:o.left})}function K(){var e,o;let s=["ui__promo-video-popup"];if(((e=babelHelpers.classPrivateFieldLooseBase(this,h)[h])==null?void 0:e.position)===n.RIGHT){s=[...s,"--from-right"]}if(((o=babelHelpers.classPrivateFieldLooseBase(this,h)[h])==null?void 0:o.position)===n.TOP){s=[...s,"--from-top"]}return s.join(" ")}function S(){var e;switch((e=babelHelpers.classPrivateFieldLooseBase(this,h)[h])==null?void 0:e.position){case n.RIGHT:{return"--close-left"}case n.TOP:{return"--close-bottom"}default:{return"--close"}}}function V(){return o.Tag.render(a||(a=r`
			<div
				class="ui__promo-video-popup-content"
				style="${0}"
			>
				<div class="ui__promo-video-popup-content_header">
					<div class="ui__promo-video-popup-content_header-icon">
						${0}
					</div>
					<div class="ui__promo-video-popup-content_header-title">
						${0}
					</div>
				</div>
				<div class="ui__promo-video-popup-content_promo-text">
					${0}
				</div>
				<div class="ui__promo-video-popup-content_promo-video-wrapper">
					<video
						src="${0}"
						autoplay
						preload
						loop
						class="ui__promo-video-popup-content_promo-video"
					></video>
				</div>
				<div class="ui__promo-video-popup-content_footer">
					${0}
				</div>
			</div>
		`),babelHelpers.classPrivateFieldLooseBase(this,O)[O](),babelHelpers.classPrivateFieldLooseBase(this,w)[w](),babelHelpers.classPrivateFieldLooseBase(this,d)[d],babelHelpers.classPrivateFieldLooseBase(this,b)[b],babelHelpers.classPrivateFieldLooseBase(this,c)[c],babelHelpers.classPrivateFieldLooseBase(this,F)[F]())}function U(){const e=babelHelpers.classPrivateFieldLooseBase(this,T)[T]()||l.ButtonColor.PRIMARY;const s=new l.Button({color:e,text:o.Loc.getMessage("PROMO_VIDEO_POPUP_ACCEPT"),size:l.Button.Size.SMALL,round:true,onclick:()=>{this.emit(p.ACCEPT)}});return s.render()}function x(){const e=getComputedStyle(document.body).getPropertyValue("--ui-color-on-primary");const o=new i.Icon({color:e,size:18,icon:babelHelpers.classPrivateFieldLooseBase(this,u)[u]});return o.render()}function A(){const e={};if(babelHelpers.classPrivateFieldLooseBase(this,g)[g]()){e["--ui__promo-video-popup_title-color"]=babelHelpers.classPrivateFieldLooseBase(this,g)[g]()}if(babelHelpers.classPrivateFieldLooseBase(this,_)[_]()){e["--ui__promo-video-popup_icon-color"]=babelHelpers.classPrivateFieldLooseBase(this,_)[_]()}return Object.entries(e).map((([e,o])=>`${e}: ${o}`)).join(";")}function X(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,v)[v])==null?void 0:e.title}function $(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,v)[v])==null?void 0:e.iconBackground}function R(){var e;return(e=babelHelpers.classPrivateFieldLooseBase(this,v)[v])==null?void 0:e.button}function k(e){var s,t,i;const r=e==null?void 0:e.title;const a=e==null?void 0:e.text;const n=e==null?void 0:e.videoSrc;const p=e==null?void 0:(s=e.colors)==null?void 0:s.iconBackground;const c=e==null?void 0:(t=e.colors)==null?void 0:t.title;const d=e==null?void 0:(i=e.colors)==null?void 0:i.button;const b=e==null?void 0:e.targetOptions;const u=e==null?void 0:e.offset;if(!e){throw new TypeError("UI.PromoVideoPopup: options are required for constructor")}if(!b){throw new Error("UI.PromoVideoPopup: targetOptions is required option")}if(r&&o.Type.isString(r)===false){throw new TypeError("UI.PromoVideoPopup: title option must be string")}if(p&&o.Type.isStringFilled(p)===false){throw new TypeError("UI.PromoVideoPopup: colors.icon option must be string")}if(c&&o.Type.isStringFilled(c)===false){throw new TypeError("UI.PromoVideoPopup: colors.title option must be string")}if(d&&Object.values(l.ButtonColor).includes(d)===false){throw new TypeError("UI.PromoVideoPopup: colors.button option must be from ButtonColor from ui.buttons")}if(a&&o.Type.isString(a)===false){throw new TypeError("UI.PromoVideoPopup: description option must be string")}if(!n){throw new Error("UI.PromoVideoPopup: videoSrc is required option")}if(n&&o.Type.isStringFilled(n)===false){throw new Error("UI.PromoVideoPopup: videoSrc must be string")}if(u&&o.Type.isPlainObject(u)===false){throw new Error("UI.PromoVideoPopup: offset options must be plain object with top and left properties")}if(u!=null&&u.top&&o.Type.isNumber(u==null?void 0:u.top)===false){throw new TypeError("UI.PromoVideoPopup: offset.top option must be number")}if(u!=null&&u.left&&o.Type.isNumber(u==null?void 0:u.left)===false){throw new TypeError("UI.PromoVideoPopup: offset.left option must be number")}}function M(e){return Object.values(i.Set).includes(e)}e.AnglePosition=n;e.PromoVideoPopupEvents=p;e.PromoVideoPopup=E})(this.BX.UI=this.BX.UI||{},BX,BX.Event,BX.Main,BX.UI.IconSet,BX.UI);
//# sourceMappingURL=promo-video-popup.bundle.map.js