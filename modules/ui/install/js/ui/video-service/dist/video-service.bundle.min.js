this.BX=this.BX||{};this.BX.UI=this.BX.UI||{};(function(e,t){"use strict";var r=babelHelpers.classPrivateFieldLooseKey("url");class s{constructor(e){Object.defineProperty(this,r,{writable:true,value:null});babelHelpers.classPrivateFieldLooseBase(this,r)[r]=e}static matchByUrl(e){return false}static getDomains(){return[]}getId(){return null}getMatcher(){return/^$/}getMatcherReplacement(){return null}getEmbeddedUrl(){const e=this.getMatcherReplacement();if(t.Type.isStringFilled(e)||t.Type.isFunction(e)){return this.getUrl().replace(this.getMatcher(),e)}return""}getUrl(){return babelHelpers.classPrivateFieldLooseBase(this,r)[r]}}const c=/^((?:https?:)?\/\/)?((?:www|m)\.)?(youtube(-nocookie)?\.com|youtu\.be)(\/(?:[\w-]+\?v=|embed\/|shorts\/|live\/|v\/)?)(?<id>[\w-]+)(\S+)?$/;const a="https://www.youtube-nocookie.com/embed/$<id>";class o extends s{static matchByUrl(e){return c.test(e)}static getDomains(){return["youtube.com","youtu.be","youtube-nocookie.com","www.youtube-nocookie.com"]}getId(){return"youtube"}getMatcher(){return c}getMatcherReplacement(){return a}}const i=/^(?:(?:https?:)?\/\/)?(?:www.)?facebook\.com.*\/(videos?|watch)(\.php|\/|\?).+$/;class n extends s{static matchByUrl(e){return i.test(e)}static getDomains(){return["facebook.com","www.facebook.com"]}getId(){return"facebook"}getMatcher(){return i}getEmbeddedUrl(){const e=encodeURIComponent(this.getUrl().replace(/\/$/,""));return`https://www.facebook.com/plugins/video.php?href=${e}`}}const u=/^(?:(?:https?:)?\/\/)?(?:www.)?vimeo.com\/(.*\/)?(?<id>\d+)(.*)?/;const l="https://player.vimeo.com/video/$<id>";class d extends s{static matchByUrl(e){return u.test(e)}static getDomains(){return["vimeo.com","player.vimeo.com"]}getId(){return"vimeo"}getMatcher(){return u}getMatcherReplacement(){return l}}const m=/(?:(?:https?:)?\/\/)?(?:www.)?(instagr\.am|instagram\.com)\/p\/(?<id>[\w-]+)\/?/;const h="https://instagram.com/p/$<id>/embed/captioned";class g extends s{static matchByUrl(e){return m.test(e)}static getDomains(){return["www.instagram.com","instagram.com","instagr.am"]}getId(){return"instagram"}getMatcher(){return m}getMatcherReplacement(){return h}}const p=/(?:(?:https?:)?\/\/)?(?:www.)?vk\.(com|ru)\/.*(video|clip)((?<oid>-?\d+)_(?<id>\d+))\/?/;const b="https://vk.com/video_ext.php?oid=$<oid>&id=$<id>&hd=2";class w extends s{static matchByUrl(e){return p.test(e)}static getDomains(){return["vk.com","vk.ru"]}getId(){return"vk"}getDomains(){return["vk.com"]}getMatcher(){return p}getMatcherReplacement(){return b}}const v=/(?:(?:https?:)?\/\/)?(?:www.)?rutube\.ru\/video\/(private\/)?(?<id>[\dA-Za-z]+)\/?/;const y="https://rutube.ru/play/embed/$<id>";class B extends s{static matchByUrl(e){return v.test(e)}static getDomains(){return["rutube.ru","www.rutube.ru"]}getId(){return"rutube"}getMatcher(){return v}getMatcherReplacement(){return y}}var U=babelHelpers.classPrivateFieldLooseKey("services");class f{static createByUrl(e){for(const t of babelHelpers.classPrivateFieldLooseBase(this,U)[U]){if(t.matchByUrl(e)){return new t(e)}}return null}static createByHost(e){for(const t of babelHelpers.classPrivateFieldLooseBase(this,U)[U]){if(t.getDomains().includes(e)){return new t(e)}}return null}static getEmbeddedUrl(e){const t=this.createByUrl(e);if(t){return t.getEmbeddedUrl()}return null}}Object.defineProperty(f,U,{writable:true,value:[o,n,d,g,w,B]});e.VideoService=f;e.BaseService=s;e.VK=w;e.Facebook=n;e.Vimeo=d;e.Rutube=B;e.Instagram=g;e.Youtube=o})(this.BX.UI.VideoService=this.BX.UI.VideoService||{},BX);
//# sourceMappingURL=video-service.bundle.map.js